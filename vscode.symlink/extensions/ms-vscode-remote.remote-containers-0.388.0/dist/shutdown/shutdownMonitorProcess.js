/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var Uy=Object.create;var ru=Object.defineProperty;var My=Object.getOwnPropertyDescriptor;var Hy=Object.getOwnPropertyNames;var Wy=Object.getPrototypeOf,Gy=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var jy=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hy(e))!Gy.call(t,i)&&i!==r&&ru(t,i,{get:()=>e[i],enumerable:!(n=My(e,i))||n.enumerable});return t};var M=(t,e,r)=>(r=t!=null?Uy(Wy(t)):{},jy(e||!t||!t.__esModule?ru(r,"default",{value:t,enumerable:!0}):r,t));var or=E((UC,gu)=>{"use strict";var mu=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);gu.exports=t=>t?Object.keys(t).map(e=>[mu.has(e)?mu.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var ai=E(Ru=>{"use strict";var Eu=typeof process=="object"&&process?process:{stdout:null,stderr:null},iS=require("events"),wu=require("stream"),sS=require("string_decoder"),yu=sS.StringDecoder,Ke=Symbol("EOF"),Qe=Symbol("maybeEmitEnd"),mt=Symbol("emittedEnd"),ti=Symbol("emittingEnd"),Qr=Symbol("emittedError"),ri=Symbol("closed"),Su=Symbol("read"),ni=Symbol("flush"),xu=Symbol("flushChunk"),ue=Symbol("encoding"),et=Symbol("decoder"),ii=Symbol("flowing"),en=Symbol("paused"),ar=Symbol("resume"),q=Symbol("buffer"),We=Symbol("pipes"),V=Symbol("bufferLength"),po=Symbol("bufferPush"),mo=Symbol("bufferShift"),K=Symbol("objectMode"),U=Symbol("destroyed"),go=Symbol("error"),Eo=Symbol("emitData"),vu=Symbol("emitEnd"),wo=Symbol("emitEnd2"),tt=Symbol("async"),yo=Symbol("abort"),si=Symbol("aborted"),At=Symbol("signal"),tn=t=>Promise.resolve().then(t),Lu=global._MP_NO_ITERATOR_SYMBOLS_!=="1",_u=Lu&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),bu=Lu&&Symbol.iterator||Symbol("iterator not implemented"),oS=t=>t==="end"||t==="finish"||t==="prefinish",aS=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,cS=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),oi=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[ar](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},So=class extends oi{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},xo=class t extends wu{constructor(e){super(),this[ii]=!1,this[en]=!1,this[We]=[],this[q]=[],this[K]=e&&e.objectMode||!1,this[K]?this[ue]=null:this[ue]=e&&e.encoding||null,this[ue]==="buffer"&&(this[ue]=null),this[tt]=e&&!!e.async||!1,this[et]=this[ue]?new yu(this[ue]):null,this[Ke]=!1,this[mt]=!1,this[ti]=!1,this[ri]=!1,this[Qr]=null,this.writable=!0,this.readable=!0,this[V]=0,this[U]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[q]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[We]}),this[At]=e&&e.signal,this[si]=!1,this[At]&&(this[At].addEventListener("abort",()=>this[yo]()),this[At].aborted&&this[yo]())}get bufferLength(){return this[V]}get encoding(){return this[ue]}set encoding(e){if(this[K])throw new Error("cannot set encoding in objectMode");if(this[ue]&&e!==this[ue]&&(this[et]&&this[et].lastNeed||this[V]))throw new Error("cannot change encoding");this[ue]!==e&&(this[et]=e?new yu(e):null,this[q].length&&(this[q]=this[q].map(r=>this[et].write(r)))),this[ue]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[K]}set objectMode(e){this[K]=this[K]||!!e}get async(){return this[tt]}set async(e){this[tt]=this[tt]||!!e}[yo](){this[si]=!0,this.emit("abort",this[At].reason),this.destroy(this[At].reason)}get aborted(){return this[si]}set aborted(e){}write(e,r,n){if(this[si])return!1;if(this[Ke])throw new Error("write after end");if(this[U])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[tt]?tn:s=>s();return!this[K]&&!Buffer.isBuffer(e)&&(cS(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):aS(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[K]?(this.flowing&&this[V]!==0&&this[ni](!0),this.flowing?this.emit("data",e):this[po](e),this[V]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[ue]&&!this[et].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[ue]&&(e=this[et].write(e)),this.flowing&&this[V]!==0&&this[ni](!0),this.flowing?this.emit("data",e):this[po](e),this[V]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[V]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[U])return null;if(this[V]===0||e===0||e>this[V])return this[Qe](),null;this[K]&&(e=null),this[q].length>1&&!this[K]&&(this.encoding?this[q]=[this[q].join("")]:this[q]=[Buffer.concat(this[q],this[V])]);let r=this[Su](e||null,this[q][0]);return this[Qe](),r}[Su](e,r){return e===r.length||e===null?this[mo]():(this[q][0]=r.slice(e),r=r.slice(0,e),this[V]-=e),this.emit("data",r),!this[q].length&&!this[Ke]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Ke]=!0,this.writable=!1,(this.flowing||!this[en])&&this[Qe](),this}[ar](){this[U]||(this[en]=!1,this[ii]=!0,this.emit("resume"),this[q].length?this[ni]():this[Ke]?this[Qe]():this.emit("drain"))}resume(){return this[ar]()}pause(){this[ii]=!1,this[en]=!0}get destroyed(){return this[U]}get flowing(){return this[ii]}get paused(){return this[en]}[po](e){this[K]?this[V]+=1:this[V]+=e.length,this[q].push(e)}[mo](){return this[K]?this[V]-=1:this[V]-=this[q][0].length,this[q].shift()}[ni](e){do;while(this[xu](this[mo]())&&this[q].length);!e&&!this[q].length&&!this[Ke]&&this.emit("drain")}[xu](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[U])return;let n=this[mt];return r=r||{},e===Eu.stdout||e===Eu.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[We].push(r.proxyErrors?new So(this,e,r):new oi(this,e,r)),this[tt]?tn(()=>this[ar]()):this[ar]()),e}unpipe(e){let r=this[We].find(n=>n.dest===e);r&&(this[We].splice(this[We].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[We].length&&!this.flowing?this[ar]():e==="readable"&&this[V]!==0?super.emit("readable"):oS(e)&&this[mt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Qr]&&(this[tt]?tn(()=>r.call(this,this[Qr])):r.call(this,this[Qr])),n}get emittedEnd(){return this[mt]}[Qe](){!this[ti]&&!this[mt]&&!this[U]&&this[q].length===0&&this[Ke]&&(this[ti]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ri]&&this.emit("close"),this[ti]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==U&&this[U])return;if(e==="data")return!this[K]&&!r?!1:this[tt]?tn(()=>this[Eo](r)):this[Eo](r);if(e==="end")return this[vu]();if(e==="close"){if(this[ri]=!0,!this[mt]&&!this[U])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Qr]=r,super.emit(go,r);let s=!this[At]||this.listeners("error").length?super.emit("error",r):!1;return this[Qe](),s}else if(e==="resume"){let s=super.emit("resume");return this[Qe](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Qe](),i}[Eo](e){for(let n of this[We])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Qe](),r}[vu](){this[mt]||(this[mt]=!0,this.readable=!1,this[tt]?tn(()=>this[wo]()):this[wo]())}[wo](){if(this[et]){let r=this[et].end();if(r){for(let n of this[We])n.dest.write(r);super.emit("data",r)}}for(let r of this[We])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[K]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[K]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[K]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[K]?Promise.reject(new Error("cannot concat in objectMode")):this[ue]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(U,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[_u](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Ke])return r();let s=null,o=null,a=f=>{this.removeListener("data",c),this.removeListener("end",u),this.removeListener(U,l),r(),o(f)},c=f=>{this.removeListener("error",a),this.removeListener("end",u),this.removeListener(U,l),this.pause(),s({value:f,done:!!this[Ke]})},u=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(U,l),r(),s({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,h)=>{o=h,s=f,this.once(U,l),this.once("error",a),this.once("end",u),this.once("data",c)})},throw:r,return:r,[_u](){return this}}}[bu](){let e=!1,r=()=>(this.pause(),this.removeListener(go,r),this.removeListener(U,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(go,r),this.once(U,r),{next:n,throw:r,return:r,[bu](){return this}}}destroy(e){return this[U]?(e?this.emit("error",e):this.emit(U),this):(this[U]=!0,this[q].length=0,this[V]=0,typeof this.close=="function"&&!this[ri]&&this.close(),e?this.emit("error",e):this.emit(U),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof wu||e instanceof iS&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};Ru.Minipass=xo});var Iu=E((HC,Pu)=>{var lS=require("zlib").constants||{ZLIB_VERNUM:4736};Pu.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},lS))});var Po=E((WC,$u)=>{"use strict";var Cu=typeof process=="object"&&process?process:{stdout:null,stderr:null},uS=require("events"),Tu=require("stream"),Nu=require("string_decoder").StringDecoder,rt=Symbol("EOF"),nt=Symbol("maybeEmitEnd"),gt=Symbol("emittedEnd"),ci=Symbol("emittingEnd"),rn=Symbol("emittedError"),li=Symbol("closed"),Du=Symbol("read"),ui=Symbol("flush"),Ou=Symbol("flushChunk"),fe=Symbol("encoding"),it=Symbol("decoder"),fi=Symbol("flowing"),nn=Symbol("paused"),cr=Symbol("resume"),J=Symbol("bufferLength"),vo=Symbol("bufferPush"),_o=Symbol("bufferShift"),te=Symbol("objectMode"),re=Symbol("destroyed"),bo=Symbol("emitData"),ku=Symbol("emitEnd"),Lo=Symbol("emitEnd2"),st=Symbol("async"),sn=t=>Promise.resolve().then(t),Au=global._MP_NO_ITERATOR_SYMBOLS_!=="1",fS=Au&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),dS=Au&&Symbol.iterator||Symbol("iterator not implemented"),hS=t=>t==="end"||t==="finish"||t==="prefinish",pS=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,mS=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),di=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[cr](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ro=class extends di{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}};$u.exports=class Fu extends Tu{constructor(e){super(),this[fi]=!1,this[nn]=!1,this.pipes=[],this.buffer=[],this[te]=e&&e.objectMode||!1,this[te]?this[fe]=null:this[fe]=e&&e.encoding||null,this[fe]==="buffer"&&(this[fe]=null),this[st]=e&&!!e.async||!1,this[it]=this[fe]?new Nu(this[fe]):null,this[rt]=!1,this[gt]=!1,this[ci]=!1,this[li]=!1,this[rn]=null,this.writable=!0,this.readable=!0,this[J]=0,this[re]=!1}get bufferLength(){return this[J]}get encoding(){return this[fe]}set encoding(e){if(this[te])throw new Error("cannot set encoding in objectMode");if(this[fe]&&e!==this[fe]&&(this[it]&&this[it].lastNeed||this[J]))throw new Error("cannot change encoding");this[fe]!==e&&(this[it]=e?new Nu(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[it].write(r)))),this[fe]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[te]}set objectMode(e){this[te]=this[te]||!!e}get async(){return this[st]}set async(e){this[st]=this[st]||!!e}write(e,r,n){if(this[rt])throw new Error("write after end");if(this[re])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[st]?sn:s=>s();return!this[te]&&!Buffer.isBuffer(e)&&(mS(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):pS(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[te]?(this.flowing&&this[J]!==0&&this[ui](!0),this.flowing?this.emit("data",e):this[vo](e),this[J]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[fe]&&!this[it].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[fe]&&(e=this[it].write(e)),this.flowing&&this[J]!==0&&this[ui](!0),this.flowing?this.emit("data",e):this[vo](e),this[J]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[J]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[re])return null;if(this[J]===0||e===0||e>this[J])return this[nt](),null;this[te]&&(e=null),this.buffer.length>1&&!this[te]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[J])]);let r=this[Du](e||null,this.buffer[0]);return this[nt](),r}[Du](e,r){return e===r.length||e===null?this[_o]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[J]-=e),this.emit("data",r),!this.buffer.length&&!this[rt]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[rt]=!0,this.writable=!1,(this.flowing||!this[nn])&&this[nt](),this}[cr](){this[re]||(this[nn]=!1,this[fi]=!0,this.emit("resume"),this.buffer.length?this[ui]():this[rt]?this[nt]():this.emit("drain"))}resume(){return this[cr]()}pause(){this[fi]=!1,this[nn]=!0}get destroyed(){return this[re]}get flowing(){return this[fi]}get paused(){return this[nn]}[vo](e){this[te]?this[J]+=1:this[J]+=e.length,this.buffer.push(e)}[_o](){return this.buffer.length&&(this[te]?this[J]-=1:this[J]-=this.buffer[0].length),this.buffer.shift()}[ui](e){do;while(this[Ou](this[_o]()));!e&&!this.buffer.length&&!this[rt]&&this.emit("drain")}[Ou](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[re])return;let n=this[gt];return r=r||{},e===Cu.stdout||e===Cu.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new Ro(this,e,r):new di(this,e,r)),this[st]?sn(()=>this[cr]()):this[cr]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[cr]():e==="readable"&&this[J]!==0?super.emit("readable"):hS(e)&&this[gt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[rn]&&(this[st]?sn(()=>r.call(this,this[rn])):r.call(this,this[rn])),n}get emittedEnd(){return this[gt]}[nt](){!this[ci]&&!this[gt]&&!this[re]&&this.buffer.length===0&&this[rt]&&(this[ci]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[li]&&this.emit("close"),this[ci]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==re&&this[re])return;if(e==="data")return r?this[st]?sn(()=>this[bo](r)):this[bo](r):!1;if(e==="end")return this[ku]();if(e==="close"){if(this[li]=!0,!this[gt]&&!this[re])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[rn]=r;let s=super.emit("error",r);return this[nt](),s}else if(e==="resume"){let s=super.emit("resume");return this[nt](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[nt](),i}[bo](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[nt](),r}[ku](){this[gt]||(this[gt]=!0,this.readable=!1,this[st]?sn(()=>this[Lo]()):this[Lo]())}[Lo](){if(this[it]){let r=this[it].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[te]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[te]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[te]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[te]?Promise.reject(new Error("cannot concat in objectMode")):this[fe]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(re,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[fS](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[rt])return Promise.resolve({done:!0});let n=null,i=null,s=u=>{this.removeListener("data",o),this.removeListener("end",a),i(u)},o=u=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),n({value:u,done:!!this[rt]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise((u,l)=>{i=l,n=u,this.once(re,c),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[dS](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[re]?(e?this.emit("error",e):this.emit(re),this):(this[re]=!0,this.buffer.length=0,this[J]=0,typeof this.close=="function"&&!this[li]&&this.close(),e?this.emit("error",e):this.emit(re),this)}static isStream(e){return!!e&&(e instanceof Fu||e instanceof Tu||e instanceof uS&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Wo=E(me=>{"use strict";var Do=require("assert"),Et=require("buffer").Buffer,Uu=require("zlib"),Ft=me.constants=Iu(),gS=Po(),Bu=Et.concat,$t=Symbol("_superWrite"),ur=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},ES=Symbol("opts"),on=Symbol("flushFlag"),qu=Symbol("finishFlushFlag"),Ho=Symbol("fullFlushFlag"),O=Symbol("handle"),hi=Symbol("onError"),lr=Symbol("sawError"),Io=Symbol("level"),Co=Symbol("strategy"),To=Symbol("ended"),GC=Symbol("_defaultFullFlush"),pi=class extends gS{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[lr]=!1,this[To]=!1,this[ES]=e,this[on]=e.flush,this[qu]=e.finishFlush;try{this[O]=new Uu[r](e)}catch(n){throw new ur(n)}this[hi]=n=>{this[lr]||(this[lr]=!0,this.close(),this.emit("error",n))},this[O].on("error",n=>this[hi](new ur(n))),this.once("end",()=>this.close)}close(){this[O]&&(this[O].close(),this[O]=null,this.emit("close"))}reset(){if(!this[lr])return Do(this[O],"zlib binding closed"),this[O].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Ho]),this.write(Object.assign(Et.alloc(0),{[on]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[qu]),this[To]=!0,super.end(null,null,n)}get ended(){return this[To]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=Et.from(e,r)),this[lr])return;Do(this[O],"zlib binding closed");let i=this[O]._handle,s=i.close;i.close=()=>{};let o=this[O].close;this[O].close=()=>{},Et.concat=u=>u;let a;try{let u=typeof e[on]=="number"?e[on]:this[on];a=this[O]._processChunk(e,u),Et.concat=Bu}catch(u){Et.concat=Bu,this[hi](new ur(u))}finally{this[O]&&(this[O]._handle=i,i.close=s,this[O].close=o,this[O].removeAllListeners("error"))}this[O]&&this[O].on("error",u=>this[hi](new ur(u)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[$t](Et.from(a[0]));for(let u=1;u<a.length;u++)c=this[$t](a[u])}else c=this[$t](Et.from(a));return n&&n(),c}[$t](e){return super.write(e)}},ot=class extends pi{constructor(e,r){e=e||{},e.flush=e.flush||Ft.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Ft.Z_FINISH,super(e,r),this[Ho]=Ft.Z_FULL_FLUSH,this[Io]=e.level,this[Co]=e.strategy}params(e,r){if(!this[lr]){if(!this[O])throw new Error("cannot switch params when binding is closed");if(!this[O].params)throw new Error("not supported in this implementation");if(this[Io]!==e||this[Co]!==r){this.flush(Ft.Z_SYNC_FLUSH),Do(this[O],"zlib binding closed");let n=this[O].flush;this[O].flush=(i,s)=>{this.flush(i),s()};try{this[O].params(e,r)}finally{this[O].flush=n}this[O]&&(this[Io]=e,this[Co]=r)}}}},Oo=class extends ot{constructor(e){super(e,"Deflate")}},ko=class extends ot{constructor(e){super(e,"Inflate")}},No=Symbol("_portable"),Ao=class extends ot{constructor(e){super(e,"Gzip"),this[No]=e&&!!e.portable}[$t](e){return this[No]?(this[No]=!1,e[9]=255,super[$t](e)):super[$t](e)}},Fo=class extends ot{constructor(e){super(e,"Gunzip")}},$o=class extends ot{constructor(e){super(e,"DeflateRaw")}},Bo=class extends ot{constructor(e){super(e,"InflateRaw")}},qo=class extends ot{constructor(e){super(e,"Unzip")}},mi=class extends pi{constructor(e,r){e=e||{},e.flush=e.flush||Ft.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Ft.BROTLI_OPERATION_FINISH,super(e,r),this[Ho]=Ft.BROTLI_OPERATION_FLUSH}},Uo=class extends mi{constructor(e){super(e,"BrotliCompress")}},Mo=class extends mi{constructor(e){super(e,"BrotliDecompress")}};me.Deflate=Oo;me.Inflate=ko;me.Gzip=Ao;me.Gunzip=Fo;me.DeflateRaw=$o;me.InflateRaw=Bo;me.Unzip=qo;typeof Uu.BrotliCompress=="function"?(me.BrotliCompress=Uo,me.BrotliDecompress=Mo):me.BrotliCompress=me.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var fr=E((VC,Mu)=>{var wS=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;Mu.exports=wS!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var gi=E((ZC,Hu)=>{"use strict";var{Minipass:yS}=ai(),Go=fr(),jo=Symbol("slurp");Hu.exports=class extends yS{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Go(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=Go(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[jo](r),n&&this[jo](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[jo](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?Go(e[n]):e[n])}}});var zo=E(Ei=>{"use strict";Ei.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Ei.code=new Map(Array.from(Ei.name).map(t=>[t[1],t[0]]))});var zu=E((XC,ju)=>{"use strict";var SS=(t,e)=>{if(Number.isSafeInteger(t))t<0?vS(t,e):xS(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},xS=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},vS=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=Wu(i):i===0?e[n-1]=0:(r=!0,e[n-1]=Gu(i))}},_S=t=>{let e=t[0],r=e===128?LS(t.slice(1,t.length)):e===255?bS(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},bS=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var s=t[i],o;n?o=Wu(s):s===0?o=s:(n=!0,o=Gu(s)),o!==0&&(r-=o*Math.pow(256,e-i-1))}return r},LS=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},Wu=t=>(255^t)&255,Gu=t=>(255^t)+1&255;ju.exports={encode:SS,parse:_S}});var hr=E((KC,Ju)=>{"use strict";var Vo=zo(),dr=require("path").posix,Vu=zu(),Jo=Symbol("slurp"),ge=Symbol("type"),Xo=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[ge]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Bt(e,r,100),this.mode=wt(e,r+100,8),this.uid=wt(e,r+108,8),this.gid=wt(e,r+116,8),this.size=wt(e,r+124,12),this.mtime=Zo(e,r+136,12),this.cksum=wt(e,r+148,12),this[Jo](n),this[Jo](i,!0),this[ge]=Bt(e,r+156,1),this[ge]===""&&(this[ge]="0"),this[ge]==="0"&&this.path.slice(-1)==="/"&&(this[ge]="5"),this[ge]==="5"&&(this.size=0),this.linkpath=Bt(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Bt(e,r+265,32),this.gname=Bt(e,r+297,32),this.devmaj=wt(e,r+329,8),this.devmin=wt(e,r+337,8),e[r+475]!==0){let o=Bt(e,r+345,155);this.path=o+"/"+this.path}else{let o=Bt(e,r+345,130);o&&(this.path=o+"/"+this.path),this.atime=Zo(e,r+476,12),this.ctime=Zo(e,r+488,12)}let s=8*32;for(let o=r;o<r+148;o++)s+=e[o];for(let o=r+156;o<r+512;o++)s+=e[o];this.cksumValid=s===this.cksum,this.cksum===null&&s===8*32&&(this.nullBlock=!0)}[Jo](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=RS(this.path||"",n),s=i[0],o=i[1];this.needPax=i[2],this.needPax=qt(e,r,100,s)||this.needPax,this.needPax=yt(e,r+100,8,this.mode)||this.needPax,this.needPax=yt(e,r+108,8,this.uid)||this.needPax,this.needPax=yt(e,r+116,8,this.gid)||this.needPax,this.needPax=yt(e,r+124,12,this.size)||this.needPax,this.needPax=Yo(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[ge].charCodeAt(0),this.needPax=qt(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=qt(e,r+265,32,this.uname)||this.needPax,this.needPax=qt(e,r+297,32,this.gname)||this.needPax,this.needPax=yt(e,r+329,8,this.devmaj)||this.needPax,this.needPax=yt(e,r+337,8,this.devmin)||this.needPax,this.needPax=qt(e,r+345,n,o)||this.needPax,e[r+475]!==0?this.needPax=qt(e,r+345,155,o)||this.needPax:(this.needPax=qt(e,r+345,130,o)||this.needPax,this.needPax=Yo(e,r+476,12,this.atime)||this.needPax,this.needPax=Yo(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,yt(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Vo.name.get(this[ge])||this[ge]}get typeKey(){return this[ge]}set type(e){Vo.code.has(e)?this[ge]=Vo.code.get(e):this[ge]=e}},RS=(t,e)=>{let n=t,i="",s,o=dr.parse(t).root||".";if(Buffer.byteLength(n)<100)s=[n,i,!1];else{i=dr.dirname(n),n=dr.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?s=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?s=[n.slice(0,100-1),i,!0]:(n=dr.join(dr.basename(i),n),i=dr.dirname(i));while(i!==o&&!s);s||(s=[t.slice(0,100-1),"",!0])}return s},Bt=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),Zo=(t,e,r)=>PS(wt(t,e,r)),PS=t=>t===null?null:new Date(t*1e3),wt=(t,e,r)=>t[e]&128?Vu.parse(t.slice(e,e+r)):CS(t,e,r),IS=t=>isNaN(t)?null:t,CS=(t,e,r)=>IS(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),TS={12:8589934591,8:2097151},yt=(t,e,r,n)=>n===null?!1:n>TS[r]||n<0?(Vu.encode(n,t.slice(e,e+r)),!0):(NS(t,e,r,n),!1),NS=(t,e,r,n)=>t.write(DS(n,r),e,r,"ascii"),DS=(t,e)=>OS(Math.floor(t).toString(8),e),OS=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Yo=(t,e,r,n)=>n===null?!1:yt(t,e,r,n.getTime()/1e3),kS=new Array(156).join("\0"),qt=(t,e,r,n)=>n===null?!1:(t.write(n+kS,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);Ju.exports=Xo});var wi=E((QC,Zu)=>{"use strict";var AS=hr(),FS=require("path"),an=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let s=0;s<512;s++)i[s]=0;new AS({path:("PaxHeader/"+FS.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let s=r+512;s<i.length;s++)i[s]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),s=Math.floor(Math.log(i)/Math.log(10))+1;return i+s>=Math.pow(10,s)&&(s+=1),s+i+n}};an.parse=(t,e,r)=>new an($S(BS(t),e),r);var $S=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,BS=t=>t.replace(/\n$/,"").split(`
`).reduce(qS,Object.create(null)),qS=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let s=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s,t};Zu.exports=an});var pr=E((eT,Yu)=>{Yu.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var yi=E((tT,Xu)=>{"use strict";Xu.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var Qo=E((nT,Ku)=>{"use strict";var Si=["|","<",">","?",":"],Ko=Si.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),US=new Map(Si.map((t,e)=>[t,Ko[e]])),MS=new Map(Ko.map((t,e)=>[t,Si[e]]));Ku.exports={encode:t=>Si.reduce((e,r)=>e.split(r).join(US.get(r)),t),decode:t=>Ko.reduce((e,r)=>e.split(r).join(MS.get(r)),t)}});var ea=E((iT,ef)=>{var{isAbsolute:HS,parse:Qu}=require("path").win32;ef.exports=t=>{let e="",r=Qu(t);for(;HS(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=Qu(t)}return[e,t]}});var rf=E((sT,tf)=>{"use strict";tf.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var ua=E((cT,Ef)=>{"use strict";var{Minipass:uf}=ai(),ff=wi(),df=hr(),je=require("fs"),nf=require("path"),Ge=fr(),WS=pr(),hf=(t,e)=>e?(t=Ge(t).replace(/^\.(\/|$)/,""),WS(e)+"/"+t):Ge(t),GS=16*1024*1024,sf=Symbol("process"),of=Symbol("file"),af=Symbol("directory"),ra=Symbol("symlink"),cf=Symbol("hardlink"),cn=Symbol("header"),xi=Symbol("read"),na=Symbol("lstat"),vi=Symbol("onlstat"),ia=Symbol("onread"),sa=Symbol("onreadlink"),oa=Symbol("openfile"),aa=Symbol("onopenfile"),St=Symbol("close"),_i=Symbol("mode"),ca=Symbol("awaitDrain"),ta=Symbol("ondrain"),ze=Symbol("prefix"),lf=Symbol("hadError"),pf=yi(),jS=Qo(),mf=ea(),gf=rf(),bi=pf(class extends uf{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=Ge(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||GS,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Ge(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Ge(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=mf(this.path);i&&(this.path=s,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=jS.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Ge(r.absolute||nf.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[vi](this.statCache.get(this.absolute)):this[na]()}emit(e,...r){return e==="error"&&(this[lf]=!0),super.emit(e,...r)}[na](){je.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[vi](r)})}[vi](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=VS(e),this.emit("stat",e),this[sf]()}[sf](){switch(this.type){case"File":return this[of]();case"Directory":return this[af]();case"SymbolicLink":return this[ra]();default:return this.end()}}[_i](e){return gf(e,this.type==="Directory",this.portable)}[ze](e){return hf(e,this.prefix)}[cn](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new df({path:this[ze](this.path),linkpath:this.type==="Link"?this[ze](this.linkpath):this.linkpath,mode:this[_i](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new ff({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[ze](this.path),linkpath:this.type==="Link"?this[ze](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[af](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[cn](),this.end()}[ra](){je.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[sa](r)})}[sa](e){this.linkpath=Ge(e),this[cn](),this.end()}[cf](e){this.type="Link",this.linkpath=Ge(nf.relative(this.cwd,e)),this.stat.size=0,this[cn](),this.end()}[of](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[cf](r)}this.linkCache.set(e,this.absolute)}if(this[cn](),this.stat.size===0)return this.end();this[oa]()}[oa](){je.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[aa](r)})}[aa](e){if(this.fd=e,this[lf])return this[St]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[xi]()}[xi](){let{fd:e,buf:r,offset:n,length:i,pos:s}=this;je.read(e,r,n,i,s,(o,a)=>{if(o)return this[St](()=>this.emit("error",o));this[ia](a)})}[St](e){je.close(this.fd,e)}[ia](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[St](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[St](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[ta]():this[ca](()=>this[ta]())}[ca](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[ta](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[St](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[xi]()}}),la=class extends bi{[na](){this[vi](je.lstatSync(this.absolute))}[ra](){this[sa](je.readlinkSync(this.absolute))}[oa](){this[aa](je.openSync(this.absolute,"r"))}[xi](){let e=!0;try{let{fd:r,buf:n,offset:i,length:s,pos:o}=this,a=je.readSync(r,n,i,s,o);this[ia](a),e=!1}finally{if(e)try{this[St](()=>{})}catch{}}}[ca](e){e()}[St](e){je.closeSync(this.fd),e()}},zS=pf(class extends uf{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Ge(e.path),this.mode=this[_i](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Ge(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=mf(this.path);i&&(this.path=s,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new df({path:this[ze](this.path),linkpath:this.type==="Link"?this[ze](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new ff({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[ze](this.path),linkpath:this.type==="Link"?this[ze](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[ze](e){return hf(e,this.prefix)}[_i](e){return gf(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});bi.Sync=la;bi.Tar=zS;var VS=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";Ef.exports=bi});var yf=E((lT,wf)=>{"use strict";wf.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var fa=E((uT,Sf)=>{"use strict";Sf.exports=I;I.Node=Ut;I.create=I;function I(t){var e=this;if(e instanceof I||(e=new I),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}I.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};I.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};I.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};I.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ZS(this,arguments[t]);return this.length};I.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)YS(this,arguments[t]);return this.length};I.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};I.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};I.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};I.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};I.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};I.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};I.prototype.map=function(t,e){e=e||this;for(var r=new I,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};I.prototype.mapReverse=function(t,e){e=e||this;for(var r=new I,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};I.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};I.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};I.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};I.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};I.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new I;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};I.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new I;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};I.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=JS(this,i,r[n]);return s};I.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function JS(t,e,r){var n=e===t.head?new Ut(r,null,e,t):new Ut(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function ZS(t,e){t.tail=new Ut(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function YS(t,e){t.head=new Ut(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ut(t,e,r,n){if(!(this instanceof Ut))return new Ut(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{yf()(I)}catch{}});var Oi=E((dT,If)=>{"use strict";var Ni=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:XS}=ai(),xf=Wo(),KS=gi(),Sa=ua(),QS=Sa.Sync,ex=Sa.Tar,tx=fa(),vf=Buffer.alloc(1024),Pi=Symbol("onStat"),Li=Symbol("ended"),Ve=Symbol("queue"),mr=Symbol("current"),Mt=Symbol("process"),Ri=Symbol("processing"),_f=Symbol("processJob"),Je=Symbol("jobs"),da=Symbol("jobDone"),Ii=Symbol("addFSEntry"),bf=Symbol("addTarEntry"),ga=Symbol("stat"),Ea=Symbol("readdir"),Ci=Symbol("onreaddir"),Ti=Symbol("pipe"),Lf=Symbol("entry"),ha=Symbol("entryOpt"),wa=Symbol("writeEntryClass"),Pf=Symbol("write"),pa=Symbol("ondrain"),Di=require("fs"),Rf=require("path"),rx=yi(),ma=fr(),xa=rx(class extends XS{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=ma(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[wa]=Sa,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new xf.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new xf.BrotliCompress(e.brotli)),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[pa]()),this.on("resume",r=>this.zip.resume())}else this.on("drain",this[pa]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[Ve]=new tx,this[Je]=0,this.jobs=+e.jobs||4,this[Ri]=!1,this[Li]=!1}[Pf](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Li]=!0,this[Mt](),this}write(e){if(this[Li])throw new Error("write after end");return e instanceof KS?this[bf](e):this[Ii](e),this.flowing}[bf](e){let r=ma(Rf.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Ni(e.path,r,!1);n.entry=new ex(e,this[ha](n)),n.entry.on("end",i=>this[da](n)),this[Je]+=1,this[Ve].push(n)}this[Mt]()}[Ii](e){let r=ma(Rf.resolve(this.cwd,e));this[Ve].push(new Ni(e,r)),this[Mt]()}[ga](e){e.pending=!0,this[Je]+=1;let r=this.follow?"stat":"lstat";Di[r](e.absolute,(n,i)=>{e.pending=!1,this[Je]-=1,n?this.emit("error",n):this[Pi](e,i)})}[Pi](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[Mt]()}[Ea](e){e.pending=!0,this[Je]+=1,Di.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[Je]-=1,r)return this.emit("error",r);this[Ci](e,n)})}[Ci](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[Mt]()}[Mt](){if(!this[Ri]){this[Ri]=!0;for(let e=this[Ve].head;e!==null&&this[Je]<this.jobs;e=e.next)if(this[_f](e.value),e.value.ignore){let r=e.next;this[Ve].removeNode(e),e.next=r}this[Ri]=!1,this[Li]&&!this[Ve].length&&this[Je]===0&&(this.zip?this.zip.end(vf):(super.write(vf),super.end()))}}get[mr](){return this[Ve]&&this[Ve].head&&this[Ve].head.value}[da](e){this[Ve].shift(),this[Je]-=1,this[Mt]()}[_f](e){if(!e.pending){if(e.entry){e===this[mr]&&!e.piped&&this[Ti](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Pi](e,this.statCache.get(e.absolute)):this[ga](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Ci](e,this.readdirCache.get(e.absolute)):this[Ea](e),!e.readdir))){if(e.entry=this[Lf](e),!e.entry){e.ignore=!0;return}e===this[mr]&&!e.piped&&this[Ti](e)}}}[ha](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Lf](e){this[Je]+=1;try{return new this[wa](e.path,this[ha](e)).on("end",()=>this[da](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[pa](){this[mr]&&this[mr].entry&&this[mr].entry.resume()}[Ti](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[Ii](o+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),ya=class extends xa{constructor(e){super(e),this[wa]=QS}pause(){}resume(){}[ga](e){let r=this.follow?"statSync":"lstatSync";this[Pi](e,Di[r](e.absolute))}[Ea](e,r){this[Ci](e,Di.readdirSync(e.absolute))}[Ti](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[Ii](o+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[Pf](i)})}};xa.Sync=ya;If.exports=xa});var _r=E(un=>{"use strict";var nx=Po(),ix=require("events").EventEmitter,de=require("fs"),ba=de.writev;if(!ba){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;ba=(r,n,i,s)=>{let o=(c,u)=>s(c,u,n),a=new e;a.oncomplete=o,t.writeBuffers(r,n,i,a)}}var xr=Symbol("_autoClose"),Ae=Symbol("_close"),ln=Symbol("_ended"),N=Symbol("_fd"),Cf=Symbol("_finished"),vt=Symbol("_flags"),va=Symbol("_flush"),La=Symbol("_handleChunk"),Ra=Symbol("_makeBuf"),Bi=Symbol("_mode"),ki=Symbol("_needDrain"),yr=Symbol("_onerror"),vr=Symbol("_onopen"),_a=Symbol("_onread"),Er=Symbol("_onwrite"),_t=Symbol("_open"),at=Symbol("_path"),Ht=Symbol("_pos"),Ze=Symbol("_queue"),wr=Symbol("_read"),Tf=Symbol("_readSize"),xt=Symbol("_reading"),Ai=Symbol("_remain"),Nf=Symbol("_size"),Fi=Symbol("_write"),gr=Symbol("_writing"),$i=Symbol("_defaultFlag"),Sr=Symbol("_errored"),qi=class extends nx{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Sr]=!1,this[N]=typeof r.fd=="number"?r.fd:null,this[at]=e,this[Tf]=r.readSize||16*1024*1024,this[xt]=!1,this[Nf]=typeof r.size=="number"?r.size:1/0,this[Ai]=this[Nf],this[xr]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[N]=="number"?this[wr]():this[_t]()}get fd(){return this[N]}get path(){return this[at]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[_t](){de.open(this[at],"r",(e,r)=>this[vr](e,r))}[vr](e,r){e?this[yr](e):(this[N]=r,this.emit("open",r),this[wr]())}[Ra](){return Buffer.allocUnsafe(Math.min(this[Tf],this[Ai]))}[wr](){if(!this[xt]){this[xt]=!0;let e=this[Ra]();if(e.length===0)return process.nextTick(()=>this[_a](null,0,e));de.read(this[N],e,0,e.length,null,(r,n,i)=>this[_a](r,n,i))}}[_a](e,r,n){this[xt]=!1,e?this[yr](e):this[La](r,n)&&this[wr]()}[Ae](){if(this[xr]&&typeof this[N]=="number"){let e=this[N];this[N]=null,de.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[yr](e){this[xt]=!0,this[Ae](),this.emit("error",e)}[La](e,r){let n=!1;return this[Ai]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[Ai]<=0)&&(n=!1,this[Ae](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[N]=="number"&&this[wr]();break;case"error":return this[Sr]?void 0:(this[Sr]=!0,super.emit(e,r));default:return super.emit(e,r)}}},Pa=class extends qi{[_t](){let e=!0;try{this[vr](null,de.openSync(this[at],"r")),e=!1}finally{e&&this[Ae]()}}[wr](){let e=!0;try{if(!this[xt]){this[xt]=!0;do{let r=this[Ra](),n=r.length===0?0:de.readSync(this[N],r,0,r.length,null);if(!this[La](n,r))break}while(!0);this[xt]=!1}e=!1}finally{e&&this[Ae]()}}[Ae](){if(this[xr]&&typeof this[N]=="number"){let e=this[N];this[N]=null,de.closeSync(e),this.emit("close")}}},Ui=class extends ix{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[Sr]=!1,this[gr]=!1,this[ln]=!1,this[ki]=!1,this[Ze]=[],this[at]=e,this[N]=typeof r.fd=="number"?r.fd:null,this[Bi]=r.mode===void 0?438:r.mode,this[Ht]=typeof r.start=="number"?r.start:null,this[xr]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[Ht]!==null?"r+":"w";this[$i]=r.flags===void 0,this[vt]=this[$i]?n:r.flags,this[N]===null&&this[_t]()}emit(e,r){if(e==="error"){if(this[Sr])return;this[Sr]=!0}return super.emit(e,r)}get fd(){return this[N]}get path(){return this[at]}[yr](e){this[Ae](),this[gr]=!0,this.emit("error",e)}[_t](){de.open(this[at],this[vt],this[Bi],(e,r)=>this[vr](e,r))}[vr](e,r){this[$i]&&this[vt]==="r+"&&e&&e.code==="ENOENT"?(this[vt]="w",this[_t]()):e?this[yr](e):(this[N]=r,this.emit("open",r),this[va]())}end(e,r){return e&&this.write(e,r),this[ln]=!0,!this[gr]&&!this[Ze].length&&typeof this[N]=="number"&&this[Er](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[ln]?(this.emit("error",new Error("write() after end()")),!1):this[N]===null||this[gr]||this[Ze].length?(this[Ze].push(e),this[ki]=!0,!1):(this[gr]=!0,this[Fi](e),!0)}[Fi](e){de.write(this[N],e,0,e.length,this[Ht],(r,n)=>this[Er](r,n))}[Er](e,r){e?this[yr](e):(this[Ht]!==null&&(this[Ht]+=r),this[Ze].length?this[va]():(this[gr]=!1,this[ln]&&!this[Cf]?(this[Cf]=!0,this[Ae](),this.emit("finish")):this[ki]&&(this[ki]=!1,this.emit("drain"))))}[va](){if(this[Ze].length===0)this[ln]&&this[Er](null,0);else if(this[Ze].length===1)this[Fi](this[Ze].pop());else{let e=this[Ze];this[Ze]=[],ba(this[N],e,this[Ht],(r,n)=>this[Er](r,n))}}[Ae](){if(this[xr]&&typeof this[N]=="number"){let e=this[N];this[N]=null,de.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},Ia=class extends Ui{[_t](){let e;if(this[$i]&&this[vt]==="r+")try{e=de.openSync(this[at],this[vt],this[Bi])}catch(r){if(r.code==="ENOENT")return this[vt]="w",this[_t]();throw r}else e=de.openSync(this[at],this[vt],this[Bi]);this[vr](null,e)}[Ae](){if(this[xr]&&typeof this[N]=="number"){let e=this[N];this[N]=null,de.closeSync(e),this.emit("close")}}[Fi](e){let r=!0;try{this[Er](null,de.writeSync(this[N],e,0,e.length,this[Ht])),r=!1}finally{if(r)try{this[Ae]()}catch{}}}};un.ReadStream=qi;un.ReadStreamSync=Pa;un.WriteStream=Ui;un.WriteStreamSync=Ia});var Vi=E((mT,Mf)=>{"use strict";var sx=yi(),Df=hr(),ox=require("events"),ax=fa(),cx=1024*1024,lx=gi(),Of=wi(),kf=Wo(),{nextTick:ux}=require("process"),Ca=Buffer.from([31,139]),_e=Symbol("state"),Wt=Symbol("writeEntry"),ct=Symbol("readEntry"),Ta=Symbol("nextEntry"),Af=Symbol("processEntry"),be=Symbol("extendedHeader"),fn=Symbol("globalExtendedHeader"),bt=Symbol("meta"),Ff=Symbol("emitMeta"),k=Symbol("buffer"),lt=Symbol("queue"),Lt=Symbol("ended"),$f=Symbol("emittedEnd"),Gt=Symbol("emit"),Z=Symbol("unzip"),Mi=Symbol("consumeChunk"),Hi=Symbol("consumeChunkSub"),Na=Symbol("consumeBody"),Bf=Symbol("consumeMeta"),qf=Symbol("consumeHeader"),Wi=Symbol("consuming"),Da=Symbol("bufferConcat"),Oa=Symbol("maybeEnd"),dn=Symbol("writing"),Rt=Symbol("aborted"),Gi=Symbol("onDone"),jt=Symbol("sawValidEntry"),ji=Symbol("sawNullBlock"),zi=Symbol("sawEOF"),Uf=Symbol("closeStream"),fx=t=>!0;Mf.exports=sx(class extends ox{constructor(e){e=e||{},super(e),this.file=e.file||"",this[jt]=null,this.on(Gi,n=>{(this[_e]==="begin"||this[jt]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Gi,e.ondone):this.on(Gi,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||cx,this.filter=typeof e.filter=="function"?e.filter:fx;let r=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:r?void 0:!1,this.writable=!0,this.readable=!1,this[lt]=new ax,this[k]=null,this[ct]=null,this[Wt]=null,this[_e]="begin",this[bt]="",this[be]=null,this[fn]=null,this[Lt]=!1,this[Z]=null,this[Rt]=!1,this[ji]=!1,this[zi]=!1,this.on("end",()=>this[Uf]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[qf](e,r){this[jt]===null&&(this[jt]=!1);let n;try{n=new Df(e,r,this[be],this[fn])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[ji]?(this[zi]=!0,this[_e]==="begin"&&(this[_e]="header"),this[Gt]("eof")):(this[ji]=!0,this[Gt]("nullBlock"));else if(this[ji]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let s=this[Wt]=new lx(n,this[be],this[fn]);if(!this[jt])if(s.remain){let o=()=>{s.invalid||(this[jt]=!0)};s.on("end",o)}else this[jt]=!0;s.meta?s.size>this.maxMetaEntrySize?(s.ignore=!0,this[Gt]("ignoredEntry",s),this[_e]="ignore",s.resume()):s.size>0&&(this[bt]="",s.on("data",o=>this[bt]+=o),this[_e]="meta"):(this[be]=null,s.ignore=s.ignore||!this.filter(s.path,s),s.ignore?(this[Gt]("ignoredEntry",s),this[_e]=s.remain?"ignore":"header",s.resume()):(s.remain?this[_e]="body":(this[_e]="header",s.end()),this[ct]?this[lt].push(s):(this[lt].push(s),this[Ta]())))}}}[Uf](){ux(()=>this.emit("close"))}[Af](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[ct]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[Ta]()),r=!1)):(this[ct]=null,r=!1),r}[Ta](){do;while(this[Af](this[lt].shift()));if(!this[lt].length){let e=this[ct];!e||e.flowing||e.size===e.remain?this[dn]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[Na](e,r){let n=this[Wt],i=n.blockRemain,s=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(s),n.blockRemain||(this[_e]="header",this[Wt]=null,n.end()),s.length}[Bf](e,r){let n=this[Wt],i=this[Na](e,r);return this[Wt]||this[Ff](n),i}[Gt](e,r,n){!this[lt].length&&!this[ct]?this.emit(e,r,n):this[lt].push([e,r,n])}[Ff](e){switch(this[Gt]("meta",this[bt]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[be]=Of.parse(this[bt],this[be],!1);break;case"GlobalExtendedHeader":this[fn]=Of.parse(this[bt],this[fn],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[be]=this[be]||Object.create(null),this[be].path=this[bt].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[be]=this[be]||Object.create(null),this[be].linkpath=this[bt].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Rt]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Rt])return;if((this[Z]===null||this.brotli===void 0&&this[Z]===!1)&&e){if(this[k]&&(e=Buffer.concat([this[k],e]),this[k]=null),e.length<Ca.length)return this[k]=e,!0;for(let s=0;this[Z]===null&&s<Ca.length;s++)e[s]!==Ca[s]&&(this[Z]=!1);let i=this.brotli===void 0;if(this[Z]===!1&&i)if(e.length<512)if(this[Lt])this.brotli=!0;else return this[k]=e,!0;else try{new Df(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[Z]===null||this[Z]===!1&&this.brotli){let s=this[Lt];this[Lt]=!1,this[Z]=this[Z]===null?new kf.Unzip:new kf.BrotliDecompress,this[Z].on("data",a=>this[Mi](a)),this[Z].on("error",a=>this.abort(a)),this[Z].on("end",a=>{this[Lt]=!0,this[Mi]()}),this[dn]=!0;let o=this[Z][s?"end":"write"](e);return this[dn]=!1,o}}this[dn]=!0,this[Z]?this[Z].write(e):this[Mi](e),this[dn]=!1;let n=this[lt].length?!1:this[ct]?this[ct].flowing:!0;return!n&&!this[lt].length&&this[ct].once("drain",i=>this.emit("drain")),n}[Da](e){e&&!this[Rt]&&(this[k]=this[k]?Buffer.concat([this[k],e]):e)}[Oa](){if(this[Lt]&&!this[$f]&&!this[Rt]&&!this[Wi]){this[$f]=!0;let e=this[Wt];if(e&&e.blockRemain){let r=this[k]?this[k].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[k]&&e.write(this[k]),e.end()}this[Gt](Gi)}}[Mi](e){if(this[Wi])this[Da](e);else if(!e&&!this[k])this[Oa]();else{if(this[Wi]=!0,this[k]){this[Da](e);let r=this[k];this[k]=null,this[Hi](r)}else this[Hi](e);for(;this[k]&&this[k].length>=512&&!this[Rt]&&!this[zi];){let r=this[k];this[k]=null,this[Hi](r)}this[Wi]=!1}(!this[k]||this[Lt])&&this[Oa]()}[Hi](e){let r=0,n=e.length;for(;r+512<=n&&!this[Rt]&&!this[zi];)switch(this[_e]){case"begin":case"header":this[qf](e,r),r+=512;break;case"ignore":case"body":r+=this[Na](e,r);break;case"meta":r+=this[Bf](e,r);break;default:throw new Error("invalid state: "+this[_e])}r<n&&(this[k]?this[k]=Buffer.concat([e.slice(r),this[k]]):this[k]=e.slice(r))}end(e){this[Rt]||(this[Z]?this[Z].end(e):(this[Lt]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var Ji=E((gT,jf)=>{"use strict";var dx=or(),Wf=Vi(),br=require("fs"),hx=_r(),Hf=require("path"),ka=pr();jf.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=dx(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&mx(n,e),n.noResume||px(n),n.file&&n.sync?gx(n):n.file?Ex(n,r):Gf(n)};var px=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},mx=(t,e)=>{let r=new Map(e.map(s=>[ka(s),!0])),n=t.filter,i=(s,o)=>{let a=o||Hf.parse(s).root||".",c=s===a?!1:r.has(s)?r.get(s):i(Hf.dirname(s),a);return r.set(s,c),c};t.filter=n?(s,o)=>n(s,o)&&i(ka(s)):s=>i(ka(s))},gx=t=>{let e=Gf(t),r=t.file,n=!0,i;try{let s=br.statSync(r),o=t.maxReadSize||16*1024*1024;if(s.size<o)e.end(br.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(o);for(i=br.openSync(r,"r");a<s.size;){let u=br.readSync(i,c,0,o,a);a+=u,e.write(c.slice(0,u))}e.end()}n=!1}finally{if(n&&i)try{br.closeSync(i)}catch{}}},Ex=(t,e)=>{let r=new Wf(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("end",o),br.stat(i,(c,u)=>{if(c)a(c);else{let l=new hx.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(r)}})});return e?s.then(e,e):s},Gf=t=>new Wf(t)});var Xf=E((ET,Yf)=>{"use strict";var wx=or(),Zi=Oi(),zf=_r(),Vf=Ji(),Jf=require("path");Yf.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=wx(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?yx(n,e):n.file?Sx(n,e,r):n.sync?xx(n,e):vx(n,e)};var yx=(t,e)=>{let r=new Zi.Sync(t),n=new zf.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),Zf(r,e)},Sx=(t,e,r)=>{let n=new Zi(t),i=new zf.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let s=new Promise((o,a)=>{i.on("error",a),i.on("close",o),n.on("error",a)});return Aa(n,e),r?s.then(r,r):s},Zf=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?Vf({file:Jf.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},Aa=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return Vf({file:Jf.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>Aa(t,e));t.add(r)}t.end()},xx=(t,e)=>{let r=new Zi.Sync(t);return Zf(r,e),r},vx=(t,e)=>{let r=new Zi(t);return Aa(r,e),r}});var Fa=E((wT,id)=>{"use strict";var _x=or(),Kf=Oi(),Ee=require("fs"),Qf=_r(),ed=Ji(),td=require("path"),rd=hr();id.exports=(t,e,r)=>{let n=_x(t);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?bx(n,e):Rx(n,e,r)};var bx=(t,e)=>{let r=new Kf.Sync(t),n=!0,i,s;try{try{i=Ee.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")i=Ee.openSync(t.file,"w+");else throw c}let o=Ee.fstatSync(i),a=Buffer.alloc(512);e:for(s=0;s<o.size;s+=512){for(let l=0,f=0;l<512;l+=f){if(f=Ee.readSync(i,a,l,a.length-l,s+l),s===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new rd(a);if(!c.cksumValid)break;let u=512*Math.ceil(c.size/512);if(s+u+512>o.size)break;s+=u,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,Lx(t,r,s,i,e)}finally{if(n)try{Ee.closeSync(i)}catch{}}},Lx=(t,e,r,n,i)=>{let s=new Qf.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(s),Px(e,i)},Rx=(t,e,r)=>{e=Array.from(e);let n=new Kf(t),i=(o,a,c)=>{let u=(m,g)=>{m?Ee.close(o,w=>c(m)):c(null,g)},l=0;if(a===0)return u(null,0);let f=0,h=Buffer.alloc(512),d=(m,g)=>{if(m)return u(m);if(f+=g,f<512&&g)return Ee.read(o,h,f,h.length-f,l+f,d);if(l===0&&h[0]===31&&h[1]===139)return u(new Error("cannot append to compressed archives"));if(f<512)return u(null,l);let w=new rd(h);if(!w.cksumValid)return u(null,l);let p=512*Math.ceil(w.size/512);if(l+p+512>a||(l+=p+512,l>=a))return u(null,l);t.mtimeCache&&t.mtimeCache.set(w.path,w.mtime),f=0,Ee.read(o,h,0,512,l,d)};Ee.read(o,h,0,512,l,d)},s=new Promise((o,a)=>{n.on("error",a);let c="r+",u=(l,f)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",Ee.open(t.file,c,u);if(l)return a(l);Ee.fstat(f,(h,d)=>{if(h)return Ee.close(f,()=>a(h));i(f,d.size,(m,g)=>{if(m)return a(m);let w=new Qf.WriteStream(t.file,{fd:f,start:g});n.pipe(w),w.on("error",a),w.on("close",o),nd(n,e)})})};Ee.open(t.file,c,u)});return r?s.then(r,r):s},Px=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?ed({file:td.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},nd=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return ed({file:td.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>nd(t,e));t.add(r)}t.end()}});var od=E((yT,sd)=>{"use strict";var Ix=or(),Cx=Fa();sd.exports=(t,e,r)=>{let n=Ix(t);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Tx(n),Cx(n,e,r)};var Tx=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var ld=E((ST,cd)=>{var{promisify:ad}=require("util"),Pt=require("fs"),Nx=t=>{if(!t)t={mode:511,fs:Pt};else if(typeof t=="object")t={mode:511,fs:Pt,...t};else if(typeof t=="number")t={mode:t,fs:Pt};else if(typeof t=="string")t={mode:parseInt(t,8),fs:Pt};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||Pt.mkdir,t.mkdirAsync=ad(t.mkdir),t.stat=t.stat||t.fs.stat||Pt.stat,t.statAsync=ad(t.stat),t.statSync=t.statSync||t.fs.statSync||Pt.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||Pt.mkdirSync,t};cd.exports=Nx});var fd=E((xT,ud)=>{var Dx=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:Ox,parse:kx}=require("path"),Ax=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=Ox(t),Dx==="win32"){let e=/[*|"<>?:]/,{root:r}=kx(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};ud.exports=Ax});var gd=E((vT,md)=>{var{dirname:dd}=require("path"),hd=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?hd(t,dd(e),e):void 0),pd=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?pd(t,dd(e),e):void 0}};md.exports={findMade:hd,findMadeSync:pd}});var qa=E((_T,wd)=>{var{dirname:Ed}=require("path"),$a=(t,e,r)=>{e.recursive=!1;let n=Ed(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return $a(n,e).then(s=>$a(t,e,s));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(s=>{if(s.isDirectory())return r;throw i},()=>{throw i})})},Ba=(t,e,r)=>{let n=Ed(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return Ba(t,e,Ba(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};wd.exports={mkdirpManual:$a,mkdirpManualSync:Ba}});var xd=E((bT,Sd)=>{var{dirname:yd}=require("path"),{findMade:Fx,findMadeSync:$x}=gd(),{mkdirpManual:Bx,mkdirpManualSync:qx}=qa(),Ux=(t,e)=>(e.recursive=!0,yd(t)===t?e.mkdirAsync(t,e):Fx(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return Bx(t,e);throw i}))),Mx=(t,e)=>{if(e.recursive=!0,yd(t)===t)return e.mkdirSync(t,e);let n=$x(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return qx(t,e);throw i}};Sd.exports={mkdirpNative:Ux,mkdirpNativeSync:Mx}});var Ld=E((LT,bd)=>{var vd=require("fs"),Hx=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Ua=Hx.replace(/^v/,"").split("."),_d=+Ua[0]>10||+Ua[0]==10&&+Ua[1]>=12,Wx=_d?t=>t.mkdir===vd.mkdir:()=>!1,Gx=_d?t=>t.mkdirSync===vd.mkdirSync:()=>!1;bd.exports={useNative:Wx,useNativeSync:Gx}});var Nd=E((RT,Td)=>{var Lr=ld(),Rr=fd(),{mkdirpNative:Rd,mkdirpNativeSync:Pd}=xd(),{mkdirpManual:Id,mkdirpManualSync:Cd}=qa(),{useNative:jx,useNativeSync:zx}=Ld(),Pr=(t,e)=>(t=Rr(t),e=Lr(e),jx(e)?Rd(t,e):Id(t,e)),Vx=(t,e)=>(t=Rr(t),e=Lr(e),zx(e)?Pd(t,e):Cd(t,e));Pr.sync=Vx;Pr.native=(t,e)=>Rd(Rr(t),Lr(e));Pr.manual=(t,e)=>Id(Rr(t),Lr(e));Pr.nativeSync=(t,e)=>Pd(Rr(t),Lr(e));Pr.manualSync=(t,e)=>Cd(Rr(t),Lr(e));Td.exports=Pr});var Bd=E((PT,$d)=>{"use strict";var Le=require("fs"),zt=require("path"),Jx=Le.lchown?"lchown":"chown",Zx=Le.lchownSync?"lchownSync":"chownSync",Od=Le.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Dd=(t,e,r)=>{try{return Le[Zx](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},Yx=(t,e,r)=>{try{return Le.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},Xx=Od?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Le.chown(t,e,r,n)}:(t,e,r,n)=>n,Ma=Od?(t,e,r)=>{try{return Dd(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;Yx(t,e,r)}}:(t,e,r)=>Dd(t,e,r),Kx=process.version,kd=(t,e,r)=>Le.readdir(t,e,r),Qx=(t,e)=>Le.readdirSync(t,e);/^v4\./.test(Kx)&&(kd=(t,e,r)=>Le.readdir(t,r));var Yi=(t,e,r,n)=>{Le[Jx](t,e,r,Xx(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},Ad=(t,e,r,n,i)=>{if(typeof e=="string")return Le.lstat(zt.resolve(t,e),(s,o)=>{if(s)return i(s.code!=="ENOENT"?s:null);o.name=e,Ad(t,o,r,n,i)});if(e.isDirectory())Ha(zt.resolve(t,e.name),r,n,s=>{if(s)return i(s);let o=zt.resolve(t,e.name);Yi(o,r,n,i)});else{let s=zt.resolve(t,e.name);Yi(s,r,n,i)}},Ha=(t,e,r,n)=>{kd(t,{withFileTypes:!0},(i,s)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!s.length)return Yi(t,e,r,n);let o=s.length,a=null,c=u=>{if(!a){if(u)return n(a=u);if(--o===0)return Yi(t,e,r,n)}};s.forEach(u=>Ad(t,u,e,r,c))})},e0=(t,e,r,n)=>{if(typeof e=="string")try{let i=Le.lstatSync(zt.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&Fd(zt.resolve(t,e.name),r,n),Ma(zt.resolve(t,e.name),r,n)},Fd=(t,e,r)=>{let n;try{n=Qx(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return Ma(t,e,r);throw i}return n&&n.length&&n.forEach(i=>e0(t,i,e,r)),Ma(t,e,r)};$d.exports=Ha;Ha.sync=Fd});var Hd=E((IT,Wa)=>{"use strict";var qd=Nd(),Re=require("fs"),Xi=require("path"),Ud=Bd(),Fe=fr(),Ki=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},Qi=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},es=(t,e)=>t.get(Fe(e)),hn=(t,e,r)=>t.set(Fe(e),r),t0=(t,e)=>{Re.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new Qi(t,r&&r.code||"ENOTDIR")),e(r)})};Wa.exports=(t,e,r)=>{t=Fe(t);let n=e.umask,i=e.mode|448,s=(i&n)!==0,o=e.uid,a=e.gid,c=typeof o=="number"&&typeof a=="number"&&(o!==e.processUid||a!==e.processGid),u=e.preserve,l=e.unlink,f=e.cache,h=Fe(e.cwd),d=(w,p)=>{w?r(w):(hn(f,t,!0),p&&c?Ud(p,o,a,y=>d(y)):s?Re.chmod(t,i,r):r())};if(f&&es(f,t)===!0)return d();if(t===h)return t0(t,d);if(u)return qd(t,{mode:i}).then(w=>d(null,w),d);let g=Fe(Xi.relative(h,t)).split("/");ts(h,g,i,f,l,h,null,d)};var ts=(t,e,r,n,i,s,o,a)=>{if(!e.length)return a(null,o);let c=e.shift(),u=Fe(Xi.resolve(t+"/"+c));if(es(n,u))return ts(u,e,r,n,i,s,o,a);Re.mkdir(u,r,Md(u,e,r,n,i,s,o,a))},Md=(t,e,r,n,i,s,o,a)=>c=>{c?Re.lstat(t,(u,l)=>{if(u)u.path=u.path&&Fe(u.path),a(u);else if(l.isDirectory())ts(t,e,r,n,i,s,o,a);else if(i)Re.unlink(t,f=>{if(f)return a(f);Re.mkdir(t,r,Md(t,e,r,n,i,s,o,a))});else{if(l.isSymbolicLink())return a(new Ki(t,t+"/"+e.join("/")));a(c)}}):(o=o||t,ts(t,e,r,n,i,s,o,a))},r0=t=>{let e=!1,r="ENOTDIR";try{e=Re.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new Qi(t,r)}};Wa.exports.sync=(t,e)=>{t=Fe(t);let r=e.umask,n=e.mode|448,i=(n&r)!==0,s=e.uid,o=e.gid,a=typeof s=="number"&&typeof o=="number"&&(s!==e.processUid||o!==e.processGid),c=e.preserve,u=e.unlink,l=e.cache,f=Fe(e.cwd),h=w=>{hn(l,t,!0),w&&a&&Ud.sync(w,s,o),i&&Re.chmodSync(t,n)};if(l&&es(l,t)===!0)return h();if(t===f)return r0(f),h();if(c)return h(qd.sync(t,n));let m=Fe(Xi.relative(f,t)).split("/"),g=null;for(let w=m.shift(),p=f;w&&(p+="/"+w);w=m.shift())if(p=Fe(Xi.resolve(p)),!es(l,p))try{Re.mkdirSync(p,n),g=g||p,hn(l,p,!0)}catch{let S=Re.lstatSync(p);if(S.isDirectory()){hn(l,p,!0);continue}else if(u){Re.unlinkSync(p),Re.mkdirSync(p,n),g=g||p,hn(l,p,!0);continue}else if(S.isSymbolicLink())return new Ki(p,p+"/"+m.join("/"))}return h(g)}});var ja=E((CT,Wd)=>{var Ga=Object.create(null),{hasOwnProperty:n0}=Object.prototype;Wd.exports=t=>(n0.call(Ga,t)||(Ga[t]=t.normalize("NFD")),Ga[t])});var Vd=E((TT,zd)=>{var Gd=require("assert"),i0=ja(),s0=pr(),{join:jd}=require("path"),o0=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,a0=o0==="win32";zd.exports=()=>{let t=new Map,e=new Map,r=u=>u.split("/").slice(0,-1).reduce((f,h)=>(f.length&&(h=jd(f[f.length-1],h)),f.push(h||"/"),f),[]),n=new Set,i=u=>{let l=e.get(u);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(f=>t.get(f)),dirs:[...l.dirs].map(f=>t.get(f))}},s=u=>{let{paths:l,dirs:f}=i(u);return l.every(h=>h[0]===u)&&f.every(h=>h[0]instanceof Set&&h[0].has(u))},o=u=>n.has(u)||!s(u)?!1:(n.add(u),u(()=>a(u)),!0),a=u=>{if(!n.has(u))return!1;let{paths:l,dirs:f}=e.get(u),h=new Set;return l.forEach(d=>{let m=t.get(d);Gd.equal(m[0],u),m.length===1?t.delete(d):(m.shift(),typeof m[0]=="function"?h.add(m[0]):m[0].forEach(g=>h.add(g)))}),f.forEach(d=>{let m=t.get(d);Gd(m[0]instanceof Set),m[0].size===1&&m.length===1?t.delete(d):m[0].size===1?(m.shift(),h.add(m[0])):m[0].delete(u)}),n.delete(u),h.forEach(d=>o(d)),!0};return{check:s,reserve:(u,l)=>{u=a0?["win32 parallelization disabled"]:u.map(h=>s0(jd(i0(h))).toLowerCase());let f=new Set(u.map(h=>r(h)).reduce((h,d)=>h.concat(d)));return e.set(l,{dirs:f,paths:u}),u.forEach(h=>{let d=t.get(h);d?d.push(l):t.set(h,[l])}),f.forEach(h=>{let d=t.get(h);d?d[d.length-1]instanceof Set?d[d.length-1].add(l):d.push(new Set([l])):t.set(h,[new Set([l])])}),o(l)}}}});var Yd=E((NT,Zd)=>{var c0=process.env.__FAKE_PLATFORM__||process.platform,l0=c0==="win32",u0=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:f0,O_TRUNC:d0,O_WRONLY:h0,UV_FS_O_FILEMAP:Jd=0}=u0.constants,p0=l0&&!!Jd,m0=512*1024,g0=Jd|d0|f0|h0;Zd.exports=p0?t=>t<m0?g0:"w":()=>"w"});var ec=E((DT,uh)=>{"use strict";var E0=require("assert"),w0=Vi(),C=require("fs"),y0=_r(),ut=require("path"),ah=Hd(),Xd=Qo(),S0=Vd(),x0=ea(),Pe=fr(),v0=pr(),_0=ja(),Kd=Symbol("onEntry"),Ja=Symbol("checkFs"),Qd=Symbol("checkFs2"),is=Symbol("pruneCache"),Za=Symbol("isReusable"),Ie=Symbol("makeFs"),Ya=Symbol("file"),Xa=Symbol("directory"),ss=Symbol("link"),eh=Symbol("symlink"),th=Symbol("hardlink"),rh=Symbol("unsupported"),nh=Symbol("checkPath"),It=Symbol("mkdir"),ne=Symbol("onError"),rs=Symbol("pending"),ih=Symbol("pend"),Ir=Symbol("unpend"),za=Symbol("ended"),Va=Symbol("maybeClose"),Ka=Symbol("skip"),pn=Symbol("doChown"),mn=Symbol("uid"),gn=Symbol("gid"),En=Symbol("checkedCwd"),ch=require("crypto"),lh=Yd(),b0=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,wn=b0==="win32",L0=1024,R0=(t,e)=>{if(!wn)return C.unlink(t,e);let r=t+".DELETE."+ch.randomBytes(16).toString("hex");C.rename(t,r,n=>{if(n)return e(n);C.unlink(r,e)})},P0=t=>{if(!wn)return C.unlinkSync(t);let e=t+".DELETE."+ch.randomBytes(16).toString("hex");C.renameSync(t,e),C.unlinkSync(e)},sh=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,oh=t=>v0(Pe(_0(t))).toLowerCase(),I0=(t,e)=>{e=oh(e);for(let r of t.keys()){let n=oh(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},C0=t=>{for(let e of t.keys())t.delete(e)},yn=class extends w0{constructor(e){if(e||(e={}),e.ondone=r=>{this[za]=!0,this[Va]()},super(e),this[En]=!1,this.reservations=S0(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[rs]=0,this[za]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:L0,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||wn,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Pe(ut.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[Kd](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Va](){this[za]&&this[rs]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[nh](e){let r=Pe(e.path),n=r.split("/");if(this.strip){if(n.length<this.strip)return!1;if(e.type==="Link"){let i=Pe(e.linkpath).split("/");if(i.length>=this.strip)e.linkpath=i.slice(this.strip).join("/");else return!1}n.splice(0,this.strip),e.path=n.join("/")}if(isFinite(this.maxDepth)&&n.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:e,path:r,depth:n.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(n.includes("..")||wn&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[i,s]=x0(r);i&&(e.path=s,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r}))}if(ut.isAbsolute(e.path)?e.absolute=Pe(ut.resolve(e.path)):e.absolute=Pe(ut.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Pe(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:i}=ut.win32.parse(e.absolute);e.absolute=i+Xd.encode(e.absolute.slice(i.length));let{root:s}=ut.win32.parse(e.path);e.path=s+Xd.encode(e.path.slice(s.length))}return!0}[Kd](e){if(!this[nh](e))return e.resume();switch(E0.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Ja](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[rh](e)}}[ne](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[Ir](),r.resume())}[It](e,r,n){ah(Pe(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[pn](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[mn](e){return sh(this.uid,e.uid,this.processUid)}[gn](e){return sh(this.gid,e.gid,this.processGid)}[Ya](e,r){let n=e.mode&4095||this.fmode,i=new y0.WriteStream(e.absolute,{flags:lh(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&C.close(i.fd,()=>{}),i.write=()=>!0,this[ne](c,e),r()});let s=1,o=c=>{if(c){i.fd&&C.close(i.fd,()=>{}),this[ne](c,e),r();return}--s===0&&C.close(i.fd,u=>{u?this[ne](u,e):this[Ir](),r()})};i.on("finish",c=>{let u=e.absolute,l=i.fd;if(e.mtime&&!this.noMtime){s++;let f=e.atime||new Date,h=e.mtime;C.futimes(l,f,h,d=>d?C.utimes(u,f,h,m=>o(m&&d)):o())}if(this[pn](e)){s++;let f=this[mn](e),h=this[gn](e);C.fchown(l,f,h,d=>d?C.chown(u,f,h,m=>o(m&&d)):o())}o()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[ne](c,e),r()}),e.pipe(a)),a.pipe(i)}[Xa](e,r){let n=e.mode&4095||this.dmode;this[It](e.absolute,n,i=>{if(i){this[ne](i,e),r();return}let s=1,o=a=>{--s===0&&(r(),this[Ir](),e.resume())};e.mtime&&!this.noMtime&&(s++,C.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[pn](e)&&(s++,C.chown(e.absolute,this[mn](e),this[gn](e),o)),o()})}[rh](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[eh](e,r){this[ss](e,e.linkpath,"symlink",r)}[th](e,r){let n=Pe(ut.resolve(this.cwd,e.linkpath));this[ss](e,n,"link",r)}[ih](){this[rs]++}[Ir](){this[rs]--,this[Va]()}[Ka](e){this[Ir](),e.resume()}[Za](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!wn}[Ja](e){this[ih]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[Qd](e,n))}[is](e){e.type==="SymbolicLink"?C0(this.dirCache):e.type!=="Directory"&&I0(this.dirCache,e.absolute)}[Qd](e,r){this[is](e);let n=a=>{this[is](e),r(a)},i=()=>{this[It](this.cwd,this.dmode,a=>{if(a){this[ne](a,e),n();return}this[En]=!0,s()})},s=()=>{if(e.absolute!==this.cwd){let a=Pe(ut.dirname(e.absolute));if(a!==this.cwd)return this[It](a,this.dmode,c=>{if(c){this[ne](c,e),n();return}o()})}o()},o=()=>{C.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[Ka](e),n();return}if(a||this[Za](e,c))return this[Ie](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let u=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,l=f=>this[Ie](f,e,n);return u?C.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return C.rmdir(e.absolute,u=>this[Ie](u,e,n))}if(e.absolute===this.cwd)return this[Ie](null,e,n);R0(e.absolute,u=>this[Ie](u,e,n))})};this[En]?s():i()}[Ie](e,r,n){if(e){this[ne](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[Ya](r,n);case"Link":return this[th](r,n);case"SymbolicLink":return this[eh](r,n);case"Directory":case"GNUDumpDir":return this[Xa](r,n)}}[ss](e,r,n,i){C[n](r,e.absolute,s=>{s?this[ne](s,e):(this[Ir](),e.resume()),i()})}},ns=t=>{try{return[null,t()]}catch(e){return[e,null]}},Qa=class extends yn{[Ie](e,r){return super[Ie](e,r,()=>{})}[Ja](e){if(this[is](e),!this[En]){let s=this[It](this.cwd,this.dmode);if(s)return this[ne](s,e);this[En]=!0}if(e.absolute!==this.cwd){let s=Pe(ut.dirname(e.absolute));if(s!==this.cwd){let o=this[It](s,this.dmode);if(o)return this[ne](o,e)}}let[r,n]=ns(()=>C.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[Ka](e);if(r||this[Za](e,n))return this[Ie](null,e);if(n.isDirectory()){if(e.type==="Directory"){let o=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=o?ns(()=>{C.chmodSync(e.absolute,e.mode)}):[];return this[Ie](a,e)}let[s]=ns(()=>C.rmdirSync(e.absolute));this[Ie](s,e)}let[i]=e.absolute===this.cwd?[]:ns(()=>P0(e.absolute));this[Ie](i,e)}[Ya](e,r){let n=e.mode&4095||this.fmode,i=a=>{let c;try{C.closeSync(s)}catch(u){c=u}(a||c)&&this[ne](a||c,e),r()},s;try{s=C.openSync(e.absolute,lh(e.size),n)}catch(a){return i(a)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",a=>this[ne](a,e)),e.pipe(o)),o.on("data",a=>{try{C.writeSync(s,a,0,a.length)}catch(c){i(c)}}),o.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let u=e.atime||new Date,l=e.mtime;try{C.futimesSync(s,u,l)}catch(f){try{C.utimesSync(e.absolute,u,l)}catch{c=f}}}if(this[pn](e)){let u=this[mn](e),l=this[gn](e);try{C.fchownSync(s,u,l)}catch(f){try{C.chownSync(e.absolute,u,l)}catch{c=c||f}}}i(c)})}[Xa](e,r){let n=e.mode&4095||this.dmode,i=this[It](e.absolute,n);if(i){this[ne](i,e),r();return}if(e.mtime&&!this.noMtime)try{C.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[pn](e))try{C.chownSync(e.absolute,this[mn](e),this[gn](e))}catch{}r(),e.resume()}[It](e,r){try{return ah.sync(Pe(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[ss](e,r,n,i){try{C[n+"Sync"](r,e.absolute),i(),e.resume()}catch(s){return this[ne](s,e)}}};yn.Sync=Qa;uh.exports=yn});var mh=E((OT,ph)=>{"use strict";var T0=or(),os=ec(),dh=require("fs"),hh=_r(),fh=require("path"),tc=pr();ph.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=T0(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&N0(n,e),n.file&&n.sync?D0(n):n.file?O0(n,r):n.sync?k0(n):A0(n)};var N0=(t,e)=>{let r=new Map(e.map(s=>[tc(s),!0])),n=t.filter,i=(s,o)=>{let a=o||fh.parse(s).root||".",c=s===a?!1:r.has(s)?r.get(s):i(fh.dirname(s),a);return r.set(s,c),c};t.filter=n?(s,o)=>n(s,o)&&i(tc(s)):s=>i(tc(s))},D0=t=>{let e=new os.Sync(t),r=t.file,n=dh.statSync(r),i=t.maxReadSize||16*1024*1024;new hh.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},O0=(t,e)=>{let r=new os(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("close",o),dh.stat(i,(c,u)=>{if(c)a(c);else{let l=new hh.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(r)}})});return e?s.then(e,e):s},k0=t=>new os.Sync(t),A0=t=>new os(t)});var rc=E(z=>{"use strict";z.c=z.create=Xf();z.r=z.replace=Fa();z.t=z.list=Ji();z.u=z.update=od();z.x=z.extract=mh();z.Pack=Oi();z.Unpack=ec();z.Parse=Vi();z.ReadEntry=gi();z.WriteEntry=ua();z.Header=hr();z.Pax=wi();z.types=zo()});var nc=E((AT,gh)=>{gh.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var as=E((FT,wh)=>{"use strict";var Eh=nc();wh.exports=function(e,r){if(!e)return function(i,s){return i?Eh(s,i,r):s(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,s){if(i)return Eh(s,i,r);n>=e.length?s(!0):s(null,e[n++])}}});var Sh=E(($T,yh)=>{"use strict";var F0=as();yh.exports=function(t){return F0(Object.keys(t))}});var ic=E((BT,xh)=>{"use strict";var $0=nc();xh.exports=function(e,r){return function(n,i){if(n)return $0(i,n,r);if(e!=null){var s=e;e=null,i(null,s)}else i(!0)}}});var _h=E((qT,vh)=>{"use strict";vh.exports=function(e){var r=0;return e=e||1/0,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var Lh=E((UT,bh)=>{"use strict";bh.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var Ph=E((MT,Rh)=>{"use strict";Rh.exports=function(){return function(e,r){r(!0)}}});var Ch=E((HT,Ih)=>{"use strict";Ih.exports=function(e){return function(r,n){n(e)}}});var Nh=E((WT,Th)=>{"use strict";Th.exports={keys:Sh(),once:ic(),values:as(),count:_h(),infinite:Lh(),empty:Ph(),error:Ch()}});var Cr=E((GT,Dh)=>{"use strict";Dh.exports=function(e,r){var n,i,s;r||(s=new Error("no done callback supplied"));function o(a){if(n=a,i)return o.abort();(function c(){for(var u=!0,l=!1;u;)if(l=!1,n(null,function(f,h){if(l=!0,f=f||i){if(u=!1,r)r(f===!0?null:f);else if(f&&f!==!0)throw console.warn(s),f}else e&&e(h)===!1||i?(u=!1,n(i||!0,r||function(){})):u||c()}),!l){u=!1;return}})()}return o.abort=function(a,c){if(typeof a=="function"&&(c=a,a=!0),i=a||!0,n)return n(i,c||function(){})},o}});var kh=E((jT,Oh)=>{"use strict";var B0=Cr();Oh.exports=function(e){return B0(null,e)}});var Fh=E((zT,Ah)=>{"use strict";var q0=Cr();Ah.exports=function(e){return q0(function(r){console.log(r)},e)}});var Tr=E((VT,$h)=>{$h.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var Uh=E((JT,qh)=>{"use strict";function Bh(t){return t}var U0=Tr(),M0=Cr();qh.exports=function(e,r){var n=!1;return r?e=U0(e)||Bh:(r=e,e=Bh),M0(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var cs=E((ZT,Mh)=>{"use strict";var H0=Cr();Mh.exports=function(e,r,n){n||(n=r,r=null);var i=H0(function(s){r=e(r,s)},function(s){n(s,r)});return arguments.length===2?function(s){s(null,function(o,a){if(o)return n(o===!0?null:o);r=a,i(s)})}:i}});var sc=E((YT,Hh)=>{"use strict";var W0=cs();Hh.exports=function(e){return W0(function(r,n){return r.push(n),r},[],e)}});var Gh=E((XT,Wh)=>{"use strict";var G0=sc();Wh.exports=function(){return e=>{let r,n,i=new Promise((s,o)=>{r=s,n=o});return G0((s,o)=>{s?n(s):r(o)})(e),i}}});var zh=E((KT,jh)=>{"use strict";var j0=cs();jh.exports=function(e){return j0(function(r,n){return r+n},"",e)}});var Jh=E((QT,Vh)=>{"use strict";Vh.exports={drain:Cr(),onEnd:kh(),log:Fh(),find:Uh(),reduce:cs(),collect:sc(),collectAsPromise:Gh(),concat:zh()}});var Yh=E((eN,Zh)=>{"use strict";function z0(t){return t}var V0=Tr();Zh.exports=function(e){return e?(e=V0(e),function(r){return function(n,i){r(n,function(s,o){try{o=s?null:e(o)}catch(a){return r(a,function(){return i(a)})}i(s,o)})}}):z0}});var Kh=E((tN,Xh)=>{"use strict";function J0(t){return t}var Z0=Tr();Xh.exports=function(e){if(!e)return J0;e=Z0(e);var r=!1,n,i;return function(s){return function o(a,c){if(i)return c(i);a?(i=a,r?s(a,function(u){r?n=c:c(a)}):s(a,function(u){c(a)})):s(null,function(u,l){u?c(u):i?c(i):(r=!0,e(l,function(f,h){r=!1,i?(c(i),n&&n(i)):f?o(f,c):c(null,h)}))})}}}});var oc=E((rN,Qh)=>{var Y0=Tr();function X0(t){return t}Qh.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:Y0(e)||X0}});var ls=E((nN,ep)=>{"use strict";var K0=oc();ep.exports=function(e){return e=K0(e),function(r){return function n(i,s){for(var o,a=!0;a;)a=!1,o=!0,r(i,function(c,u){if(!c&&!e(u))return o?a=!0:n(c,s);s(c,u)}),o=!1}}}});var rp=E((iN,tp)=>{"use strict";var Q0=oc(),ev=ls();tp.exports=function(e){return e=Q0(e),ev(function(r){return!e(r)})}});var ip=E((sN,np)=>{"use strict";np.exports=function(e,r){var n=!1;function i(s){n||!r||(n=!0,r(s===!0?null:s))}return function(s){return function(o,a){return o&&i(o),s(o,function(c,u){c?i(c):e&&e(u),a(c,u)})}}}});var op=E((oN,sp)=>{"use strict";sp.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var s=e;e=function(){return--s}}return function(o){function a(c){o(!0,function(u){n=!1,c(u||!0)})}return function(c,u){i&&!c?n?a(u):u(i):(i=c)?o(i,u):o(null,function(l,f){(i=i||l)?u(i):e(f)?u(null,f):(i=!0,n?u(null,f):a(u))})}}}});var ac=E((aN,ap)=>{"use strict";function tv(t){return t}var rv=Tr(),nv=ls();ap.exports=function(e,r){e=rv(e)||tv;var n={};return nv(function(i){var s=e(i);return n[s]?!!r:(n[s]=!0,!r)})}});var lp=E((cN,cp)=>{"use strict";var iv=ac();cp.exports=function(e){return iv(e,!0)}});var fp=E((lN,up)=>{"use strict";var sv=as(),ov=ic();up.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?s():o();function s(){r(null,function(a,c){a?a===!0?o():e(!0,function(u){i(a)}):i(null,c)})}function o(){r=null,e(null,function(a,c){if(a)return i(a);c&&typeof c=="object"?c=sv(c):typeof c!="function"&&(c=ov(c)),r=c,s()})}}}}});var hp=E((uN,dp)=>{"use strict";dp.exports={map:Yh(),asyncMap:Kh(),filter:ls(),filterNot:rp(),through:ip(),take:op(),unique:ac(),nonUnique:lp(),flatten:fp()}});var cc=E((fN,pp)=>{"use strict";pp.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var s=e;s&&typeof s.source=="function"&&(s=s.source);for(var i=1;i<r;i++){var o=arguments[i];typeof o=="function"?s=o(s):o&&typeof o=="object"&&(o.sink(s),s=o.source)}return s}});var Sn=E((Vt,wp)=>{"use strict";var mp=Nh(),gp=Jh(),Ep=hp();Vt=wp.exports=cc();Vt.pull=Vt;for($e in mp)Vt[$e]=mp[$e];var $e;for($e in Ep)Vt[$e]=Ep[$e];var $e;for($e in gp)Vt[$e]=gp[$e];var $e});var xp=E((EN,Sp)=>{var Nr=1e3,Dr=Nr*60,Or=Dr*60,Jt=Or*24,lv=Jt*7,uv=Jt*365.25;Sp.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return fv(t);if(r==="number"&&isFinite(t))return e.long?hv(t):dv(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function fv(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*uv;case"weeks":case"week":case"w":return r*lv;case"days":case"day":case"d":return r*Jt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Or;case"minutes":case"minute":case"mins":case"min":case"m":return r*Dr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Nr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function dv(t){var e=Math.abs(t);return e>=Jt?Math.round(t/Jt)+"d":e>=Or?Math.round(t/Or)+"h":e>=Dr?Math.round(t/Dr)+"m":e>=Nr?Math.round(t/Nr)+"s":t+"ms"}function hv(t){var e=Math.abs(t);return e>=Jt?us(t,e,Jt,"day"):e>=Or?us(t,e,Or,"hour"):e>=Dr?us(t,e,Dr,"minute"):e>=Nr?us(t,e,Nr,"second"):t+" ms"}function us(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var uc=E((wN,vp)=>{function pv(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=xp(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,d,m;function g(...w){if(!g.enabled)return;let p=g,y=Number(new Date),S=y-(f||y);p.diff=S,p.prev=f,p.curr=y,f=y,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let b=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(P,R)=>{if(P==="%%")return"%";b++;let D=r.formatters[R];if(typeof D=="function"){let B=w[b];P=D.call(p,B),w.splice(b,1),b--}return P}),r.formatArgs.call(p,w),(p.log||r.log).apply(p,w)}return g.namespace=l,g.useColors=r.useColors(),g.color=r.selectColor(l),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,m=r.enabled(l)),m),set:w=>{h=w}}),typeof r.init=="function"&&r.init(g),g}function n(l,f){let h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f,h=(typeof l=="string"?l:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){let l=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}vp.exports=pv});var _p=E((we,fs)=>{we.formatArgs=gv;we.save=Ev;we.load=wv;we.useColors=mv;we.storage=yv();we.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();we.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mv(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function gv(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+fs.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}we.log=console.debug||console.log||(()=>{});function Ev(t){try{t?we.storage.setItem("debug",t):we.storage.removeItem("debug")}catch{}}function wv(){let t;try{t=we.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function yv(){try{return localStorage}catch{}}fs.exports=uc()(we);var{formatters:Sv}=fs.exports;Sv.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Lp=E((yN,bp)=>{"use strict";bp.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var Pp=E((SN,Rp)=>{"use strict";var xv=require("os"),qe=Lp(),ie=process.env,kr;qe("no-color")||qe("no-colors")||qe("color=false")?kr=!1:(qe("color")||qe("colors")||qe("color=true")||qe("color=always"))&&(kr=!0);"FORCE_COLOR"in ie&&(kr=ie.FORCE_COLOR.length===0||parseInt(ie.FORCE_COLOR,10)!==0);function vv(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function _v(t){if(kr===!1)return 0;if(qe("color=16m")||qe("color=full")||qe("color=truecolor"))return 3;if(qe("color=256"))return 2;if(t&&!t.isTTY&&kr!==!0)return 0;let e=kr?1:0;if(process.platform==="win32"){let r=xv.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in ie)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in ie)||ie.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in ie)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ie.TEAMCITY_VERSION)?1:0;if(ie.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ie){let r=parseInt((ie.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ie.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ie.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ie.TERM)||"COLORTERM"in ie?1:(ie.TERM==="dumb",e)}function fc(t){let e=_v(t);return vv(e)}Rp.exports={supportsColor:fc,stdout:fc(process.stdout),stderr:fc(process.stderr)}});var Cp=E((Q,hs)=>{var bv=require("tty"),ds=require("util");Q.init=Nv;Q.log=Iv;Q.formatArgs=Rv;Q.save=Cv;Q.load=Tv;Q.useColors=Lv;Q.destroy=ds.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Q.colors=[6,2,3,4,5,1];try{let t=Pp();t&&(t.stderr||t).level>=2&&(Q.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Q.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Lv(){return"colors"in Q.inspectOpts?!!Q.inspectOpts.colors:bv.isatty(process.stderr.fd)}function Rv(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+hs.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Pv()+e+" "+t[0]}function Pv(){return Q.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Iv(...t){return process.stderr.write(ds.format(...t)+`
`)}function Cv(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Tv(){return process.env.DEBUG}function Nv(t){t.inspectOpts={};let e=Object.keys(Q.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Q.inspectOpts[e[r]]}hs.exports=uc()(Q);var{formatters:Ip}=hs.exports;Ip.o=function(t){return this.inspectOpts.colors=this.useColors,ds.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Ip.O=function(t){return this.inspectOpts.colors=this.useColors,ds.inspect(t,this.inspectOpts)}});var ps=E((xN,dc)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?dc.exports=_p():dc.exports=Cp()});var Np=E((vN,Tp)=>{var vn;Tp.exports=function(){if(!vn){try{vn=ps()("follow-redirects")}catch{}typeof vn!="function"&&(vn=function(){})}vn.apply(null,arguments)}});var Fp=E((_N,bc)=>{var Ln=require("url"),_n=Ln.URL,Dv=require("http"),Ov=require("https"),Ec=require("stream").Writable,wc=require("assert"),Dp=Np(),yc=!1;try{wc(new _n)}catch(t){yc=t.code==="ERR_INVALID_URL"}var kv=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Sc=["abort","aborted","connect","error","socket","timeout"],xc=Object.create(null);Sc.forEach(function(t){xc[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var pc=Rn("ERR_INVALID_URL","Invalid URL",TypeError),mc=Rn("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),Av=Rn("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",mc),Fv=Rn("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),$v=Rn("ERR_STREAM_WRITE_AFTER_END","write after end"),Bv=Ec.prototype.destroy||kp;function he(t,e){Ec.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof mc?i:new mc({cause:i}))}},this._performRequest()}he.prototype=Object.create(Ec.prototype);he.prototype.abort=function(){_c(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};he.prototype.destroy=function(t){return _c(this._currentRequest,t),Bv.call(this,t),this};he.prototype.write=function(t,e,r){if(this._ending)throw new $v;if(!Zt(t)&&!Mv(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(bn(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new Fv),this.abort())};he.prototype.end=function(t,e,r){if(bn(t)?(r=t,t=e=null):bn(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};he.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};he.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};he.prototype.setTimeout=function(t,e){var r=this;function n(o){o.setTimeout(t),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function i(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),s()},t),n(o)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),r.removeListener("close",s),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",s),this.on("error",s),this.on("response",s),this.on("close",s),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){he.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(he.prototype,t,{get:function(){return this._currentRequest[t]}})});he.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};he.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of Sc)n.on(i,xc[i]);if(this._currentUrl=/^\//.test(this._options.path)?Ln.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,a=this._requestBodyBuffers;(function c(u){if(n===o._currentRequest)if(u)o.emit("error",u);else if(s<a.length){var l=a[s++];n.finished||n.write(l.data,l.encoding,c)}else o._ended&&n.end()})()}};he.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(_c(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new Av;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var s=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],hc(/^content-/i,this._options.headers));var o=hc(/^host$/i,this._options.headers),a=vc(this._currentUrl),c=o||a.host,u=/^\w+:/.test(r)?this._currentUrl:Ln.format(Object.assign(a,{host:c})),l=qv(r,u);if(Dp("redirecting to",l.href),this._isRedirect=!0,gc(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==c&&!Uv(l.host,c))&&hc(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),bn(i)){var f={headers:t.headers,statusCode:e},h={url:u,method:s,headers:n};i(this._options,f,h),this._sanitizeOptions(this._options)}this._performRequest()};function Op(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",s=r[i]=t[n],o=e[n]=Object.create(s);function a(u,l,f){return Hv(u)?u=gc(u):Zt(u)?u=gc(vc(u)):(f=l,l=Ap(u),u={protocol:i}),bn(l)&&(f=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,!Zt(l.host)&&!Zt(l.hostname)&&(l.hostname="::1"),wc.equal(l.protocol,i,"protocol mismatch"),Dp("options",l),new he(l,f)}function c(u,l,f){var h=o.request(u,l,f);return h.end(),h}Object.defineProperties(o,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function kp(){}function vc(t){var e;if(yc)e=new _n(t);else if(e=Ap(Ln.parse(t)),!Zt(e.protocol))throw new pc({input:t});return e}function qv(t,e){return yc?new _n(t,e):vc(Ln.resolve(e,t))}function Ap(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new pc({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new pc({input:t.href||t});return t}function gc(t,e){var r=e||{};for(var n of kv)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function hc(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Rn(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function _c(t,e){for(var r of Sc)t.removeListener(r,xc[r]);t.on("error",kp),t.destroy(e)}function Uv(t,e){wc(Zt(t)&&Zt(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function Zt(t){return typeof t=="string"||t instanceof String}function bn(t){return typeof t=="function"}function Mv(t){return typeof t=="object"&&"length"in t}function Hv(t){return _n&&t instanceof _n}bc.exports=Op({http:Dv,https:Ov});bc.exports.wrap=Op});var Pn=E((bN,$p)=>{var Wv="2.0.0",Gv=Number.MAX_SAFE_INTEGER||9007199254740991,jv=16,zv=256-6,Vv=["major","premajor","minor","preminor","patch","prepatch","prerelease"];$p.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:jv,MAX_SAFE_BUILD_LENGTH:zv,MAX_SAFE_INTEGER:Gv,RELEASE_TYPES:Vv,SEMVER_SPEC_VERSION:Wv,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var In=E((LN,Bp)=>{var Jv=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Bp.exports=Jv});var Ar=E((ft,qp)=>{var{MAX_SAFE_COMPONENT_LENGTH:Lc,MAX_SAFE_BUILD_LENGTH:Zv,MAX_LENGTH:Yv}=Pn(),Xv=In();ft=qp.exports={};var Kv=ft.re=[],Qv=ft.safeRe=[],x=ft.src=[],v=ft.t={},e_=0,Rc="[a-zA-Z0-9-]",t_=[["\\s",1],["\\d",Yv],[Rc,Zv]],r_=t=>{for(let[e,r]of t_)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},L=(t,e,r)=>{let n=r_(e),i=e_++;Xv(t,i,e),v[t]=i,x[i]=e,Kv[i]=new RegExp(e,r?"g":void 0),Qv[i]=new RegExp(n,r?"g":void 0)};L("NUMERICIDENTIFIER","0|[1-9]\\d*");L("NUMERICIDENTIFIERLOOSE","\\d+");L("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Rc}*`);L("MAINVERSION",`(${x[v.NUMERICIDENTIFIER]})\\.(${x[v.NUMERICIDENTIFIER]})\\.(${x[v.NUMERICIDENTIFIER]})`);L("MAINVERSIONLOOSE",`(${x[v.NUMERICIDENTIFIERLOOSE]})\\.(${x[v.NUMERICIDENTIFIERLOOSE]})\\.(${x[v.NUMERICIDENTIFIERLOOSE]})`);L("PRERELEASEIDENTIFIER",`(?:${x[v.NUMERICIDENTIFIER]}|${x[v.NONNUMERICIDENTIFIER]})`);L("PRERELEASEIDENTIFIERLOOSE",`(?:${x[v.NUMERICIDENTIFIERLOOSE]}|${x[v.NONNUMERICIDENTIFIER]})`);L("PRERELEASE",`(?:-(${x[v.PRERELEASEIDENTIFIER]}(?:\\.${x[v.PRERELEASEIDENTIFIER]})*))`);L("PRERELEASELOOSE",`(?:-?(${x[v.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${x[v.PRERELEASEIDENTIFIERLOOSE]})*))`);L("BUILDIDENTIFIER",`${Rc}+`);L("BUILD",`(?:\\+(${x[v.BUILDIDENTIFIER]}(?:\\.${x[v.BUILDIDENTIFIER]})*))`);L("FULLPLAIN",`v?${x[v.MAINVERSION]}${x[v.PRERELEASE]}?${x[v.BUILD]}?`);L("FULL",`^${x[v.FULLPLAIN]}$`);L("LOOSEPLAIN",`[v=\\s]*${x[v.MAINVERSIONLOOSE]}${x[v.PRERELEASELOOSE]}?${x[v.BUILD]}?`);L("LOOSE",`^${x[v.LOOSEPLAIN]}$`);L("GTLT","((?:<|>)?=?)");L("XRANGEIDENTIFIERLOOSE",`${x[v.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);L("XRANGEIDENTIFIER",`${x[v.NUMERICIDENTIFIER]}|x|X|\\*`);L("XRANGEPLAIN",`[v=\\s]*(${x[v.XRANGEIDENTIFIER]})(?:\\.(${x[v.XRANGEIDENTIFIER]})(?:\\.(${x[v.XRANGEIDENTIFIER]})(?:${x[v.PRERELEASE]})?${x[v.BUILD]}?)?)?`);L("XRANGEPLAINLOOSE",`[v=\\s]*(${x[v.XRANGEIDENTIFIERLOOSE]})(?:\\.(${x[v.XRANGEIDENTIFIERLOOSE]})(?:\\.(${x[v.XRANGEIDENTIFIERLOOSE]})(?:${x[v.PRERELEASELOOSE]})?${x[v.BUILD]}?)?)?`);L("XRANGE",`^${x[v.GTLT]}\\s*${x[v.XRANGEPLAIN]}$`);L("XRANGELOOSE",`^${x[v.GTLT]}\\s*${x[v.XRANGEPLAINLOOSE]}$`);L("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Lc}})(?:\\.(\\d{1,${Lc}}))?(?:\\.(\\d{1,${Lc}}))?`);L("COERCE",`${x[v.COERCEPLAIN]}(?:$|[^\\d])`);L("COERCEFULL",x[v.COERCEPLAIN]+`(?:${x[v.PRERELEASE]})?(?:${x[v.BUILD]})?(?:$|[^\\d])`);L("COERCERTL",x[v.COERCE],!0);L("COERCERTLFULL",x[v.COERCEFULL],!0);L("LONETILDE","(?:~>?)");L("TILDETRIM",`(\\s*)${x[v.LONETILDE]}\\s+`,!0);ft.tildeTrimReplace="$1~";L("TILDE",`^${x[v.LONETILDE]}${x[v.XRANGEPLAIN]}$`);L("TILDELOOSE",`^${x[v.LONETILDE]}${x[v.XRANGEPLAINLOOSE]}$`);L("LONECARET","(?:\\^)");L("CARETTRIM",`(\\s*)${x[v.LONECARET]}\\s+`,!0);ft.caretTrimReplace="$1^";L("CARET",`^${x[v.LONECARET]}${x[v.XRANGEPLAIN]}$`);L("CARETLOOSE",`^${x[v.LONECARET]}${x[v.XRANGEPLAINLOOSE]}$`);L("COMPARATORLOOSE",`^${x[v.GTLT]}\\s*(${x[v.LOOSEPLAIN]})$|^$`);L("COMPARATOR",`^${x[v.GTLT]}\\s*(${x[v.FULLPLAIN]})$|^$`);L("COMPARATORTRIM",`(\\s*)${x[v.GTLT]}\\s*(${x[v.LOOSEPLAIN]}|${x[v.XRANGEPLAIN]})`,!0);ft.comparatorTrimReplace="$1$2$3";L("HYPHENRANGE",`^\\s*(${x[v.XRANGEPLAIN]})\\s+-\\s+(${x[v.XRANGEPLAIN]})\\s*$`);L("HYPHENRANGELOOSE",`^\\s*(${x[v.XRANGEPLAINLOOSE]})\\s+-\\s+(${x[v.XRANGEPLAINLOOSE]})\\s*$`);L("STAR","(<|>)?=?\\s*\\*");L("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");L("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ms=E((RN,Up)=>{var n_=Object.freeze({loose:!0}),i_=Object.freeze({}),s_=t=>t?typeof t!="object"?n_:t:i_;Up.exports=s_});var Pc=E((PN,Wp)=>{var Mp=/^[0-9]+$/,Hp=(t,e)=>{let r=Mp.test(t),n=Mp.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},o_=(t,e)=>Hp(e,t);Wp.exports={compareIdentifiers:Hp,rcompareIdentifiers:o_}});var se=E((IN,Vp)=>{var gs=In(),{MAX_LENGTH:Gp,MAX_SAFE_INTEGER:Es}=Pn(),{safeRe:jp,t:zp}=Ar(),a_=ms(),{compareIdentifiers:Fr}=Pc(),Ic=class t{constructor(e,r){if(r=a_(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Gp)throw new TypeError(`version is longer than ${Gp} characters`);gs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?jp[zp.LOOSE]:jp[zp.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Es||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Es||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Es||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Es)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(gs("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Fr(this.major,e.major)||Fr(this.minor,e.minor)||Fr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(gs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Fr(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(gs("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Fr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Fr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Vp.exports=Ic});var Yt=E((CN,Zp)=>{var Jp=se(),c_=(t,e,r=!1)=>{if(t instanceof Jp)return t;try{return new Jp(t,e)}catch(n){if(!r)return null;throw n}};Zp.exports=c_});var Xp=E((TN,Yp)=>{var l_=Yt(),u_=(t,e)=>{let r=l_(t,e);return r?r.version:null};Yp.exports=u_});var Qp=E((NN,Kp)=>{var f_=Yt(),d_=(t,e)=>{let r=f_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Kp.exports=d_});var rm=E((DN,tm)=>{var em=se(),h_=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new em(t instanceof em?t.version:t,r).inc(e,n,i).version}catch{return null}};tm.exports=h_});var sm=E((ON,im)=>{var nm=Yt(),p_=(t,e)=>{let r=nm(t,null,!0),n=nm(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};im.exports=p_});var am=E((kN,om)=>{var m_=se(),g_=(t,e)=>new m_(t,e).major;om.exports=g_});var lm=E((AN,cm)=>{var E_=se(),w_=(t,e)=>new E_(t,e).minor;cm.exports=w_});var fm=E((FN,um)=>{var y_=se(),S_=(t,e)=>new y_(t,e).patch;um.exports=S_});var hm=E(($N,dm)=>{var x_=Yt(),v_=(t,e)=>{let r=x_(t,e);return r&&r.prerelease.length?r.prerelease:null};dm.exports=v_});var Ce=E((BN,mm)=>{var pm=se(),__=(t,e,r)=>new pm(t,r).compare(new pm(e,r));mm.exports=__});var Em=E((qN,gm)=>{var b_=Ce(),L_=(t,e,r)=>b_(e,t,r);gm.exports=L_});var ym=E((UN,wm)=>{var R_=Ce(),P_=(t,e)=>R_(t,e,!0);wm.exports=P_});var ws=E((MN,xm)=>{var Sm=se(),I_=(t,e,r)=>{let n=new Sm(t,r),i=new Sm(e,r);return n.compare(i)||n.compareBuild(i)};xm.exports=I_});var _m=E((HN,vm)=>{var C_=ws(),T_=(t,e)=>t.sort((r,n)=>C_(r,n,e));vm.exports=T_});var Lm=E((WN,bm)=>{var N_=ws(),D_=(t,e)=>t.sort((r,n)=>N_(n,r,e));bm.exports=D_});var Cn=E((GN,Rm)=>{var O_=Ce(),k_=(t,e,r)=>O_(t,e,r)>0;Rm.exports=k_});var ys=E((jN,Pm)=>{var A_=Ce(),F_=(t,e,r)=>A_(t,e,r)<0;Pm.exports=F_});var Cc=E((zN,Im)=>{var $_=Ce(),B_=(t,e,r)=>$_(t,e,r)===0;Im.exports=B_});var Tc=E((VN,Cm)=>{var q_=Ce(),U_=(t,e,r)=>q_(t,e,r)!==0;Cm.exports=U_});var Ss=E((JN,Tm)=>{var M_=Ce(),H_=(t,e,r)=>M_(t,e,r)>=0;Tm.exports=H_});var xs=E((ZN,Nm)=>{var W_=Ce(),G_=(t,e,r)=>W_(t,e,r)<=0;Nm.exports=G_});var Nc=E((YN,Dm)=>{var j_=Cc(),z_=Tc(),V_=Cn(),J_=Ss(),Z_=ys(),Y_=xs(),X_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return j_(t,r,n);case"!=":return z_(t,r,n);case">":return V_(t,r,n);case">=":return J_(t,r,n);case"<":return Z_(t,r,n);case"<=":return Y_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Dm.exports=X_});var km=E((XN,Om)=>{var K_=se(),Q_=Yt(),{safeRe:vs,t:_s}=Ar(),eb=(t,e)=>{if(t instanceof K_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?vs[_s.COERCEFULL]:vs[_s.COERCE]);else{let c=e.includePrerelease?vs[_s.COERCERTLFULL]:vs[_s.COERCERTL],u;for(;(u=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return Q_(`${n}.${i}.${s}${o}${a}`,e)};Om.exports=eb});var Fm=E((KN,Am)=>{var Dc=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};Am.exports=Dc});var Te=E((QN,Um)=>{var tb=/\s+/g,Oc=class t{constructor(e,r){if(r=nb(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof kc)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(tb," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Bm(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&fb(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&lb)|(this.options.loose&&ub))+":"+e,i=$m.get(n);if(i)return i;let s=this.options.loose,o=s?pe[ae.HYPHENRANGELOOSE]:pe[ae.HYPHENRANGE];e=e.replace(o,xb(this.options.includePrerelease)),F("hyphen replace",e),e=e.replace(pe[ae.COMPARATORTRIM],sb),F("comparator trim",e),e=e.replace(pe[ae.TILDETRIM],ob),F("tilde trim",e),e=e.replace(pe[ae.CARETTRIM],ab),F("caret trim",e);let a=e.split(" ").map(f=>db(f,this.options)).join(" ").split(/\s+/).map(f=>Sb(f,this.options));s&&(a=a.filter(f=>(F("loose invalid filter",f,this.options),!!f.match(pe[ae.COMPARATORLOOSE])))),F("range list",a);let c=new Map,u=a.map(f=>new kc(f,this.options));for(let f of u){if(Bm(f))return[f];c.set(f.value,f)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return $m.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>qm(n,r)&&e.set.some(i=>qm(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ib(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(vb(this.set[r],e,this.options))return!0;return!1}};Um.exports=Oc;var rb=Fm(),$m=new rb,nb=ms(),kc=Tn(),F=In(),ib=se(),{safeRe:pe,t:ae,comparatorTrimReplace:sb,tildeTrimReplace:ob,caretTrimReplace:ab}=Ar(),{FLAG_INCLUDE_PRERELEASE:lb,FLAG_LOOSE:ub}=Pn(),Bm=t=>t.value==="<0.0.0-0",fb=t=>t.value==="",qm=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},db=(t,e)=>(F("comp",t,e),t=mb(t,e),F("caret",t),t=hb(t,e),F("tildes",t),t=Eb(t,e),F("xrange",t),t=yb(t,e),F("stars",t),t),ce=t=>!t||t.toLowerCase()==="x"||t==="*",hb=(t,e)=>t.trim().split(/\s+/).map(r=>pb(r,e)).join(" "),pb=(t,e)=>{let r=e.loose?pe[ae.TILDELOOSE]:pe[ae.TILDE];return t.replace(r,(n,i,s,o,a)=>{F("tilde",t,n,i,s,o,a);let c;return ce(i)?c="":ce(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:ce(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(F("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,F("tilde return",c),c})},mb=(t,e)=>t.trim().split(/\s+/).map(r=>gb(r,e)).join(" "),gb=(t,e)=>{F("caret",t,e);let r=e.loose?pe[ae.CARETLOOSE]:pe[ae.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,c)=>{F("caret",t,i,s,o,a,c);let u;return ce(s)?u="":ce(o)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:ce(a)?s==="0"?u=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:c?(F("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(F("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),F("caret return",u),u})},Eb=(t,e)=>(F("replaceXRanges",t,e),t.split(/\s+/).map(r=>wb(r,e)).join(" ")),wb=(t,e)=>{t=t.trim();let r=e.loose?pe[ae.XRANGELOOSE]:pe[ae.XRANGE];return t.replace(r,(n,i,s,o,a,c)=>{F("xRange",t,n,i,s,o,a,c);let u=ce(s),l=u||ce(o),f=l||ce(a),h=f;return i==="="&&h&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(c="-0"),n=`${i+s}.${o}.${a}${c}`):l?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),F("xRange return",n),n})},yb=(t,e)=>(F("replaceStars",t,e),t.trim().replace(pe[ae.STAR],"")),Sb=(t,e)=>(F("replaceGTE0",t,e),t.trim().replace(pe[e.includePrerelease?ae.GTE0PRE:ae.GTE0],"")),xb=t=>(e,r,n,i,s,o,a,c,u,l,f,h)=>(ce(n)?r="":ce(i)?r=`>=${n}.0.0${t?"-0":""}`:ce(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,ce(u)?c="":ce(l)?c=`<${+u+1}.0.0-0`:ce(f)?c=`<${u}.${+l+1}.0-0`:h?c=`<=${u}.${l}.${f}-${h}`:t?c=`<${u}.${l}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),vb=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(F(t[n].semver),t[n].semver!==kc.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Tn=E((eD,zm)=>{var Nn=Symbol("SemVer ANY"),$c=class t{static get ANY(){return Nn}constructor(e,r){if(r=Mm(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Fc("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Nn?this.value="":this.value=this.operator+this.semver.version,Fc("comp",this)}parse(e){let r=this.options.loose?Hm[Wm.COMPARATORLOOSE]:Hm[Wm.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Gm(n[2],this.options.loose):this.semver=Nn}toString(){return this.value}test(e){if(Fc("Comparator.test",e,this.options.loose),this.semver===Nn||e===Nn)return!0;if(typeof e=="string")try{e=new Gm(e,this.options)}catch{return!1}return Ac(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new jm(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new jm(this.value,r).test(e.semver):(r=Mm(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Ac(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Ac(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};zm.exports=$c;var Mm=ms(),{safeRe:Hm,t:Wm}=Ar(),Ac=Nc(),Fc=In(),Gm=se(),jm=Te()});var Dn=E((tD,Vm)=>{var _b=Te(),bb=(t,e,r)=>{try{e=new _b(e,r)}catch{return!1}return e.test(t)};Vm.exports=bb});var Zm=E((rD,Jm)=>{var Lb=Te(),Rb=(t,e)=>new Lb(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Jm.exports=Rb});var Xm=E((nD,Ym)=>{var Pb=se(),Ib=Te(),Cb=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Ib(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Pb(n,r))}),n};Ym.exports=Cb});var Qm=E((iD,Km)=>{var Tb=se(),Nb=Te(),Db=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Nb(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Tb(n,r))}),n};Km.exports=Db});var rg=E((sD,tg)=>{var Bc=se(),Ob=Te(),eg=Cn(),kb=(t,e)=>{t=new Ob(t,e);let r=new Bc("0.0.0");if(t.test(r)||(r=new Bc("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new Bc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||eg(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||eg(r,s))&&(r=s)}return r&&t.test(r)?r:null};tg.exports=kb});var ig=E((oD,ng)=>{var Ab=Te(),Fb=(t,e)=>{try{return new Ab(t,e).range||"*"}catch{return null}};ng.exports=Fb});var bs=E((aD,cg)=>{var $b=se(),ag=Tn(),{ANY:Bb}=ag,qb=Te(),Ub=Dn(),sg=Cn(),og=ys(),Mb=xs(),Hb=Ss(),Wb=(t,e,r,n)=>{t=new $b(t,n),e=new qb(e,n);let i,s,o,a,c;switch(r){case">":i=sg,s=Mb,o=og,a=">",c=">=";break;case"<":i=og,s=Hb,o=sg,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ub(t,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],f=null,h=null;if(l.forEach(d=>{d.semver===Bb&&(d=new ag(">=0.0.0")),f=f||d,h=h||d,i(d.semver,f.semver,n)?f=d:o(d.semver,h.semver,n)&&(h=d)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0};cg.exports=Wb});var ug=E((cD,lg)=>{var Gb=bs(),jb=(t,e,r)=>Gb(t,e,">",r);lg.exports=jb});var dg=E((lD,fg)=>{var zb=bs(),Vb=(t,e,r)=>zb(t,e,"<",r);fg.exports=Vb});var mg=E((uD,pg)=>{var hg=Te(),Jb=(t,e,r)=>(t=new hg(t,r),e=new hg(e,r),t.intersects(e,r));pg.exports=Jb});var Eg=E((fD,gg)=>{var Zb=Dn(),Yb=Ce();gg.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((l,f)=>Yb(l,f,r));for(let l of o)Zb(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var _g=E((dD,vg)=>{var wg=Te(),Uc=Tn(),{ANY:qc}=Uc,On=Dn(),Mc=Ce(),Xb=(t,e,r={})=>{if(t===e)return!0;t=new wg(t,r),e=new wg(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=Qb(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Kb=[new Uc(">=0.0.0-0")],yg=[new Uc(">=0.0.0")],Qb=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qc){if(e.length===1&&e[0].semver===qc)return!0;r.includePrerelease?t=Kb:t=yg}if(e.length===1&&e[0].semver===qc){if(r.includePrerelease)return!0;e=yg}let n=new Set,i,s;for(let d of t)d.operator===">"||d.operator===">="?i=Sg(i,d,r):d.operator==="<"||d.operator==="<="?s=xg(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Mc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let d of n){if(i&&!On(d,String(i),r)||s&&!On(d,String(s),r))return null;for(let m of e)if(!On(d,String(m),r))return!1;return!0}let a,c,u,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let d of e){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(a=Sg(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!On(i.semver,String(d),r))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(c=xg(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!On(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||h||f)},Sg=(t,e,r)=>{if(!t)return e;let n=Mc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},xg=(t,e,r)=>{if(!t)return e;let n=Mc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};vg.exports=Xb});var Pg=E((hD,Rg)=>{var Hc=Ar(),bg=Pn(),eL=se(),Lg=Pc(),tL=Yt(),rL=Xp(),nL=Qp(),iL=rm(),sL=sm(),oL=am(),aL=lm(),cL=fm(),lL=hm(),uL=Ce(),fL=Em(),dL=ym(),hL=ws(),pL=_m(),mL=Lm(),gL=Cn(),EL=ys(),wL=Cc(),yL=Tc(),SL=Ss(),xL=xs(),vL=Nc(),_L=km(),bL=Tn(),LL=Te(),RL=Dn(),PL=Zm(),IL=Xm(),CL=Qm(),TL=rg(),NL=ig(),DL=bs(),OL=ug(),kL=dg(),AL=mg(),FL=Eg(),$L=_g();Rg.exports={parse:tL,valid:rL,clean:nL,inc:iL,diff:sL,major:oL,minor:aL,patch:cL,prerelease:lL,compare:uL,rcompare:fL,compareLoose:dL,compareBuild:hL,sort:pL,rsort:mL,gt:gL,lt:EL,eq:wL,neq:yL,gte:SL,lte:xL,cmp:vL,coerce:_L,Comparator:bL,Range:LL,satisfies:RL,toComparators:PL,maxSatisfying:IL,minSatisfying:CL,minVersion:TL,validRange:NL,outside:DL,gtr:OL,ltr:kL,intersects:AL,simplifyRange:FL,subset:$L,SemVer:eL,re:Hc.re,src:Hc.src,tokens:Hc.t,SEMVER_SPEC_VERSION:bg.SEMVER_SPEC_VERSION,RELEASE_TYPES:bg.RELEASE_TYPES,compareIdentifiers:Lg.compareIdentifiers,rcompareIdentifiers:Lg.rcompareIdentifiers}});var Wc=E(Ig=>{Ig.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let t=require("original-fs");if(Object.keys(t).length>0)return t}catch{}return require("fs")}});var Gc=E((mD,Cg)=>{Cg.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var jc=E((gD,Tg)=>{Tg.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var kg=E((ED,Og)=>{var BL=Wc().require(),le=require("path"),Ng=Gc(),qL=jc(),UL=typeof process=="object"&&process.platform==="win32",Dg=t=>t&&typeof t=="object",zc=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e>>>=1;return e>>>0});function ee(t){this.sep=le.sep,this.fs=BL,Dg(t)&&Dg(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}Og.exports=ee;ee.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw qL.FILE_IN_THE_WAY.replace("%s",i)}})}r(t)};ee.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=le.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};ee.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,c){if(o&&c.isDirectory())return i(!1);var u=le.dirname(t);s.fs.exists(u,function(l){l||s.makeDir(u),s.fs.open(t,"w",438,function(f,h){f?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(d,m){s.fs.write(m,e,0,e.length,0,function(){s.fs.close(m,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):h?s.fs.write(h,e,0,e.length,0,function(){s.fs.close(h,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};ee.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){var c=le.join(n,a);e.fs.statSync(c).isDirectory()&&s&&(o=o.concat(r(c,i,s))),(!i||i.test(c))&&o.push(le.normalize(c)+(e.fs.statSync(c).isDirectory()?e.sep:""))}),o}return r(t,void 0,!0)};ee.prototype.getAttributes=function(){};ee.prototype.setAttributes=function(){};ee.crc32update=function(t,e){return zc[(t^e)&255]^t>>>8};ee.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8")),zc.length||genCRCTable();let e=t.length,r=-1;for(let n=0;n<e;)r=ee.crc32update(r,t[n++]);return~r>>>0};ee.methodToString=function(t){switch(t){case Ng.STORED:return"STORED ("+t+")";case Ng.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};ee.canonical=function(t){if(!t)return"";var e=le.posix.normalize("/"+t.split("\\").join("/"));return le.join(".",e)};ee.sanitize=function(t,e){t=le.resolve(le.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=le.normalize(le.join(t,r.slice(n,i).join(le.sep)));if(s.indexOf(t)===0)return s}return le.normalize(le.join(t,le.basename(e)))};ee.toBuffer=function(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?Buffer.from(e,"utf8"):Buffer.alloc(0)};ee.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};ee.isWin=UL;ee.crcTable=zc});var $g=E((wD,Fg)=>{var Ls=Wc().require(),Ag=require("path");Ls.existsSync=Ls.existsSync||Ag.existsSync;Fg.exports=function(t){var e=t||"",r=i(),n=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return e&&Ls.existsSync(e)?(n=Ls.statSync(e),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=(73&n.mode)!==0,r.readonly=(128&n.mode)===0,r.hidden=Ag.basename(e)[0]==="."):console.warn("Invalid path: "+e),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:e,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var $r=E((yD,kn)=>{kn.exports=kg();kn.exports.Constants=Gc();kn.exports.Errors=jc();kn.exports.FileAttr=$g()});var qg=E((SD,Bg)=>{var An=$r(),_=An.Constants;Bg.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,c=0,u=0,l=0,f=0,h=0,d=0,m=0;t|=An.isWin?2560:768,r|=_.FLG_EFS;var g={};function w(p){p=new Date(p),i=(p.getFullYear()-1980&127)<<25|p.getMonth()+1<<21|p.getDate()<<16|p.getHours()<<11|p.getMinutes()<<5|p.getSeconds()>>1}return w(+new Date),{get made(){return t},set made(p){t=p},get version(){return e},set version(p){e=p},get flags(){return r},set flags(p){r=p},get method(){return n},set method(p){switch(p){case _.STORED:this.version=10;case _.DEFLATED:default:this.version=20}n=p},get time(){return new Date((i>>25&127)+1980,(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(i&31)<<1)},set time(p){w(p)},get crc(){return s},set crc(p){s=Math.max(0,p)>>>0},get compressedSize(){return o},set compressedSize(p){o=Math.max(0,p)>>>0},get size(){return a},set size(p){a=Math.max(0,p)>>>0},get fileNameLength(){return c},set fileNameLength(p){c=p},get extraLength(){return u},set extraLength(p){u=p},get commentLength(){return l},set commentLength(p){l=p},get diskNumStart(){return f},set diskNumStart(p){f=Math.max(0,p)>>>0},get inAttr(){return h},set inAttr(p){h=Math.max(0,p)>>>0},get attr(){return d},set attr(p){d=Math.max(0,p)>>>0},get fileAttr(){return d?(d>>>0|0)>>16&4095:0},get offset(){return m},set offset(p){m=Math.max(0,p)>>>0},get encripted(){return(r&1)===1},get entryHeaderSize(){return _.CENHDR+c+u+l},get realDataOffset(){return m+_.LOCHDR+g.fnameLen+g.extraLen},get dataHeader(){return g},loadDataHeaderFromBinary:function(p){var y=p.slice(m,m+_.LOCHDR);if(y.readUInt32LE(0)!==_.LOCSIG)throw new Error(An.Errors.INVALID_LOC);g={version:y.readUInt16LE(_.LOCVER),flags:y.readUInt16LE(_.LOCFLG),method:y.readUInt16LE(_.LOCHOW),time:y.readUInt32LE(_.LOCTIM),crc:y.readUInt32LE(_.LOCCRC),compressedSize:y.readUInt32LE(_.LOCSIZ),size:y.readUInt32LE(_.LOCLEN),fnameLen:y.readUInt16LE(_.LOCNAM),extraLen:y.readUInt16LE(_.LOCEXT)}},loadFromBinary:function(p){if(p.length!==_.CENHDR||p.readUInt32LE(0)!==_.CENSIG)throw new Error(An.Errors.INVALID_CEN);t=p.readUInt16LE(_.CENVEM),e=p.readUInt16LE(_.CENVER),r=p.readUInt16LE(_.CENFLG),n=p.readUInt16LE(_.CENHOW),i=p.readUInt32LE(_.CENTIM),s=p.readUInt32LE(_.CENCRC),o=p.readUInt32LE(_.CENSIZ),a=p.readUInt32LE(_.CENLEN),c=p.readUInt16LE(_.CENNAM),u=p.readUInt16LE(_.CENEXT),l=p.readUInt16LE(_.CENCOM),f=p.readUInt16LE(_.CENDSK),h=p.readUInt16LE(_.CENATT),d=p.readUInt32LE(_.CENATX),m=p.readUInt32LE(_.CENOFF)},dataHeaderToBinary:function(){var p=Buffer.alloc(_.LOCHDR);return p.writeUInt32LE(_.LOCSIG,0),p.writeUInt16LE(e,_.LOCVER),p.writeUInt16LE(r,_.LOCFLG),p.writeUInt16LE(n,_.LOCHOW),p.writeUInt32LE(i,_.LOCTIM),p.writeUInt32LE(s,_.LOCCRC),p.writeUInt32LE(o,_.LOCSIZ),p.writeUInt32LE(a,_.LOCLEN),p.writeUInt16LE(c,_.LOCNAM),p.writeUInt16LE(u,_.LOCEXT),p},entryHeaderToBinary:function(){var p=Buffer.alloc(_.CENHDR+c+u+l);return p.writeUInt32LE(_.CENSIG,0),p.writeUInt16LE(t,_.CENVEM),p.writeUInt16LE(e,_.CENVER),p.writeUInt16LE(r,_.CENFLG),p.writeUInt16LE(n,_.CENHOW),p.writeUInt32LE(i,_.CENTIM),p.writeUInt32LE(s,_.CENCRC),p.writeUInt32LE(o,_.CENSIZ),p.writeUInt32LE(a,_.CENLEN),p.writeUInt16LE(c,_.CENNAM),p.writeUInt16LE(u,_.CENEXT),p.writeUInt16LE(l,_.CENCOM),p.writeUInt16LE(f,_.CENDSK),p.writeUInt16LE(h,_.CENATT),p.writeUInt32LE(d,_.CENATX),p.writeUInt32LE(m,_.CENOFF),p.fill(0,_.CENHDR),p},toJSON:function(){let p=function(y){return y+" bytes"};return{made:t,version:e,flags:r,method:An.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:p(o),size:p(a),fileNameLength:p(c),extraLength:p(u),commentLength:p(l),diskNumStart:f,inAttr:h,attr:d,offset:m,entryHeaderSize:p(_.CENHDR+c+u+l)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Mg=E((xD,Ug)=>{var Br=$r(),$=Br.Constants;Ug.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return $.ENDHDR+i},loadFromBinary:function(s){if((s.length!==$.ENDHDR||s.readUInt32LE(0)!==$.ENDSIG)&&(s.length<$.ZIP64HDR||s.readUInt32LE(0)!==$.ZIP64SIG))throw new Error(Br.Errors.INVALID_END);s.readUInt32LE(0)===$.ENDSIG?(t=s.readUInt16LE($.ENDSUB),e=s.readUInt16LE($.ENDTOT),r=s.readUInt32LE($.ENDSIZ),n=s.readUInt32LE($.ENDOFF),i=s.readUInt16LE($.ENDCOM)):(t=Br.readBigUInt64LE(s,$.ZIP64SUB),e=Br.readBigUInt64LE(s,$.ZIP64TOT),r=Br.readBigUInt64LE(s,$.ZIP64SIZE),n=Br.readBigUInt64LE(s,$.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc($.ENDHDR+i);return s.writeUInt32LE($.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,$.ENDSUB),s.writeUInt16LE(e,$.ENDTOT),s.writeUInt32LE(r,$.ENDSIZ),s.writeUInt32LE(n,$.ENDOFF),s.writeUInt16LE(i,$.ENDCOM),s.fill(" ",$.ENDHDR),s},toJSON:function(){let s=function(o,a){let c=o.toString(16).toUpperCase();for(;c.length<a;)c="0"+c;return"0x"+c};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Jc=E(Vc=>{Vc.EntryHeader=qg();Vc.MainHeader=Mg()});var Wg=E((_D,Hg)=>{Hg.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),c=0;a.fill(0);for(var u=0;u<s.length;u++){var l=s[u];l.copy(a,c),c+=l.length}n&&n(a)}),i.end(t)}}}});var jg=E((bD,Gg)=>{Gg.exports=function(t){var e=require("zlib");return{inflate:function(){return e.inflateRawSync(t)},inflateAsync:function(r){var n=e.createInflateRaw(),i=[],s=0;n.on("data",function(o){i.push(o),s+=o.length}),n.on("end",function(){var o=Buffer.alloc(s),a=0;o.fill(0);for(var c=0;c<i.length;c++){var u=i[c];u.copy(o,a),a+=u.length}r&&r(o)}),n.end(t)}}}});var Yg=E((LD,Zg)=>{"use strict";var{randomFillSync:zg}=require("crypto"),ML=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)e&1?e=e>>>1^3988292384:e>>>=1;return e>>>0}),Jg=(t,e)=>Math.imul(t,e)>>>0,Vg=(t,e)=>ML[(t^e)&255]^t>>>8,Fn=()=>typeof zg=="function"?zg(Buffer.alloc(12)):Fn.node();Fn.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var Rs={genSalt:Fn};function Ps(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}Ps.prototype.updateKeys=function(t){let e=this.keys;return e[0]=Vg(e[0],t),e[1]+=e[0]&255,e[1]=Jg(e[1],134775813)+1,e[2]=Vg(e[2],e[1]>>>24),t};Ps.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return Jg(t,t^1)>>8&255};function HL(t){let e=new Ps(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function WL(t){let e=new Ps(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function GL(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=HL(r);if(n(t.slice(0,12))[11]!==e.crc>>>24)throw"ADM-ZIP: Wrong Password";return n(t.slice(12))}function jL(t){Buffer.isBuffer(t)&&t.length>=12?Rs.genSalt=function(){return t.slice(0,12)}:t==="node"?Rs.genSalt=Fn.node:Rs.genSalt=Fn}function zL(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=WL(r),s=Rs.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}Zg.exports={decrypt:GL,encrypt:zL,_salter:jL}});var Xg=E(Is=>{Is.Deflater=Wg();Is.Inflater=jg();Is.ZipCrypto=Yg()});var Yc=E((PD,Kg)=>{var H=$r(),VL=Jc(),ye=H.Constants,Zc=Xg();Kg.exports=function(t){var e=new VL.EntryHeader,r=Buffer.alloc(0),n=Buffer.alloc(0),i=!1,s=null,o=Buffer.alloc(0);function a(){return!t||!Buffer.isBuffer(t)?Buffer.alloc(0):(e.loadDataHeaderFromBinary(t),t.slice(e.realDataOffset,e.realDataOffset+e.compressedSize))}function c(m){return!((e.flags&8)!==8&&H.crc32(m)!==e.dataHeader.crc)}function u(m,g,w){if(typeof g>"u"&&typeof m=="string"&&(w=m,m=void 0),i)return m&&g&&g(Buffer.alloc(0),H.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var p=a();if(p.length===0)return m&&g&&g(p),p;if(e.encripted){if(typeof w!="string"&&!Buffer.isBuffer(w))throw new Error("ADM-ZIP: Incompatible password parameter");p=Zc.ZipCrypto.decrypt(p,e,w)}var y=Buffer.alloc(e.size);switch(e.method){case H.Constants.STORED:if(p.copy(y),c(y))return m&&g&&g(y),y;throw m&&g&&g(y,H.Errors.BAD_CRC),new Error(H.Errors.BAD_CRC);case H.Constants.DEFLATED:var S=new Zc.Inflater(p);if(m)S.inflateAsync(function(b){b.copy(b,0),g&&(c(b)?g(b):g(b,H.Errors.BAD_CRC))});else{if(S.inflate(y).copy(y,0),!c(y))throw new Error(H.Errors.BAD_CRC+" "+r.toString());return y}break;default:throw m&&g&&g(Buffer.alloc(0),H.Errors.UNKNOWN_METHOD),new Error(H.Errors.UNKNOWN_METHOD)}}function l(m,g){if((!s||!s.length)&&Buffer.isBuffer(t))return m&&g&&g(a()),a();if(s.length&&!i){var w;switch(e.method){case H.Constants.STORED:return e.compressedSize=e.size,w=Buffer.alloc(s.length),s.copy(w),m&&g&&g(w),w;default:case H.Constants.DEFLATED:var p=new Zc.Deflater(s);if(m)p.deflateAsync(function(S){w=Buffer.alloc(S.length),e.compressedSize=S.length,S.copy(w),g&&g(w)});else{var y=p.deflate();return e.compressedSize=y.length,y}p=null;break}}else if(m&&g)g(Buffer.alloc(0));else return Buffer.alloc(0)}function f(m,g){return(m.readUInt32LE(g+4)<<4)+m.readUInt32LE(g)}function h(m){for(var g=0,w,p,y;g<m.length;)w=m.readUInt16LE(g),g+=2,p=m.readUInt16LE(g),g+=2,y=m.slice(g,g+p),g+=p,ye.ID_ZIP64===w&&d(y)}function d(m){var g,w,p,y;m.length>=ye.EF_ZIP64_SCOMP&&(g=f(m,ye.EF_ZIP64_SUNCOMP),e.size===ye.EF_ZIP64_OR_32&&(e.size=g)),m.length>=ye.EF_ZIP64_RHO&&(w=f(m,ye.EF_ZIP64_SCOMP),e.compressedSize===ye.EF_ZIP64_OR_32&&(e.compressedSize=w)),m.length>=ye.EF_ZIP64_DSN&&(p=f(m,ye.EF_ZIP64_RHO),e.offset===ye.EF_ZIP64_OR_32&&(e.offset=p)),m.length>=ye.EF_ZIP64_DSN+4&&(y=m.readUInt32LE(ye.EF_ZIP64_DSN),e.diskNumStart===ye.EF_ZIP64_OR_16&&(e.diskNumStart=y))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(m){r=H.toBuffer(m);var g=r[r.length-1];i=g===47||g===92,e.fileNameLength=r.length},get extra(){return o},set extra(m){o=m,e.extraLength=m.length,h(m)},get comment(){return n.toString()},set comment(m){n=H.toBuffer(m),e.commentLength=n.length},get name(){var m=r.toString();return i?m.substr(m.length-1).split("/").pop():m.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return l(!1,null)},getCompressedDataAsync:function(m){l(!0,m)},setData:function(m){s=H.toBuffer(m),!i&&s.length?(e.size=s.length,e.method=H.Constants.DEFLATED,e.crc=H.crc32(m),e.changed=!0):e.method=H.Constants.STORED},getData:function(m){return e.changed?s:u(!1,null,m)},getDataAsync:function(m,g){e.changed?m(s):u(!0,m,g)},set attr(m){e.attr=m},get attr(){return e.attr},set header(m){e.loadFromBinary(m)},get header(){return e},packHeader:function(){var m=e.entryHeaderToBinary(),g=H.Constants.CENHDR;return r.copy(m,g),g+=r.length,e.extraLength&&(o.copy(m,g),g+=e.extraLength),e.commentLength&&n.copy(m,g),m},toJSON:function(){let m=function(g){return"<"+(g&&g.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:e.toJSON(),compressedData:m(t),data:m(s)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var tE=E((ID,eE)=>{var Qg=Yc(),JL=Jc(),oe=$r();eE.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new JL.MainHeader,o=!1;let a=Object.assign(Object.create(null),e),{noSort:c}=a;t?f(a.readEntries):o=!0;function u(d){let m=s.diskEntries,g=s.offset;for(let w=0;w<m;w++){let p=g,y=new Qg(t);y.header=t.slice(p,p+=oe.Constants.CENHDR),y.entryName=t.slice(p,p+=y.header.fileNameLength),g+=y.header.entryHeaderSize,d(y)}}function l(){o=!0,n={},r=new Array(s.diskEntries);for(var d=s.offset,m=0;m<r.length;m++){var g=d,w=new Qg(t);w.header=t.slice(g,g+=oe.Constants.CENHDR),w.entryName=t.slice(g,g+=w.header.fileNameLength),w.header.extraLength&&(w.extra=t.slice(g,g+=w.header.extraLength)),w.header.commentLength&&(w.comment=t.slice(g,g+w.header.commentLength)),d+=w.header.entryHeaderSize,r[m]=w,n[w.entryName]=w}}function f(d){var m=t.length-oe.Constants.ENDHDR,g=Math.max(0,m-65535),w=g,p=t.length,y=-1,S=0;for(m;m>=w;m--)if(t[m]===80){if(t.readUInt32LE(m)===oe.Constants.ENDSIG){y=m,S=m,p=m+oe.Constants.ENDHDR,w=m-oe.Constants.END64HDR;continue}if(t.readUInt32LE(m)===oe.Constants.END64SIG){w=g;continue}if(t.readUInt32LE(m)===oe.Constants.ZIP64SIG){y=m,p=m+oe.readBigUInt64LE(t,m+oe.Constants.ZIP64SIZE)+oe.Constants.ZIP64LEAD;break}}if(!~y)throw new Error(oe.Errors.INVALID_FORMAT);s.loadFromBinary(t.slice(y,p)),s.commentLength&&(i=t.slice(S+oe.Constants.ENDHDR)),d&&l()}function h(){r.length>1&&!c&&r.sort((d,m)=>d.entryName.toLowerCase().localeCompare(m.entryName.toLowerCase()))}return{get entries(){return o||l(),r},get comment(){return i.toString()},set comment(d){i=oe.toBuffer(d),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(d){if(!o){u(d);return}r.forEach(d)},getEntry:function(d){return o||l(),n[d]||null},setEntry:function(d){o||l(),r.push(d),n[d.entryName]=d,s.totalEntries=r.length},deleteEntry:function(d){o||l();var m=n[d];if(m&&m.isDirectory){var g=this;this.getEntryChildren(m).forEach(function(w){w.entryName!==d&&g.deleteEntry(w.entryName)})}r.splice(r.indexOf(m),1),delete n[d],s.totalEntries=r.length},getEntryChildren:function(d){if(o||l(),d&&d.isDirectory){let m=[],g=d.entryName,w=g.length;return r.forEach(function(p){p.entryName.substr(0,w)===g&&m.push(p)}),m}return[]},compressToBuffer:function(){o||l(),h();let d=[],m=[],g=0,w=0;s.size=0,s.offset=0;for(let S of r){let b=S.getCompressedData();S.header.offset=w;let A=S.header.dataHeaderToBinary(),P=S.rawEntryName.length,R=Buffer.alloc(P+S.extra.length);S.rawEntryName.copy(R,0),R.copy(S.extra,P);let D=A.length+R.length+b.length;w+=D,d.push(A),d.push(R),d.push(b);let B=S.packHeader();m.push(B),s.size+=B.length,g+=D+B.length}g+=s.mainHeaderSize,s.offset=w,w=0;let p=Buffer.alloc(g);for(let S of d)S.copy(p,w),w+=S.length;for(let S of m)S.copy(p,w),w+=S.length;let y=s.toBinary();return i&&i.copy(y,oe.Constants.ENDHDR),y.copy(p,w),p},toAsyncBuffer:function(d,m,g,w){try{o||l(),h();let p=[],y=[],S=0,b=0;s.size=0,s.offset=0;let A=function(P){if(P.length){let R=P.pop(),D=R.entryName+R.extra.toString();g&&g(D),R.getCompressedDataAsync(function(B){w&&w(D),R.header.offset=b;let sr=R.header.dataHeaderToBinary(),eu=Buffer.alloc(D.length,D),tu=sr.length+eu.length+B.length;b+=tu,p.push(sr),p.push(eu),p.push(B);let so=R.packHeader();y.push(so),s.size+=so.length,S+=tu+so.length,A(P)})}else{S+=s.mainHeaderSize,s.offset=b,b=0;let R=Buffer.alloc(S);p.forEach(function(B){B.copy(R,b),b+=B.length}),y.forEach(function(B){B.copy(R,b),b+=B.length});let D=s.toBinary();i&&i.copy(D,oe.Constants.ENDHDR),D.copy(R,b),d(R)}};A(r)}catch(p){m(p)}}}}});var nE=E((CD,rE)=>{var Y=$r(),Ye=require("path"),ZL=Yc(),YL=tE(),Xt=(t,e)=>typeof t=="boolean"?t:e,Xc=(t,e)=>typeof t=="string"?t:e,XL={noSort:!1,readEntries:!1,method:Y.Constants.NONE,fs:null};rE.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),XL);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=Y.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new Y(n);if(t&&typeof t=="string")if(i.fs.existsSync(t))n.method=Y.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw new Error(Y.Errors.INVALID_FILENAME);let s=new YL(r,n),{canonical:o,sanitize:a}=Y;function c(l){if(l&&s){var f;if(typeof l=="string"&&(f=s.getEntry(l)),typeof l=="object"&&typeof l.entryName<"u"&&typeof l.header<"u"&&(f=s.getEntry(l.entryName)),f)return f}return null}function u(l){let{join:f,normalize:h,sep:d}=Ye.posix;return f(".",h(d+l.split("\\").join(d)+d))}return{readFile:function(l,f){var h=c(l);return h&&h.getData(f)||null},readFileAsync:function(l,f){var h=c(l);h?h.getDataAsync(f):f(null,"getEntry failed for:"+l)},readAsText:function(l,f){var h=c(l);if(h){var d=h.getData();if(d&&d.length)return d.toString(f||"utf8")}return""},readAsTextAsync:function(l,f,h){var d=c(l);d?d.getDataAsync(function(m,g){if(g){f(m,g);return}m&&m.length?f(m.toString(h||"utf8")):f("")}):f("")},deleteFile:function(l){var f=c(l);f&&s.deleteEntry(f.entryName)},addZipComment:function(l){s.comment=l},getZipComment:function(){return s.comment||""},addZipEntryComment:function(l,f){var h=c(l);h&&(h.comment=f)},getZipEntryComment:function(l){var f=c(l);return f&&f.comment||""},updateFile:function(l,f){var h=c(l);h&&h.setData(f)},addLocalFile:function(l,f,h,d){if(i.fs.existsSync(l)){f=f?u(f):"";var m=l.split("\\").join("/").split("/").pop();f+=h||m;let g=i.fs.statSync(l);this.addFile(f,i.fs.readFileSync(l),d,g)}else throw new Error(Y.Errors.FILE_NOT_FOUND.replace("%s",l))},addLocalFolder:function(l,f,h,d){if(h instanceof RegExp?h=function(m){return function(g){return m.test(g)}}(h):typeof h!="function"&&(h=function(){return!0}),f=f?u(f):"",l=Ye.normalize(l),i.fs.existsSync(l)){let m=i.findFiles(l),g=this;m.length&&m.forEach(function(w){var p=Ye.relative(l,w).split("\\").join("/");if(h(p)){var y=i.fs.statSync(w);y.isFile()?g.addFile(f+p,i.fs.readFileSync(w),"",d||y):g.addFile(f+p+"/",Buffer.alloc(0),"",d||y)}})}else throw new Error(Y.Errors.FILE_NOT_FOUND.replace("%s",l))},addLocalFolderAsync:function(l,f,h,d){d instanceof RegExp?d=function(g){return function(w){return g.test(w)}}(d):typeof d!="function"&&(d=function(){return!0}),h=h?u(h):"",l=Ye.normalize(l);var m=this;i.fs.open(l,"r",function(g){if(g&&g.code==="ENOENT")f(void 0,Y.Errors.FILE_NOT_FOUND.replace("%s",l));else if(g)f(void 0,g);else{var w=i.findFiles(l),p=-1,y=function(){if(p+=1,p<w.length){var S=w[p],b=Ye.relative(l,S).split("\\").join("/");b=b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),d(b)?i.fs.stat(S,function(A,P){A&&f(void 0,A),P.isFile()?i.fs.readFile(S,function(R,D){R?f(void 0,R):(m.addFile(h+b,D,"",P),y())}):(m.addFile(h+b+"/",Buffer.alloc(0),"",P),y())}):process.nextTick(()=>{y()})}else f(!0,void 0)};y()}})},addLocalFolderPromise:function(l,f){return new Promise((h,d)=>{let{filter:m,zipPath:g}=Object.assign({},f);this.addLocalFolderAsync(l,(w,p)=>{p&&d(p),w&&h(this)},g,m)})},addFile:function(l,f,h,d){let m=c(l),g=m!=null;g||(m=new ZL,m.entryName=l),m.comment=h||"";let w=typeof d=="object"&&d instanceof i.fs.Stats;w&&(m.header.time=d.mtime);var p=m.isDirectory?16:0;let y=m.isDirectory?16384:32768;w?y|=4095&d.mode:typeof d=="number"?y|=4095&d:y|=m.isDirectory?493:420,p=(p|y<<16)>>>0,m.attr=p,m.setData(f),g||s.setEntry(m)},getEntries:function(){return s?s.entries:[]},getEntry:function(l){return c(l)},getEntryCount:function(){return s.getEntryCount()},forEach:function(l){return s.forEach(l)},extractEntryTo:function(l,f,h,d,m,g){d=Xt(d,!1),m=Xt(m,!1),h=Xt(h,!0),g=Xc(g,Xc(m,void 0));var w=c(l);if(!w)throw new Error(Y.Errors.NO_ENTRY);var p=o(w.entryName),y=a(f,g&&!w.isDirectory?g:h?p:Ye.basename(p));if(w.isDirectory){var S=s.getEntryChildren(w);return S.forEach(function(P){if(P.isDirectory)return;var R=P.getData();if(!R)throw new Error(Y.Errors.CANT_EXTRACT_FILE);var D=o(P.entryName),B=a(f,h?D:Ye.basename(D));let sr=m?P.header.fileAttr:void 0;i.writeFileTo(B,R,d,sr)}),!0}var b=w.getData();if(!b)throw new Error(Y.Errors.CANT_EXTRACT_FILE);if(i.fs.existsSync(y)&&!d)throw new Error(Y.Errors.CANT_OVERRIDE);let A=m?l.header.fileAttr:void 0;return i.writeFileTo(y,b,d,A),!0},test:function(l){if(!s)return!1;for(var f in s.entries)try{if(f.isDirectory)continue;var h=s.entries[f].getData(l);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(l,f,h,d){if(f=Xt(f,!1),d=Xc(h,d),h=Xt(h,!1),!s)throw new Error(Y.Errors.NO_ZIP);s.entries.forEach(function(m){var g=a(l,o(m.entryName.toString()));if(m.isDirectory){i.makeDir(g);return}var w=m.getData(d);if(!w)throw new Error(Y.Errors.CANT_EXTRACT_FILE);let p=h?m.header.fileAttr:void 0;i.writeFileTo(g,w,f,p);try{i.fs.utimesSync(g,m.header.time,m.header.time)}catch{throw new Error(Y.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(l,f,h,d){if(f=Xt(f,!1),typeof h=="function"&&!d&&(d=h),h=Xt(h,!1),d||(d=function(S){throw new Error(S)}),!s){d(new Error(Y.Errors.NO_ZIP));return}l=Ye.resolve(l);let m=S=>a(l,Ye.normalize(o(S.entryName.toString()))),g=(S,b)=>new Error(S+': "'+b+'"'),w=[],p=new Set;s.entries.forEach(S=>{S.isDirectory?w.push(S):p.add(S)});for(let S of w){let b=m(S),A=h?S.header.fileAttr:void 0;try{i.makeDir(b),A&&i.fs.chmodSync(b,A),i.fs.utimesSync(b,S.header.time,S.header.time)}catch{d(g("Unable to create folder",b))}}let y=()=>{p.size===0&&d()};for(let S of p.values()){let b=Ye.normalize(o(S.entryName.toString())),A=a(l,b);S.getDataAsync(function(P,R){if(R){d(new Error(R));return}if(!P)d(new Error(Y.Errors.CANT_EXTRACT_FILE));else{let D=h?S.header.fileAttr:void 0;i.writeFileToAsync(A,P,f,D,function(B){if(!B){d(g("Unable to write file",A));return}i.fs.utimes(A,S.header.time,S.header.time,function(sr){if(sr){d(g("Unable to set times",A));return}p.delete(S),y()})})}})}y()},writeZip:function(l,f){if(arguments.length===1&&typeof l=="function"&&(f=l,l=""),!l&&n.filename&&(l=n.filename),!!l){var h=s.compressToBuffer();if(h){var d=i.writeFileTo(l,h,!0);typeof f=="function"&&f(d?null:new Error("failed"),"")}}},writeZipPromise:function(l,f){let{overwrite:h,perm:d}=Object.assign({overwrite:!0},f);return new Promise((m,g)=>{!l&&n.filename&&(l=n.filename),l||g("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(w=>{let p=y=>y?m(y):g("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(l,w,h,d,p)},g)})},toBufferPromise:function(){return new Promise((l,f)=>{s.toAsyncBuffer(l,f)})},toBuffer:function(l,f,h,d){return this.valueOf=2,typeof l=="function"?(s.toAsyncBuffer(l,f,h,d),null):s.compressToBuffer()}}}});var sE=E((TD,iE)=>{iE.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var aE=E((ND,oE)=>{oE.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):sE()});var lE=E((OD,cE)=>{cE.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var Kc=E((AD,fE)=>{var uE=lE();fE.exports=class{constructor(e){this.hwm=e||16,this.head=new uE(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new uE(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var pl=E((FD,OE)=>{var{EventEmitter:KL}=require("events"),ks=new Error("Stream was destroyed"),Qc=new Error("Premature close"),gE=aE(),EE=Kc(),W=(1<<27)-1,tr=1,al=2,Kt=4,$n=8,wE=W^tr,QL=W^al,Wn=16,Bn=32,Wr=64,Tt=128,qn=256,cl=512,Qt=1024,el=2048,ll=4096,ul=8192,Ue=16384,qr=32768,As=65536,yE=qn|cl,eR=Wn|As,tR=Wr|Wn,rR=ll|Tt,nR=W^Wn,iR=W^Wr,sR=W^(Wr|As),oR=W^As,aR=W^qn,cR=W^(Tt|ul),lR=W^Qt,dE=W^yE,SE=W^qr,uR=W^Bn,Nt=1<<17,Mr=2<<17,Gn=4<<17,er=8<<17,jn=16<<17,rr=32<<17,tl=64<<17,Ur=128<<17,fl=256<<17,Hr=512<<17,xE=W^(Nt|fl),vE=W^Gn,fR=W^Hr,dR=W^jn,hR=W^er,_E=W^Ur,pR=W^Mr,Un=Wn|Nt,bE=W^Un,dl=Ue|rr,dt=Kt|$n|al,Se=dt|tr,LE=dt|dl,mR=vE&iR,hl=Ur|qr,gR=hl&bE,RE=Se|gR,ER=Se|Qt|Ue,hE=Se|Ue|Tt,wR=Se|Qt|Tt,yR=Se|ll|Tt|ul,SR=Se|Wn|Qt|Ue|As,xR=dt|Qt|Ue,vR=Bn|Se|qr|Wr,_R=Se|Hr|rr,bR=er|jn,PE=er|Nt,LR=er|jn|Se|Nt,pE=Se|Nt|er,RR=Gn|Nt,PR=Nt|fl,IR=Se|Hr|PE|rr,CR=jn|dt|Hr|rr,TR=Mr|Se|Ur|Gn,Cs=Symbol.asyncIterator||Symbol("asyncIterator"),Ts=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new EE,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||DE,this.map=i||n,this.afterWrite=OR.bind(this),this.afterUpdateNextTick=FR.bind(this)}get ended(){return(this.stream._duplexState&rr)!==0}push(e){return this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=er,!0):(this.stream._duplexState|=bR,!1)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=hR),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|Hr)&vE}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&pE)===PE;)n.push(i._writableState.shift());if(i._duplexState&Se)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=Mr;do{for(;(e._duplexState&pE)===er;){let r=this.shift();e._duplexState|=PR,e._write(r,this.afterWrite)}e._duplexState&RR||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=pR}updateNonPrimary(){let e=this.stream;if((e._duplexState&IR)===Hr){e._duplexState=(e._duplexState|Nt)&fR,e._final(DR.bind(this));return}if((e._duplexState&dt)===Kt){e._duplexState&hl||(e._duplexState|=Un,e._destroy(IE.bind(this)));return}(e._duplexState&RE)===tr&&(e._duplexState=(e._duplexState|Un)&wE,e._open(CE.bind(this)))}continueUpdate(){return this.stream._duplexState&Ur?(this.stream._duplexState&=_E,!0):!1}updateCallback(){(this.stream._duplexState&TR)===Gn?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&Ur||(this.stream._duplexState|=Ur,this.stream._duplexState&Mr||gE(this.afterUpdateNextTick))}},rl=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new EE,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||s||DE,this.map=i||n,this.pipeTo=null,this.afterRead=kR.bind(this),this.afterUpdateNextTick=AR.bind(this)}get ended(){return(this.stream._duplexState&Ue)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=cl,this.pipeTo=e,this.pipeline=new il(this.stream,e,r),r&&this.stream.on("error",mE),Hn(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",mE),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",NR.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|Qt)&sR,!1):(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Tt)&oR,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=cR),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&hE)===Tt){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=dE),e._duplexState&el&&e.emit("data",r),r}return null}drain(){let e=this.stream;for(;(e._duplexState&hE)===Tt&&e._duplexState&yE;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=dE),e._duplexState&el&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=Bn;do{for(this.drain();this.buffered<this.highWaterMark&&!(e._duplexState&SR);)e._duplexState|=eR,e._read(this.afterRead),this.drain();(e._duplexState&yR)===rR&&(e._duplexState|=ul,e.emit("readable")),e._duplexState&tR||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=uR}updateNonPrimary(){let e=this.stream;if((e._duplexState&wR)===Qt&&(e._duplexState=(e._duplexState|Ue)&lR,e.emit("end"),(e._duplexState&LE)===dl&&(e._duplexState|=Kt),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&dt)===Kt){e._duplexState&hl||(e._duplexState|=Un,e._destroy(IE.bind(this)));return}(e._duplexState&RE)===tr&&(e._duplexState=(e._duplexState|Un)&wE,e._open(CE.bind(this)))}continueUpdate(){return this.stream._duplexState&qr?(this.stream._duplexState&=SE,!0):!1}updateCallback(){(this.stream._duplexState&vR)===Wr?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&qr||(this.stream._duplexState|=qr,this.stream._duplexState&Bn||gE(this.afterUpdateNextTick))}},nl=class{constructor(e){this.data=null,this.afterTransform=BR.bind(e),this.afterFinal=null}},il=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&Ue)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&Ue||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function NR(){this.stream._duplexState|=cl,this.updateCallback()}function DR(t){let e=this.stream;t&&e.destroy(t),e._duplexState&dt||(e._duplexState|=rr,e.emit("finish")),(e._duplexState&LE)===dl&&(e._duplexState|=Kt),e._duplexState&=xE,e._duplexState&Mr?this.updateNextTick():this.update()}function IE(t){let e=this.stream;!t&&this.error!==ks&&(t=this.error),t&&e.emit("error",t),e._duplexState|=$n,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function OR(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=xE,this.drains!==null&&$R(this.drains),(e._duplexState&LR)===jn&&(e._duplexState&=dR,(e._duplexState&tl)===tl&&e.emit("drain")),this.updateCallback()}function kR(t){t&&this.stream.destroy(t),this.stream._duplexState&=nR,this.updateCallback()}function AR(){this.stream._duplexState&Bn||(this.stream._duplexState&=SE,this.update())}function FR(){this.stream._duplexState&Mr||(this.stream._duplexState&=_E,this.update())}function $R(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function CE(t){let e=this.stream;t&&e.destroy(t),e._duplexState&Kt||(e._duplexState&ER||(e._duplexState|=Wr),e._duplexState&_R||(e._duplexState|=Gn),e.emit("open")),e._duplexState&=bE,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function BR(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}var Mn=class extends KL{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",GR.bind(this)))}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&$n)!==0}get destroying(){return(this._duplexState&dt)!==0}destroy(e){this._duplexState&dt||(e||(e=ks),this._duplexState=(this._duplexState|Kt)&mR,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=al,this._predestroy(),this._duplexState&=QL,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(e,r){return this._readableState!==null&&(e==="data"&&(this._duplexState|=el|qn,this._readableState.updateNextTick()),e==="readable"&&(this._duplexState|=ll,this._readableState.updateNextTick())),this._writableState!==null&&e==="drain"&&(this._duplexState|=tl,this._writableState.updateNextTick()),super.on(e,r)}},Ns=class t extends Mn{constructor(e){super(e),this._duplexState|=tr|rr,this._readableState=new rl(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=qn,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=aR,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(HR(e))return e;if(e[Cs])return this._fromAsyncIterator(e[Cs](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&xR)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&qn)===0}[Cs](){let e=this,r=null,n=null,i=null;return this.on("error",u=>{r=u}),this.on("readable",s),this.on("close",o),{[Cs](){return this},next(){return new Promise(function(u,l){n=u,i=l;let f=e.read();f!==null?a(f):e._duplexState&$n&&a(null)})},return(){return c(null)},throw(u){return c(u)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(u){i!==null&&(r?i(r):u===null&&!(e._duplexState&Ue)?i(ks):n({value:u,done:u===null}),i=n=null)}function c(u){return e.destroy(u),new Promise((l,f)=>{if(e._duplexState&$n)return l({value:void 0,done:!0});e.once("close",function(){u?f(u):l({value:void 0,done:!0})})})}}},sl=class extends Mn{constructor(e){super(e),this._duplexState|=tr|Ue,this._writableState=new Ts(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&CR)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,n=r.queue.length+(e._duplexState&fl?1:0);return n===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(i=>{r.drains.push({writes:n,resolve:i})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Ds=class extends Ns{constructor(e){super(e),this._duplexState=tr,this._writableState=new Ts(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Os=class extends Ds{constructor(e){super(e),this._transformState=new nl(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(qR.bind(this))}},ol=class extends Os{};function qR(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function UR(...t){return new Promise((e,r)=>TE(...t,n=>{if(n)return r(n);e()}))}function TE(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let u=1;u<r.length;u++)s=r[u],Hn(i)?i.pipe(s,c):(a(i,!0,u>1,c),i.pipe(s)),i=s;if(n){let u=!1,l=Hn(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",f=>{o===null&&(o=f)}),s.on("finish",()=>{u=!0,l||n(o)}),l&&s.on("close",()=>n(o||(u?null:Qc)))}return s;function a(u,l,f,h){u.on("error",h),u.on("close",d);function d(){if(l&&u._readableState&&!u._readableState.ended||f&&u._writableState&&!u._writableState.ended)return h(Qc)}}function c(u){if(!(!u||o)){o=u;for(let l of r)l.destroy(u)}}}function NE(t){return!!t._readableState||!!t._writableState}function Hn(t){return typeof t._duplexState=="number"&&NE(t)}function MR(t){let e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===ks?null:e}function HR(t){return Hn(t)&&t.readable}function WR(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function DE(t){return WR(t)?t.byteLength:1024}function mE(){}function GR(){this.destroy(new Error("Stream aborted."))}OE.exports={pipeline:TE,pipelinePromise:UR,isStream:NE,isStreamx:Hn,getStreamError:MR,Stream:Mn,Writable:sl,Readable:Ns,Duplex:Ds,Transform:Os,PassThrough:ol}});var Fs=E(($D,kE)=>{function jR(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function zR(t){return Buffer.isEncoding(t)}function VR(t,e,r){return Buffer.alloc(t,e,r)}function JR(t){return Buffer.allocUnsafe(t)}function ZR(t){return Buffer.allocUnsafeSlow(t)}function YR(t,e){return Buffer.byteLength(t,e)}function XR(t,e){return Buffer.compare(t,e)}function KR(t,e){return Buffer.concat(t,e)}function QR(t,e,r,n,i){return G(t).copy(e,r,n,i)}function eP(t,e){return G(t).equals(e)}function tP(t,e,r,n,i){return G(t).fill(e,r,n,i)}function rP(t,e,r){return Buffer.from(t,e,r)}function nP(t,e,r,n){return G(t).includes(e,r,n)}function iP(t,e,r,n){return G(t).indexOf(e,r,n)}function sP(t,e,r,n){return G(t).lastIndexOf(e,r,n)}function oP(t){return G(t).swap16()}function aP(t){return G(t).swap32()}function cP(t){return G(t).swap64()}function G(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function lP(t,e,r,n){return G(t).toString(e,r,n)}function uP(t,e,r,n,i){return G(t).write(e,r,n,i)}function fP(t,e,r){return G(t).writeDoubleLE(e,r)}function dP(t,e,r){return G(t).writeFloatLE(e,r)}function hP(t,e,r){return G(t).writeUInt32LE(e,r)}function pP(t,e,r){return G(t).writeInt32LE(e,r)}function mP(t,e){return G(t).readDoubleLE(e)}function gP(t,e){return G(t).readFloatLE(e)}function EP(t,e){return G(t).readUInt32LE(e)}function wP(t,e){return G(t).readInt32LE(e)}kE.exports={isBuffer:jR,isEncoding:zR,alloc:VR,allocUnsafe:JR,allocUnsafeSlow:ZR,byteLength:YR,compare:XR,concat:KR,copy:QR,equals:eP,fill:tP,from:rP,includes:nP,indexOf:iP,lastIndexOf:sP,swap16:oP,swap32:aP,swap64:cP,toBuffer:G,toString:lP,write:uP,writeDoubleLE:fP,writeFloatLE:dP,writeUInt32LE:hP,writeInt32LE:pP,readDoubleLE:mP,readFloatLE:gP,readUInt32LE:EP,readInt32LE:wP}});var El=E(jr=>{var T=Fs(),yP="0000000000000000000",SP="7777777777777777777",$s="0".charCodeAt(0),AE=T.from([117,115,116,97,114,0]),xP=T.from([$s,$s]),vP=T.from([117,115,116,97,114,32]),_P=T.from([32,0]),bP=4095,zn=257,gl=263;jr.decodeLongPath=function(e,r){return Gr(e,0,e.length,r)};jr.encodePax=function(e){let r="";e.name&&(r+=ml(" path="+e.name+`
`)),e.linkname&&(r+=ml(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=ml(" "+i+"="+n[i]+`
`);return T.from(r)};jr.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(e.subarray(0,n).toString(),10);if(!i)return r;let s=T.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};jr.encode=function(e){let r=T.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),T.byteLength(n)!==n.length)return null;for(;T.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return T.byteLength(n)>100||T.byteLength(i)>155||e.linkname&&T.byteLength(e.linkname)>100?null:(T.write(r,n),T.write(r,Ot(e.mode&bP,6),100),T.write(r,Ot(e.uid,6),108),T.write(r,Ot(e.gid,6),116),NP(e.size,r,124),T.write(r,Ot(e.mtime.getTime()/1e3|0,11),136),r[156]=$s+CP(e.type),e.linkname&&T.write(r,e.linkname,157),T.copy(AE,r,zn),T.copy(xP,r,gl),e.uname&&T.write(r,e.uname,265),e.gname&&T.write(r,e.gname,297),T.write(r,Ot(e.devmajor||0,6),329),T.write(r,Ot(e.devminor||0,6),337),i&&T.write(r,i,345),T.write(r,Ot($E(r),6),148),r)};jr.decode=function(e,r,n){let i=e[156]===0?0:e[156]-$s,s=Gr(e,0,100,r),o=Dt(e,100,8),a=Dt(e,108,8),c=Dt(e,116,8),u=Dt(e,124,12),l=Dt(e,136,12),f=IP(i),h=e[157]===0?null:Gr(e,157,100,r),d=Gr(e,265,32),m=Gr(e,297,32),g=Dt(e,329,8),w=Dt(e,337,8),p=$E(e);if(p===8*32)return null;if(p!==Dt(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(LP(e))e[345]&&(s=Gr(e,345,155,r)+"/"+s);else if(!RP(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:c,size:u,mtime:new Date(1e3*l),type:f,linkname:h,uname:d,gname:m,devmajor:g,devminor:w,pax:null}};function LP(t){return T.equals(AE,t.subarray(zn,zn+6))}function RP(t){return T.equals(vP,t.subarray(zn,zn+6))&&T.equals(_P,t.subarray(gl,gl+2))}function PP(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function IP(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function CP(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function FE(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function $E(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function Ot(t,e){return t=t.toString(8),t.length>e?SP.slice(0,e)+" ":yP.slice(0,e-t.length)+t+" "}function TP(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function NP(t,e,r){t.toString(8).length>11?TP(t,e,r):T.write(e,Ot(t,11),r)}function DP(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Dt(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return DP(t);{for(;e<t.length&&t[e]===32;)e++;let n=PP(FE(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(t.subarray(e,n).toString(),8)}}function Gr(t,e,r,n){return T.toString(t.subarray(e,FE(t,0,e,e+r)),n)}function ml(t){let e=T.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var HE=E((qD,ME)=>{var{Writable:OP,Readable:kP,getStreamError:BE}=pl(),AP=Kc(),qE=Fs(),zr=El(),FP=qE.alloc(0),yl=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new AP,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return FP;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return qE.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},Sl=class extends kP{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(BE(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=UE(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},xl=class extends OP{constructor(e){super(e),e||(e={}),this._buffer=new yl,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=wl,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=zr.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=zr.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=zr.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=zr.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?zr.decodePax(e):Object.assign({},this._paxGlobal,zr.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=UE(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new Sl(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=wl,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(BE(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",u),this.on("error",h=>{e=h}),this.on("close",l),{[Symbol.asyncIterator](){return this},next(){return new Promise(c)},return(){return f(null)},throw(h){return f(h)}};function a(h){if(!s)return;let d=s;s=null,d(h)}function c(h,d){if(e)return d(e);if(i){h({value:i,done:!1}),i=null;return}r=h,n=d,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function u(h,d,m){s=m,d.on("error",wl),r?(r({value:d,done:!1}),r=n=null):i=d}function l(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function f(h){return o.destroy(h),a(h),new Promise((d,m)=>{if(o.destroyed)return d({value:void 0,done:!0});o.once("close",function(){h?m(h):d({value:void 0,done:!0})})})}}};ME.exports=function(e){return new xl(e)};function wl(){}function UE(t){return t&=511,t&&512-t}});var GE=E((UD,vl)=>{var WE={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{vl.exports=require("fs").constants||WE}catch{vl.exports=WE}});var ZE=E((MD,JE)=>{var{Readable:$P,Writable:BP,getStreamError:jE}=pl(),nr=Fs(),Vr=GE(),Bs=El(),qP=493,UP=420,zE=nr.alloc(1024),bl=class extends BP{constructor(e,r,n){super({mapWritable:HP,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?nr.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?nr.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),VE(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return jE(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},Ll=class extends $P{constructor(e){super(e),this._drain=_l,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=_l),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=MP(e.mode)),e.mode||(e.mode=e.type==="directory"?qP:UP),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=nr.from(r));let i=new bl(this,e,n);return nr.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(zE),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=Bs.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=Bs.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(Bs.encode(n)),this.push(r),VE(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(Bs.encode(n))}_doDrain(){let e=this._drain;this._drain=_l,e()}_predestroy(){let e=jE(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};JE.exports=function(e){return new Ll(e)};function MP(t){switch(t&Vr.S_IFMT){case Vr.S_IFBLK:return"block-device";case Vr.S_IFCHR:return"character-device";case Vr.S_IFDIR:return"directory";case Vr.S_IFIFO:return"fifo";case Vr.S_IFLNK:return"symlink"}return"file"}function _l(){}function VE(t,e){e&=511,e&&t.push(zE.subarray(0,512-e))}function HP(t){return nr.isBuffer(t)?t:nr.from(t)}});var YE=E(Rl=>{Rl.extract=HE();Rl.pack=ZE()});var Pl=E((zD,rw)=>{"use strict";var ew=require("child_process"),zP=1024*1024,tw={exec(t,e){ew.exec(t,{maxBuffer:2*zP,windowsHide:!0},e)},spawn(t,e,r){return ew.spawn(t,e,r)},stripLine(t,e){let r=0;for(;e-- >0;){let n=t.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?t.substring(r):t},split(t,e){let r=t.trim().split(/\s+/);return r.length>e&&(r[e-1]=r.slice(e-1).join(" ")),r},extractColumns(t,e,r){let n=t.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,e)+1),n.forEach(s=>{let o=tw.split(s,r),a=[];e.forEach(c=>{a.push(o[c]||"")}),i.push(a)}),i},parseTable(t){let e=t.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(r=>r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return e.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),e.map(r=>{let n={};return r.forEach(i=>{let s=i.indexOf(":"),o=i.slice(0,s).trim();n[o]=i.slice(s+1).trim()}),n})}};rw.exports=tw});var iw=E((VD,nw)=>{"use strict";var VP=require("os"),qs=require("fs"),Ne=Pl(),JP=t=>new Promise((e,r)=>{qs.existsSync(t)?e():qs.mkdir(t,n=>{n?r(n):e()})}),Il={darwin(t){return new Promise((e,r)=>{Ne.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,s){if(n)r(n);else{if(n=s.toString().trim(),n){r(n);return}let o=Ne.stripLine(i.toString(),2),a=Ne.extractColumns(o,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let u=String(c[1]).match(/\.(\d+)$/);if(u&&u[1]===String(t))return!0});a&&a[2].length?e(parseInt(a[2],10)):r(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,r)=>{let n="netstat -tunlp";Ne.exec(n,function(i,s,o){if(i)r(i);else{let a=o.toString().trim();a&&console.warn(a);let c=Ne.stripLine(s.toString(),2),u=Ne.extractColumns(c,[3,6],7).find(l=>{let f=String(l[0]).match(/:(\d+)$/);if(f&&f[1]===String(t))return!0});if(u&&u[1]){let l=u[1].split("/",1)[0];l.length?e(parseInt(l,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,r)=>{Ne.exec("netstat -ano",function(n,i,s){if(n)r(n);else{if(n=s.toString().trim(),n){r(n);return}let o=Ne.stripLine(i.toString(),4),a=Ne.extractColumns(o,[1,4],5).find(c=>{let u=String(c[0]).match(/:(\d+)$/);if(u&&u[1]===String(t))return!0});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):r(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,r)=>{let n=VP.tmpdir()+"/.find-process",i=n+"/"+process.pid,s='netstat -tunp >> "'+i+'"';JP(n).then(()=>{Ne.exec(s,()=>{qs.readFile(i,"utf8",(o,a)=>{if(qs.unlink(i,()=>{}),o)r(o);else{a=Ne.stripLine(a,2);let c=Ne.extractColumns(a,[3,6],7).find(u=>{let l=String(u[0]).match(/:(\d+)$/);if(l&&l[1]===String(t))return!0});if(c&&c[1]){let u=c[1].split("/",1)[0];u.length?e(parseInt(u,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})})})}};function ZP(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in Il))return n(new Error(`platform ${e} is unsupported`));let i=Il[e];typeof i=="string"&&(i=Il[i]),i(t).then(r,n)})}nw.exports=ZP});var cw=E((JD,aw)=>{"use strict";var Us=require("path"),kt=Pl();function Cl(t,e){return e?t&&t.match?t.match(e):!1:!0}function sw(t){let e=t.split(Us.sep),r=e[e.length-1];r&&(e[e.length-1]=r.split(" ")[0]);let n=[];for(let i of e){let s=i.indexOf(" -");if(s>=0){n.push(i.substring(0,s).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(Us.sep)}function ow(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return Us.basename(t.substring(0,e))}return Us.basename(t)}var Tl={darwin(t){return new Promise((e,r)=>{let n;"pid"in t?n=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",kt.exec(n,function(i,s,o){if(i)"pid"in t?e([]):r(i);else{if(i=o.toString().trim(),i){r(i);return}let a=kt.stripLine(s.toString(),1),u=kt.extractColumns(a,[0,1,2,3,4],5).filter(l=>l[0]&&t.pid?l[0]===String(t.pid):l[4]&&t.name?Cl(l[4],t.name):!!l[0]).map(l=>{let f=String(l[4]),h=sw(f);return{pid:parseInt(l[0],10),ppid:parseInt(l[1],10),uid:parseInt(l[2],10),gid:parseInt(l[3],10),name:ow(h),bin:h,cmd:l[4]}});t.strict&&t.name&&(u=u.filter(l=>l.name===t.name)),e(u)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,r)=>{let n="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],s=kt.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});s.stdout.on("data",o=>{i.push(o.toString())}),s.on("close",o=>{if(o!==0)return r(new Error("Command '"+n+"' terminated with code: "+o));let a=kt.parseTable(i.join("")).filter(c=>{if("pid"in t)return c.ProcessId===String(t.pid);if(t.name){let u=c.Name||"";return t.strict?u===t.name||u.endsWith(".exe")&&u.slice(0,-4)===t.name:Cl(c.CommandLine||u,t.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));e(a)})})},android(t){return new Promise((e,r)=>{let n="ps";kt.exec(n,function(i,s,o){if(i)"pid"in t?e([]):r(i);else{if(i=o.toString().trim(),i){r(i);return}let a=kt.stripLine(s.toString(),1),u=kt.extractColumns(a,[0,3],4).filter(l=>l[0]&&t.pid?l[0]===String(t.pid):l[1]&&t.name?Cl(l[1],t.name):!!l[0]).map(l=>{let f=String(l[1]),h=sw(f);return{pid:parseInt(l[0],10),name:ow(h),bin:h,cmd:f}});t.strict&&t.name&&(u=u.filter(l=>l.name===t.name)),e(u)}})})}};function YP(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in Tl))return n(new Error(`platform ${e} is unsupported`));let i=Tl[e];typeof i=="string"&&(i=Tl[i]),i(t).then(r,n)})}aw.exports=YP});var fw=E((ZD,uw)=>{"use strict";var XP=iw(),lw=cw(),Nl={port(t,e){return XP(t,e).then(r=>Nl.pid(r,e),()=>[])},pid(t,e){return lw({pid:t,strict:e})},name(t,e){return lw({name:t,strict:e})}};function KP(t,e,r){return new Promise((n,i)=>{if(!(t in Nl))i(new Error(`do not support find by "${t}"`));else{let s=/^\d+$/.test(e);t==="pid"&&!s?i(new Error("pid must be a number")):t==="port"&&!s?i(new Error("port must be a number")):Nl[t](e,r).then(n,i)}})}uw.exports=KP});var hw=E((YD,dw)=>{"use strict";dw.exports=fw()});var kl=E((k1,vw)=>{var O1=vw.exports=function(t){(function e(){var r=!0,n=!1,i=!1;do i=!0,r=!1,t.call(this,function(){i?r=!0:e()}),i=!1;while(r)})()}});var bw=E((A1,_w)=>{var uI=kl();_w.exports=function(t,e){return function(r){var n=[],i,s;function o(u){n.push(u)}t=t||function(u){this.queue(u)},e=e||function(){this.queue(null)};var a={emit:function(u,l){u=="data"&&o(l),u=="end"&&(i=!0,o(null)),u=="error"&&(s=l)},queue:o},c;return function(u,l){if(i=i||u,u)return r(u,function(){if(c){var f=c;c=null,f(u)}l(u)});c=l,uI(function f(h){if(c)if(l=c,s)c=null,l(s);else if(n.length){var d=n.shift();c=null,l(d===null,d)}else r(i,function(m,g){if(m&&m!==!0)return s=m,h();if(i=i||m)e.call(a);else if(g!==null&&(t.call(a,g),s||i))return r(s||i,function(){c=null,l(s||i)});h(f)})})}}}});var Rw=E((F1,Lw)=>{Lw.exports=function(){var t=[],e=0;function r(){return t.reduce(function(n,i){return n+i.length},0)}return{length:e,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=e=e+n.length,t.push(n),this},has:function(n){return n==null?e>0:e>=n},get:function(n){var i;if(n==null||n===e){e=0;var s=t;return t=[],s.length==1?s[0]:Buffer.concat(s)}else if(t.length>1&&n<=(i=t[0].length)){var o=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),e-=n,o}else if(n<e){for(var a=[],c=0;c+t[0].length<n;){var u=t.shift();c+=u.length,a.push(u)}return c<n&&(a.push(t[0].slice(0,n-c)),t[0]=t[0].slice(n-c,t[0].length),this.length=e=e-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var Tw=E(($1,Cw)=>{"use strict";var fI=Rw();function dI(t){return Number.isFinite(t)}function Pw(t){return typeof t=="function"}function Iw(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),n)},e);t(r,function(s,o){clearTimeout(i),n(s,o)})}:t}Cw.exports=function(t){var e=[],r,n,i=!1,s=fI(),o,a,c;function u(){for(;e.length;)if(e[0].length==null&&s.has(1))e.shift().cb(null,s.get());else if(s.has(e[0].length)){var h=e.shift();h.cb(null,s.get(h.length))}else if(o==!0&&e[0].length&&s.length<e[0].length){var d="stream ended with:"+s.length+" but wanted:"+e[0].length;e.shift().cb(new Error(d))}else if(o)e.shift().cb(o);else return!!e.length;return e.length||!s.has(1)||c}function l(){var h=u();h&&!i&&r&&!i&&!a&&(i=!0,n(null,function(d,m){if(i=!1,d)return o=d,u();s.add(m),l()}))}function f(h){if(c){for(;e.length;)e.shift().cb(c);return cb&&cb(c)}n=Iw(h,t),r=h,l()}return f.abort=function(h,d){c=h||!0,r?(i=!0,r(c,function(){for(;e.length;)e.shift().cb(c);d&&d(c)})):d()},f.read=function(h,d,m){if(Pw(d)&&(m=d,d=t),Pw(m))e.push({length:dI(h)?h:null,cb:m}),l();else return a=!0,function(g,w){if(i||s.has(1)){if(g)return r(g,w);e.push({length:null,cb:w}),l()}else Iw(r,d)(g,function(p,y){w(p,y)})}},f}});var Hw=E((ir,Mw)=>{var hI=bw(),pI=Tw(),Nw=ps(),Dw=0,Ow=1,kw=2,Aw="GOODBYE";function Fw(t){let e=Buffer.alloc(9),r=0,n=t.value!==void 0?t.value:t.end;return typeof t=="string"&&t===Aw?(e.fill(0),[e,null]):(typeof n=="string"?(r=Ow,n=Buffer.from(n,"utf-8")):Buffer.isBuffer(n)?r=Dw:(r=kw,n=Buffer.from(JSON.stringify(n),"utf-8")),r=t.stream<<3|t.end<<2|r,e[0]=r,e.writeUInt32BE(n.length,1),e.writeInt32BE(t.req||0,5),[e,n])}function $w(t){if(t.length!==9)throw new Error("expected header to be 9 bytes long");let e=t[0],r=t.readUInt32BE(1);return{req:t.readInt32BE(5),stream:!!(e&8),end:!!(e&4),value:null,length:r,type:e&3}}function Bw(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(e.type===Dw)e.value=t;else if(e.type===Ow)e.value=t.toString();else if(e.type===kw)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function qw(t){return hI(function(r){t&&t("encoded: %o",r);let[n,i]=Fw(r);this.queue(n),i!==null&&this.queue(i)})}function Uw(t){let e=pI(),r=!1;return function(i){return e(i),function(o,a){if(r)return a(!0);if(o)return e.abort(o,a);e.read(9,function(u,l){if(u)return a(u);let f=$w(l);if(f.length===0)return r=!0,a(null,Aw);e.read(f.length,function(d,m){if(d)return a(d);try{Bw(m,f)}catch(g){return a(g)}t&&t("decoded: %o",f),a(null,f)})})}}}ir=Mw.exports=function(e,r){let n=r===!0?Nw("packet-stream-codec"):typeof r=="string"?Nw(r):null;return{source:qw(n)(e.source),sink(i){return e.sink(Uw(n)(i))}}};ir.encodePair=Fw;ir.decodeHead=$w;ir.decodeBody=Bw;ir.encode=qw;ir.decode=Uw});var Al=E((B1,Ww)=>{function mI(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}function gI(t){console.error("packet-stream asked to read after closed",t)}Ww.exports={flat:mI,closedread:gI}});var zw=E((q1,jw)=>{var{flat:Gw,closedread:EI}=Al();function Gs(t,e,r){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=r}Gs.prototype.write=function(t,e){let r=this._ps;e?(this.writeEnd=e,r&&(r.read({req:this.id,stream:!0,end:!0,value:Gw(e)}),this.readEnd&&this.destroy(e),r._maybedone(e))):r&&r.read({req:this.id,stream:!0,end:!1,value:t})};Gs.prototype.end=function(t){this.write(null,Gw(t||!0))};Gs.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=EI,this._ps=null)};jw.exports=Gs});var Zw=E((U1,Jw)=>{var Vw=zw(),{flat:Fl,closedread:wI}=Al();function Oe(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}Oe.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};Oe.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));let r=this._req_counter++;this._requests.set(r,(n,i)=>{this._requests.delete(r),e(n,i),this._maybedone(n)}),this.read({req:r,stream:!1,end:!1,value:t})};Oe.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let t=this._req_counter++,e=new Vw(t,this,()=>{this._outstreams.delete(t)});return this._outstreams.set(t,e),e};Oe.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};Oe.prototype.destroy=function(t){t=t||Fl(t),this.ended=t,this._closing=!0;let e=t===!0?new Error("unexpected end of parent stream"):t,r=0;this._requests.forEach(n=>{r++,n(e)}),this._instreams.forEach(n=>{r++,n.writeEnd=!0,n.destroy(e)}),this._outstreams.forEach(n=>{r++,n.writeEnd=!0,n.destroy(e)}),r===0&&t===!0&&(e=null),this._maybedone(e)};Oe.prototype._maybedone=function(t){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,t||!0),this._closed=!0,this._closecbs.forEach(e=>{e(t)}),this.opts=null,this._closecbs.length=0,this.read=wI,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};Oe.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};Oe.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};Oe.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};Oe.prototype._onrequest=function(t){let e=t.req*-1;if(t.req<0)this._requests.has(e)&&this._requests.get(e)(t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){let r=!1;this.opts.request(t.value,(n,i)=>{if(r)throw new Error("cb called twice from local api");r=!0,n?this.read({value:Fl(n),end:!0,req:e}):this.read({value:i,end:!1,req:e}),this._maybedone()})}else{if(this.ended){let r=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:Fl(r),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};Oe.prototype._onstream=function(t){if(t.req<0){let e=t.req*-1,r=this._outstreams.get(e);if(!r)return console.error("no stream for incoming msg",t);t.end?(r.writeEnd&&this._outstreams.delete(e),r.readEnd=!0,r.read(null,t.value),this._maybedone()):r.read(t.value)}else{let e=t.req,r=this._instreams.get(e);r||(r=new Vw(e*-1,this,()=>{this._instreams.delete(e)}),this._instreams.set(e,r),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(r)),t.end?(r.writeEnd&&this._instreams.delete(e),r.readEnd=!0,r.read&&r.read(null,t.value),this._maybedone()):r.read?r.read(t.value):console.error("no .read for stream:",r.id,"dropped:",t)}};Jw.exports=t=>new Oe(t)});var Xw=E((M1,Zn)=>{"use strict";var yI=Sn();function SI(t){let e=!1;return(r,n)=>{e||(e=!0,t(r,n))}}function $l(t,e){let r=[],n=!1,i=!1,s,o,a=SI((c,u)=>{e&&e(c,u),t=null,e=null,s=null,o&&o(c||!0,()=>{})});return t.read=function(c,u){if(n=n||u,s){let l=s;s=null,l(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,u){c?(t&&t.write(null,c),u(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?u(null,r.shift()):n?u(n):s=u},sink(c){if(n)return o=null,c(n,()=>{});o=c,yI.drain(u=>{if(n)return!1;t.write(u)},u=>{t&&!t.writeEnd&&t.write(null,u||!0),a&&a(u)})(c)}}}function Yw(t,e){return $l(t,r=>{t.writeEnd||t.write(null,r||!0),e&&e(r)})}function xI(t){return Yw(t).source}function vI(t,e){return Yw(t,e).sink}Zn.exports=$l;Zn.exports.source=xI;Zn.exports.sink=vI;Zn.exports.duplex=$l});var Qw=E((H1,Kw)=>{Kw.exports=function(e){var r,n,i;function s(o){return function(a,c){o(a,function(u,l){if(u&&!i)return i=!0,c(null,e);u&&r?c(u):u?n=c:c(null,l)})}}return s.end=function(){return r=!0,n&&n(r),s},s}});var ty=E((W1,ey)=>{var _I=Qw(),Bl=Sn();ey.exports=function(t,e){e=e||"GOODBYE";var r=_I(e);return{source:Bl(t.source,r),sink:Bl(Bl.filter(function(n){if(n!==e)return!0;r.end()}),t.sink)}}});var Yn=E(Me=>{"use strict";var js=Sn();function bI(t){return t?Object.keys(t).length===0:!0}Me.set=function(e,r,n){let i,s;for(let o=0;o<r.length;o++){let a=r[o];e[a]=e[a]||{},i=e,s=a,e=e[a]}i[s]=n};Me.get=function(e,r){if(typeof r=="string")return e[r];let n;for(let i=0;i<r.length;i++){let s=r[i];if(n=e=e[s],e==null)return e}return n};Me.prefix=function(e,r){let n;for(let i=0;i<r.length;i++){let s=r[i];if(n=e=e[s],typeof e!="object")return e}return typeof n!="object"?!!n:!1};function LI(t,e){for(let r in e){let n=e[r];t[n]||(t[n]={}),t=t[n]}return t}function RI(t,e){(function r(n,i){let s=e[i];if(n)e.length-1===i?delete n[s]:i<e.length&&r(n[s],i+1);else return;bI(n[s])&&delete n[s]})(t,0)}function PI(t,e){for(let r in e)t[r]=e[r];return t}Me.mount=function(e,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return PI(LI(e,r),n)};Me.unmount=function(e,r){return RI(e,r)};var zs=t=>t==="source",Vs=t=>t==="sink",ql=t=>t==="duplex",II=t=>t==="sync",CI=t=>t==="async",ry=t=>II(t)||CI(t),TI=t=>zs(t)||Vs(t)||ql(t);Me.isRequest=ry;Me.isStream=TI;function Ul(t){return function(e){e(t||!0,()=>{})}}function ny(t){return{source:js.error(t),sink:Ul(t)}}Me.errorAsStream=function(e,r){return zs(e)?js.error(r):Vs(e)?Ul(r):ny(r)};Me.errorAsStreamOrCb=function(e,r,n){return ry(e)?n(r):ql(e)?ny(r):zs(e)?js.error(r):Vs(e)?Ul(r):n(r)};Me.pipeToStream=function(e,r,n){zs(e)?r(n):Vs(e)?n(r):ql(e)&&js(r,n,r)}});var Ml=E((j1,iy)=>{"use strict";function NI(t){return typeof t=="string"?[`Error: ${t}`]:t.stack?t.stack.split(`
`):[`${t.name}: ${t.message}`]}iy.exports=function(e,r){let n=new Error(r),i=n.stack.split(`
`);i.splice(1,1);let s=NI(e);s[0]="  "+s[0];for(let o=1;o<i.length;o++)if(s.includes(i[o])){i.splice(o);break}return n.stack=i.concat(s).join(`
`),n}});var cy=E((z1,ay)=>{"use strict";var DI=Zw(),Hl=Xw(),OI=ty(),Zr=Yn(),sy=Ml(),oy=ps()("muxrpc:psc");ay.exports=function(e,r,n){let i=DI({message(){},request(o,a){if(!Array.isArray(o.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(o)}`));let c=o.name,u=o.args,l=!1,f=!1;u.push((h,d)=>{f=!0,l=!0,a(h,d)});try{e("async",c,u)}catch(h){if(l||f)throw sy(h,"no callback provided to muxrpc async funtion");a(h)}},stream(o){o.read=function(c,u){if(u)return o.write(null,u);let{name:l,type:f,args:h}=c,d,m;if(o.read=null,!Zr.isStream(f))return o.write(null,new Error(`unsupported stream type: ${f}`));try{m=e(f,l,h)}catch(p){d=p}let w=Hl[f==="source"?"sink":f==="sink"?"source":"duplex"](o);return Zr.pipeToStream(f,w,d?Zr.errorAsStream(f,d):m)}},close(o){if(i=null,s.ended=!0,!s.closed&&(s.closed=!0,n)){let a=n;n=null,a(o)}}}),s=OI(Hl(i,()=>{}));return s=r?r(s,oy.enabled?oy.namespace:!1):s,s.remoteCall=function(o,a,c,u){if(a==="emit")return i.message(c);if(!(Zr.isRequest(o)||Zr.isStream(o)))throw new Error(`unsupported type: ${JSON.stringify(o)}`);if(Zr.isRequest(o))return i.request({name:a,args:c},u);let l=i.stream(),f=Hl[o](l,u);return l.write({name:a,args:c,type:o}),f},s.isOpen=function(){return!i.ended},s.close=function(o,a){if(typeof o=="function"&&(a=o,o=!1),!i){a&&a();return}if(o){i.destroy(o),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw sy(c,"no callback provided for muxrpc close")}),this},s.closed=!1,s}});var uy=E((V1,ly)=>{"use strict";var kI=Ml(),AI=Yn();function Wl(t,e,r,n){for(let i in e){let s=e[i],o=r?r.concat(i):[i];if(s&&typeof s=="object"){let a=s;t[i]=Wl({},a,o,n)}else{let a=s;t[i]=(...c)=>n(a,o,c)}}return t}function FI(t){if(t)throw kI(t,"callback not provided")}function $I(t,e,r,n){t=t||{};function i(s,o,a){let c=typeof a[a.length-1]=="function"?a.pop():s==="sync"||s==="async"?null:FI;if(typeof c=="function"){let u;try{u=r(s,o,a,c)}catch(l){return AI.errorAsStreamOrCb(s,l,c)}return u}else return new Promise((u,l)=>{r(s,o,a,(f,h)=>{f?l(f):u(h)})})}return n?i("async","manifest",[function(s,o){if(s)return n(s);Wl(t,o,null,i),n(null,o,t)}]):Wl(t,e,null,i),t}ly.exports=$I});var hy=E((J1,dy)=>{"use strict";var Js=Yn();function fy(t){return Array.isArray(t)?t:t.split(".")}function BI(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}dy.exports=function(e){if(BI(e))return e;if(typeof e=="function")return{pre:e};let r=null,n={};function i(s){if(s.allow){r={};for(let o of s.allow)Js.set(r,fy(o),!0)}else r=null;if(s.deny)for(let o of s.deny)Js.set(n,fy(o),!0);else n={};return this}return e&&i(e),i.pre=s=>{if(s=Array.isArray(s)?s:[s],r&&!Js.prefix(r,s))return new Error(`method:${s} is not in list of allowed methods`);if(n&&Js.prefix(n,s))return new Error(`method:${s} is on list of disallowed methods`)},i.post=()=>{},i.test=s=>i.pre(s),i.get=()=>({allow:r,deny:n}),i}});var my=E((Z1,py)=>{"use strict";var qI=hy(),Gl=Yn();py.exports=function(e,r,n){n=qI(n);function i(o,a){return o===Gl.get(r,a)}function s(o,a,c){if(a==="emit")throw new Error("emit has been removed");if(o==="async"&&i("sync",a)){let u=c.pop(),l;try{l=Gl.get(e,a).apply(this,c)}catch(f){return u(f)}return u(null,l)}if(!i(o,a))throw new Error(`no ${o}:${a}`);return Gl.get(e,a).apply(this,c)}return function(a,c,u){let l=n.pre(c,u);if(l)throw l;return s.call(this,a,c,u)}}});var wy=E((Y1,Ey)=>{"use strict";var UI=Hw(),MI=require("events").EventEmitter,HI=cy(),WI=uy(),GI=my();function gy(t,e,r,n,i,s,o){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let c=new MI;s||(s=UI);let u,l={_emit(h,d){return c&&c._emit(h,d),l},id:n},f=HI(GI(r,e,i).bind(l),s,h=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),u)){let d=u;u=null,d(h)}});if(WI(c,t,(h,d,m,g)=>{if(f.closed)throw new Error("stream is closed");return f.remoteCall(h,d,m,g)},a),c._emit=c.emit,o){Object.__defineGetter__.call(c,"id",()=>l.id),Object.__defineSetter__.call(c,"id",d=>{l.id=d});let h=!0;c.createStream=d=>{if(u=d,h)return h=!1,f;throw new Error("one stream per rpc")}}else c.stream=f;return c.closed=!1,c.close=function(h,d){return f.close(h,d),this},c}Ey.exports=function(t,e,r){return arguments.length>3?gy.apply(this,arguments):function(n,i,s){return gy(t,e,n,s,i,r,!0)}}});var jl=E((ht,xy)=>{var X1=cc(),jI=kl();function yy(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function Sy(t,e,r){var n,i=!1,s;function o(){s||(s=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,u(),n?o():t(n=!0,o))}function c(l){u(),n||t(n=l,o)}function u(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",c)}e.on("close",a),e.on("finish",a),e.on("error",c),process.nextTick(function(){jI(function(l){t(null,function(f,h){if(n=n||f,f===!0)return e._isStdio?o():e.end();if(n=n||f)return yy(e),o(n);if(e._isStdio)e.write(h,function(){l()});else{var d=e.write(h);d===!1?e.once("drain",l):l()}})})})}function zI(t){var e=!1,r=!1,n;function i(){var s=t.read();if(s!==null&&n){var o=n;n=null,o(null,s)}}return t.on("readable",function(){r=!0,n&&i()}).on("end",function(){e=!0,n&&n(e)}).on("error",function(s){e=s,n&&n(e)}),function(s,o){n=o,e?o(e):r&&i()}}function Zs(t){var e=[],r=[],n,i=!1,s;function o(){for(;(e.length||n)&&r.length;)r.shift()(e.length?null:n,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),o(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){n=!0,o()}),t.on("close",function(){n=!0,o()}),t.on("error",function(a){n=a,o()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let l=function(){for(;r.length;)r.shift()(a);c(a)};var u=l;if(n)return l();t.once("close",l),yy(t)}else r.push(c),o()}}var VI=Zs,Ys=function(t,e){return function(r){return Sy(r,t,e)}},Xs=function(t){return Zs(t)};ht=xy.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return Sy(r,t,e),Zs(t)}:Ys(t,e):Xs(t)};ht.sink=Ys;ht.source=Xs;ht.read=VI;ht.read1=Zs;ht.read2=zI;ht.duplex=function(t,e){return{source:Xs(t),sink:Ys(t,e)}};ht.transform=function(t){return function(e){var r=Xs(t);return Ys(t)(e),r}}});var _y=E((K1,Ks)=>{var JI=require("stream");Ks.exports=zl;Ks.exports.source=function(t){return zl(null,t)};Ks.exports.sink=function(t){return zl(t,null)};var vy=typeof setImmediate>"u"?process.nextTick:setImmediate;function zl(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var r=[],n=[],i,s,o=new JI;o.writable=o.readable=!0,o.write=function(w){return r.length?r.shift()(null,w):n.push(w),r.length||(s=!0),!!r.length},o.end=function(){e?n.length?g():e(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},o.source=function(w,p){n.length?(p(null,n.shift()),n.length||o.emit("drain")):((i=i||w)?p(i):r.push(p),s&&(s=!1,o.emit("drain")))};var a;t&&(a=t(o.source)),a&&!e&&(e=a);var c=[],u=[],l=!1,f=!1,h=!1;if(o.sink=function(w){e=w,vy(g)},e){o.sink(e),o.paused=!0;var d=o.on.bind(o);o.on=(w,p)=>{var y=d(w,p);return w==="data"&&o.paused&&vy(o.resume.bind(o)),y};var m=o.pipe.bind(o);o.pipe=function(w,p){var y=m(w,p);return o.paused&&o.resume(),y}}function g(){if(f=!1,!(!e||h)){for(;c.length&&!o.paused;)o.emit("data",c.shift());if(!o.paused){if(l)return o.emit("end");h=!0,e(null,function w(p,y){h=!1,o.paused?(p===!0?l=p:p?o.emit("error",p):c.push(y),f=!0):p&&(i=p)!==!0?o.emit("error",p):(i=i||p)?o.emit("end"):(o.emit("data",y),h=!0,e(null,w))})}}}return o.pause=function(){return o.paused=!0,o},o.resume=function(){return o.paused=!1,g(),o},o.destroy=function(){!i&&e&&e(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),o.emit("close")},o}});var Ly=E((Q1,by)=>{by.exports=ZI;function ZI(t,e){typeof t=="function"&&(e=t,t=!1);var r=[],n,i;function s(f,h){f&&(n=f,i&&l(n)),i=h,u()}var o;function a(f){o=o||f||!0,u()}function c(f){if(!o){if(i){l(n,f);return}r.push(f)}}if(t)return{push:c,end:a,source:s,buffer:r};return s.push=c,s.end=a,s.buffer=r,s;function u(){i&&(n?l(n):!r.length&&o?l(o):r.length&&l(null,r.shift()))}function l(f,h){var d=i;if(f&&e){var m=e;e=null,m(f===!0?null:f)}i=null,d(f,h)}}});var oo=M(require("http"));async function ao(t){return new Promise((e,r)=>{let n=[];t.setEncoding("utf8"),t.on("data",i=>n.push(i)),t.on("error",i=>r(i)),t.on("end",()=>{let i=JSON.parse(n.join(""));e(i)})})}async function Xr(t,e){return new Promise((r,n)=>{let s=oo.request({socketPath:t,path:"/",method:"POST"},o=>r(o));s.on("error",o=>n(o)),s.write(e),s.end()})}var qy=M(require("path"));async function co(t){let e=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:r}=await t.exec(e,{logOutput:!1}),n=6,i=r.split(`
---
`),s=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,u,l,f,h])=>{let d=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(l)||[];return{pid:a,ppid:d[1],pgrp:d[2],cwd:c,mntNS:u,cmd:h.replace(/\0/g," "),env:f.split("\0").reduce((m,g)=>{let w=g.indexOf("=");return w!==-1&&(m[g.substr(0,w)]=g.substr(w+1)),m},{})}}),mntNS:s}}var nu=/VSCODE_REMOTE_CONTAINERS_SESSION=([^ ]+)/;async function ei(t){let{processes:e}=await co(t);return e.filter(r=>r.env.VSCODE_REMOTE_CONTAINERS_SESSION||nu.test(r.cmd)).map(r=>({...r,sessionId:r.env.VSCODE_REMOTE_CONTAINERS_SESSION||nu.exec(r.cmd)[1]}))}var eo=M(require("path")),Ny=M(require("stream"));var to=M(require("child_process")),Xl=require("string_decoder");var su=M(require("os")),Kr=M(require("fs")),ou=M(require("path"));var He=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(He||{}),iu={info:3,debug:2,trace:1},SC=Object.keys(iu).reduce((t,e)=>(t[iu[e]]=e,t),[]);var zy=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function au(t,e){let r=!!e;return{event:n=>{r&&(r=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(n))}}}function cu(t,e){let r=Zy(t);return{event(n){let i=Vy(n,e());i&&r.write(i)},join:r.join}}function pt(t,e=2){return{event:t.event,write(r,n=e){t.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=e){t.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=e){let i=Date.now();return t.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function Vy(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${lo(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${lo(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${lo(t.text)}`:void 0;default:throw Jy(t)}}function lo(t){return t.replace(zy,"").replace(/(\r?\n)?$/,su.EOL)}function Jy(t){return new Error(`Unknown log event type: ${t.type}`)}function Zy(t){let e=[],r=!1,n,i;function s(){r=!1,i&&!e.length&&(n=void 0,i(),i=void 0)}function o(a,c=!1){if(a&&e.push(a),!c&&!r&&e.length){r=!0;let u=e.join("");e.length=0,Kr.appendFile(t,u,l=>{l&&(l.code==="ENOENT"?Kr.mkdir(ou.dirname(t),{recursive:!0},f=>{f?(s(),console.error(f)):Kr.appendFile(t,u,h=>{s(),h&&console.error(h),o()})}):(s(),console.error(l))),s(),o()})}}return{write:o,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}function ke(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[31m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var lu;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(lu||(lu={}));var fu;(function(t){t.DEFAULT={allowTrailingComma:!1}})(fu||(fu={}));var du;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(du||(du={}));var hu;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(hu||(hu={}));var pu;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(pu||(pu={}));var Ry=M(rc());var XI=M(Sn());var av=M(require("path")),lc=require("string_decoder");var Be="\u2404";async function Ct(t,e,r,n="linux",i="Container"){let s=typeof t=="function",o=n==="win32",a=s?await t({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:o?"powershell":"/bin/sh",args:o?["-NoProfile","-Command","-"]:[],output:e}):t;if(!s){let h=o?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${Be}; /bin/sh'
`;a.stdin.write(h),await new Promise(m=>{let g="",w=new lc.StringDecoder;a.stdout.on("data",function p(y){g+=w.write(y),g.includes(h)&&(a.stdout.off("data",p),m())})})}let c=cv(a),u;async function l(h,d){let m=u=(async()=>{try{await u}catch{}return f(xn(n,h),d)})();try{return await Promise.race([m,c.unexpectedExit])}finally{c.disposeStdioListeners(),u===m&&(u=void 0)}}async function f(h,d){let m=`Run in ${i.toLowerCase()}: ${h.replace(/\n.*/g,"")}`,g;if((d==null?void 0:d.logOutput)!=="silent"&&(g=e.start(m,d==null?void 0:d.logLevel)),a.stdin.destroyed){e.write("Stdin closed!");let{code:R,signal:D}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${R}, signal: ${D})`,code:R,signal:D})}n==="win32"?a.stdin.write(`[Console]::Write('${Be}'); ( ${h} ); [Console]::Write("${Be}$LastExitCode ${Be}"); [Console]::Error.Write('${Be}')
`):a.stdin.write(`echo -n ${Be}; ( ${h} ); echo -n ${Be}$?${Be}; echo -n ${Be} >&2
`);let[w,p]=yp(a.stdout,[1,2],(d==null?void 0:d.logOutput)==="continuous"?(R,D,B)=>{D===1&&B===0&&e.write(R,d==null?void 0:d.logLevel)}:()=>{}),y=yp(a.stderr,[1],(d==null?void 0:d.logOutput)==="continuous"?(R,D,B)=>{D===0&&B===0&&e.write(R,d==null?void 0:d.logLevel)}:()=>{})[0];d!=null&&d.stdin&&(await w,a.stdin.write(d==null?void 0:d.stdin));let[S,b]=await p,[A]=await y,P=parseInt(b,10)||0;return((d==null?void 0:d.logOutput)===void 0||(d==null?void 0:d.logOutput)===!0)&&(e.write(S,d==null?void 0:d.logLevel),e.write(A,d==null?void 0:d.logLevel),P&&e.write(`Exit code ${P}`,d==null?void 0:d.logLevel)),(d==null?void 0:d.logOutput)==="continuous"&&P&&e.write(`Exit code ${P}`,d==null?void 0:d.logLevel),(d==null?void 0:d.logOutput)!=="silent"&&e.stop(m,g,d==null?void 0:d.logLevel),P?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${h}`,code:P,stdout:S,stderr:A}):{stdout:S,stderr:A}}return{exec:l,process:a,platform:n,path:xn(n,av)}}function yp(t,e,r){let n=e.map(()=>{let l;return{promise:new Promise((h,d)=>l={resolve:h,reject:d}),...l}}),i=new lc.StringDecoder("utf8"),s=[],o=0,a=[];function c(l){let f=i.write(l);u(f)}function u(l){let f=l.indexOf(Be);if(f!==-1){let h=l.substr(0,f);s.push(h),r(h,o,a.length),a.push(s.join("")),s.length=0,a.length===e[o]&&(n[o].resolve(a),o++,a=[],o===e.length&&t.off("data",c)),f+1<l.length&&u(l.substr(f+1))}else s.push(l),r(l,o,a.length)}return t.on("data",c),n.map(l=>l.promise)}function cv(t){let e,r=new Promise((c,u)=>e=u),n=[],i=[],s=c=>n.push(c),o=c=>i.push(c);return t.stdout.on("data",s),t.stderr.on("data",o),t.exit.then(({code:c,signal:u})=>{e(`Shell server terminated (code: ${c}, signal: ${u})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{e(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{t.stdout.off("data",s),t.stderr.off("data",o),n.length=0,i.length=0}}}var oI=M(Fp());var Hs=M(rc());var aI=M(Pg());var cI=M(nE()),lI=M(YE());var j=M(require("fs")),Xe=require("util");var Vn=(0,Xe.promisify)(j.readFile),WP=(0,Xe.promisify)(j.writeFile),WD=(0,Xe.promisify)(j.appendFile),XE=(0,Xe.promisify)(j.rename),KE=(0,Xe.promisify)(j.readdir),GP=(0,Xe.promisify)(j.unlink);var jP=(0,Xe.promisify)(j.rmdir),QE=(0,Xe.promisify)(j.rm),GD=(0,Xe.promisify)(j.copyFile);var QP=M(hw());async function Jr(t){return new Promise(e=>setTimeout(e,t))}var De=M(require("path")),xw=M(require("fs"));async function Ws(t,e=process.cwd(),r=process.env){if(process.platform!=="win32")return t;if(De.isAbsolute(t))return await Ol(t)||t;if(/[/\\]/.test(t)){let o=De.join(e,t);return await Ol(o)||o}let n,i;if(r){for(let o of Object.keys(r))if(o.toLowerCase()==="path"){let a=r[o];typeof a=="string"&&(n=a,i=a.split(De.delimiter).filter(Boolean),i.push(De.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(i===void 0||i.length===0){let o=new Error(`No PATH to look up executable '${t}'.`);throw o.code="ENOENT",o}for(let o of i){let a;De.isAbsolute(o)?a=De.join(o,t):a=De.join(e,o,t);let c=await Ol(a);if(c)return c}let s=new Error(`Exectuable '${t}' not found on PATH '${n}'.`);throw s.code="ENOENT",s}var ww=process.env.PATHEXT,yw=ww?ww.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function Ol(t){if(yw.indexOf(De.extname(t))!==-1)return await Sw(t)?t:void 0;for(let e of yw){let r=t+e;if(await Sw(r))return r}}function Sw(t){return new Promise(e=>xw.stat(t,(r,n)=>e(!r&&n.isFile())))}var jk=wy(),zk=jl(),Vk=_y(),Jk=Ly();var Qk=jl();var Cy=/^\\\\wsl(\.localhost|\$)?\\/;function Qs(t){return Cy.test(t.toLowerCase())}function Vl(t){let e=t.toLowerCase(),r=Cy.exec(e);if(!r)return"";let n=e.indexOf("\\",r[0].length);return t.substring(r[0].length,n)}async function Jl(t,e,r){let{stdout:n}=await xe({exec:Jn(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:r});return n.toString().trim()}function Yl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var gF=eo.join(__dirname,"..","..","node_modules",".bin","ts-node"),gw=eo.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function xe(t){let{exec:e,cmd:r,args:n,cwd:i,env:s,stdin:o,output:a,print:c}=t,u=await e({cmd:r,args:n,cwd:i,env:s,output:a});return new Promise((l,f)=>{let h=[],d=[],m=c==="continuous"?new Xl.StringDecoder:void 0;u.stdout.on("data",p=>{h.push(p),c==="continuous"&&a.write(m.write(p))}),u.stdout.on("error",p=>{if((p==null?void 0:p.code)!=="ENOTCONN")throw p});let g=c==="continuous"?new Xl.StringDecoder:void 0;u.stderr.on("data",p=>{d.push(p),c==="continuous"&&a.write(ke(g.write(p)))}),u.stderr.on("error",p=>{if((p==null?void 0:p.code)!=="ENOTCONN")throw p});let w=[];u.exit.then(({code:p})=>{try{w.forEach(b=>b.dispose());let y=Buffer.concat(h),S=Buffer.concat(d);(c===!0||p&&c==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(ke(S.toString()))),c&&p&&a.write(`Exit code ${p}`),p?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:y,stderr:S,code:p}):l({stdout:y,stderr:S})}catch(y){f(y)}},p=>{c&&(p!=null&&p.message)&&a.write(ke(p==null?void 0:p.message)),f(p)}),o instanceof Buffer?(u.stdin.write(o,p=>{p&&f(p)}),u.stdin.end()):o instanceof Ny.Readable?o.pipe(u.stdin):typeof o=="function"&&w.push(o(p=>u.stdin.write(p)))})}function Jn(t){return async function(e){let{cmd:r,args:n,output:i}=e,s=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,o=i.start(s),a=e.cwd||t,c=e.env?{...process.env,...e.env}:process.env,u=await Ws(r,a,c),l=to.spawn(u,n,{cwd:a,env:c,windowsHide:!0});return{stdin:l.stdin,stdout:l.stdout,stderr:l.stderr,exit:new Promise((f,h)=>{l.once("error",d=>{i.stop(s,o),h(d)}),l.once("close",(d,m)=>{i.stop(s,o),f({code:d,signal:m})})}),async terminate(){l.kill("SIGKILL")}}}}function Zl(t,e,r,n){return async function(i){let{env:s,cmd:o,args:a,output:c}=i,u=i.cwd||r,l=u?`cd '${u}' && `:"",f=Object.keys(s||{}).map(b=>s[b]===void 0?"":`${b}='${s[b]}' `).join(""),h=(a||[]).map(b=>` '${b.replace(/'/g,`'"'"'`)}'`).join(""),d=`${l}${f}${o}${h}`,m=d!==o?["/bin/sh","-c",d]:[d],g=[...e,...m],w=`Run: ${t} ${g.join(" ").replace(/\n.*/g,"")}`,p=c.start(w),y=await Ws(t,process.cwd(),process.env),S=to.spawn(y,g,{windowsHide:!0,env:n?{...process.env,...n}:void 0});return{stdin:S.stdin,stdout:S.stdout,stderr:S.stderr,exit:new Promise((b,A)=>{S.once("error",P=>{c.stop(w,p),A(P)}),S.once("close",(P,R)=>{c.stop(w,p),b({code:P,signal:R})})}),async terminate(){S.kill("SIGKILL")}}}}async function Yr(t,e){if(Qs(t)){let r=Vl(t),n=await Jl(r,t,e);return Zl("wsl",["-d",r,"-e"],n)}return Jn(t)}function xn(t,e){return e&&typeof e=="object"&&"win32"in e?t==="win32"?e.win32:e.posix:e}var eC=0;function ro(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++eC)}:{}}async function Xn(t,e){var i;let r,n;try{for(let s=0,o=4;s<o;s++)try{return await Kn(t,"rm","-f",e)}catch(a){let c=((i=a==null?void 0:a.stderr)==null?void 0:i.toString().toLowerCase())||"";if(s===o-1||!c.includes("already in progress"))throw a;n||(r=await tC(t,{container:[e],event:["destroy"]}),n=new Promise(u=>{r.stdout.on("data",()=>{u(),r.terminate(),n=new Promise(()=>{})})})),await Promise.race([n,Jr(1e3)])}}finally{r&&r.terminate()}throw new Error("Unreachable")}async function tC(t,e){let{exec:r,cmd:n,args:i,env:s,output:o}=no(t),a=[];for(let h in e)for(let d of e[h])a.push("--filter",`${h}=${d}`);let c="isPodman"in t&&t.isPodman?"json":"{{json .}}",u=(i||[]).concat(["events","--format",c,...a]),l=await r({cmd:n,args:u,env:s,output:o}),f=[];return l.stderr.on("data",h=>f.push(h)),l.exit.then(({code:h,signal:d})=>{f.length&&o.write(ke(Buffer.concat(f).toString())),(h||d&&d!=="SIGKILL")&&o.write(ke(`Docker events terminated (code: ${h}, signal: ${d}).`))},h=>{o.write(ke(h&&(h.stack||h.message)))}),l}async function Kn(t,...e){let r=no(t);return xe({...r,args:(r.args||[]).concat(e)})}async function Dy(t,...e){let r=no(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return xe({...r,args:(r.args||[]).concat(e)})}function Qn(t,e,r){return async function(n){let{exec:i,cmd:s,args:o,env:a}=no(t),{argsPrefix:c,args:u}=iC(e,r,n,!1);return i({cmd:s,args:(o||[]).concat(u),env:a,output:rC(n.output,s,c)})}}function rC(t,e,r){return nC(t,`Run: ${e} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function nC(t,e,r){let n=new RegExp(Yl(e),"g");return pt({...t,get dimensions(){return t.dimensions},event:s=>t.event("text"in s?{...s,text:s.text.replace(n,r)}:s)})}function iC(t,e,r,n){let{env:i,cwd:s,cmd:o,args:a}=r,c=["exec","-i"];n&&c.push("-t"),e&&c.push("-u",e),i&&Object.keys(i).forEach(l=>c.push("-e",`${l}=${i[l]}`)),s&&c.push("-w",s),c.push(t);let u=c.slice();return c.push(o),a&&c.push(...a),{argsPrefix:u,args:c}}function no(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.dockerEnv,...ro(t.dockerEnv)},output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.env,...ro(t.env)},output:t.output}:{...t,env:{...t.env,...ro(t.env)}}}async function Oy(t,e){let r={exec:await Yr(t.cwd,e),cmd:t.dockerCLI,env:t.env,output:e};if(t.rebuild){let{stdout:n,stderr:i}=await Xn(r,t.containerId);e.write("Command output: "+JSON.stringify({stdout:n.toString(),stderr:i.toString()}))}else if(!t.shutdownAction||t.shutdownAction==="stopCompose"){let n=Qn(r,t.containerId,t.user),i=await Ct(n,e);if((await ei(i)).filter(o=>o.sessionId!==t.sessionId).length===0){let o=["--project-name",t.projectName];t.composeFiles.forEach(c=>o.push("-f",c)),t.envFile&&o.push("--env-file",t.envFile),o.push("stop","-t","0"),t.runServices&&t.runServices.length&&(o.push(...t.runServices),t.runServices.indexOf(t.service)===-1&&o.push(t.service));let a;try{let c={...r,cmd:t.dockerComposeCLI.cmd,args:t.dockerComposeCLI.args};if(t.buildContainerRunArgs){let{stdout:f}=await Kn(r,...t.buildContainerRunArgs);a=f.toString().trim(),c={exec:Qn(r,a,"root"),cmd:"docker",args:["compose"],env:{},output:e}}let{stdout:u,stderr:l}=await Dy(c,...o);e.write("Command output: "+JSON.stringify({stdout:u.toString(),stderr:l.toString()}))}finally{a&&await Xn(r,a)}}}}async function ky(t,e){let r={exec:await Yr(t.cwd,e),cmd:t.dockerCLI,env:t.env,output:e};if(t.rebuild){let{stdout:n,stderr:i}=await Xn(r,t.containerId);e.write("Command output: "+JSON.stringify({stdout:n.toString(),stderr:i.toString()}))}else if(!t.shutdownAction||t.shutdownAction==="stopContainer"){let n=Qn(r,t.containerId,t.user),i=await Ct(n,e);if((await ei(i)).filter(o=>o.sessionId!==t.sessionId).length===0){let{stdout:o,stderr:a}=await Kn(r,"stop",t.containerId);e.write("Command output: "+JSON.stringify({stdout:o.toString(),stderr:a.toString()}))}}}var io=process.argv[2],Ay=process.argv[3],Kl=He[process.argv[4]]||3,sC=new Date(parseInt(process.argv[6],10)),Fy=process.argv[5]?qy.join(process.argv[5],`shutdownMonitor-${sC.toISOString().replace(/:/g,"-")}.log`):void 0,Ql=[],$y=Fy?cu(Fy,()=>Math.min(2,Kl)):void 0;$y&&Ql.push($y);Ql.push({event:t=>{1>=Kl&&Xr(io,JSON.stringify({type:"log",event:t})).catch(e=>{console.error(e)})}});var X=pt(au(Ql));X.write("Starting monitor process...");var oC=Date.now(),ve;(async()=>{let t=0;for(;;)try{let e=await Xr(io,JSON.stringify({type:"poll"})),r=await ao(e);X.write("Received message: "+JSON.stringify(r));for(let n of r)if(n.type==="cleanup"){try{await By(!0)}catch(i){X.write("Unexpected error: "+(i&&(i.stack||i.message)||String(i)))}return}else n.type==="configure"&&(ve=n.options,ve.logLevel&&(Kl=ve.logLevel),Xr(io,JSON.stringify({type:"reply",sequence:n.sequence})).catch(i=>{X.write("Error confirming configuration: "+(i&&(i.stack||i.message)||String(i)))}));t=0}catch(e){if(X.write("Error polling extension: "+(e&&(e.stack||e.message)||String(e))),e&&(e.code==="ECONNREFUSED"||e.code==="ENOENT")){await By(!1);return}++t>=5&&await Jr(1e3)}})().catch(t=>{X.write("Unexpected error: "+(t&&(t.stack||t.message)||String(t)))});async function By(t){if(X.write(`Cleaning up after ${Date.now()-oC} ms...`),ve)switch(ve.delay&&(X.write(`Delaying for ${ve.delay} ms.`),await Jr(ve.delay)),Ay){case"dockerCompose":await Oy(ve,X);break;case"singleContainer":await ky(ve,X);break;case"test":let{stdout:e,stderr:r}=await xe({exec:await Yr(ve.cwd,X),cmd:ve.cmd,args:ve.args,env:ve.env,output:X});X.write("Command output: "+JSON.stringify({stdout:e.toString(),stderr:r.toString()}));break;default:X.write(`Type does not exist: ${Ay}`);break}else X.write("Not configured!");if(X.write("Done."),t)try{let e=await Xr(io,JSON.stringify({type:"done"})),r=await ao(e);X.write("Received reply: "+JSON.stringify(r))}catch(e){X.write("Error confirming to extension: "+(e&&(e.stack||e.message)||String(e)))}}
//# sourceMappingURL=shutdownMonitorProcess.js.map
