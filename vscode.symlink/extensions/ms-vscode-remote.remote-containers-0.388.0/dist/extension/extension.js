/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var fQ=Object.create;var Zy=Object.defineProperty;var pQ=Object.getOwnPropertyDescriptor;var mQ=Object.getOwnPropertyNames;var hQ=Object.getPrototypeOf,gQ=Object.prototype.hasOwnProperty;var q=(e,t)=>()=>(e&&(t=e(e=0)),t);var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Zg=(e,t)=>{for(var n in t)Zy(e,n,{get:t[n],enumerable:!0})},oM=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mQ(t))!gQ.call(e,o)&&o!==n&&Zy(e,o,{get:()=>t[o],enumerable:!(r=pQ(t,o))||r.enumerable});return e};var G=(e,t,n)=>(n=e!=null?fQ(hQ(e)):{},oM(t||!e||!e.__esModule?Zy(n,"default",{value:e,enumerable:!0}):n,e)),Qg=e=>oM(Zy({},"__esModule",{value:!0}),e);var Ar=O((lbe,dM)=>{"use strict";var vQ=Object.create,eE=Object.defineProperty,xQ=Object.getOwnPropertyDescriptor,aM=Object.getOwnPropertyNames,wQ=Object.getPrototypeOf,yQ=Object.prototype.hasOwnProperty,EQ=(e,t)=>function(){return t||(0,e[aM(e)[0]])((t={exports:{}}).exports,t),t.exports},CQ=(e,t)=>{for(var n in t)eE(e,n,{get:t[n],enumerable:!0})},cM=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aM(t))!yQ.call(e,o)&&o!==n&&eE(e,o,{get:()=>t[o],enumerable:!(r=xQ(t,o))||r.enumerable});return e},bQ=(e,t,n)=>(n=e!=null?vQ(wQ(e)):{},cM(t||!e||!e.__esModule?eE(n,"default",{value:e,enumerable:!0}):n,e)),SQ=e=>cM(eE({},"__esModule",{value:!0}),e),_Q=EQ({"node_modules/request-light/lib/node/main.js"(e){(()=>{var t={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c,l,{signal:u}={}){return new Promise((d,p)=>{function f(){u==null||u.removeEventListener("abort",f),c.removeListener(l,m),c.removeListener("error",h)}function m(...v){f(),d(v)}function h(v){f(),p(v)}u==null||u.addEventListener("abort",f),c.on(l,m),c.on("error",h)})}},54:function(s,a,c){"use strict";var l=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};let u=c(361),d=l(c(374)),p=l(c(304)),f=d.default("agent-base");function m(){let{stack:v}=new Error;return typeof v=="string"&&v.split(`
`).some(g=>g.indexOf("(https.js:")!==-1||g.indexOf("node:https:")!==-1)}function h(v,g){return new h.Agent(v,g)}(function(v){class g extends u.EventEmitter{constructor(x,y){super();let E=y;typeof x=="function"?this.callback=x:x&&(E=x),this.timeout=null,E&&typeof E.timeout=="number"&&(this.timeout=E.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:m()?443:80}set defaultPort(x){this.explicitDefaultPort=x}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:m()?"https:":"http:"}set protocol(x){this.explicitProtocol=x}callback(x,y,E){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(x,y){let E=Object.assign({},y);typeof E.secureEndpoint!="boolean"&&(E.secureEndpoint=m()),E.host==null&&(E.host="localhost"),E.port==null&&(E.port=E.secureEndpoint?443:80),E.protocol==null&&(E.protocol=E.secureEndpoint?"https:":"http:"),E.host&&E.path&&delete E.path,delete E.agent,delete E.hostname,delete E._defaultAgent,delete E.defaultPort,delete E.createConnection,x._last=!0,x.shouldKeepAlive=!1;let P=!1,D=null,R=E.timeout||this.timeout,N=b=>{x._hadError||(x.emit("error",b),x._hadError=!0)},k=()=>{D=null,P=!0;let b=new Error(`A "socket" was not created for HTTP request before ${R}ms`);b.code="ETIMEOUT",N(b)},C=b=>{P||(D!==null&&(clearTimeout(D),D=null),N(b))},S=b=>{if(P)return;if(D!=null&&(clearTimeout(D),D=null),_=b,!!_&&typeof _.addRequest=="function")return f("Callback returned another Agent instance %o",b.constructor.name),void b.addRequest(x,E);var _;if(b)return b.once("free",()=>{this.freeSocket(b,E)}),void x.onSocket(b);let A=new Error(`no Duplex stream was returned to agent-base for \`${x.method} ${x.path}\``);N(A)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(f("Converting legacy callback function to promise"),this.promisifiedCallback=p.default(this.callback)):this.promisifiedCallback=this.callback),typeof R=="number"&&R>0&&(D=setTimeout(k,R)),"port"in E&&typeof E.port!="number"&&(E.port=Number(E.port));try{f("Resolving socket for %o request: %o",E.protocol,`${x.method} ${x.path}`),Promise.resolve(this.promisifiedCallback(x,E)).then(S,C)}catch(b){Promise.reject(b).catch(C)}}else N(new Error("`callback` is not defined"))}freeSocket(x,y){f("Freeing socket %o %o",x.constructor.name,y),x.destroy()}destroy(){f("Destroying agent %o",this.constructor.name)}}v.Agent=g,v.prototype=v.Agent.prototype})(h||(h={})),s.exports=h},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return function(l,u){return new Promise((d,p)=>{c.call(this,l,u,(f,m)=>{f?p(f):d(m)})})}}},370:function(s,a,c){"use strict";var l=this&&this.__awaiter||function(x,y,E,P){return new(E||(E=Promise))(function(D,R){function N(S){try{C(P.next(S))}catch(b){R(b)}}function k(S){try{C(P.throw(S))}catch(b){R(b)}}function C(S){var b;S.done?D(S.value):(b=S.value,b instanceof E?b:new E(function(_){_(b)})).then(N,k)}C((P=P.apply(x,y||[])).next())})},u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0});let d=u(c(808)),p=u(c(404)),f=u(c(310)),m=u(c(374)),h=u(c(46)),v=c(54),g=(0,m.default)("http-proxy-agent");class w extends v.Agent{constructor(y){let E;if(E=typeof y=="string"?f.default.parse(y):y,!E)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");g("Creating new HttpProxyAgent instance: %o",E),super(E);let P=Object.assign({},E);var D;this.secureProxy=E.secureProxy||typeof(D=P.protocol)=="string"&&/^https:?$/i.test(D),P.host=P.hostname||P.host,typeof P.port=="string"&&(P.port=parseInt(P.port,10)),!P.port&&P.host&&(P.port=this.secureProxy?443:80),P.host&&P.path&&(delete P.path,delete P.pathname),this.proxy=P}callback(y,E){return l(this,void 0,void 0,function*(){let{proxy:P,secureProxy:D}=this,R=f.default.parse(y.path),N;if(R.protocol||(R.protocol="http:"),R.hostname||(R.hostname=E.hostname||E.host||null),R.port==null&&(E.port,1)&&(R.port=String(E.port)),R.port==="80"&&(R.port=""),y.path=f.default.format(R),P.auth&&y.setHeader("Proxy-Authorization",`Basic ${Buffer.from(P.auth).toString("base64")}`),D?(g("Creating `tls.Socket`: %o",P),N=p.default.connect(P)):(g("Creating `net.Socket`: %o",P),N=d.default.connect(P)),y._header){let k,C;g("Regenerating stored HTTP header string for request"),y._header=null,y._implicitHeader(),y.output&&y.output.length>0?(g("Patching connection write() output buffer with updated header"),k=y.output[0],C=k.indexOf(`\r
\r
`)+4,y.output[0]=y._header+k.substring(C),g("Output buffer: %o",y.output)):y.outputData&&y.outputData.length>0&&(g("Patching connection write() output buffer with updated header"),k=y.outputData[0].data,C=k.indexOf(`\r
\r
`)+4,y.outputData[0].data=y._header+k.substring(C),g("Output buffer: %o",y.outputData[0].data))}return yield(0,h.default)(N,"connect"),N})}}a.default=w},201:function(s,a,c){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(c(370));function u(d){return new l.default(d)}(function(d){d.HttpProxyAgent=l.default,d.prototype=l.default.prototype})(u||(u={})),s.exports=u},146:function(s,a,c){"use strict";var l=this&&this.__awaiter||function(E,P,D,R){return new(D||(D=Promise))(function(N,k){function C(_){try{b(R.next(_))}catch(A){k(A)}}function S(_){try{b(R.throw(_))}catch(A){k(A)}}function b(_){var A;_.done?N(_.value):(A=_.value,A instanceof D?A:new D(function(L){L(A)})).then(C,S)}b((R=R.apply(E,P||[])).next())})},u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(a,"__esModule",{value:!0});let d=u(c(808)),p=u(c(404)),f=u(c(310)),m=u(c(491)),h=u(c(374)),v=c(54),g=u(c(829)),w=h.default("https-proxy-agent:agent");class x extends v.Agent{constructor(P){let D;if(D=typeof P=="string"?f.default.parse(P):P,!D)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");w("creating new HttpsProxyAgent instance: %o",D),super(D);let R=Object.assign({},D);var N;this.secureProxy=D.secureProxy||typeof(N=R.protocol)=="string"&&/^https:?$/i.test(N),R.host=R.hostname||R.host,typeof R.port=="string"&&(R.port=parseInt(R.port,10)),!R.port&&R.host&&(R.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in R)&&(R.ALPNProtocols=["http 1.1"]),R.host&&R.path&&(delete R.path,delete R.pathname),this.proxy=R}callback(P,D){return l(this,void 0,void 0,function*(){let{proxy:R,secureProxy:N}=this,k;N?(w("Creating `tls.Socket`: %o",R),k=p.default.connect(R)):(w("Creating `net.Socket`: %o",R),k=d.default.connect(R));let C=Object.assign({},R.headers),S=`CONNECT ${D.host}:${D.port} HTTP/1.1\r
`;R.auth&&(C["Proxy-Authorization"]=`Basic ${Buffer.from(R.auth).toString("base64")}`);let{host:b,port:_,secureEndpoint:A}=D;(function(j,J){return!!(!J&&j===80||J&&j===443)})(_,A)||(b+=`:${_}`),C.Host=b,C.Connection="close";for(let j of Object.keys(C))S+=`${j}: ${C[j]}\r
`;let L=g.default(k);k.write(`${S}\r
`);let{statusCode:T,buffered:$}=yield L;if(T===200){if(P.once("socket",y),D.secureEndpoint){w("Upgrading socket connection to TLS");let j=D.servername||D.host;return p.default.connect(Object.assign(Object.assign({},function(J,...fe){let Ne={},ke;for(ke in J)fe.includes(ke)||(Ne[ke]=J[ke]);return Ne}(D,"host","hostname","path","port")),{socket:k,servername:j}))}return k}k.destroy();let Y=new d.default.Socket({writable:!1});return Y.readable=!0,P.once("socket",j=>{w("replaying proxy buffer for failed request"),m.default(j.listenerCount("data")>0),j.push($),j.push(null)}),Y})}}function y(E){E.resume()}a.default=x},18:function(s,a,c){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(c(146));function u(d){return new l.default(d)}(function(d){d.HttpsProxyAgent=l.default,d.prototype=l.default.prototype})(u||(u={})),s.exports=u},829:function(s,a,c){"use strict";var l=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0});let u=l(c(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(d){return new Promise((p,f)=>{let m=0,h=[];function v(){let x=d.read();x?function(y){h.push(y),m+=y.length;let E=Buffer.concat(h,m);if(E.indexOf(`\r
\r
`)===-1)return u("have not received end of HTTP headers yet..."),void v();let P=E.toString("ascii",0,E.indexOf(`\r
`)),D=+P.split(" ")[1];u("got proxy server response: %o",P),p({statusCode:D,buffered:E})}(x):d.once("readable",v)}function g(x){u("onclose had error %o",x)}function w(){u("onend")}d.on("error",function x(y){d.removeListener("end",w),d.removeListener("error",x),d.removeListener("close",g),d.removeListener("readable",v),u("onerror %o",y),f(y)}),d.on("close",g),d.on("end",w),v()})}},539:function(s,a,c){"use strict";var l,u=this&&this.__extends||(l=function(N,k){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,S){C.__proto__=S}||function(C,S){for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(C[b]=S[b])},l(N,k)},function(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function C(){this.constructor=N}l(N,k),N.prototype=k===null?Object.create(k):(C.prototype=k.prototype,new C)}),d=this&&this.__assign||function(){return d=Object.assign||function(N){for(var k,C=1,S=arguments.length;C<S;C++)for(var b in k=arguments[C])Object.prototype.hasOwnProperty.call(k,b)&&(N[b]=k[b]);return N},d.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var p=c(685),f=c(687),m=c(310),h=c(472),v=c(796),g=c(201),w=c(18);if(process.env.VSCODE_NLS_CONFIG){var x=process.env.VSCODE_NLS_CONFIG;h.config(JSON.parse(x))}var y=h.loadMessageBundle(),E=void 0,P=!0;function D(N){var k;return new Promise(function(C,S){var b=(0,m.parse)(N.url),_={hostname:b.hostname,agent:!!N.agent&&N.agent,port:b.port?parseInt(b.port):b.protocol==="https:"?443:80,path:b.path,method:N.type||"GET",headers:N.headers,rejectUnauthorized:typeof N.strictSSL!="boolean"||N.strictSSL};N.user&&N.password&&(_.auth=N.user+":"+N.password);var A=function(L){if(L.statusCode>=300&&L.statusCode<400&&N.followRedirects&&N.followRedirects>0&&L.headers.location){var T=L.headers.location;T.startsWith("/")&&(T=(0,m.format)({protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:T})),C(D(function($){for(var Y=[],j=1;j<arguments.length;j++)Y[j-1]=arguments[j];return Y.forEach(function(J){return Object.keys(J).forEach(function(fe){return $[fe]=J[fe]})}),$}({},N,{url:T,followRedirects:N.followRedirects-1})))}else C({req:k,res:L})};(k=b.protocol==="https:"?f.request(_,A):p.request(_,A)).on("error",S),N.timeout&&k.setTimeout(N.timeout),N.data&&k.write(N.data),k.end(),N.token&&(N.token.isCancellationRequested&&k.destroy(new R),N.token.onCancellationRequested(function(){k.destroy(new R)}))})}a.configure=function(N,k){E=N,P=k},a.xhr=function(N){return typeof(N=d({},N)).strictSSL!="boolean"&&(N.strictSSL=P),N.agent||(N.agent=function(k,C){C===void 0&&(C={});var S=(0,m.parse)(k),b=C.proxyUrl||function(L){return L.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:L.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(S);if(!b)return null;var _=(0,m.parse)(b);if(!/^https?:$/.test(_.protocol))return null;var A={host:_.hostname,port:Number(_.port),auth:_.auth,rejectUnauthorized:typeof C.strictSSL!="boolean"||C.strictSSL,protocol:_.protocol};return S.protocol==="http:"?g(A):w(A)}(N.url,{proxyUrl:E,strictSSL:P})),typeof N.followRedirects!="number"&&(N.followRedirects=5),D(N).then(function(k){return new Promise(function(C,S){var b,_,A=k.res,L=A,T=!1,$=A.headers&&A.headers["content-encoding"];if($&&(b=N.type,_=k.res.statusCode,!(b==="HEAD"||_>=100&&_<200||_===204||_===304))){var Y={flush:v.constants.Z_SYNC_FLUSH,finishFlush:v.constants.Z_SYNC_FLUSH};if($==="gzip"){var j=v.createGunzip(Y);A.pipe(j),L=j}else if($==="deflate"){var J=v.createInflate(Y);A.pipe(J),L=J}}var fe=[];L.on("data",function(Ne){return fe.push(Ne)}),L.on("end",function(){if(!T){if(T=!0,N.followRedirects>0&&(A.statusCode>=300&&A.statusCode<=303||A.statusCode===307)){var Ne=A.headers.location;if(Ne.startsWith("/")){var ke=(0,m.parse)(N.url);Ne=(0,m.format)({protocol:ke.protocol,hostname:ke.hostname,port:ke.port,pathname:Ne})}if(Ne){var Xe={type:N.type,url:Ne,user:N.user,password:N.password,headers:N.headers,timeout:N.timeout,followRedirects:N.followRedirects-1,data:N.data,token:N.token};return void(0,a.xhr)(Xe).then(C,S)}}var Ke=Buffer.concat(fe),Ct={responseText:Ke.toString(),body:Ke,status:A.statusCode,headers:A.headers||{}};A.statusCode>=200&&A.statusCode<300||A.statusCode===1223?C(Ct):S(Ct)}}),L.on("error",function(Ne){var ke;ke=R.is(Ne)?Ne:{responseText:y("error","Unable to access {0}. Error: {1}",N.url,Ne.message),body:Buffer.concat(fe),status:500,headers:{}},T=!0,S(ke)}),N.token&&(N.token.isCancellationRequested&&L.destroy(new R),N.token.onCancellationRequested(function(){L.destroy(new R)}))})},function(k){var C;return C=R.is(k)?k:{responseText:N.agent?y("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",N.url,k.message):y("error.cannot.connect","Unable to connect to {0}. Error: {1}",N.url,k.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(C)})},a.getErrorStatusDescription=function(N){if(!(N<400))switch(N){case 400:return y("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return y("status.401","Unauthorized. The server is refusing to respond.");case 403:return y("status.403","Forbidden. The server is refusing to respond.");case 404:return y("status.404","Not Found. The requested location could not be found.");case 405:return y("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return y("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return y("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return y("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return y("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return y("status.410","Gone. The requested page is no longer available.");case 411:return y("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return y("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return y("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return y("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return y("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return y("status.500","Internal Server Error.");case 501:return y("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return y("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return y("status.416","HTTP status code {0}",N)}};var R=function(N){function k(){var C=N.call(this,"The user aborted a request")||this;return C.name="AbortError",Object.setPrototypeOf(C,k.prototype),C}return u(k,N),k.is=function(C){return C instanceof k},k}(Error)},800:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var l,u,d,p=c(926);function f(h){return h!==void 0}function m(h,v){return a.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v.length===0?h:h.replace(/\{(\d+)\}/g,function(g,w){var x=w[0],y=v[x],E=g;return typeof y=="string"?E=y:typeof y!="number"&&typeof y!="boolean"&&y!=null||(E=String(y)),E})}(d=a.MessageFormat||(a.MessageFormat={})).file="file",d.bundle="bundle",d.both="both",(u=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",u.languagePack="languagePack",function(h){h.is=function(v){var g=v;return g&&f(g.key)&&f(g.comment)}}(l||(l={})),a.isDefined=f,a.isPseudo=!1,a.setPseudo=function(h){a.isPseudo=h},a.format=m,a.localize=function(h,v){for(var g=[],w=2;w<arguments.length;w++)g[w-2]=arguments[w];return m(v,g)},a.loadMessageBundle=function(h){return(0,p.default)().loadMessageBundle(h)},a.config=function(h){return(0,p.default)().config(h)}},926:(s,a)=>{"use strict";var c;function l(){if(c===void 0)throw new Error("No runtime abstraction layer installed");return c}Object.defineProperty(a,"__esModule",{value:!0}),function(u){u.install=function(d){if(d===void 0)throw new Error("No runtime abstraction layer provided");c=d}}(l||(l={})),a.default=l},472:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var l=c(17),u=c(147),d=c(926),p=c(800),f=c(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return f.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return f.BundleFormat}});var m,h,v=Object.prototype.toString;function g(k){return v.call(k)==="[object Number]"}function w(k){return v.call(k)==="[object String]"}function x(k){return JSON.parse(u.readFileSync(k,"utf8"))}function y(k){return function(C,S){for(var b=[],_=2;_<arguments.length;_++)b[_-2]=arguments[_];return g(C)?C>=k.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,p.format)(k[C],b):w(S)?(console.warn("Message ".concat(S," didn't get externalized correctly.")),(0,p.format)(S,b)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function E(k,C){return m[k]=C,C}function P(k){try{return function(C){var S=x(l.join(C,"nls.metadata.json")),b=Object.create(null);for(var _ in S){var A=S[_];b[_]=A.messages}return b}(k)}catch(C){return void console.log("Generating default bundle from meta data failed.",C)}}function D(k,C){var S;if(h.languagePackSupport===!0&&h.cacheRoot!==void 0&&h.languagePackId!==void 0&&h.translationsConfigFile!==void 0&&h.translationsConfig!==void 0)try{S=function(_,A){var L,T,$,Y=l.join(h.cacheRoot,"".concat(_.id,"-").concat(_.hash,".json")),j=!1,J=!1;try{return L=JSON.parse(u.readFileSync(Y,{encoding:"utf8",flag:"r"})),T=Y,$=new Date,u.utimes(T,$,$,function(){}),L}catch(fe){if(fe.code==="ENOENT")J=!0;else{if(!(fe instanceof SyntaxError))throw fe;console.log("Syntax error parsing message bundle: ".concat(fe.message,".")),u.unlink(Y,function(Ne){Ne&&console.error("Deleting corrupted bundle ".concat(Y," failed."))}),j=!0}}if(L=function(fe,Ne){var ke=h.translationsConfig[fe.id];if(ke){var Xe=x(ke).contents,Ke=x(l.join(Ne,"nls.metadata.json")),Ct=Object.create(null);for(var Je in Ke){var ct=Ke[Je],K=Xe["".concat(fe.outDir,"/").concat(Je)];if(K){for(var ae=[],he=0;he<ct.keys.length;he++){var Ee=ct.keys[he],Ce=K[w(Ee)?Ee:Ee.key];Ce===void 0&&(Ce=ct.messages[he]),ae.push(Ce)}Ct[Je]=ae}else Ct[Je]=ct.messages}return Ct}}(_,A),!L||j)return L;if(J)try{u.writeFileSync(Y,JSON.stringify(L),{encoding:"utf8",flag:"wx"})}catch(fe){if(fe.code==="EEXIST")return L;throw fe}return L}(k,C)}catch(_){console.log("Load or create bundle failed ",_)}if(!S){if(h.languagePackSupport)return P(C);var b=function(_){for(var A=h.language;A;){var L=l.join(_,"nls.bundle.".concat(A,".json"));if(u.existsSync(L))return L;var T=A.lastIndexOf("-");A=T>0?A.substring(0,T):void 0}if(A===void 0&&(L=l.join(_,"nls.bundle.json"),u.existsSync(L)))return L}(C);if(b)try{return x(b)}catch(_){console.log("Loading in the box message bundle failed.",_)}S=P(C)}return S}function R(k){if(!k)return p.localize;var C=l.extname(k);if(C&&(k=k.substr(0,k.length-C.length)),h.messageFormat===p.MessageFormat.both||h.messageFormat===p.MessageFormat.bundle){var S=function(j){for(var J,fe=l.dirname(j);J=l.join(fe,"nls.metadata.header.json"),!u.existsSync(J);){var Ne=l.dirname(fe);if(Ne===fe){J=void 0;break}fe=Ne}return J}(k);if(S){var b=l.dirname(S),_=m[b];if(_===void 0)try{var A=JSON.parse(u.readFileSync(S,"utf8"));try{var L=D(A,b);_=E(b,L?{header:A,nlsBundle:L}:null)}catch(j){console.error("Failed to load nls bundle",j),_=E(b,null)}}catch(j){console.error("Failed to read header file",j),_=E(b,null)}if(_){var T=k.substr(b.length+1).replace(/\\/g,"/"),$=_.nlsBundle[T];return $===void 0?(console.error("Messages for file ".concat(k," not found. See console for details.")),function(){return"Messages not found."}):y($)}}}if(h.messageFormat===p.MessageFormat.both||h.messageFormat===p.MessageFormat.file)try{var Y=x(function(j){var J;if(!(h.cacheLanguageResolution&&J)){if(p.isPseudo||!h.language)J=".nls.json";else for(var fe=h.language;fe;){var Ne=".nls."+fe+".json";if(u.existsSync(j+Ne)){J=Ne;break}var ke=fe.lastIndexOf("-");ke>0?fe=fe.substring(0,ke):(J=".nls.json",fe=null)}h.cacheLanguageResolution}return j+J}(k));return Array.isArray(Y)?y(Y):(0,p.isDefined)(Y.messages)&&(0,p.isDefined)(Y.keys)?y(Y.messages):(console.error("String bundle '".concat(k,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(j){j.code!=="ENOENT"&&console.error("Failed to load single file bundle",j)}return console.error("Failed to load message bundle for file ".concat(k)),function(){return"Failed to load message bundle. See console for details."}}function N(k){return k&&(w(k.locale)&&(h.locale=k.locale.toLowerCase(),h.language=h.locale,m=Object.create(null)),k.messageFormat!==void 0&&(h.messageFormat=k.messageFormat),k.bundleFormat===p.BundleFormat.standalone&&h.languagePackSupport===!0&&(h.languagePackSupport=!1)),(0,p.setPseudo)(h.locale==="pseudo"),R}(function(){if(h={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:p.MessageFormat.bundle},w(process.env.VSCODE_NLS_CONFIG))try{var k=JSON.parse(process.env.VSCODE_NLS_CONFIG),C=void 0;if(k.availableLanguages){var S=k.availableLanguages["*"];w(S)&&(C=S)}if(w(k.locale)&&(h.locale=k.locale.toLowerCase()),C===void 0?h.language=h.locale:C!=="en"&&(h.language=C),function(_){return _===!0||_===!1}(k._languagePackSupport)&&(h.languagePackSupport=k._languagePackSupport),w(k._cacheRoot)&&(h.cacheRoot=k._cacheRoot),w(k._languagePackId)&&(h.languagePackId=k._languagePackId),w(k._translationsConfigFile)){h.translationsConfigFile=k._translationsConfigFile;try{h.translationsConfig=x(h.translationsConfigFile)}catch{if(k._corruptedFile){var b=l.dirname(k._corruptedFile);u.exists(b,function(A){A&&u.writeFile(k._corruptedFile,"corrupted","utf8",function(L){console.error(L)})})}}}}catch{}(0,p.setPseudo)(h.locale==="pseudo"),m=Object.create(null)})(),a.loadMessageBundle=R,a.config=N,d.default.install(Object.freeze({loadMessageBundle:R,config:N}))},374:(s,a)=>{function c(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){return c}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},n={},r=function s(a){var c=n[a];if(c!==void 0)return c.exports;var l=n[a]={exports:{}};return t[a].call(l.exports,l,l.exports,s),l.exports}(539),o=e;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()}}),lM={};CQ(lM,{config:()=>kQ,t:()=>uM});dM.exports=SQ(lM);var DQ=require("fs"),PQ=require("fs/promises"),iM=bQ(_Q());async function IQ(e){if(e.protocol==="file:")return await(0,PQ.readFile)(e,"utf8");if(e.protocol==="http:"||e.protocol==="https:")try{let t=await(0,iM.xhr)({url:e.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(t.body)}catch(t){throw new Error(t.responseText??(0,iM.getErrorStatusDescription)(t.status)??t.toString())}throw new Error("Unsupported protocol")}function TQ(e){return(0,DQ.readFileSync)(e,"utf8")}var gd;function kQ(e){if("contents"in e){typeof e.contents=="string"?gd=JSON.parse(e.contents):gd=e.contents;return}if("fsPath"in e){let t=TQ(e.fsPath),n=JSON.parse(t);gd=sM(n)?n.contents.bundle:n;return}if(e.uri){let t=e.uri;return typeof e.uri=="string"&&(t=new URL(e.uri)),new Promise((n,r)=>{let o=IQ(t).then(i=>{try{let s=JSON.parse(i);gd=sM(s)?s.contents.bundle:s}catch(s){r(s)}}).catch(i=>{r(i)});n(o)})}}function uM(...e){let t=e[0],n,r,o;if(typeof t=="string")n=t,r=t,e.splice(0,1),o=!e||typeof e[0]!="object"?e:e[0];else if(t instanceof Array){let s=e.slice(1);if(t.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=t[0];for(let c=1;c<t.length;c++)a+=`{${c-1}}`+t[c];return uM(a,...s)}else r=t.message,n=r,t.comment&&t.comment.length>0&&(n+=`/${Array.isArray(t.comment)?t.comment.join(""):t.comment}`),o=t.args??{};let i=gd==null?void 0:gd[n];return i?typeof i=="string"?Qy(i,o):i.comment?Qy(i.message,o):Qy(r,o):Qy(r,o)}var RQ=/{([^}]+)}/g;function Qy(e,t){return e.replace(RQ,(n,r)=>t[r]??n)}function sM(e){var t;return typeof((t=e==null?void 0:e.contents)==null?void 0:t.bundle)=="object"&&typeof(e==null?void 0:e.version)=="string"}});var LM=O((Rbe,NM)=>{var Tp=1e3,kp=Tp*60,Rp=kp*60,Ed=Rp*24,GQ=Ed*7,KQ=Ed*365.25;NM.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return JQ(e);if(n==="number"&&isFinite(e))return t.long?ZQ(e):XQ(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function JQ(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*KQ;case"weeks":case"week":case"w":return n*GQ;case"days":case"day":case"d":return n*Ed;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Rp;case"minutes":case"minute":case"mins":case"min":case"m":return n*kp;case"seconds":case"second":case"secs":case"sec":case"s":return n*Tp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function XQ(e){var t=Math.abs(e);return t>=Ed?Math.round(e/Ed)+"d":t>=Rp?Math.round(e/Rp)+"h":t>=kp?Math.round(e/kp)+"m":t>=Tp?Math.round(e/Tp)+"s":e+"ms"}function ZQ(e){var t=Math.abs(e);return t>=Ed?lE(e,t,Ed,"day"):t>=Rp?lE(e,t,Rp,"hour"):t>=kp?lE(e,t,kp,"minute"):t>=Tp?lE(e,t,Tp,"second"):e+" ms"}function lE(e,t,n,r){var o=t>=n*1.5;return Math.round(e/n)+" "+r+(o?"s":"")}});var aI=O((Nbe,AM)=>{function QQ(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=LM(),n.destroy=l,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){let d,p=null,f,m;function h(...v){if(!h.enabled)return;let g=h,w=Number(new Date),x=w-(d||w);g.diff=x,g.prev=d,g.curr=w,d=w,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let y=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(P,D)=>{if(P==="%%")return"%";y++;let R=n.formatters[D];if(typeof R=="function"){let N=v[y];P=R.call(g,N),v.splice(y,1),y--}return P}),n.formatArgs.call(g,v),(g.log||n.log).apply(g,v)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(f!==n.namespaces&&(f=n.namespaces,m=n.enabled(u)),m),set:v=>{p=v}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){let p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function o(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d,p=(typeof u=="string"?u:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){let u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}AM.exports=QQ});var FM=O((Go,uE)=>{Go.formatArgs=tee;Go.save=nee;Go.load=ree;Go.useColors=eee;Go.storage=oee();Go.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Go.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function eee(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function tee(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+uE.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),e.splice(r,0,t)}Go.log=console.debug||console.log||(()=>{});function nee(e){try{e?Go.storage.setItem("debug",e):Go.storage.removeItem("debug")}catch{}}function ree(){let e;try{e=Go.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function oee(){try{return localStorage}catch{}}uE.exports=aI()(Go);var{formatters:iee}=uE.exports;iee.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var UM=O((Lbe,OM)=>{"use strict";OM.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return r!==-1&&(o===-1?!0:r<o)}});var $M=O((Abe,MM)=>{"use strict";var see=require("os"),Qi=UM(),Fr=process.env,Np;Qi("no-color")||Qi("no-colors")||Qi("color=false")?Np=!1:(Qi("color")||Qi("colors")||Qi("color=true")||Qi("color=always"))&&(Np=!0);"FORCE_COLOR"in Fr&&(Np=Fr.FORCE_COLOR.length===0||parseInt(Fr.FORCE_COLOR,10)!==0);function aee(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function cee(e){if(Np===!1)return 0;if(Qi("color=16m")||Qi("color=full")||Qi("color=truecolor"))return 3;if(Qi("color=256"))return 2;if(e&&!e.isTTY&&Np!==!0)return 0;let t=Np?1:0;if(process.platform==="win32"){let n=see.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Fr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Fr)||Fr.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Fr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Fr.TEAMCITY_VERSION)?1:0;if(Fr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Fr){let n=parseInt((Fr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Fr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Fr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Fr.TERM)||"COLORTERM"in Fr?1:(Fr.TERM==="dumb",t)}function cI(e){let t=cee(e);return aee(t)}MM.exports={supportsColor:cI,stdout:cI(process.stdout),stderr:cI(process.stderr)}});var HM=O((yr,fE)=>{var lee=require("tty"),dE=require("util");yr.init=gee;yr.log=pee;yr.formatArgs=dee;yr.save=mee;yr.load=hee;yr.useColors=uee;yr.destroy=dE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");yr.colors=[6,2,3,4,5,1];try{let e=$M();e&&(e.stderr||e).level>=2&&(yr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}yr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,i)=>i.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function uee(){return"colors"in yr.inspectOpts?!!yr.inspectOpts.colors:lee.isatty(process.stderr.fd)}function dee(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${o};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(o+"m+"+fE.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=fee()+t+" "+e[0]}function fee(){return yr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function pee(...e){return process.stderr.write(dE.format(...e)+`
`)}function mee(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function hee(){return process.env.DEBUG}function gee(e){e.inspectOpts={};let t=Object.keys(yr.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=yr.inspectOpts[t[n]]}fE.exports=aI()(yr);var{formatters:jM}=fE.exports;jM.o=function(e){return this.inspectOpts.colors=this.useColors,dE.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};jM.O=function(e){return this.inspectOpts.colors=this.useColors,dE.inspect(e,this.inspectOpts)}});var pE=O((Fbe,lI)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?lI.exports=FM():lI.exports=HM()});var qM=O((Obe,BM)=>{var cv;BM.exports=function(){if(!cv){try{cv=pE()("follow-redirects")}catch{}typeof cv!="function"&&(cv=function(){})}cv.apply(null,arguments)}});var pv=O((Ube,EI)=>{var dv=require("url"),lv=dv.URL,vee=require("http"),xee=require("https"),mI=require("stream").Writable,hI=require("assert"),WM=qM(),gI=!1;try{hI(new lv)}catch(e){gI=e.code==="ERR_INVALID_URL"}var wee=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],vI=["abort","aborted","connect","error","socket","timeout"],xI=Object.create(null);vI.forEach(function(e){xI[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}});var dI=fv("ERR_INVALID_URL","Invalid URL",TypeError),fI=fv("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),yee=fv("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",fI),Eee=fv("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Cee=fv("ERR_STREAM_WRITE_AFTER_END","write after end"),bee=mI.prototype.destroy||VM;function Co(e,t){mI.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(r){try{n._processResponse(r)}catch(o){n.emit("error",o instanceof fI?o:new fI({cause:o}))}},this._performRequest()}Co.prototype=Object.create(mI.prototype);Co.prototype.abort=function(){yI(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Co.prototype.destroy=function(e){return yI(this._currentRequest,e),bee.call(this,e),this};Co.prototype.write=function(e,t,n){if(this._ending)throw new Cee;if(!Cd(e)&&!Dee(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(uv(t)&&(n=t,t=null),e.length===0){n&&n();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new Eee),this.abort())};Co.prototype.end=function(e,t,n){if(uv(e)?(n=e,e=t=null):uv(t)&&(n=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,o=this._currentRequest;this.write(e,t,function(){r._ended=!0,o.end(null,null,n)}),this._ending=!0}};Co.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Co.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Co.prototype.setTimeout=function(e,t){var n=this;function r(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function o(s){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),i()},e),r(s)}function i(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",i),n.removeListener("error",i),n.removeListener("response",i),n.removeListener("close",i),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",r),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Co.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Co.prototype,e,{get:function(){return this._currentRequest[e]}})});Co.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Co.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);r._redirectable=this;for(var o of vI)r.on(o,xI[o]);if(this._currentUrl=/^\//.test(this._options.path)?dv.format(this._options):this._options.path,this._isRedirect){var i=0,s=this,a=this._requestBodyBuffers;(function c(l){if(r===s._currentRequest)if(l)s.emit("error",l);else if(i<a.length){var u=a[i++];r.finished||r.write(u.data,u.encoding,c)}else s._ended&&r.end()})()}};Co.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(yI(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new yee;var r,o=this._options.beforeRedirect;o&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],uI(/^content-/i,this._options.headers));var s=uI(/^host$/i,this._options.headers),a=wI(this._currentUrl),c=s||a.host,l=/^\w+:/.test(n)?this._currentUrl:dv.format(Object.assign(a,{host:c})),u=See(n,l);if(WM("redirecting to",u.href),this._isRedirect=!0,pI(u,this._options),(u.protocol!==a.protocol&&u.protocol!=="https:"||u.host!==c&&!_ee(u.host,c))&&uI(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),uv(o)){var d={headers:e.headers,statusCode:t},p={url:l,method:i,headers:r};o(this._options,d,p),this._sanitizeOptions(this._options)}this._performRequest()};function YM(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach(function(r){var o=r+":",i=n[o]=e[r],s=t[r]=Object.create(i);function a(l,u,d){return Pee(l)?l=pI(l):Cd(l)?l=pI(wI(l)):(d=u,u=zM(l),l={protocol:o}),uv(u)&&(d=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,u),u.nativeProtocols=n,!Cd(u.host)&&!Cd(u.hostname)&&(u.hostname="::1"),hI.equal(u.protocol,o,"protocol mismatch"),WM("options",u),new Co(u,d)}function c(l,u,d){var p=s.request(l,u,d);return p.end(),p}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function VM(){}function wI(e){var t;if(gI)t=new lv(e);else if(t=zM(dv.parse(e)),!Cd(t.protocol))throw new dI({input:e});return t}function See(e,t){return gI?new lv(e,t):wI(dv.resolve(t,e))}function zM(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new dI({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new dI({input:e.href||e});return e}function pI(e,t){var n=t||{};for(var r of wee)n[r]=e[r];return n.hostname.startsWith("[")&&(n.hostname=n.hostname.slice(1,-1)),n.port!==""&&(n.port=Number(n.port)),n.path=n.search?n.pathname+n.search:n.pathname,n}function uI(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function fv(e,t,n){function r(o){Error.captureStackTrace(this,this.constructor),Object.assign(this,o||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return r.prototype=new(n||Error),Object.defineProperties(r.prototype,{constructor:{value:r,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),r}function yI(e,t){for(var n of vI)e.removeListener(n,xI[n]);e.on("error",VM),e.destroy(t)}function _ee(e,t){hI(Cd(e)&&Cd(t));var n=e.length-t.length-1;return n>0&&e[n]==="."&&e.endsWith(t)}function Cd(e){return typeof e=="string"||e instanceof String}function uv(e){return typeof e=="function"}function Dee(e){return typeof e=="object"&&"length"in e}function Pee(e){return lv&&e instanceof lv}EI.exports=YM({http:vee,https:xee});EI.exports.wrap=YM});var Lp=O((Mbe,KM)=>{"use strict";var GM=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);KM.exports=e=>e?Object.keys(e).map(t=>[GM.has(t)?GM.get(t):t,e[t]]).reduce((t,n)=>(t[n[0]]=n[1],t),Object.create(null)):{}});var yE=O(i$=>{"use strict";var JM=typeof process=="object"&&process?process:{stdout:null,stderr:null},Iee=require("events"),XM=require("stream"),Tee=require("string_decoder"),ZM=Tee.StringDecoder,Ua=Symbol("EOF"),Ma=Symbol("maybeEmitEnd"),el=Symbol("emittedEnd"),mE=Symbol("emittingEnd"),mv=Symbol("emittedError"),hE=Symbol("closed"),QM=Symbol("read"),gE=Symbol("flush"),e$=Symbol("flushChunk"),bo=Symbol("encoding"),$a=Symbol("decoder"),vE=Symbol("flowing"),hv=Symbol("paused"),Ap=Symbol("resume"),wn=Symbol("buffer"),Os=Symbol("pipes"),rr=Symbol("bufferLength"),CI=Symbol("bufferPush"),bI=Symbol("bufferShift"),Er=Symbol("objectMode"),yn=Symbol("destroyed"),SI=Symbol("error"),_I=Symbol("emitData"),t$=Symbol("emitEnd"),DI=Symbol("emitEnd2"),ja=Symbol("async"),PI=Symbol("abort"),xE=Symbol("aborted"),bd=Symbol("signal"),gv=e=>Promise.resolve().then(e),o$=global._MP_NO_ITERATOR_SYMBOLS_!=="1",n$=o$&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),r$=o$&&Symbol.iterator||Symbol("iterator not implemented"),kee=e=>e==="end"||e==="finish"||e==="prefinish",Ree=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,Nee=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),wE=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Ap](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},II=class extends wE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=o=>n.emit("error",o),t.on("error",this.proxyErrors)}},TI=class e extends XM{constructor(t){super(),this[vE]=!1,this[hv]=!1,this[Os]=[],this[wn]=[],this[Er]=t&&t.objectMode||!1,this[Er]?this[bo]=null:this[bo]=t&&t.encoding||null,this[bo]==="buffer"&&(this[bo]=null),this[ja]=t&&!!t.async||!1,this[$a]=this[bo]?new ZM(this[bo]):null,this[Ua]=!1,this[el]=!1,this[mE]=!1,this[hE]=!1,this[mv]=null,this.writable=!0,this.readable=!0,this[rr]=0,this[yn]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[wn]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Os]}),this[bd]=t&&t.signal,this[xE]=!1,this[bd]&&(this[bd].addEventListener("abort",()=>this[PI]()),this[bd].aborted&&this[PI]())}get bufferLength(){return this[rr]}get encoding(){return this[bo]}set encoding(t){if(this[Er])throw new Error("cannot set encoding in objectMode");if(this[bo]&&t!==this[bo]&&(this[$a]&&this[$a].lastNeed||this[rr]))throw new Error("cannot change encoding");this[bo]!==t&&(this[$a]=t?new ZM(t):null,this[wn].length&&(this[wn]=this[wn].map(n=>this[$a].write(n)))),this[bo]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Er]}set objectMode(t){this[Er]=this[Er]||!!t}get async(){return this[ja]}set async(t){this[ja]=this[ja]||!!t}[PI](){this[xE]=!0,this.emit("abort",this[bd].reason),this.destroy(this[bd].reason)}get aborted(){return this[xE]}set aborted(t){}write(t,n,r){if(this[xE])return!1;if(this[Ua])throw new Error("write after end");if(this[yn])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let o=this[ja]?gv:i=>i();return!this[Er]&&!Buffer.isBuffer(t)&&(Nee(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ree(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Er]?(this.flowing&&this[rr]!==0&&this[gE](!0),this.flowing?this.emit("data",t):this[CI](t),this[rr]!==0&&this.emit("readable"),r&&o(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[bo]&&!this[$a].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[bo]&&(t=this[$a].write(t)),this.flowing&&this[rr]!==0&&this[gE](!0),this.flowing?this.emit("data",t):this[CI](t),this[rr]!==0&&this.emit("readable"),r&&o(r),this.flowing):(this[rr]!==0&&this.emit("readable"),r&&o(r),this.flowing)}read(t){if(this[yn])return null;if(this[rr]===0||t===0||t>this[rr])return this[Ma](),null;this[Er]&&(t=null),this[wn].length>1&&!this[Er]&&(this.encoding?this[wn]=[this[wn].join("")]:this[wn]=[Buffer.concat(this[wn],this[rr])]);let n=this[QM](t||null,this[wn][0]);return this[Ma](),n}[QM](t,n){return t===n.length||t===null?this[bI]():(this[wn][0]=n.slice(t),n=n.slice(0,t),this[rr]-=t),this.emit("data",n),!this[wn].length&&!this[Ua]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[Ua]=!0,this.writable=!1,(this.flowing||!this[hv])&&this[Ma](),this}[Ap](){this[yn]||(this[hv]=!1,this[vE]=!0,this.emit("resume"),this[wn].length?this[gE]():this[Ua]?this[Ma]():this.emit("drain"))}resume(){return this[Ap]()}pause(){this[vE]=!1,this[hv]=!0}get destroyed(){return this[yn]}get flowing(){return this[vE]}get paused(){return this[hv]}[CI](t){this[Er]?this[rr]+=1:this[rr]+=t.length,this[wn].push(t)}[bI](){return this[Er]?this[rr]-=1:this[rr]-=this[wn][0].length,this[wn].shift()}[gE](t){do;while(this[e$](this[bI]())&&this[wn].length);!t&&!this[wn].length&&!this[Ua]&&this.emit("drain")}[e$](t){return this.emit("data",t),this.flowing}pipe(t,n){if(this[yn])return;let r=this[el];return n=n||{},t===JM.stdout||t===JM.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this[Os].push(n.proxyErrors?new II(this,t,n):new wE(this,t,n)),this[ja]?gv(()=>this[Ap]()):this[Ap]()),t}unpipe(t){let n=this[Os].find(r=>r.dest===t);n&&(this[Os].splice(this[Os].indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this[Os].length&&!this.flowing?this[Ap]():t==="readable"&&this[rr]!==0?super.emit("readable"):kee(t)&&this[el]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[mv]&&(this[ja]?gv(()=>n.call(this,this[mv])):n.call(this,this[mv])),r}get emittedEnd(){return this[el]}[Ma](){!this[mE]&&!this[el]&&!this[yn]&&this[wn].length===0&&this[Ua]&&(this[mE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[hE]&&this.emit("close"),this[mE]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==yn&&this[yn])return;if(t==="data")return!this[Er]&&!n?!1:this[ja]?gv(()=>this[_I](n)):this[_I](n);if(t==="end")return this[t$]();if(t==="close"){if(this[hE]=!0,!this[el]&&!this[yn])return;let i=super.emit("close");return this.removeAllListeners("close"),i}else if(t==="error"){this[mv]=n,super.emit(SI,n);let i=!this[bd]||this.listeners("error").length?super.emit("error",n):!1;return this[Ma](),i}else if(t==="resume"){let i=super.emit("resume");return this[Ma](),i}else if(t==="finish"||t==="prefinish"){let i=super.emit(t);return this.removeAllListeners(t),i}let o=super.emit(t,n,...r);return this[Ma](),o}[_I](t){for(let r of this[Os])r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Ma](),n}[t$](){this[el]||(this[el]=!0,this.readable=!1,this[ja]?gv(()=>this[DI]()):this[DI]())}[DI](){if(this[$a]){let n=this[$a].end();if(n){for(let r of this[Os])r.dest.write(n);super.emit("data",n)}}for(let n of this[Os])n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Er]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Er]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Er]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Er]?Promise.reject(new Error("cannot concat in objectMode")):this[bo]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(yn,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[n$](){let t=!1,n=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return n();let o=this.read();if(o!==null)return Promise.resolve({done:!1,value:o});if(this[Ua])return n();let i=null,s=null,a=d=>{this.removeListener("data",c),this.removeListener("end",l),this.removeListener(yn,u),n(),s(d)},c=d=>{this.removeListener("error",a),this.removeListener("end",l),this.removeListener(yn,u),this.pause(),i({value:d,done:!!this[Ua]})},l=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(yn,u),n(),i({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,p)=>{s=p,i=d,this.once(yn,u),this.once("error",a),this.once("end",l),this.once("data",c)})},throw:n,return:n,[n$](){return this}}}[r$](){let t=!1,n=()=>(this.pause(),this.removeListener(SI,n),this.removeListener(yn,n),this.removeListener("end",n),t=!0,{done:!0}),r=()=>{if(t)return n();let o=this.read();return o===null?n():{value:o}};return this.once("end",n),this.once(SI,n),this.once(yn,n),{next:r,throw:n,return:n,[r$](){return this}}}destroy(t){return this[yn]?(t?this.emit("error",t):this.emit(yn),this):(this[yn]=!0,this[wn].length=0,this[rr]=0,typeof this.close=="function"&&!this[hE]&&this.close(),t?this.emit("error",t):this.emit(yn),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof XM||t instanceof Iee&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};i$.Minipass=TI});var a$=O((jbe,s$)=>{var Lee=require("zlib").constants||{ZLIB_VERNUM:4736};s$.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Lee))});var FI=O((Hbe,g$)=>{"use strict";var c$=typeof process=="object"&&process?process:{stdout:null,stderr:null},Aee=require("events"),l$=require("stream"),u$=require("string_decoder").StringDecoder,Ha=Symbol("EOF"),Ba=Symbol("maybeEmitEnd"),tl=Symbol("emittedEnd"),EE=Symbol("emittingEnd"),vv=Symbol("emittedError"),CE=Symbol("closed"),d$=Symbol("read"),bE=Symbol("flush"),f$=Symbol("flushChunk"),So=Symbol("encoding"),qa=Symbol("decoder"),SE=Symbol("flowing"),xv=Symbol("paused"),Fp=Symbol("resume"),or=Symbol("bufferLength"),kI=Symbol("bufferPush"),RI=Symbol("bufferShift"),Or=Symbol("objectMode"),Ur=Symbol("destroyed"),NI=Symbol("emitData"),p$=Symbol("emitEnd"),LI=Symbol("emitEnd2"),Wa=Symbol("async"),wv=e=>Promise.resolve().then(e),m$=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Fee=m$&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Oee=m$&&Symbol.iterator||Symbol("iterator not implemented"),Uee=e=>e==="end"||e==="finish"||e==="prefinish",Mee=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,$ee=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),_E=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Fp](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},AI=class extends _E{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=o=>n.emit("error",o),t.on("error",this.proxyErrors)}};g$.exports=class h$ extends l${constructor(t){super(),this[SE]=!1,this[xv]=!1,this.pipes=[],this.buffer=[],this[Or]=t&&t.objectMode||!1,this[Or]?this[So]=null:this[So]=t&&t.encoding||null,this[So]==="buffer"&&(this[So]=null),this[Wa]=t&&!!t.async||!1,this[qa]=this[So]?new u$(this[So]):null,this[Ha]=!1,this[tl]=!1,this[EE]=!1,this[CE]=!1,this[vv]=null,this.writable=!0,this.readable=!0,this[or]=0,this[Ur]=!1}get bufferLength(){return this[or]}get encoding(){return this[So]}set encoding(t){if(this[Or])throw new Error("cannot set encoding in objectMode");if(this[So]&&t!==this[So]&&(this[qa]&&this[qa].lastNeed||this[or]))throw new Error("cannot change encoding");this[So]!==t&&(this[qa]=t?new u$(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[qa].write(n)))),this[So]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Or]}set objectMode(t){this[Or]=this[Or]||!!t}get async(){return this[Wa]}set async(t){this[Wa]=this[Wa]||!!t}write(t,n,r){if(this[Ha])throw new Error("write after end");if(this[Ur])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let o=this[Wa]?wv:i=>i();return!this[Or]&&!Buffer.isBuffer(t)&&($ee(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Mee(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Or]?(this.flowing&&this[or]!==0&&this[bE](!0),this.flowing?this.emit("data",t):this[kI](t),this[or]!==0&&this.emit("readable"),r&&o(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[So]&&!this[qa].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[So]&&(t=this[qa].write(t)),this.flowing&&this[or]!==0&&this[bE](!0),this.flowing?this.emit("data",t):this[kI](t),this[or]!==0&&this.emit("readable"),r&&o(r),this.flowing):(this[or]!==0&&this.emit("readable"),r&&o(r),this.flowing)}read(t){if(this[Ur])return null;if(this[or]===0||t===0||t>this[or])return this[Ba](),null;this[Or]&&(t=null),this.buffer.length>1&&!this[Or]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[or])]);let n=this[d$](t||null,this.buffer[0]);return this[Ba](),n}[d$](t,n){return t===n.length||t===null?this[RI]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[or]-=t),this.emit("data",n),!this.buffer.length&&!this[Ha]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[Ha]=!0,this.writable=!1,(this.flowing||!this[xv])&&this[Ba](),this}[Fp](){this[Ur]||(this[xv]=!1,this[SE]=!0,this.emit("resume"),this.buffer.length?this[bE]():this[Ha]?this[Ba]():this.emit("drain"))}resume(){return this[Fp]()}pause(){this[SE]=!1,this[xv]=!0}get destroyed(){return this[Ur]}get flowing(){return this[SE]}get paused(){return this[xv]}[kI](t){this[Or]?this[or]+=1:this[or]+=t.length,this.buffer.push(t)}[RI](){return this.buffer.length&&(this[Or]?this[or]-=1:this[or]-=this.buffer[0].length),this.buffer.shift()}[bE](t){do;while(this[f$](this[RI]()));!t&&!this.buffer.length&&!this[Ha]&&this.emit("drain")}[f$](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[Ur])return;let r=this[tl];return n=n||{},t===c$.stdout||t===c$.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new AI(this,t,n):new _E(this,t,n)),this[Wa]?wv(()=>this[Fp]()):this[Fp]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[Fp]():t==="readable"&&this[or]!==0?super.emit("readable"):Uee(t)&&this[tl]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[vv]&&(this[Wa]?wv(()=>n.call(this,this[vv])):n.call(this,this[vv])),r}get emittedEnd(){return this[tl]}[Ba](){!this[EE]&&!this[tl]&&!this[Ur]&&this.buffer.length===0&&this[Ha]&&(this[EE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[CE]&&this.emit("close"),this[EE]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==Ur&&this[Ur])return;if(t==="data")return n?this[Wa]?wv(()=>this[NI](n)):this[NI](n):!1;if(t==="end")return this[p$]();if(t==="close"){if(this[CE]=!0,!this[tl]&&!this[Ur])return;let i=super.emit("close");return this.removeAllListeners("close"),i}else if(t==="error"){this[vv]=n;let i=super.emit("error",n);return this[Ba](),i}else if(t==="resume"){let i=super.emit("resume");return this[Ba](),i}else if(t==="finish"||t==="prefinish"){let i=super.emit(t);return this.removeAllListeners(t),i}let o=super.emit(t,n,...r);return this[Ba](),o}[NI](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Ba](),n}[p$](){this[tl]||(this[tl]=!0,this.readable=!1,this[Wa]?wv(()=>this[LI]()):this[LI]())}[LI](){if(this[qa]){let n=this[qa].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Or]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Or]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Or]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Or]?Promise.reject(new Error("cannot concat in objectMode")):this[So]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(Ur,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[Fee](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[Ha])return Promise.resolve({done:!0});let r=null,o=null,i=l=>{this.removeListener("data",s),this.removeListener("end",a),o(l)},s=l=>{this.removeListener("error",i),this.removeListener("end",a),this.pause(),r({value:l,done:!!this[Ha]})},a=()=>{this.removeListener("error",i),this.removeListener("data",s),r({done:!0})},c=()=>i(new Error("stream destroyed"));return new Promise((l,u)=>{o=u,r=l,this.once(Ur,c),this.once("error",i),this.once("end",a),this.once("data",s)})}}}[Oee](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[Ur]?(t?this.emit("error",t):this.emit(Ur),this):(this[Ur]=!0,this.buffer.length=0,this[or]=0,typeof this.close=="function"&&!this[CE]&&this.close(),t?this.emit("error",t):this.emit(Ur),this)}static isStream(t){return!!t&&(t instanceof h$||t instanceof l$||t instanceof Aee&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var XI=O(Ko=>{"use strict";var jI=require("assert"),nl=require("buffer").Buffer,w$=require("zlib"),Sd=Ko.constants=a$(),jee=FI(),v$=nl.concat,_d=Symbol("_superWrite"),Up=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Hee=Symbol("opts"),yv=Symbol("flushFlag"),x$=Symbol("finishFlushFlag"),JI=Symbol("fullFlushFlag"),At=Symbol("handle"),DE=Symbol("onError"),Op=Symbol("sawError"),OI=Symbol("level"),UI=Symbol("strategy"),MI=Symbol("ended"),Bbe=Symbol("_defaultFullFlush"),PE=class extends jee{constructor(t,n){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[Op]=!1,this[MI]=!1,this[Hee]=t,this[yv]=t.flush,this[x$]=t.finishFlush;try{this[At]=new w$[n](t)}catch(r){throw new Up(r)}this[DE]=r=>{this[Op]||(this[Op]=!0,this.close(),this.emit("error",r))},this[At].on("error",r=>this[DE](new Up(r))),this.once("end",()=>this.close)}close(){this[At]&&(this[At].close(),this[At]=null,this.emit("close"))}reset(){if(!this[Op])return jI(this[At],"zlib binding closed"),this[At].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[JI]),this.write(Object.assign(nl.alloc(0),{[yv]:t})))}end(t,n,r){return t&&this.write(t,n),this.flush(this[x$]),this[MI]=!0,super.end(null,null,r)}get ended(){return this[MI]}write(t,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof t=="string"&&(t=nl.from(t,n)),this[Op])return;jI(this[At],"zlib binding closed");let o=this[At]._handle,i=o.close;o.close=()=>{};let s=this[At].close;this[At].close=()=>{},nl.concat=l=>l;let a;try{let l=typeof t[yv]=="number"?t[yv]:this[yv];a=this[At]._processChunk(t,l),nl.concat=v$}catch(l){nl.concat=v$,this[DE](new Up(l))}finally{this[At]&&(this[At]._handle=o,o.close=i,this[At].close=s,this[At].removeAllListeners("error"))}this[At]&&this[At].on("error",l=>this[DE](new Up(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[_d](nl.from(a[0]));for(let l=1;l<a.length;l++)c=this[_d](a[l])}else c=this[_d](nl.from(a));return r&&r(),c}[_d](t){return super.write(t)}},Ya=class extends PE{constructor(t,n){t=t||{},t.flush=t.flush||Sd.Z_NO_FLUSH,t.finishFlush=t.finishFlush||Sd.Z_FINISH,super(t,n),this[JI]=Sd.Z_FULL_FLUSH,this[OI]=t.level,this[UI]=t.strategy}params(t,n){if(!this[Op]){if(!this[At])throw new Error("cannot switch params when binding is closed");if(!this[At].params)throw new Error("not supported in this implementation");if(this[OI]!==t||this[UI]!==n){this.flush(Sd.Z_SYNC_FLUSH),jI(this[At],"zlib binding closed");let r=this[At].flush;this[At].flush=(o,i)=>{this.flush(o),i()};try{this[At].params(t,n)}finally{this[At].flush=r}this[At]&&(this[OI]=t,this[UI]=n)}}}},HI=class extends Ya{constructor(t){super(t,"Deflate")}},BI=class extends Ya{constructor(t){super(t,"Inflate")}},$I=Symbol("_portable"),qI=class extends Ya{constructor(t){super(t,"Gzip"),this[$I]=t&&!!t.portable}[_d](t){return this[$I]?(this[$I]=!1,t[9]=255,super[_d](t)):super[_d](t)}},WI=class extends Ya{constructor(t){super(t,"Gunzip")}},YI=class extends Ya{constructor(t){super(t,"DeflateRaw")}},VI=class extends Ya{constructor(t){super(t,"InflateRaw")}},zI=class extends Ya{constructor(t){super(t,"Unzip")}},IE=class extends PE{constructor(t,n){t=t||{},t.flush=t.flush||Sd.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||Sd.BROTLI_OPERATION_FINISH,super(t,n),this[JI]=Sd.BROTLI_OPERATION_FLUSH}},GI=class extends IE{constructor(t){super(t,"BrotliCompress")}},KI=class extends IE{constructor(t){super(t,"BrotliDecompress")}};Ko.Deflate=HI;Ko.Inflate=BI;Ko.Gzip=qI;Ko.Gunzip=WI;Ko.DeflateRaw=YI;Ko.InflateRaw=VI;Ko.Unzip=zI;typeof w$.BrotliCompress=="function"?(Ko.BrotliCompress=GI,Ko.BrotliDecompress=KI):Ko.BrotliCompress=Ko.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Mp=O((Ybe,y$)=>{var Bee=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;y$.exports=Bee!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var TE=O((zbe,E$)=>{"use strict";var{Minipass:qee}=yE(),ZI=Mp(),QI=Symbol("slurp");E$.exports=class extends qee{constructor(t,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=ZI(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=ZI(t.linkpath),this.uname=t.uname,this.gname=t.gname,n&&this[QI](n),r&&this[QI](r,!0)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,o=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,o-n),this.ignore?!0:r>=n?super.write(t):super.write(t.slice(0,r))}[QI](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?ZI(t[r]):t[r])}}});var eT=O(kE=>{"use strict";kE.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);kE.code=new Map(Array.from(kE.name).map(e=>[e[1],e[0]]))});var _$=O((Kbe,S$)=>{"use strict";var Wee=(e,t)=>{if(Number.isSafeInteger(e))e<0?Vee(e,t):Yee(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},Yee=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--)t[n-1]=e&255,e=Math.floor(e/256)},Vee=(e,t)=>{t[0]=255;var n=!1;e=e*-1;for(var r=t.length;r>1;r--){var o=e&255;e=Math.floor(e/256),n?t[r-1]=C$(o):o===0?t[r-1]=0:(n=!0,t[r-1]=b$(o))}},zee=e=>{let t=e[0],n=t===128?Kee(e.slice(1,e.length)):t===255?Gee(e):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},Gee=e=>{for(var t=e.length,n=0,r=!1,o=t-1;o>-1;o--){var i=e[o],s;r?s=C$(i):i===0?s=i:(r=!0,s=b$(i)),s!==0&&(n-=s*Math.pow(256,t-o-1))}return n},Kee=e=>{for(var t=e.length,n=0,r=t-1;r>-1;r--){var o=e[r];o!==0&&(n+=o*Math.pow(256,t-r-1))}return n},C$=e=>(255^e)&255,b$=e=>(255^e)+1&255;S$.exports={encode:Wee,parse:zee}});var jp=O((Jbe,P$)=>{"use strict";var tT=eT(),$p=require("path").posix,D$=_$(),nT=Symbol("slurp"),Jo=Symbol("type"),iT=class{constructor(t,n,r,o){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Jo]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,n||0,r,o):t&&this.set(t)}decode(t,n,r,o){if(n||(n=0),!t||!(t.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=Dd(t,n,100),this.mode=rl(t,n+100,8),this.uid=rl(t,n+108,8),this.gid=rl(t,n+116,8),this.size=rl(t,n+124,12),this.mtime=rT(t,n+136,12),this.cksum=rl(t,n+148,12),this[nT](r),this[nT](o,!0),this[Jo]=Dd(t,n+156,1),this[Jo]===""&&(this[Jo]="0"),this[Jo]==="0"&&this.path.slice(-1)==="/"&&(this[Jo]="5"),this[Jo]==="5"&&(this.size=0),this.linkpath=Dd(t,n+157,100),t.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=Dd(t,n+265,32),this.gname=Dd(t,n+297,32),this.devmaj=rl(t,n+329,8),this.devmin=rl(t,n+337,8),t[n+475]!==0){let s=Dd(t,n+345,155);this.path=s+"/"+this.path}else{let s=Dd(t,n+345,130);s&&(this.path=s+"/"+this.path),this.atime=rT(t,n+476,12),this.ctime=rT(t,n+488,12)}let i=8*32;for(let s=n;s<n+148;s++)i+=t[s];for(let s=n+156;s<n+512;s++)i+=t[s];this.cksumValid=i===this.cksum,this.cksum===null&&i===8*32&&(this.nullBlock=!0)}[nT](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=t[r])}encode(t,n){if(t||(t=this.block=Buffer.alloc(512),n=0),n||(n=0),!(t.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,o=Jee(this.path||"",r),i=o[0],s=o[1];this.needPax=o[2],this.needPax=Pd(t,n,100,i)||this.needPax,this.needPax=ol(t,n+100,8,this.mode)||this.needPax,this.needPax=ol(t,n+108,8,this.uid)||this.needPax,this.needPax=ol(t,n+116,8,this.gid)||this.needPax,this.needPax=ol(t,n+124,12,this.size)||this.needPax,this.needPax=oT(t,n+136,12,this.mtime)||this.needPax,t[n+156]=this[Jo].charCodeAt(0),this.needPax=Pd(t,n+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",n+257,8),this.needPax=Pd(t,n+265,32,this.uname)||this.needPax,this.needPax=Pd(t,n+297,32,this.gname)||this.needPax,this.needPax=ol(t,n+329,8,this.devmaj)||this.needPax,this.needPax=ol(t,n+337,8,this.devmin)||this.needPax,this.needPax=Pd(t,n+345,r,s)||this.needPax,t[n+475]!==0?this.needPax=Pd(t,n+345,155,s)||this.needPax:(this.needPax=Pd(t,n+345,130,s)||this.needPax,this.needPax=oT(t,n+476,12,this.atime)||this.needPax,this.needPax=oT(t,n+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=n;c<n+148;c++)a+=t[c];for(let c=n+156;c<n+512;c++)a+=t[c];return this.cksum=a,ol(t,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let n in t)t[n]!==null&&t[n]!==void 0&&(this[n]=t[n])}get type(){return tT.name.get(this[Jo])||this[Jo]}get typeKey(){return this[Jo]}set type(t){tT.code.has(t)?this[Jo]=tT.code.get(t):this[Jo]=t}},Jee=(e,t)=>{let r=e,o="",i,s=$p.parse(e).root||".";if(Buffer.byteLength(r)<100)i=[r,o,!1];else{o=$p.dirname(r),r=$p.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(o)<=t?i=[r,o,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(o)<=t?i=[r.slice(0,100-1),o,!0]:(r=$p.join($p.basename(o),r),o=$p.dirname(o));while(o!==s&&!i);i||(i=[e.slice(0,100-1),"",!0])}return i},Dd=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,""),rT=(e,t,n)=>Xee(rl(e,t,n)),Xee=e=>e===null?null:new Date(e*1e3),rl=(e,t,n)=>e[t]&128?D$.parse(e.slice(t,t+n)):Qee(e,t,n),Zee=e=>isNaN(e)?null:e,Qee=(e,t,n)=>Zee(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),ete={12:8589934591,8:2097151},ol=(e,t,n,r)=>r===null?!1:r>ete[n]||r<0?(D$.encode(r,e.slice(t,t+n)),!0):(tte(e,t,n,r),!1),tte=(e,t,n,r)=>e.write(nte(r,n),t,n,"ascii"),nte=(e,t)=>rte(Math.floor(e).toString(8),t),rte=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",oT=(e,t,n,r)=>r===null?!1:ol(e,t,n,r.getTime()/1e3),ote=new Array(156).join("\0"),Pd=(e,t,n,r)=>r===null?!1:(e.write(r+ote,t,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);P$.exports=iT});var RE=O((Xbe,I$)=>{"use strict";var ite=jp(),ste=require("path"),Ev=class{constructor(t,n){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=n||!1}encode(){let t=this.encodeBody();if(t==="")return null;let n=Buffer.byteLength(t),r=512*Math.ceil(1+n/512),o=Buffer.allocUnsafe(r);for(let i=0;i<512;i++)o[i]=0;new ite({path:("PaxHeader/"+ste.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(o),o.write(t,512,n,"utf8");for(let i=n+512;i<o.length;i++)o[i]=0;return o}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let n=this[t]instanceof Date?this[t].getTime()/1e3:this[t],r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+n+`
`,o=Buffer.byteLength(r),i=Math.floor(Math.log(o)/Math.log(10))+1;return o+i>=Math.pow(10,i)&&(i+=1),i+o+r}};Ev.parse=(e,t,n)=>new Ev(ate(cte(e),t),n);var ate=(e,t)=>t?Object.keys(e).reduce((n,r)=>(n[r]=e[r],n),t):e,cte=e=>e.replace(/\n$/,"").split(`
`).reduce(lte,Object.create(null)),lte=(e,t)=>{let n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.slice((n+" ").length);let r=t.split("="),o=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!o)return e;let i=r.join("=");return e[o]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(o)?new Date(i*1e3):/^[0-9]+$/.test(i)?+i:i,e};I$.exports=Ev});var Hp=O((Zbe,T$)=>{T$.exports=e=>{let t=e.length-1,n=-1;for(;t>-1&&e.charAt(t)==="/";)n=t,t--;return n===-1?e:e.slice(0,n)}});var NE=O((Qbe,k$)=>{"use strict";k$.exports=e=>class extends e{warn(t,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||t,r.tarCode=t,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${t}: ${n}`),r))}}});var aT=O((tSe,R$)=>{"use strict";var LE=["|","<",">","?",":"],sT=LE.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),ute=new Map(LE.map((e,t)=>[e,sT[t]])),dte=new Map(sT.map((e,t)=>[e,LE[t]]));R$.exports={encode:e=>LE.reduce((t,n)=>t.split(n).join(ute.get(n)),e),decode:e=>sT.reduce((t,n)=>t.split(n).join(dte.get(n)),e)}});var cT=O((nSe,L$)=>{var{isAbsolute:fte,parse:N$}=require("path").win32;L$.exports=e=>{let t="",n=N$(e);for(;fte(e)||n.root;){let r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":n.root;e=e.slice(r.length),t+=r,n=N$(e)}return[t,e]}});var F$=O((rSe,A$)=>{"use strict";A$.exports=(e,t,n)=>(e&=4095,n&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var xT=O((sSe,K$)=>{"use strict";var{Minipass:B$}=yE(),q$=RE(),W$=jp(),Ms=require("fs"),O$=require("path"),Us=Mp(),pte=Hp(),Y$=(e,t)=>t?(e=Us(e).replace(/^\.(\/|$)/,""),pte(t)+"/"+e):Us(e),mte=16*1024*1024,U$=Symbol("process"),M$=Symbol("file"),$$=Symbol("directory"),uT=Symbol("symlink"),j$=Symbol("hardlink"),Cv=Symbol("header"),AE=Symbol("read"),dT=Symbol("lstat"),FE=Symbol("onlstat"),fT=Symbol("onread"),pT=Symbol("onreadlink"),mT=Symbol("openfile"),hT=Symbol("onopenfile"),il=Symbol("close"),OE=Symbol("mode"),gT=Symbol("awaitDrain"),lT=Symbol("ondrain"),$s=Symbol("prefix"),H$=Symbol("hadError"),V$=NE(),hte=aT(),z$=cT(),G$=F$(),UE=V$(class extends B${constructor(t,n){if(n=n||{},super(n),typeof t!="string")throw new TypeError("path is required");this.path=Us(t),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||mte,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=Us(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?Us(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[o,i]=z$(this.path);o&&(this.path=i,r=o)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=hte.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Us(n.absolute||O$.resolve(this.cwd,t)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[FE](this.statCache.get(this.absolute)):this[dT]()}emit(t,...n){return t==="error"&&(this[H$]=!0),super.emit(t,...n)}[dT](){Ms.lstat(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[FE](n)})}[FE](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=vte(t),this.emit("stat",t),this[U$]()}[U$](){switch(this.type){case"File":return this[M$]();case"Directory":return this[$$]();case"SymbolicLink":return this[uT]();default:return this.end()}}[OE](t){return G$(t,this.type==="Directory",this.portable)}[$s](t){return Y$(t,this.prefix)}[Cv](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new W$({path:this[$s](this.path),linkpath:this.type==="Link"?this[$s](this.linkpath):this.linkpath,mode:this[OE](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new q$({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[$s](this.path),linkpath:this.type==="Link"?this[$s](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[$$](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Cv](),this.end()}[uT](){Ms.readlink(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[pT](n)})}[pT](t){this.linkpath=Us(t),this[Cv](),this.end()}[j$](t){this.type="Link",this.linkpath=Us(O$.relative(this.cwd,t)),this.stat.size=0,this[Cv](),this.end()}[M$](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let n=this.linkCache.get(t);if(n.indexOf(this.cwd)===0)return this[j$](n)}this.linkCache.set(t,this.absolute)}if(this[Cv](),this.stat.size===0)return this.end();this[mT]()}[mT](){Ms.open(this.absolute,"r",(t,n)=>{if(t)return this.emit("error",t);this[hT](n)})}[hT](t){if(this.fd=t,this[H$])return this[il]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[AE]()}[AE](){let{fd:t,buf:n,offset:r,length:o,pos:i}=this;Ms.read(t,n,r,o,i,(s,a)=>{if(s)return this[il](()=>this.emit("error",s));this[fT](a)})}[il](t){Ms.close(this.fd,t)}[fT](t){if(t<=0&&this.remain>0){let o=new Error("encountered unexpected EOF");return o.path=this.absolute,o.syscall="read",o.code="EOF",this[il](()=>this.emit("error",o))}if(t>this.remain){let o=new Error("did not encounter expected EOF");return o.path=this.absolute,o.syscall="read",o.code="EOF",this[il](()=>this.emit("error",o))}if(t===this.remain)for(let o=t;o<this.length&&t<this.blockRemain;o++)this.buf[o+this.offset]=0,t++,this.remain++;let n=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(n)?this[lT]():this[gT](()=>this[lT]())}[gT](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[lT](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[il](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[AE]()}}),vT=class extends UE{[dT](){this[FE](Ms.lstatSync(this.absolute))}[uT](){this[pT](Ms.readlinkSync(this.absolute))}[mT](){this[hT](Ms.openSync(this.absolute,"r"))}[AE](){let t=!0;try{let{fd:n,buf:r,offset:o,length:i,pos:s}=this,a=Ms.readSync(n,r,o,i,s);this[fT](a),t=!1}finally{if(t)try{this[il](()=>{})}catch{}}}[gT](t){t()}[il](t){Ms.closeSync(this.fd),t()}},gte=V$(class extends B${constructor(t,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=Us(t.path),this.mode=this[OE](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:n.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Us(t.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[o,i]=z$(this.path);o&&(this.path=i,r=o)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new W$({path:this[$s](this.path),linkpath:this.type==="Link"?this[$s](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new q$({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[$s](this.path),linkpath:this.type==="Link"?this[$s](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[$s](t){return Y$(t,this.prefix)}[OE](t){return G$(t,this.type==="Directory",this.portable)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});UE.Sync=vT;UE.Tar=gte;var vte=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";K$.exports=UE});var X$=O((aSe,J$)=>{"use strict";J$.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var wT=O((cSe,Z$)=>{"use strict";Z$.exports=gt;gt.Node=Id;gt.create=gt;function gt(e){var t=this;if(t instanceof gt||(t=new gt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}gt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};gt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};gt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};gt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)wte(this,arguments[e]);return this.length};gt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)yte(this,arguments[e]);return this.length};gt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};gt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};gt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};gt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};gt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};gt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};gt.prototype.map=function(e,t){t=t||this;for(var n=new gt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};gt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new gt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};gt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;r!==null;o++)n=e(n,r.value,o),r=r.next;return n};gt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;r!==null;o--)n=e(n,r.value,o),r=r.prev;return n};gt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};gt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};gt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new gt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;o!==null&&r<e;r++)o=o.next;for(;o!==null&&r<t;r++,o=o.next)n.push(o.value);return n};gt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new gt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;o!==null&&r>t;r--)o=o.prev;for(;o!==null&&r>e;r--,o=o.prev)n.push(o.value);return n};gt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;o!==null&&r<e;r++)o=o.next;for(var i=[],r=0;o&&r<t;r++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var r=0;r<n.length;r++)o=xte(this,o,n[r]);return i};gt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function xte(e,t,n){var r=t===e.head?new Id(n,null,t,e):new Id(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function wte(e,t){e.tail=new Id(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function yte(e,t){e.head=new Id(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Id(e,t,n,r){if(!(this instanceof Id))return new Id(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{X$()(gt)}catch{}});var VE=O((uSe,sj)=>{"use strict";var WE=class{constructor(t,n){this.path=t||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:Ete}=yE(),Q$=XI(),Cte=TE(),IT=xT(),bte=IT.Sync,Ste=IT.Tar,_te=wT(),ej=Buffer.alloc(1024),jE=Symbol("onStat"),ME=Symbol("ended"),js=Symbol("queue"),Bp=Symbol("current"),Td=Symbol("process"),$E=Symbol("processing"),tj=Symbol("processJob"),Hs=Symbol("jobs"),yT=Symbol("jobDone"),HE=Symbol("addFSEntry"),nj=Symbol("addTarEntry"),ST=Symbol("stat"),_T=Symbol("readdir"),BE=Symbol("onreaddir"),qE=Symbol("pipe"),rj=Symbol("entry"),ET=Symbol("entryOpt"),DT=Symbol("writeEntryClass"),ij=Symbol("write"),CT=Symbol("ondrain"),YE=require("fs"),oj=require("path"),Dte=NE(),bT=Mp(),TT=Dte(class extends Ete{constructor(t){if(super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=bT(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[DT]=IT,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip||t.brotli){if(t.gzip&&t.brotli)throw new TypeError("gzip and brotli are mutually exclusive");t.gzip&&(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new Q$.Gzip(t.gzip)),t.brotli&&(typeof t.brotli!="object"&&(t.brotli={}),this.zip=new Q$.BrotliCompress(t.brotli)),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[CT]()),this.on("resume",n=>this.zip.resume())}else this.on("drain",this[CT]);this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:n=>!0,this[js]=new _te,this[Hs]=0,this.jobs=+t.jobs||4,this[$E]=!1,this[ME]=!1}[ij](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[ME]=!0,this[Td](),this}write(t){if(this[ME])throw new Error("write after end");return t instanceof Cte?this[nj](t):this[HE](t),this.flowing}[nj](t){let n=bT(oj.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let r=new WE(t.path,n,!1);r.entry=new Ste(t,this[ET](r)),r.entry.on("end",o=>this[yT](r)),this[Hs]+=1,this[js].push(r)}this[Td]()}[HE](t){let n=bT(oj.resolve(this.cwd,t));this[js].push(new WE(t,n)),this[Td]()}[ST](t){t.pending=!0,this[Hs]+=1;let n=this.follow?"stat":"lstat";YE[n](t.absolute,(r,o)=>{t.pending=!1,this[Hs]-=1,r?this.emit("error",r):this[jE](t,o)})}[jE](t,n){this.statCache.set(t.absolute,n),t.stat=n,this.filter(t.path,n)||(t.ignore=!0),this[Td]()}[_T](t){t.pending=!0,this[Hs]+=1,YE.readdir(t.absolute,(n,r)=>{if(t.pending=!1,this[Hs]-=1,n)return this.emit("error",n);this[BE](t,r)})}[BE](t,n){this.readdirCache.set(t.absolute,n),t.readdir=n,this[Td]()}[Td](){if(!this[$E]){this[$E]=!0;for(let t=this[js].head;t!==null&&this[Hs]<this.jobs;t=t.next)if(this[tj](t.value),t.value.ignore){let n=t.next;this[js].removeNode(t),t.next=n}this[$E]=!1,this[ME]&&!this[js].length&&this[Hs]===0&&(this.zip?this.zip.end(ej):(super.write(ej),super.end()))}}get[Bp](){return this[js]&&this[js].head&&this[js].head.value}[yT](t){this[js].shift(),this[Hs]-=1,this[Td]()}[tj](t){if(!t.pending){if(t.entry){t===this[Bp]&&!t.piped&&this[qE](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[jE](t,this.statCache.get(t.absolute)):this[ST](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[BE](t,this.readdirCache.get(t.absolute)):this[_T](t),!t.readdir))){if(t.entry=this[rj](t),!t.entry){t.ignore=!0;return}t===this[Bp]&&!t.piped&&this[qE](t)}}}[ET](t){return{onwarn:(n,r,o)=>this.warn(n,r,o),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[rj](t){this[Hs]+=1;try{return new this[DT](t.path,this[ET](t)).on("end",()=>this[yT](t)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[CT](){this[Bp]&&this[Bp].entry&&this[Bp].entry.resume()}[qE](t){t.piped=!0,t.readdir&&t.readdir.forEach(o=>{let i=t.path,s=i==="./"?"":i.replace(/\/*$/,"/");this[HE](s+o)});let n=t.entry,r=this.zip;r?n.on("data",o=>{r.write(o)||n.pause()}):n.on("data",o=>{super.write(o)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),PT=class extends TT{constructor(t){super(t),this[DT]=bte}pause(){}resume(){}[ST](t){let n=this.follow?"statSync":"lstatSync";this[jE](t,YE[n](t.absolute))}[_T](t,n){this[BE](t,YE.readdirSync(t.absolute))}[qE](t){let n=t.entry,r=this.zip;t.readdir&&t.readdir.forEach(o=>{let i=t.path,s=i==="./"?"":i.replace(/\/*$/,"/");this[HE](s+o)}),r?n.on("data",o=>{r.write(o)}):n.on("data",o=>{super[ij](o)})}};TT.Sync=PT;sj.exports=TT});var Jp=O(Sv=>{"use strict";var Pte=FI(),Ite=require("events").EventEmitter,_o=require("fs"),NT=_o.writev;if(!NT){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;NT=(n,r,o,i)=>{let s=(c,l)=>i(c,l,r),a=new t;a.oncomplete=s,e.writeBuffers(n,r,o,a)}}var Gp=Symbol("_autoClose"),es=Symbol("_close"),bv=Symbol("_ended"),Pt=Symbol("_fd"),aj=Symbol("_finished"),al=Symbol("_flags"),kT=Symbol("_flush"),LT=Symbol("_handleChunk"),AT=Symbol("_makeBuf"),XE=Symbol("_mode"),zE=Symbol("_needDrain"),Vp=Symbol("_onerror"),Kp=Symbol("_onopen"),RT=Symbol("_onread"),Wp=Symbol("_onwrite"),cl=Symbol("_open"),Va=Symbol("_path"),kd=Symbol("_pos"),Bs=Symbol("_queue"),Yp=Symbol("_read"),cj=Symbol("_readSize"),sl=Symbol("_reading"),GE=Symbol("_remain"),lj=Symbol("_size"),KE=Symbol("_write"),qp=Symbol("_writing"),JE=Symbol("_defaultFlag"),zp=Symbol("_errored"),ZE=class extends Pte{constructor(t,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[zp]=!1,this[Pt]=typeof n.fd=="number"?n.fd:null,this[Va]=t,this[cj]=n.readSize||16*1024*1024,this[sl]=!1,this[lj]=typeof n.size=="number"?n.size:1/0,this[GE]=this[lj],this[Gp]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[Pt]=="number"?this[Yp]():this[cl]()}get fd(){return this[Pt]}get path(){return this[Va]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[cl](){_o.open(this[Va],"r",(t,n)=>this[Kp](t,n))}[Kp](t,n){t?this[Vp](t):(this[Pt]=n,this.emit("open",n),this[Yp]())}[AT](){return Buffer.allocUnsafe(Math.min(this[cj],this[GE]))}[Yp](){if(!this[sl]){this[sl]=!0;let t=this[AT]();if(t.length===0)return process.nextTick(()=>this[RT](null,0,t));_o.read(this[Pt],t,0,t.length,null,(n,r,o)=>this[RT](n,r,o))}}[RT](t,n,r){this[sl]=!1,t?this[Vp](t):this[LT](n,r)&&this[Yp]()}[es](){if(this[Gp]&&typeof this[Pt]=="number"){let t=this[Pt];this[Pt]=null,_o.close(t,n=>n?this.emit("error",n):this.emit("close"))}}[Vp](t){this[sl]=!0,this[es](),this.emit("error",t)}[LT](t,n){let r=!1;return this[GE]-=t,t>0&&(r=super.write(t<n.length?n.slice(0,t):n)),(t===0||this[GE]<=0)&&(r=!1,this[es](),super.end()),r}emit(t,n){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[Pt]=="number"&&this[Yp]();break;case"error":return this[zp]?void 0:(this[zp]=!0,super.emit(t,n));default:return super.emit(t,n)}}},FT=class extends ZE{[cl](){let t=!0;try{this[Kp](null,_o.openSync(this[Va],"r")),t=!1}finally{t&&this[es]()}}[Yp](){let t=!0;try{if(!this[sl]){this[sl]=!0;do{let n=this[AT](),r=n.length===0?0:_o.readSync(this[Pt],n,0,n.length,null);if(!this[LT](r,n))break}while(!0);this[sl]=!1}t=!1}finally{t&&this[es]()}}[es](){if(this[Gp]&&typeof this[Pt]=="number"){let t=this[Pt];this[Pt]=null,_o.closeSync(t),this.emit("close")}}},QE=class extends Ite{constructor(t,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[zp]=!1,this[qp]=!1,this[bv]=!1,this[zE]=!1,this[Bs]=[],this[Va]=t,this[Pt]=typeof n.fd=="number"?n.fd:null,this[XE]=n.mode===void 0?438:n.mode,this[kd]=typeof n.start=="number"?n.start:null,this[Gp]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[kd]!==null?"r+":"w";this[JE]=n.flags===void 0,this[al]=this[JE]?r:n.flags,this[Pt]===null&&this[cl]()}emit(t,n){if(t==="error"){if(this[zp])return;this[zp]=!0}return super.emit(t,n)}get fd(){return this[Pt]}get path(){return this[Va]}[Vp](t){this[es](),this[qp]=!0,this.emit("error",t)}[cl](){_o.open(this[Va],this[al],this[XE],(t,n)=>this[Kp](t,n))}[Kp](t,n){this[JE]&&this[al]==="r+"&&t&&t.code==="ENOENT"?(this[al]="w",this[cl]()):t?this[Vp](t):(this[Pt]=n,this.emit("open",n),this[kT]())}end(t,n){return t&&this.write(t,n),this[bv]=!0,!this[qp]&&!this[Bs].length&&typeof this[Pt]=="number"&&this[Wp](null,0),this}write(t,n){return typeof t=="string"&&(t=Buffer.from(t,n)),this[bv]?(this.emit("error",new Error("write() after end()")),!1):this[Pt]===null||this[qp]||this[Bs].length?(this[Bs].push(t),this[zE]=!0,!1):(this[qp]=!0,this[KE](t),!0)}[KE](t){_o.write(this[Pt],t,0,t.length,this[kd],(n,r)=>this[Wp](n,r))}[Wp](t,n){t?this[Vp](t):(this[kd]!==null&&(this[kd]+=n),this[Bs].length?this[kT]():(this[qp]=!1,this[bv]&&!this[aj]?(this[aj]=!0,this[es](),this.emit("finish")):this[zE]&&(this[zE]=!1,this.emit("drain"))))}[kT](){if(this[Bs].length===0)this[bv]&&this[Wp](null,0);else if(this[Bs].length===1)this[KE](this[Bs].pop());else{let t=this[Bs];this[Bs]=[],NT(this[Pt],t,this[kd],(n,r)=>this[Wp](n,r))}}[es](){if(this[Gp]&&typeof this[Pt]=="number"){let t=this[Pt];this[Pt]=null,_o.close(t,n=>n?this.emit("error",n):this.emit("close"))}}},OT=class extends QE{[cl](){let t;if(this[JE]&&this[al]==="r+")try{t=_o.openSync(this[Va],this[al],this[XE])}catch(n){if(n.code==="ENOENT")return this[al]="w",this[cl]();throw n}else t=_o.openSync(this[Va],this[al],this[XE]);this[Kp](null,t)}[es](){if(this[Gp]&&typeof this[Pt]=="number"){let t=this[Pt];this[Pt]=null,_o.closeSync(t),this.emit("close")}}[KE](t){let n=!0;try{this[Wp](null,_o.writeSync(this[Pt],t,0,t.length,this[kd])),n=!1}finally{if(n)try{this[es]()}catch{}}}};Sv.ReadStream=ZE;Sv.ReadStreamSync=FT;Sv.WriteStream=QE;Sv.WriteStreamSync=OT});var sC=O((pSe,wj)=>{"use strict";var Tte=NE(),uj=jp(),kte=require("events"),Rte=wT(),Nte=1024*1024,Lte=TE(),dj=RE(),fj=XI(),{nextTick:Ate}=require("process"),UT=Buffer.from([31,139]),Ci=Symbol("state"),Rd=Symbol("writeEntry"),za=Symbol("readEntry"),MT=Symbol("nextEntry"),pj=Symbol("processEntry"),bi=Symbol("extendedHeader"),_v=Symbol("globalExtendedHeader"),ll=Symbol("meta"),mj=Symbol("emitMeta"),Ft=Symbol("buffer"),Ga=Symbol("queue"),ul=Symbol("ended"),hj=Symbol("emittedEnd"),Nd=Symbol("emit"),ir=Symbol("unzip"),eC=Symbol("consumeChunk"),tC=Symbol("consumeChunkSub"),$T=Symbol("consumeBody"),gj=Symbol("consumeMeta"),vj=Symbol("consumeHeader"),nC=Symbol("consuming"),jT=Symbol("bufferConcat"),HT=Symbol("maybeEnd"),Dv=Symbol("writing"),dl=Symbol("aborted"),rC=Symbol("onDone"),Ld=Symbol("sawValidEntry"),oC=Symbol("sawNullBlock"),iC=Symbol("sawEOF"),xj=Symbol("closeStream"),Fte=e=>!0;wj.exports=Tte(class extends kte{constructor(t){t=t||{},super(t),this.file=t.file||"",this[Ld]=null,this.on(rC,r=>{(this[Ci]==="begin"||this[Ld]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(rC,t.ondone):this.on(rC,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||Nte,this.filter=typeof t.filter=="function"?t.filter:Fte;let n=t.file&&(t.file.endsWith(".tar.br")||t.file.endsWith(".tbr"));this.brotli=!t.gzip&&t.brotli!==void 0?t.brotli:n?void 0:!1,this.writable=!0,this.readable=!1,this[Ga]=new Rte,this[Ft]=null,this[za]=null,this[Rd]=null,this[Ci]="begin",this[ll]="",this[bi]=null,this[_v]=null,this[ul]=!1,this[ir]=null,this[dl]=!1,this[oC]=!1,this[iC]=!1,this.on("end",()=>this[xj]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[vj](t,n){this[Ld]===null&&(this[Ld]=!1);let r;try{r=new uj(t,n,this[bi],this[_v])}catch(o){return this.warn("TAR_ENTRY_INVALID",o)}if(r.nullBlock)this[oC]?(this[iC]=!0,this[Ci]==="begin"&&(this[Ci]="header"),this[Nd]("eof")):(this[oC]=!0,this[Nd]("nullBlock"));else if(this[oC]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let o=r.type;if(/^(Symbolic)?Link$/.test(o)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(o)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let i=this[Rd]=new Lte(r,this[bi],this[_v]);if(!this[Ld])if(i.remain){let s=()=>{i.invalid||(this[Ld]=!0)};i.on("end",s)}else this[Ld]=!0;i.meta?i.size>this.maxMetaEntrySize?(i.ignore=!0,this[Nd]("ignoredEntry",i),this[Ci]="ignore",i.resume()):i.size>0&&(this[ll]="",i.on("data",s=>this[ll]+=s),this[Ci]="meta"):(this[bi]=null,i.ignore=i.ignore||!this.filter(i.path,i),i.ignore?(this[Nd]("ignoredEntry",i),this[Ci]=i.remain?"ignore":"header",i.resume()):(i.remain?this[Ci]="body":(this[Ci]="header",i.end()),this[za]?this[Ga].push(i):(this[Ga].push(i),this[MT]())))}}}[xj](){Ate(()=>this.emit("close"))}[pj](t){let n=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[za]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",r=>this[MT]()),n=!1)):(this[za]=null,n=!1),n}[MT](){do;while(this[pj](this[Ga].shift()));if(!this[Ga].length){let t=this[za];!t||t.flowing||t.size===t.remain?this[Dv]||this.emit("drain"):t.once("drain",r=>this.emit("drain"))}}[$T](t,n){let r=this[Rd],o=r.blockRemain,i=o>=t.length&&n===0?t:t.slice(n,n+o);return r.write(i),r.blockRemain||(this[Ci]="header",this[Rd]=null,r.end()),i.length}[gj](t,n){let r=this[Rd],o=this[$T](t,n);return this[Rd]||this[mj](r),o}[Nd](t,n,r){!this[Ga].length&&!this[za]?this.emit(t,n,r):this[Ga].push([t,n,r])}[mj](t){switch(this[Nd]("meta",this[ll]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[bi]=dj.parse(this[ll],this[bi],!1);break;case"GlobalExtendedHeader":this[_v]=dj.parse(this[ll],this[_v],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[bi]=this[bi]||Object.create(null),this[bi].path=this[ll].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[bi]=this[bi]||Object.create(null),this[bi].linkpath=this[ll].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[dl]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[dl])return;if((this[ir]===null||this.brotli===void 0&&this[ir]===!1)&&t){if(this[Ft]&&(t=Buffer.concat([this[Ft],t]),this[Ft]=null),t.length<UT.length)return this[Ft]=t,!0;for(let i=0;this[ir]===null&&i<UT.length;i++)t[i]!==UT[i]&&(this[ir]=!1);let o=this.brotli===void 0;if(this[ir]===!1&&o)if(t.length<512)if(this[ul])this.brotli=!0;else return this[Ft]=t,!0;else try{new uj(t.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[ir]===null||this[ir]===!1&&this.brotli){let i=this[ul];this[ul]=!1,this[ir]=this[ir]===null?new fj.Unzip:new fj.BrotliDecompress,this[ir].on("data",a=>this[eC](a)),this[ir].on("error",a=>this.abort(a)),this[ir].on("end",a=>{this[ul]=!0,this[eC]()}),this[Dv]=!0;let s=this[ir][i?"end":"write"](t);return this[Dv]=!1,s}}this[Dv]=!0,this[ir]?this[ir].write(t):this[eC](t),this[Dv]=!1;let r=this[Ga].length?!1:this[za]?this[za].flowing:!0;return!r&&!this[Ga].length&&this[za].once("drain",o=>this.emit("drain")),r}[jT](t){t&&!this[dl]&&(this[Ft]=this[Ft]?Buffer.concat([this[Ft],t]):t)}[HT](){if(this[ul]&&!this[hj]&&!this[dl]&&!this[nC]){this[hj]=!0;let t=this[Rd];if(t&&t.blockRemain){let n=this[Ft]?this[Ft].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${n} available)`,{entry:t}),this[Ft]&&t.write(this[Ft]),t.end()}this[Nd](rC)}}[eC](t){if(this[nC])this[jT](t);else if(!t&&!this[Ft])this[HT]();else{if(this[nC]=!0,this[Ft]){this[jT](t);let n=this[Ft];this[Ft]=null,this[tC](n)}else this[tC](t);for(;this[Ft]&&this[Ft].length>=512&&!this[dl]&&!this[iC];){let n=this[Ft];this[Ft]=null,this[tC](n)}this[nC]=!1}(!this[Ft]||this[ul])&&this[HT]()}[tC](t){let n=0,r=t.length;for(;n+512<=r&&!this[dl]&&!this[iC];)switch(this[Ci]){case"begin":case"header":this[vj](t,n),n+=512;break;case"ignore":case"body":n+=this[$T](t,n);break;case"meta":n+=this[gj](t,n);break;default:throw new Error("invalid state: "+this[Ci])}n<r&&(this[Ft]?this[Ft]=Buffer.concat([t.slice(n),this[Ft]]):this[Ft]=t.slice(n))}end(t){this[dl]||(this[ir]?this[ir].end(t):(this[ul]=!0,this.brotli===void 0&&(t=t||Buffer.alloc(0)),this.write(t)))}})});var aC=O((mSe,bj)=>{"use strict";var Ote=Lp(),Ej=sC(),Xp=require("fs"),Ute=Jp(),yj=require("path"),BT=Hp();bj.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=Ote(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&$te(r,t),r.noResume||Mte(r),r.file&&r.sync?jte(r):r.file?Hte(r,n):Cj(r)};var Mte=e=>{let t=e.onentry;e.onentry=t?n=>{t(n),n.resume()}:n=>n.resume()},$te=(e,t)=>{let n=new Map(t.map(i=>[BT(i),!0])),r=e.filter,o=(i,s)=>{let a=s||yj.parse(i).root||".",c=i===a?!1:n.has(i)?n.get(i):o(yj.dirname(i),a);return n.set(i,c),c};e.filter=r?(i,s)=>r(i,s)&&o(BT(i)):i=>o(BT(i))},jte=e=>{let t=Cj(e),n=e.file,r=!0,o;try{let i=Xp.statSync(n),s=e.maxReadSize||16*1024*1024;if(i.size<s)t.end(Xp.readFileSync(n));else{let a=0,c=Buffer.allocUnsafe(s);for(o=Xp.openSync(n,"r");a<i.size;){let l=Xp.readSync(o,c,0,s,a);a+=l,t.write(c.slice(0,l))}t.end()}r=!1}finally{if(r&&o)try{Xp.closeSync(o)}catch{}}},Hte=(e,t)=>{let n=new Ej(e),r=e.maxReadSize||16*1024*1024,o=e.file,i=new Promise((s,a)=>{n.on("error",a),n.on("end",s),Xp.stat(o,(c,l)=>{if(c)a(c);else{let u=new Ute.ReadStream(o,{readSize:r,size:l.size});u.on("error",a),u.pipe(n)}})});return t?i.then(t,t):i},Cj=e=>new Ej(e)});var Tj=O((hSe,Ij)=>{"use strict";var Bte=Lp(),cC=VE(),Sj=Jp(),_j=aC(),Dj=require("path");Ij.exports=(e,t,n)=>{if(typeof t=="function"&&(n=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let r=Bte(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?qte(r,t):r.file?Wte(r,t,n):r.sync?Yte(r,t):Vte(r,t)};var qte=(e,t)=>{let n=new cC.Sync(e),r=new Sj.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(r),Pj(n,t)},Wte=(e,t,n)=>{let r=new cC(e),o=new Sj.WriteStream(e.file,{mode:e.mode||438});r.pipe(o);let i=new Promise((s,a)=>{o.on("error",a),o.on("close",s),r.on("error",a)});return qT(r,t),n?i.then(n,n):i},Pj=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?_j({file:Dj.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},qT=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return _j({file:Dj.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>qT(e,t));e.add(n)}e.end()},Yte=(e,t)=>{let n=new cC.Sync(e);return Pj(n,t),n},Vte=(e,t)=>{let n=new cC(e);return qT(n,t),n}});var WT=O((gSe,Oj)=>{"use strict";var zte=Lp(),kj=VE(),Xo=require("fs"),Rj=Jp(),Nj=aC(),Lj=require("path"),Aj=jp();Oj.exports=(e,t,n)=>{let r=zte(e);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r.sync?Gte(r,t):Jte(r,t,n)};var Gte=(e,t)=>{let n=new kj.Sync(e),r=!0,o,i;try{try{o=Xo.openSync(e.file,"r+")}catch(c){if(c.code==="ENOENT")o=Xo.openSync(e.file,"w+");else throw c}let s=Xo.fstatSync(o),a=Buffer.alloc(512);e:for(i=0;i<s.size;i+=512){for(let u=0,d=0;u<512;u+=d){if(d=Xo.readSync(o,a,u,a.length-u,i+u),i===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new Aj(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(i+l+512>s.size)break;i+=l,e.mtimeCache&&e.mtimeCache.set(c.path,c.mtime)}r=!1,Kte(e,n,i,o,t)}finally{if(r)try{Xo.closeSync(o)}catch{}}},Kte=(e,t,n,r,o)=>{let i=new Rj.WriteStreamSync(e.file,{fd:r,start:n});t.pipe(i),Xte(t,o)},Jte=(e,t,n)=>{t=Array.from(t);let r=new kj(e),o=(s,a,c)=>{let l=(m,h)=>{m?Xo.close(s,v=>c(m)):c(null,h)},u=0;if(a===0)return l(null,0);let d=0,p=Buffer.alloc(512),f=(m,h)=>{if(m)return l(m);if(d+=h,d<512&&h)return Xo.read(s,p,d,p.length-d,u+d,f);if(u===0&&p[0]===31&&p[1]===139)return l(new Error("cannot append to compressed archives"));if(d<512)return l(null,u);let v=new Aj(p);if(!v.cksumValid)return l(null,u);let g=512*Math.ceil(v.size/512);if(u+g+512>a||(u+=g+512,u>=a))return l(null,u);e.mtimeCache&&e.mtimeCache.set(v.path,v.mtime),d=0,Xo.read(s,p,0,512,u,f)};Xo.read(s,p,0,512,u,f)},i=new Promise((s,a)=>{r.on("error",a);let c="r+",l=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Xo.open(e.file,c,l);if(u)return a(u);Xo.fstat(d,(p,f)=>{if(p)return Xo.close(d,()=>a(p));o(d,f.size,(m,h)=>{if(m)return a(m);let v=new Rj.WriteStream(e.file,{fd:d,start:h});r.pipe(v),v.on("error",a),v.on("close",s),Fj(r,t)})})};Xo.open(e.file,c,l)});return n?i.then(n,n):i},Xte=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?Nj({file:Lj.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},Fj=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return Nj({file:Lj.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>Fj(e,t));e.add(n)}e.end()}});var Mj=O((vSe,Uj)=>{"use strict";var Zte=Lp(),Qte=WT();Uj.exports=(e,t,n)=>{let r=Zte(e);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),ene(r),Qte(r,t,n)};var ene=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(n,r)=>t(n,r)&&!(e.mtimeCache.get(n)>r.mtime):(n,r)=>!(e.mtimeCache.get(n)>r.mtime)}});var Hj=O((xSe,jj)=>{var{promisify:$j}=require("util"),fl=require("fs"),tne=e=>{if(!e)e={mode:511,fs:fl};else if(typeof e=="object")e={mode:511,fs:fl,...e};else if(typeof e=="number")e={mode:e,fs:fl};else if(typeof e=="string")e={mode:parseInt(e,8),fs:fl};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||fl.mkdir,e.mkdirAsync=$j(e.mkdir),e.stat=e.stat||e.fs.stat||fl.stat,e.statAsync=$j(e.stat),e.statSync=e.statSync||e.fs.statSync||fl.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||fl.mkdirSync,e};jj.exports=tne});var qj=O((wSe,Bj)=>{var nne=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:rne,parse:one}=require("path"),ine=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=rne(e),nne==="win32"){let t=/[*|"<>?:]/,{root:n}=one(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};Bj.exports=ine});var Gj=O((ySe,zj)=>{var{dirname:Wj}=require("path"),Yj=(e,t,n=void 0)=>n===t?Promise.resolve():e.statAsync(t).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?Yj(e,Wj(t),t):void 0),Vj=(e,t,n=void 0)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?Vj(e,Wj(t),t):void 0}};zj.exports={findMade:Yj,findMadeSync:Vj}});var zT=O((ESe,Jj)=>{var{dirname:Kj}=require("path"),YT=(e,t,n)=>{t.recursive=!1;let r=Kj(e);return r===e?t.mkdirAsync(e,t).catch(o=>{if(o.code!=="EISDIR")throw o}):t.mkdirAsync(e,t).then(()=>n||e,o=>{if(o.code==="ENOENT")return YT(r,t).then(i=>YT(e,t,i));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;return t.statAsync(e).then(i=>{if(i.isDirectory())return n;throw o},()=>{throw o})})},VT=(e,t,n)=>{let r=Kj(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(o){if(o.code!=="EISDIR")throw o;return}try{return t.mkdirSync(e,t),n||e}catch(o){if(o.code==="ENOENT")return VT(e,t,VT(r,t,n));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;try{if(!t.statSync(e).isDirectory())throw o}catch{throw o}}};Jj.exports={mkdirpManual:YT,mkdirpManualSync:VT}});var Qj=O((CSe,Zj)=>{var{dirname:Xj}=require("path"),{findMade:sne,findMadeSync:ane}=Gj(),{mkdirpManual:cne,mkdirpManualSync:lne}=zT(),une=(e,t)=>(t.recursive=!0,Xj(e)===e?t.mkdirAsync(e,t):sne(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(o=>{if(o.code==="ENOENT")return cne(e,t);throw o}))),dne=(e,t)=>{if(t.recursive=!0,Xj(e)===e)return t.mkdirSync(e,t);let r=ane(t,e);try{return t.mkdirSync(e,t),r}catch(o){if(o.code==="ENOENT")return lne(e,t);throw o}};Zj.exports={mkdirpNative:une,mkdirpNativeSync:dne}});var r2=O((bSe,n2)=>{var e2=require("fs"),fne=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,GT=fne.replace(/^v/,"").split("."),t2=+GT[0]>10||+GT[0]==10&&+GT[1]>=12,pne=t2?e=>e.mkdir===e2.mkdir:()=>!1,mne=t2?e=>e.mkdirSync===e2.mkdirSync:()=>!1;n2.exports={useNative:pne,useNativeSync:mne}});var l2=O((SSe,c2)=>{var Zp=Hj(),Qp=qj(),{mkdirpNative:o2,mkdirpNativeSync:i2}=Qj(),{mkdirpManual:s2,mkdirpManualSync:a2}=zT(),{useNative:hne,useNativeSync:gne}=r2(),em=(e,t)=>(e=Qp(e),t=Zp(t),hne(t)?o2(e,t):s2(e,t)),vne=(e,t)=>(e=Qp(e),t=Zp(t),gne(t)?i2(e,t):a2(e,t));em.sync=vne;em.native=(e,t)=>o2(Qp(e),Zp(t));em.manual=(e,t)=>s2(Qp(e),Zp(t));em.nativeSync=(e,t)=>i2(Qp(e),Zp(t));em.manualSync=(e,t)=>a2(Qp(e),Zp(t));c2.exports=em});var g2=O((_Se,h2)=>{"use strict";var Si=require("fs"),Ad=require("path"),xne=Si.lchown?"lchown":"chown",wne=Si.lchownSync?"lchownSync":"chownSync",d2=Si.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),u2=(e,t,n)=>{try{return Si[wne](e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},yne=(e,t,n)=>{try{return Si.chownSync(e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},Ene=d2?(e,t,n,r)=>o=>{!o||o.code!=="EISDIR"?r(o):Si.chown(e,t,n,r)}:(e,t,n,r)=>r,KT=d2?(e,t,n)=>{try{return u2(e,t,n)}catch(r){if(r.code!=="EISDIR")throw r;yne(e,t,n)}}:(e,t,n)=>u2(e,t,n),Cne=process.version,f2=(e,t,n)=>Si.readdir(e,t,n),bne=(e,t)=>Si.readdirSync(e,t);/^v4\./.test(Cne)&&(f2=(e,t,n)=>Si.readdir(e,n));var lC=(e,t,n,r)=>{Si[xne](e,t,n,Ene(e,t,n,o=>{r(o&&o.code!=="ENOENT"?o:null)}))},p2=(e,t,n,r,o)=>{if(typeof t=="string")return Si.lstat(Ad.resolve(e,t),(i,s)=>{if(i)return o(i.code!=="ENOENT"?i:null);s.name=t,p2(e,s,n,r,o)});if(t.isDirectory())JT(Ad.resolve(e,t.name),n,r,i=>{if(i)return o(i);let s=Ad.resolve(e,t.name);lC(s,n,r,o)});else{let i=Ad.resolve(e,t.name);lC(i,n,r,o)}},JT=(e,t,n,r)=>{f2(e,{withFileTypes:!0},(o,i)=>{if(o){if(o.code==="ENOENT")return r();if(o.code!=="ENOTDIR"&&o.code!=="ENOTSUP")return r(o)}if(o||!i.length)return lC(e,t,n,r);let s=i.length,a=null,c=l=>{if(!a){if(l)return r(a=l);if(--s===0)return lC(e,t,n,r)}};i.forEach(l=>p2(e,l,t,n,c))})},Sne=(e,t,n,r)=>{if(typeof t=="string")try{let o=Si.lstatSync(Ad.resolve(e,t));o.name=t,t=o}catch(o){if(o.code==="ENOENT")return;throw o}t.isDirectory()&&m2(Ad.resolve(e,t.name),n,r),KT(Ad.resolve(e,t.name),n,r)},m2=(e,t,n)=>{let r;try{r=bne(e,{withFileTypes:!0})}catch(o){if(o.code==="ENOENT")return;if(o.code==="ENOTDIR"||o.code==="ENOTSUP")return KT(e,t,n);throw o}return r&&r.length&&r.forEach(o=>Sne(e,o,t,n)),KT(e,t,n)};h2.exports=JT;JT.sync=m2});var y2=O((DSe,XT)=>{"use strict";var v2=l2(),_i=require("fs"),uC=require("path"),x2=g2(),ts=Mp(),dC=class extends Error{constructor(t,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=t}get name(){return"SylinkError"}},fC=class extends Error{constructor(t,n){super(n+": Cannot cd into '"+t+"'"),this.path=t,this.code=n}get name(){return"CwdError"}},pC=(e,t)=>e.get(ts(t)),Pv=(e,t,n)=>e.set(ts(t),n),_ne=(e,t)=>{_i.stat(e,(n,r)=>{(n||!r.isDirectory())&&(n=new fC(e,n&&n.code||"ENOTDIR")),t(n)})};XT.exports=(e,t,n)=>{e=ts(e);let r=t.umask,o=t.mode|448,i=(o&r)!==0,s=t.uid,a=t.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),l=t.preserve,u=t.unlink,d=t.cache,p=ts(t.cwd),f=(v,g)=>{v?n(v):(Pv(d,e,!0),g&&c?x2(g,s,a,w=>f(w)):i?_i.chmod(e,o,n):n())};if(d&&pC(d,e)===!0)return f();if(e===p)return _ne(e,f);if(l)return v2(e,{mode:o}).then(v=>f(null,v),f);let h=ts(uC.relative(p,e)).split("/");mC(p,h,o,d,u,p,null,f)};var mC=(e,t,n,r,o,i,s,a)=>{if(!t.length)return a(null,s);let c=t.shift(),l=ts(uC.resolve(e+"/"+c));if(pC(r,l))return mC(l,t,n,r,o,i,s,a);_i.mkdir(l,n,w2(l,t,n,r,o,i,s,a))},w2=(e,t,n,r,o,i,s,a)=>c=>{c?_i.lstat(e,(l,u)=>{if(l)l.path=l.path&&ts(l.path),a(l);else if(u.isDirectory())mC(e,t,n,r,o,i,s,a);else if(o)_i.unlink(e,d=>{if(d)return a(d);_i.mkdir(e,n,w2(e,t,n,r,o,i,s,a))});else{if(u.isSymbolicLink())return a(new dC(e,e+"/"+t.join("/")));a(c)}}):(s=s||e,mC(e,t,n,r,o,i,s,a))},Dne=e=>{let t=!1,n="ENOTDIR";try{t=_i.statSync(e).isDirectory()}catch(r){n=r.code}finally{if(!t)throw new fC(e,n)}};XT.exports.sync=(e,t)=>{e=ts(e);let n=t.umask,r=t.mode|448,o=(r&n)!==0,i=t.uid,s=t.gid,a=typeof i=="number"&&typeof s=="number"&&(i!==t.processUid||s!==t.processGid),c=t.preserve,l=t.unlink,u=t.cache,d=ts(t.cwd),p=v=>{Pv(u,e,!0),v&&a&&x2.sync(v,i,s),o&&_i.chmodSync(e,r)};if(u&&pC(u,e)===!0)return p();if(e===d)return Dne(d),p();if(c)return p(v2.sync(e,r));let m=ts(uC.relative(d,e)).split("/"),h=null;for(let v=m.shift(),g=d;v&&(g+="/"+v);v=m.shift())if(g=ts(uC.resolve(g)),!pC(u,g))try{_i.mkdirSync(g,r),h=h||g,Pv(u,g,!0)}catch{let x=_i.lstatSync(g);if(x.isDirectory()){Pv(u,g,!0);continue}else if(l){_i.unlinkSync(g),_i.mkdirSync(g,r),h=h||g,Pv(u,g,!0);continue}else if(x.isSymbolicLink())return new dC(g,g+"/"+m.join("/"))}return p(h)}});var QT=O((PSe,E2)=>{var ZT=Object.create(null),{hasOwnProperty:Pne}=Object.prototype;E2.exports=e=>(Pne.call(ZT,e)||(ZT[e]=e.normalize("NFD")),ZT[e])});var _2=O((ISe,S2)=>{var C2=require("assert"),Ine=QT(),Tne=Hp(),{join:b2}=require("path"),kne=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Rne=kne==="win32";S2.exports=()=>{let e=new Map,t=new Map,n=l=>l.split("/").slice(0,-1).reduce((d,p)=>(d.length&&(p=b2(d[d.length-1],p)),d.push(p||"/"),d),[]),r=new Set,o=l=>{let u=t.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(d=>e.get(d)),dirs:[...u.dirs].map(d=>e.get(d))}},i=l=>{let{paths:u,dirs:d}=o(l);return u.every(p=>p[0]===l)&&d.every(p=>p[0]instanceof Set&&p[0].has(l))},s=l=>r.has(l)||!i(l)?!1:(r.add(l),l(()=>a(l)),!0),a=l=>{if(!r.has(l))return!1;let{paths:u,dirs:d}=t.get(l),p=new Set;return u.forEach(f=>{let m=e.get(f);C2.equal(m[0],l),m.length===1?e.delete(f):(m.shift(),typeof m[0]=="function"?p.add(m[0]):m[0].forEach(h=>p.add(h)))}),d.forEach(f=>{let m=e.get(f);C2(m[0]instanceof Set),m[0].size===1&&m.length===1?e.delete(f):m[0].size===1?(m.shift(),p.add(m[0])):m[0].delete(l)}),r.delete(l),p.forEach(f=>s(f)),!0};return{check:i,reserve:(l,u)=>{l=Rne?["win32 parallelization disabled"]:l.map(p=>Tne(b2(Ine(p))).toLowerCase());let d=new Set(l.map(p=>n(p)).reduce((p,f)=>p.concat(f)));return t.set(u,{dirs:d,paths:l}),l.forEach(p=>{let f=e.get(p);f?f.push(u):e.set(p,[u])}),d.forEach(p=>{let f=e.get(p);f?f[f.length-1]instanceof Set?f[f.length-1].add(u):f.push(new Set([u])):e.set(p,[new Set([u])])}),s(u)}}}});var I2=O((TSe,P2)=>{var Nne=process.env.__FAKE_PLATFORM__||process.platform,Lne=Nne==="win32",Ane=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:Fne,O_TRUNC:One,O_WRONLY:Une,UV_FS_O_FILEMAP:D2=0}=Ane.constants,Mne=Lne&&!!D2,$ne=512*1024,jne=D2|One|Fne|Une;P2.exports=Mne?e=>e<$ne?jne:"w":()=>"w"});var ck=O((kSe,B2)=>{"use strict";var Hne=require("assert"),Bne=sC(),vt=require("fs"),qne=Jp(),Ka=require("path"),$2=y2(),T2=aT(),Wne=_2(),Yne=cT(),Di=Mp(),Vne=Hp(),zne=QT(),k2=Symbol("onEntry"),nk=Symbol("checkFs"),R2=Symbol("checkFs2"),vC=Symbol("pruneCache"),rk=Symbol("isReusable"),Pi=Symbol("makeFs"),ok=Symbol("file"),ik=Symbol("directory"),xC=Symbol("link"),N2=Symbol("symlink"),L2=Symbol("hardlink"),A2=Symbol("unsupported"),F2=Symbol("checkPath"),pl=Symbol("mkdir"),Mr=Symbol("onError"),hC=Symbol("pending"),O2=Symbol("pend"),tm=Symbol("unpend"),ek=Symbol("ended"),tk=Symbol("maybeClose"),sk=Symbol("skip"),Iv=Symbol("doChown"),Tv=Symbol("uid"),kv=Symbol("gid"),Rv=Symbol("checkedCwd"),j2=require("crypto"),H2=I2(),Gne=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Nv=Gne==="win32",Kne=1024,Jne=(e,t)=>{if(!Nv)return vt.unlink(e,t);let n=e+".DELETE."+j2.randomBytes(16).toString("hex");vt.rename(e,n,r=>{if(r)return t(r);vt.unlink(n,t)})},Xne=e=>{if(!Nv)return vt.unlinkSync(e);let t=e+".DELETE."+j2.randomBytes(16).toString("hex");vt.renameSync(e,t),vt.unlinkSync(t)},U2=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n,M2=e=>Vne(Di(zne(e))).toLowerCase(),Zne=(e,t)=>{t=M2(t);for(let n of e.keys()){let r=M2(n);(r===t||r.indexOf(t+"/")===0)&&e.delete(n)}},Qne=e=>{for(let t of e.keys())e.delete(t)},Lv=class extends Bne{constructor(t){if(t||(t={}),t.ondone=n=>{this[ek]=!0,this[tk]()},super(t),this[Rv]=!1,this.reservations=Wne(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[hC]=0,this[ek]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof t.maxDepth=="number"?t.maxDepth:Kne,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Nv,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Di(Ka.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",n=>this[k2](n))}warn(t,n,r={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(r.recoverable=!1),super.warn(t,n,r)}[tk](){this[ek]&&this[hC]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[F2](t){let n=Di(t.path),r=n.split("/");if(this.strip){if(r.length<this.strip)return!1;if(t.type==="Link"){let o=Di(t.linkpath).split("/");if(o.length>=this.strip)t.linkpath=o.slice(this.strip).join("/");else return!1}r.splice(0,this.strip),t.path=r.join("/")}if(isFinite(this.maxDepth)&&r.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:t,path:n,depth:r.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(r.includes("..")||Nv&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:n}),!1;let[o,i]=Yne(n);o&&(t.path=i,this.warn("TAR_ENTRY_INFO",`stripping ${o} from absolute path`,{entry:t,path:n}))}if(Ka.isAbsolute(t.path)?t.absolute=Di(Ka.resolve(t.path)):t.absolute=Di(Ka.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:Di(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:o}=Ka.win32.parse(t.absolute);t.absolute=o+T2.encode(t.absolute.slice(o.length));let{root:i}=Ka.win32.parse(t.path);t.path=i+T2.encode(t.path.slice(i.length))}return!0}[k2](t){if(!this[F2](t))return t.resume();switch(Hne.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[nk](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[A2](t)}}[Mr](t,n){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:n}),this[tm](),n.resume())}[pl](t,n,r){$2(Di(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[Iv](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Tv](t){return U2(this.uid,t.uid,this.processUid)}[kv](t){return U2(this.gid,t.gid,this.processGid)}[ok](t,n){let r=t.mode&4095||this.fmode,o=new qne.WriteStream(t.absolute,{flags:H2(t.size),mode:r,autoClose:!1});o.on("error",c=>{o.fd&&vt.close(o.fd,()=>{}),o.write=()=>!0,this[Mr](c,t),n()});let i=1,s=c=>{if(c){o.fd&&vt.close(o.fd,()=>{}),this[Mr](c,t),n();return}--i===0&&vt.close(o.fd,l=>{l?this[Mr](l,t):this[tm](),n()})};o.on("finish",c=>{let l=t.absolute,u=o.fd;if(t.mtime&&!this.noMtime){i++;let d=t.atime||new Date,p=t.mtime;vt.futimes(u,d,p,f=>f?vt.utimes(l,d,p,m=>s(m&&f)):s())}if(this[Iv](t)){i++;let d=this[Tv](t),p=this[kv](t);vt.fchown(u,d,p,f=>f?vt.chown(l,d,p,m=>s(m&&f)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",c=>{this[Mr](c,t),n()}),t.pipe(a)),a.pipe(o)}[ik](t,n){let r=t.mode&4095||this.dmode;this[pl](t.absolute,r,o=>{if(o){this[Mr](o,t),n();return}let i=1,s=a=>{--i===0&&(n(),this[tm](),t.resume())};t.mtime&&!this.noMtime&&(i++,vt.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[Iv](t)&&(i++,vt.chown(t.absolute,this[Tv](t),this[kv](t),s)),s()})}[A2](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[N2](t,n){this[xC](t,t.linkpath,"symlink",n)}[L2](t,n){let r=Di(Ka.resolve(this.cwd,t.linkpath));this[xC](t,r,"link",n)}[O2](){this[hC]++}[tm](){this[hC]--,this[tk]()}[sk](t){this[tm](),t.resume()}[rk](t,n){return t.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!Nv}[nk](t){this[O2]();let n=[t.path];t.linkpath&&n.push(t.linkpath),this.reservations.reserve(n,r=>this[R2](t,r))}[vC](t){t.type==="SymbolicLink"?Qne(this.dirCache):t.type!=="Directory"&&Zne(this.dirCache,t.absolute)}[R2](t,n){this[vC](t);let r=a=>{this[vC](t),n(a)},o=()=>{this[pl](this.cwd,this.dmode,a=>{if(a){this[Mr](a,t),r();return}this[Rv]=!0,i()})},i=()=>{if(t.absolute!==this.cwd){let a=Di(Ka.dirname(t.absolute));if(a!==this.cwd)return this[pl](a,this.dmode,c=>{if(c){this[Mr](c,t),r();return}s()})}s()},s=()=>{vt.lstat(t.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>t.mtime)){this[sk](t),r();return}if(a||this[rk](t,c))return this[Pi](null,t,r);if(c.isDirectory()){if(t.type==="Directory"){let l=!this.noChmod&&t.mode&&(c.mode&4095)!==t.mode,u=d=>this[Pi](d,t,r);return l?vt.chmod(t.absolute,t.mode,u):u()}if(t.absolute!==this.cwd)return vt.rmdir(t.absolute,l=>this[Pi](l,t,r))}if(t.absolute===this.cwd)return this[Pi](null,t,r);Jne(t.absolute,l=>this[Pi](l,t,r))})};this[Rv]?i():o()}[Pi](t,n,r){if(t){this[Mr](t,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[ok](n,r);case"Link":return this[L2](n,r);case"SymbolicLink":return this[N2](n,r);case"Directory":case"GNUDumpDir":return this[ik](n,r)}}[xC](t,n,r,o){vt[r](n,t.absolute,i=>{i?this[Mr](i,t):(this[tm](),t.resume()),o()})}},gC=e=>{try{return[null,e()]}catch(t){return[t,null]}},ak=class extends Lv{[Pi](t,n){return super[Pi](t,n,()=>{})}[nk](t){if(this[vC](t),!this[Rv]){let i=this[pl](this.cwd,this.dmode);if(i)return this[Mr](i,t);this[Rv]=!0}if(t.absolute!==this.cwd){let i=Di(Ka.dirname(t.absolute));if(i!==this.cwd){let s=this[pl](i,this.dmode);if(s)return this[Mr](s,t)}}let[n,r]=gC(()=>vt.lstatSync(t.absolute));if(r&&(this.keep||this.newer&&r.mtime>t.mtime))return this[sk](t);if(n||this[rk](t,r))return this[Pi](null,t);if(r.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode,[a]=s?gC(()=>{vt.chmodSync(t.absolute,t.mode)}):[];return this[Pi](a,t)}let[i]=gC(()=>vt.rmdirSync(t.absolute));this[Pi](i,t)}let[o]=t.absolute===this.cwd?[]:gC(()=>Xne(t.absolute));this[Pi](o,t)}[ok](t,n){let r=t.mode&4095||this.fmode,o=a=>{let c;try{vt.closeSync(i)}catch(l){c=l}(a||c)&&this[Mr](a||c,t),n()},i;try{i=vt.openSync(t.absolute,H2(t.size),r)}catch(a){return o(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[Mr](a,t)),t.pipe(s)),s.on("data",a=>{try{vt.writeSync(i,a,0,a.length)}catch(c){o(c)}}),s.on("end",a=>{let c=null;if(t.mtime&&!this.noMtime){let l=t.atime||new Date,u=t.mtime;try{vt.futimesSync(i,l,u)}catch(d){try{vt.utimesSync(t.absolute,l,u)}catch{c=d}}}if(this[Iv](t)){let l=this[Tv](t),u=this[kv](t);try{vt.fchownSync(i,l,u)}catch(d){try{vt.chownSync(t.absolute,l,u)}catch{c=c||d}}}o(c)})}[ik](t,n){let r=t.mode&4095||this.dmode,o=this[pl](t.absolute,r);if(o){this[Mr](o,t),n();return}if(t.mtime&&!this.noMtime)try{vt.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Iv](t))try{vt.chownSync(t.absolute,this[Tv](t),this[kv](t))}catch{}n(),t.resume()}[pl](t,n){try{return $2.sync(Di(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[xC](t,n,r,o){try{vt[r+"Sync"](n,t.absolute),o(),t.resume()}catch(i){return this[Mr](i,t)}}};Lv.Sync=ak;B2.exports=Lv});var z2=O((RSe,V2)=>{"use strict";var ere=Lp(),wC=ck(),W2=require("fs"),Y2=Jp(),q2=require("path"),lk=Hp();V2.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=ere(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&tre(r,t),r.file&&r.sync?nre(r):r.file?rre(r,n):r.sync?ore(r):ire(r)};var tre=(e,t)=>{let n=new Map(t.map(i=>[lk(i),!0])),r=e.filter,o=(i,s)=>{let a=s||q2.parse(i).root||".",c=i===a?!1:n.has(i)?n.get(i):o(q2.dirname(i),a);return n.set(i,c),c};e.filter=r?(i,s)=>r(i,s)&&o(lk(i)):i=>o(lk(i))},nre=e=>{let t=new wC.Sync(e),n=e.file,r=W2.statSync(n),o=e.maxReadSize||16*1024*1024;new Y2.ReadStreamSync(n,{readSize:o,size:r.size}).pipe(t)},rre=(e,t)=>{let n=new wC(e),r=e.maxReadSize||16*1024*1024,o=e.file,i=new Promise((s,a)=>{n.on("error",a),n.on("close",s),W2.stat(o,(c,l)=>{if(c)a(c);else{let u=new Y2.ReadStream(o,{readSize:r,size:l.size});u.on("error",a),u.pipe(n)}})});return t?i.then(t,t):i},ore=e=>new wC.Sync(e),ire=e=>new wC(e)});var yC=O(Vn=>{"use strict";Vn.c=Vn.create=Tj();Vn.r=Vn.replace=WT();Vn.t=Vn.list=aC();Vn.u=Vn.update=Mj();Vn.x=Vn.extract=z2();Vn.Pack=VE();Vn.Unpack=ck();Vn.Parse=sC();Vn.ReadEntry=TE();Vn.WriteEntry=xT();Vn.Header=jp();Vn.Pax=RE();Vn.types=eT()});var Av=O((LSe,G2)=>{var sre="2.0.0",are=Number.MAX_SAFE_INTEGER||9007199254740991,cre=16,lre=256-6,ure=["major","premajor","minor","preminor","patch","prepatch","prerelease"];G2.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:cre,MAX_SAFE_BUILD_LENGTH:lre,MAX_SAFE_INTEGER:are,RELEASE_TYPES:ure,SEMVER_SPEC_VERSION:sre,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Fv=O((ASe,K2)=>{var dre=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};K2.exports=dre});var nm=O((Ja,J2)=>{var{MAX_SAFE_COMPONENT_LENGTH:uk,MAX_SAFE_BUILD_LENGTH:fre,MAX_LENGTH:pre}=Av(),mre=Fv();Ja=J2.exports={};var hre=Ja.re=[],gre=Ja.safeRe=[],ve=Ja.src=[],xe=Ja.t={},vre=0,dk="[a-zA-Z0-9-]",xre=[["\\s",1],["\\d",pre],[dk,fre]],wre=e=>{for(let[t,n]of xre)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e},Ve=(e,t,n)=>{let r=wre(t),o=vre++;mre(e,o,t),xe[e]=o,ve[o]=t,hre[o]=new RegExp(t,n?"g":void 0),gre[o]=new RegExp(r,n?"g":void 0)};Ve("NUMERICIDENTIFIER","0|[1-9]\\d*");Ve("NUMERICIDENTIFIERLOOSE","\\d+");Ve("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${dk}*`);Ve("MAINVERSION",`(${ve[xe.NUMERICIDENTIFIER]})\\.(${ve[xe.NUMERICIDENTIFIER]})\\.(${ve[xe.NUMERICIDENTIFIER]})`);Ve("MAINVERSIONLOOSE",`(${ve[xe.NUMERICIDENTIFIERLOOSE]})\\.(${ve[xe.NUMERICIDENTIFIERLOOSE]})\\.(${ve[xe.NUMERICIDENTIFIERLOOSE]})`);Ve("PRERELEASEIDENTIFIER",`(?:${ve[xe.NUMERICIDENTIFIER]}|${ve[xe.NONNUMERICIDENTIFIER]})`);Ve("PRERELEASEIDENTIFIERLOOSE",`(?:${ve[xe.NUMERICIDENTIFIERLOOSE]}|${ve[xe.NONNUMERICIDENTIFIER]})`);Ve("PRERELEASE",`(?:-(${ve[xe.PRERELEASEIDENTIFIER]}(?:\\.${ve[xe.PRERELEASEIDENTIFIER]})*))`);Ve("PRERELEASELOOSE",`(?:-?(${ve[xe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ve[xe.PRERELEASEIDENTIFIERLOOSE]})*))`);Ve("BUILDIDENTIFIER",`${dk}+`);Ve("BUILD",`(?:\\+(${ve[xe.BUILDIDENTIFIER]}(?:\\.${ve[xe.BUILDIDENTIFIER]})*))`);Ve("FULLPLAIN",`v?${ve[xe.MAINVERSION]}${ve[xe.PRERELEASE]}?${ve[xe.BUILD]}?`);Ve("FULL",`^${ve[xe.FULLPLAIN]}$`);Ve("LOOSEPLAIN",`[v=\\s]*${ve[xe.MAINVERSIONLOOSE]}${ve[xe.PRERELEASELOOSE]}?${ve[xe.BUILD]}?`);Ve("LOOSE",`^${ve[xe.LOOSEPLAIN]}$`);Ve("GTLT","((?:<|>)?=?)");Ve("XRANGEIDENTIFIERLOOSE",`${ve[xe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ve("XRANGEIDENTIFIER",`${ve[xe.NUMERICIDENTIFIER]}|x|X|\\*`);Ve("XRANGEPLAIN",`[v=\\s]*(${ve[xe.XRANGEIDENTIFIER]})(?:\\.(${ve[xe.XRANGEIDENTIFIER]})(?:\\.(${ve[xe.XRANGEIDENTIFIER]})(?:${ve[xe.PRERELEASE]})?${ve[xe.BUILD]}?)?)?`);Ve("XRANGEPLAINLOOSE",`[v=\\s]*(${ve[xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ve[xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ve[xe.XRANGEIDENTIFIERLOOSE]})(?:${ve[xe.PRERELEASELOOSE]})?${ve[xe.BUILD]}?)?)?`);Ve("XRANGE",`^${ve[xe.GTLT]}\\s*${ve[xe.XRANGEPLAIN]}$`);Ve("XRANGELOOSE",`^${ve[xe.GTLT]}\\s*${ve[xe.XRANGEPLAINLOOSE]}$`);Ve("COERCEPLAIN",`(^|[^\\d])(\\d{1,${uk}})(?:\\.(\\d{1,${uk}}))?(?:\\.(\\d{1,${uk}}))?`);Ve("COERCE",`${ve[xe.COERCEPLAIN]}(?:$|[^\\d])`);Ve("COERCEFULL",ve[xe.COERCEPLAIN]+`(?:${ve[xe.PRERELEASE]})?(?:${ve[xe.BUILD]})?(?:$|[^\\d])`);Ve("COERCERTL",ve[xe.COERCE],!0);Ve("COERCERTLFULL",ve[xe.COERCEFULL],!0);Ve("LONETILDE","(?:~>?)");Ve("TILDETRIM",`(\\s*)${ve[xe.LONETILDE]}\\s+`,!0);Ja.tildeTrimReplace="$1~";Ve("TILDE",`^${ve[xe.LONETILDE]}${ve[xe.XRANGEPLAIN]}$`);Ve("TILDELOOSE",`^${ve[xe.LONETILDE]}${ve[xe.XRANGEPLAINLOOSE]}$`);Ve("LONECARET","(?:\\^)");Ve("CARETTRIM",`(\\s*)${ve[xe.LONECARET]}\\s+`,!0);Ja.caretTrimReplace="$1^";Ve("CARET",`^${ve[xe.LONECARET]}${ve[xe.XRANGEPLAIN]}$`);Ve("CARETLOOSE",`^${ve[xe.LONECARET]}${ve[xe.XRANGEPLAINLOOSE]}$`);Ve("COMPARATORLOOSE",`^${ve[xe.GTLT]}\\s*(${ve[xe.LOOSEPLAIN]})$|^$`);Ve("COMPARATOR",`^${ve[xe.GTLT]}\\s*(${ve[xe.FULLPLAIN]})$|^$`);Ve("COMPARATORTRIM",`(\\s*)${ve[xe.GTLT]}\\s*(${ve[xe.LOOSEPLAIN]}|${ve[xe.XRANGEPLAIN]})`,!0);Ja.comparatorTrimReplace="$1$2$3";Ve("HYPHENRANGE",`^\\s*(${ve[xe.XRANGEPLAIN]})\\s+-\\s+(${ve[xe.XRANGEPLAIN]})\\s*$`);Ve("HYPHENRANGELOOSE",`^\\s*(${ve[xe.XRANGEPLAINLOOSE]})\\s+-\\s+(${ve[xe.XRANGEPLAINLOOSE]})\\s*$`);Ve("STAR","(<|>)?=?\\s*\\*");Ve("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ve("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var EC=O((FSe,X2)=>{var yre=Object.freeze({loose:!0}),Ere=Object.freeze({}),Cre=e=>e?typeof e!="object"?yre:e:Ere;X2.exports=Cre});var fk=O((OSe,eH)=>{var Z2=/^[0-9]+$/,Q2=(e,t)=>{let n=Z2.test(e),r=Z2.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},bre=(e,t)=>Q2(t,e);eH.exports={compareIdentifiers:Q2,rcompareIdentifiers:bre}});var $r=O((USe,oH)=>{var CC=Fv(),{MAX_LENGTH:tH,MAX_SAFE_INTEGER:bC}=Av(),{safeRe:nH,t:rH}=nm(),Sre=EC(),{compareIdentifiers:rm}=fk(),pk=class e{constructor(t,n){if(n=Sre(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>tH)throw new TypeError(`version is longer than ${tH} characters`);CC("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=t.trim().match(n.loose?nH[rH.LOOSE]:nH[rH.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>bC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bC||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<bC)return i}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(CC("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),rm(this.major,t.major)||rm(this.minor,t.minor)||rm(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],o=t.prerelease[n];if(CC("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return rm(r,o)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{let r=this.build[n],o=t.build[n];if(CC("build compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return rm(r,o)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let i=[n,o];r===!1&&(i=[n]),rm(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};oH.exports=pk});var Fd=O((MSe,sH)=>{var iH=$r(),_re=(e,t,n=!1)=>{if(e instanceof iH)return e;try{return new iH(e,t)}catch(r){if(!n)return null;throw r}};sH.exports=_re});var cH=O(($Se,aH)=>{var Dre=Fd(),Pre=(e,t)=>{let n=Dre(e,t);return n?n.version:null};aH.exports=Pre});var uH=O((jSe,lH)=>{var Ire=Fd(),Tre=(e,t)=>{let n=Ire(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};lH.exports=Tre});var pH=O((HSe,fH)=>{var dH=$r(),kre=(e,t,n,r,o)=>{typeof n=="string"&&(o=r,r=n,n=void 0);try{return new dH(e instanceof dH?e.version:e,n).inc(t,r,o).version}catch{return null}};fH.exports=kre});var gH=O((BSe,hH)=>{var mH=Fd(),Rre=(e,t)=>{let n=mH(e,null,!0),r=mH(t,null,!0),o=n.compare(r);if(o===0)return null;let i=o>0,s=i?n:r,a=i?r:n,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let u=c?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};hH.exports=Rre});var xH=O((qSe,vH)=>{var Nre=$r(),Lre=(e,t)=>new Nre(e,t).major;vH.exports=Lre});var yH=O((WSe,wH)=>{var Are=$r(),Fre=(e,t)=>new Are(e,t).minor;wH.exports=Fre});var CH=O((YSe,EH)=>{var Ore=$r(),Ure=(e,t)=>new Ore(e,t).patch;EH.exports=Ure});var SH=O((VSe,bH)=>{var Mre=Fd(),$re=(e,t)=>{let n=Mre(e,t);return n&&n.prerelease.length?n.prerelease:null};bH.exports=$re});var Ii=O((zSe,DH)=>{var _H=$r(),jre=(e,t,n)=>new _H(e,n).compare(new _H(t,n));DH.exports=jre});var IH=O((GSe,PH)=>{var Hre=Ii(),Bre=(e,t,n)=>Hre(t,e,n);PH.exports=Bre});var kH=O((KSe,TH)=>{var qre=Ii(),Wre=(e,t)=>qre(e,t,!0);TH.exports=Wre});var SC=O((JSe,NH)=>{var RH=$r(),Yre=(e,t,n)=>{let r=new RH(e,n),o=new RH(t,n);return r.compare(o)||r.compareBuild(o)};NH.exports=Yre});var AH=O((XSe,LH)=>{var Vre=SC(),zre=(e,t)=>e.sort((n,r)=>Vre(n,r,t));LH.exports=zre});var OH=O((ZSe,FH)=>{var Gre=SC(),Kre=(e,t)=>e.sort((n,r)=>Gre(r,n,t));FH.exports=Kre});var Ov=O((QSe,UH)=>{var Jre=Ii(),Xre=(e,t,n)=>Jre(e,t,n)>0;UH.exports=Xre});var _C=O((e_e,MH)=>{var Zre=Ii(),Qre=(e,t,n)=>Zre(e,t,n)<0;MH.exports=Qre});var mk=O((t_e,$H)=>{var eoe=Ii(),toe=(e,t,n)=>eoe(e,t,n)===0;$H.exports=toe});var hk=O((n_e,jH)=>{var noe=Ii(),roe=(e,t,n)=>noe(e,t,n)!==0;jH.exports=roe});var DC=O((r_e,HH)=>{var ooe=Ii(),ioe=(e,t,n)=>ooe(e,t,n)>=0;HH.exports=ioe});var PC=O((o_e,BH)=>{var soe=Ii(),aoe=(e,t,n)=>soe(e,t,n)<=0;BH.exports=aoe});var gk=O((i_e,qH)=>{var coe=mk(),loe=hk(),uoe=Ov(),doe=DC(),foe=_C(),poe=PC(),moe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return coe(e,n,r);case"!=":return loe(e,n,r);case">":return uoe(e,n,r);case">=":return doe(e,n,r);case"<":return foe(e,n,r);case"<=":return poe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};qH.exports=moe});var YH=O((s_e,WH)=>{var hoe=$r(),goe=Fd(),{safeRe:IC,t:TC}=nm(),voe=(e,t)=>{if(e instanceof hoe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?IC[TC.COERCEFULL]:IC[TC.COERCE]);else{let c=t.includePrerelease?IC[TC.COERCERTLFULL]:IC[TC.COERCERTL],l;for(;(l=c.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],o=n[3]||"0",i=n[4]||"0",s=t.includePrerelease&&n[5]?`-${n[5]}`:"",a=t.includePrerelease&&n[6]?`+${n[6]}`:"";return goe(`${r}.${o}.${i}${s}${a}`,t)};WH.exports=voe});var zH=O((a_e,VH)=>{var vk=class{constructor(){this.max=1e3,this.map=new Map}get(t){let n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(t,n)}return this}};VH.exports=vk});var Ti=O((c_e,XH)=>{var xoe=/\s+/g,xk=class e{constructor(t,n){if(n=yoe(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof wk)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t.trim().replace(xoe," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(o=>!KH(o[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&Poe(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let n=this.set[t];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let r=((this.options.includePrerelease&&_oe)|(this.options.loose&&Doe))+":"+t,o=GH.get(r);if(o)return o;let i=this.options.loose,s=i?Do[oo.HYPHENRANGELOOSE]:Do[oo.HYPHENRANGE];t=t.replace(s,Uoe(this.options.includePrerelease)),Bt("hyphen replace",t),t=t.replace(Do[oo.COMPARATORTRIM],Coe),Bt("comparator trim",t),t=t.replace(Do[oo.TILDETRIM],boe),Bt("tilde trim",t),t=t.replace(Do[oo.CARETTRIM],Soe),Bt("caret trim",t);let a=t.split(" ").map(d=>Ioe(d,this.options)).join(" ").split(/\s+/).map(d=>Ooe(d,this.options));i&&(a=a.filter(d=>(Bt("loose invalid filter",d,this.options),!!d.match(Do[oo.COMPARATORLOOSE])))),Bt("range list",a);let c=new Map,l=a.map(d=>new wk(d,this.options));for(let d of l){if(KH(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return GH.set(r,u),u}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(r=>JH(r,n)&&t.set.some(o=>JH(o,n)&&r.every(i=>o.every(s=>i.intersects(s,n)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Eoe(t,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Moe(this.set[n],t,this.options))return!0;return!1}};XH.exports=xk;var woe=zH(),GH=new woe,yoe=EC(),wk=Uv(),Bt=Fv(),Eoe=$r(),{safeRe:Do,t:oo,comparatorTrimReplace:Coe,tildeTrimReplace:boe,caretTrimReplace:Soe}=nm(),{FLAG_INCLUDE_PRERELEASE:_oe,FLAG_LOOSE:Doe}=Av(),KH=e=>e.value==="<0.0.0-0",Poe=e=>e.value==="",JH=(e,t)=>{let n=!0,r=e.slice(),o=r.pop();for(;n&&r.length;)n=r.every(i=>o.intersects(i,t)),o=r.pop();return n},Ioe=(e,t)=>(Bt("comp",e,t),e=Roe(e,t),Bt("caret",e),e=Toe(e,t),Bt("tildes",e),e=Loe(e,t),Bt("xrange",e),e=Foe(e,t),Bt("stars",e),e),io=e=>!e||e.toLowerCase()==="x"||e==="*",Toe=(e,t)=>e.trim().split(/\s+/).map(n=>koe(n,t)).join(" "),koe=(e,t)=>{let n=t.loose?Do[oo.TILDELOOSE]:Do[oo.TILDE];return e.replace(n,(r,o,i,s,a)=>{Bt("tilde",e,r,o,i,s,a);let c;return io(o)?c="":io(i)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:io(s)?c=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:a?(Bt("replaceTilde pr",a),c=`>=${o}.${i}.${s}-${a} <${o}.${+i+1}.0-0`):c=`>=${o}.${i}.${s} <${o}.${+i+1}.0-0`,Bt("tilde return",c),c})},Roe=(e,t)=>e.trim().split(/\s+/).map(n=>Noe(n,t)).join(" "),Noe=(e,t)=>{Bt("caret",e,t);let n=t.loose?Do[oo.CARETLOOSE]:Do[oo.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(o,i,s,a,c)=>{Bt("caret",e,o,i,s,a,c);let l;return io(i)?l="":io(s)?l=`>=${i}.0.0${r} <${+i+1}.0.0-0`:io(a)?i==="0"?l=`>=${i}.${s}.0${r} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.0${r} <${+i+1}.0.0-0`:c?(Bt("replaceCaret pr",c),i==="0"?s==="0"?l=`>=${i}.${s}.${a}-${c} <${i}.${s}.${+a+1}-0`:l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.${a}-${c} <${+i+1}.0.0-0`):(Bt("no pr"),i==="0"?s==="0"?l=`>=${i}.${s}.${a}${r} <${i}.${s}.${+a+1}-0`:l=`>=${i}.${s}.${a}${r} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.${a} <${+i+1}.0.0-0`),Bt("caret return",l),l})},Loe=(e,t)=>(Bt("replaceXRanges",e,t),e.split(/\s+/).map(n=>Aoe(n,t)).join(" ")),Aoe=(e,t)=>{e=e.trim();let n=t.loose?Do[oo.XRANGELOOSE]:Do[oo.XRANGE];return e.replace(n,(r,o,i,s,a,c)=>{Bt("xRange",e,r,o,i,s,a,c);let l=io(i),u=l||io(s),d=u||io(a),p=d;return o==="="&&p&&(o=""),c=t.includePrerelease?"-0":"",l?o===">"||o==="<"?r="<0.0.0-0":r="*":o&&p?(u&&(s=0),a=0,o===">"?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):o==="<="&&(o="<",u?i=+i+1:s=+s+1),o==="<"&&(c="-0"),r=`${o+i}.${s}.${a}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),Bt("xRange return",r),r})},Foe=(e,t)=>(Bt("replaceStars",e,t),e.trim().replace(Do[oo.STAR],"")),Ooe=(e,t)=>(Bt("replaceGTE0",e,t),e.trim().replace(Do[t.includePrerelease?oo.GTE0PRE:oo.GTE0],"")),Uoe=e=>(t,n,r,o,i,s,a,c,l,u,d,p)=>(io(r)?n="":io(o)?n=`>=${r}.0.0${e?"-0":""}`:io(i)?n=`>=${r}.${o}.0${e?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${e?"-0":""}`,io(l)?c="":io(u)?c=`<${+l+1}.0.0-0`:io(d)?c=`<${l}.${+u+1}.0-0`:p?c=`<=${l}.${u}.${d}-${p}`:e?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),Moe=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let r=0;r<e.length;r++)if(Bt(e[r].semver),e[r].semver!==wk.ANY&&e[r].semver.prerelease.length>0){let o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}});var Uv=O((l_e,rB)=>{var Mv=Symbol("SemVer ANY"),Ck=class e{static get ANY(){return Mv}constructor(t,n){if(n=ZH(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Ek("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Mv?this.value="":this.value=this.operator+this.semver.version,Ek("comp",this)}parse(t){let n=this.options.loose?QH[eB.COMPARATORLOOSE]:QH[eB.COMPARATOR],r=t.match(n);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new tB(r[2],this.options.loose):this.semver=Mv}toString(){return this.value}test(t){if(Ek("Comparator.test",t,this.options.loose),this.semver===Mv||t===Mv)return!0;if(typeof t=="string")try{t=new tB(t,this.options)}catch{return!1}return yk(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new nB(t.value,n).test(this.value):t.operator===""?t.value===""?!0:new nB(this.value,n).test(t.semver):(n=ZH(n),n.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||yk(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||yk(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};rB.exports=Ck;var ZH=EC(),{safeRe:QH,t:eB}=nm(),yk=gk(),Ek=Fv(),tB=$r(),nB=Ti()});var $v=O((u_e,oB)=>{var $oe=Ti(),joe=(e,t,n)=>{try{t=new $oe(t,n)}catch{return!1}return t.test(e)};oB.exports=joe});var sB=O((d_e,iB)=>{var Hoe=Ti(),Boe=(e,t)=>new Hoe(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));iB.exports=Boe});var cB=O((f_e,aB)=>{var qoe=$r(),Woe=Ti(),Yoe=(e,t,n)=>{let r=null,o=null,i=null;try{i=new Woe(t,n)}catch{return null}return e.forEach(s=>{i.test(s)&&(!r||o.compare(s)===-1)&&(r=s,o=new qoe(r,n))}),r};aB.exports=Yoe});var uB=O((p_e,lB)=>{var Voe=$r(),zoe=Ti(),Goe=(e,t,n)=>{let r=null,o=null,i=null;try{i=new zoe(t,n)}catch{return null}return e.forEach(s=>{i.test(s)&&(!r||o.compare(s)===1)&&(r=s,o=new Voe(r,n))}),r};lB.exports=Goe});var pB=O((m_e,fB)=>{var bk=$r(),Koe=Ti(),dB=Ov(),Joe=(e,t)=>{e=new Koe(e,t);let n=new bk("0.0.0");if(e.test(n)||(n=new bk("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){let o=e.set[r],i=null;o.forEach(s=>{let a=new bk(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||dB(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),i&&(!n||dB(n,i))&&(n=i)}return n&&e.test(n)?n:null};fB.exports=Joe});var hB=O((h_e,mB)=>{var Xoe=Ti(),Zoe=(e,t)=>{try{return new Xoe(e,t).range||"*"}catch{return null}};mB.exports=Zoe});var kC=O((g_e,wB)=>{var Qoe=$r(),xB=Uv(),{ANY:eie}=xB,tie=Ti(),nie=$v(),gB=Ov(),vB=_C(),rie=PC(),oie=DC(),iie=(e,t,n,r)=>{e=new Qoe(e,r),t=new tie(t,r);let o,i,s,a,c;switch(n){case">":o=gB,i=rie,s=vB,a=">",c=">=";break;case"<":o=vB,i=oie,s=gB,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(nie(e,t,r))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],d=null,p=null;if(u.forEach(f=>{f.semver===eie&&(f=new xB(">=0.0.0")),d=d||f,p=p||f,o(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0};wB.exports=iie});var EB=O((v_e,yB)=>{var sie=kC(),aie=(e,t,n)=>sie(e,t,">",n);yB.exports=aie});var bB=O((x_e,CB)=>{var cie=kC(),lie=(e,t,n)=>cie(e,t,"<",n);CB.exports=lie});var DB=O((w_e,_B)=>{var SB=Ti(),uie=(e,t,n)=>(e=new SB(e,n),t=new SB(t,n),e.intersects(t,n));_B.exports=uie});var IB=O((y_e,PB)=>{var die=$v(),fie=Ii();PB.exports=(e,t,n)=>{let r=[],o=null,i=null,s=e.sort((u,d)=>fie(u,d,n));for(let u of s)die(u,t,n)?(i=u,o||(o=u)):(i&&r.push([o,i]),i=null,o=null);o&&r.push([o,null]);let a=[];for(let[u,d]of r)u===d?a.push(u):!d&&u===s[0]?a.push("*"):d?u===s[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var AB=O((E_e,LB)=>{var TB=Ti(),_k=Uv(),{ANY:Sk}=_k,jv=$v(),Dk=Ii(),pie=(e,t,n={})=>{if(e===t)return!0;e=new TB(e,n),t=new TB(t,n);let r=!1;e:for(let o of e.set){for(let i of t.set){let s=hie(o,i,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},mie=[new _k(">=0.0.0-0")],kB=[new _k(">=0.0.0")],hie=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Sk){if(t.length===1&&t[0].semver===Sk)return!0;n.includePrerelease?e=mie:e=kB}if(t.length===1&&t[0].semver===Sk){if(n.includePrerelease)return!0;t=kB}let r=new Set,o,i;for(let f of e)f.operator===">"||f.operator===">="?o=RB(o,f,n):f.operator==="<"||f.operator==="<="?i=NB(i,f,n):r.add(f.semver);if(r.size>1)return null;let s;if(o&&i){if(s=Dk(o.semver,i.semver,n),s>0)return null;if(s===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let f of r){if(o&&!jv(f,String(o),n)||i&&!jv(f,String(i),n))return null;for(let m of t)if(!jv(f,String(m),n))return!1;return!0}let a,c,l,u,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of t){if(u=u||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",o){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=RB(o,f,n),a===f&&a!==o)return!1}else if(o.operator===">="&&!jv(o.semver,String(f),n))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(c=NB(i,f,n),c===f&&c!==i)return!1}else if(i.operator==="<="&&!jv(i.semver,String(f),n))return!1}if(!f.operator&&(i||o)&&s!==0)return!1}return!(o&&l&&!i&&s!==0||i&&u&&!o&&s!==0||p||d)},RB=(e,t,n)=>{if(!e)return t;let r=Dk(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},NB=(e,t,n)=>{if(!e)return t;let r=Dk(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};LB.exports=pie});var Ik=O((C_e,UB)=>{var Pk=nm(),FB=Av(),gie=$r(),OB=fk(),vie=Fd(),xie=cH(),wie=uH(),yie=pH(),Eie=gH(),Cie=xH(),bie=yH(),Sie=CH(),_ie=SH(),Die=Ii(),Pie=IH(),Iie=kH(),Tie=SC(),kie=AH(),Rie=OH(),Nie=Ov(),Lie=_C(),Aie=mk(),Fie=hk(),Oie=DC(),Uie=PC(),Mie=gk(),$ie=YH(),jie=Uv(),Hie=Ti(),Bie=$v(),qie=sB(),Wie=cB(),Yie=uB(),Vie=pB(),zie=hB(),Gie=kC(),Kie=EB(),Jie=bB(),Xie=DB(),Zie=IB(),Qie=AB();UB.exports={parse:vie,valid:xie,clean:wie,inc:yie,diff:Eie,major:Cie,minor:bie,patch:Sie,prerelease:_ie,compare:Die,rcompare:Pie,compareLoose:Iie,compareBuild:Tie,sort:kie,rsort:Rie,gt:Nie,lt:Lie,eq:Aie,neq:Fie,gte:Oie,lte:Uie,cmp:Mie,coerce:$ie,Comparator:jie,Range:Hie,satisfies:Bie,toComparators:qie,maxSatisfying:Wie,minSatisfying:Yie,minVersion:Vie,validRange:zie,outside:Gie,gtr:Kie,ltr:Jie,intersects:Xie,simplifyRange:Zie,subset:Qie,SemVer:gie,re:Pk.re,src:Pk.src,tokens:Pk.t,SEMVER_SPEC_VERSION:FB.SEMVER_SPEC_VERSION,RELEASE_TYPES:FB.RELEASE_TYPES,compareIdentifiers:OB.compareIdentifiers,rcompareIdentifiers:OB.rcompareIdentifiers}});var Tk=O(MB=>{MB.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let e=require("original-fs");if(Object.keys(e).length>0)return e}catch{}return require("fs")}});var kk=O((S_e,$B)=>{$B.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var Rk=O((__e,jB)=>{jB.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var WB=O((D_e,qB)=>{var ese=Tk().require(),so=require("path"),HB=kk(),tse=Rk(),nse=typeof process=="object"&&process.platform==="win32",BB=e=>e&&typeof e=="object",Nk=new Uint32Array(256).map((e,t)=>{for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function Cr(e){this.sep=so.sep,this.fs=ese,BB(e)&&BB(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}qB.exports=Cr;Cr.prototype.makeDir=function(e){let t=this;function n(r){let o=r.split(t.sep)[0];r.split(t.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){o+=t.sep+i;var s;try{s=t.fs.statSync(o)}catch{t.fs.mkdirSync(o)}if(s&&s.isFile())throw tse.FILE_IN_THE_WAY.replace("%s",o)}})}n(e)};Cr.prototype.writeFileTo=function(e,t,n,r){let o=this;if(o.fs.existsSync(e)){if(!n)return!1;var i=o.fs.statSync(e);if(i.isDirectory())return!1}var s=so.dirname(e);o.fs.existsSync(s)||o.makeDir(s);var a;try{a=o.fs.openSync(e,"w",438)}catch{o.fs.chmodSync(e,438),a=o.fs.openSync(e,"w",438)}if(a)try{o.fs.writeSync(a,t,0,t.length,0)}finally{o.fs.closeSync(a)}return o.fs.chmodSync(e,r||438),!0};Cr.prototype.writeFileToAsync=function(e,t,n,r,o){typeof r=="function"&&(o=r,r=void 0);let i=this;i.fs.exists(e,function(s){if(s&&!n)return o(!1);i.fs.stat(e,function(a,c){if(s&&c.isDirectory())return o(!1);var l=so.dirname(e);i.fs.exists(l,function(u){u||i.makeDir(l),i.fs.open(e,"w",438,function(d,p){d?i.fs.chmod(e,438,function(){i.fs.open(e,"w",438,function(f,m){i.fs.write(m,t,0,t.length,0,function(){i.fs.close(m,function(){i.fs.chmod(e,r||438,function(){o(!0)})})})})}):p?i.fs.write(p,t,0,t.length,0,function(){i.fs.close(p,function(){i.fs.chmod(e,r||438,function(){o(!0)})})}):i.fs.chmod(e,r||438,function(){o(!0)})})})})})};Cr.prototype.findFiles=function(e){let t=this;function n(r,o,i){typeof o=="boolean"&&(i=o,o=void 0);let s=[];return t.fs.readdirSync(r).forEach(function(a){var c=so.join(r,a);t.fs.statSync(c).isDirectory()&&i&&(s=s.concat(n(c,o,i))),(!o||o.test(c))&&s.push(so.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))}),s}return n(e,void 0,!0)};Cr.prototype.getAttributes=function(){};Cr.prototype.setAttributes=function(){};Cr.crc32update=function(e,t){return Nk[(e^t)&255]^e>>>8};Cr.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),Nk.length||genCRCTable();let t=e.length,n=-1;for(let r=0;r<t;)n=Cr.crc32update(n,e[r++]);return~n>>>0};Cr.methodToString=function(e){switch(e){case HB.STORED:return"STORED ("+e+")";case HB.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};Cr.canonical=function(e){if(!e)return"";var t=so.posix.normalize("/"+e.split("\\").join("/"));return so.join(".",t)};Cr.sanitize=function(e,t){e=so.resolve(so.normalize(e));for(var n=t.split("/"),r=0,o=n.length;r<o;r++){var i=so.normalize(so.join(e,n.slice(r,o).join(so.sep)));if(i.indexOf(e)===0)return i}return so.normalize(so.join(e,so.basename(t)))};Cr.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};Cr.readBigUInt64LE=function(e,t){var n=Buffer.from(e.slice(t,t+8));return n.swap64(),parseInt(`0x${n.toString("hex")}`)};Cr.isWin=nse;Cr.crcTable=Nk});var zB=O((P_e,VB)=>{var RC=Tk().require(),YB=require("path");RC.existsSync=RC.existsSync||YB.existsSync;VB.exports=function(e){var t=e||"",n=o(),r=null;function o(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&RC.existsSync(t)?(r=RC.statSync(t),n.directory=r.isDirectory(),n.mtime=r.mtime,n.atime=r.atime,n.executable=(73&r.mode)!==0,n.readonly=(128&r.mode)===0,n.hidden=YB.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var om=O((I_e,Hv)=>{Hv.exports=WB();Hv.exports.Constants=kk();Hv.exports.Errors=Rk();Hv.exports.FileAttr=zB()});var KB=O((T_e,GB)=>{var Bv=om(),_e=Bv.Constants;GB.exports=function(){var e=20,t=10,n=0,r=0,o=0,i=0,s=0,a=0,c=0,l=0,u=0,d=0,p=0,f=0,m=0;e|=Bv.isWin?2560:768,n|=_e.FLG_EFS;var h={};function v(g){g=new Date(g),o=(g.getFullYear()-1980&127)<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>1}return v(+new Date),{get made(){return e},set made(g){e=g},get version(){return t},set version(g){t=g},get flags(){return n},set flags(g){n=g},get method(){return r},set method(g){switch(g){case _e.STORED:this.version=10;case _e.DEFLATED:default:this.version=20}r=g},get time(){return new Date((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1)},set time(g){v(g)},get crc(){return i},set crc(g){i=Math.max(0,g)>>>0},get compressedSize(){return s},set compressedSize(g){s=Math.max(0,g)>>>0},get size(){return a},set size(g){a=Math.max(0,g)>>>0},get fileNameLength(){return c},set fileNameLength(g){c=g},get extraLength(){return l},set extraLength(g){l=g},get commentLength(){return u},set commentLength(g){u=g},get diskNumStart(){return d},set diskNumStart(g){d=Math.max(0,g)>>>0},get inAttr(){return p},set inAttr(g){p=Math.max(0,g)>>>0},get attr(){return f},set attr(g){f=Math.max(0,g)>>>0},get fileAttr(){return f?(f>>>0|0)>>16&4095:0},get offset(){return m},set offset(g){m=Math.max(0,g)>>>0},get encripted(){return(n&1)===1},get entryHeaderSize(){return _e.CENHDR+c+l+u},get realDataOffset(){return m+_e.LOCHDR+h.fnameLen+h.extraLen},get dataHeader(){return h},loadDataHeaderFromBinary:function(g){var w=g.slice(m,m+_e.LOCHDR);if(w.readUInt32LE(0)!==_e.LOCSIG)throw new Error(Bv.Errors.INVALID_LOC);h={version:w.readUInt16LE(_e.LOCVER),flags:w.readUInt16LE(_e.LOCFLG),method:w.readUInt16LE(_e.LOCHOW),time:w.readUInt32LE(_e.LOCTIM),crc:w.readUInt32LE(_e.LOCCRC),compressedSize:w.readUInt32LE(_e.LOCSIZ),size:w.readUInt32LE(_e.LOCLEN),fnameLen:w.readUInt16LE(_e.LOCNAM),extraLen:w.readUInt16LE(_e.LOCEXT)}},loadFromBinary:function(g){if(g.length!==_e.CENHDR||g.readUInt32LE(0)!==_e.CENSIG)throw new Error(Bv.Errors.INVALID_CEN);e=g.readUInt16LE(_e.CENVEM),t=g.readUInt16LE(_e.CENVER),n=g.readUInt16LE(_e.CENFLG),r=g.readUInt16LE(_e.CENHOW),o=g.readUInt32LE(_e.CENTIM),i=g.readUInt32LE(_e.CENCRC),s=g.readUInt32LE(_e.CENSIZ),a=g.readUInt32LE(_e.CENLEN),c=g.readUInt16LE(_e.CENNAM),l=g.readUInt16LE(_e.CENEXT),u=g.readUInt16LE(_e.CENCOM),d=g.readUInt16LE(_e.CENDSK),p=g.readUInt16LE(_e.CENATT),f=g.readUInt32LE(_e.CENATX),m=g.readUInt32LE(_e.CENOFF)},dataHeaderToBinary:function(){var g=Buffer.alloc(_e.LOCHDR);return g.writeUInt32LE(_e.LOCSIG,0),g.writeUInt16LE(t,_e.LOCVER),g.writeUInt16LE(n,_e.LOCFLG),g.writeUInt16LE(r,_e.LOCHOW),g.writeUInt32LE(o,_e.LOCTIM),g.writeUInt32LE(i,_e.LOCCRC),g.writeUInt32LE(s,_e.LOCSIZ),g.writeUInt32LE(a,_e.LOCLEN),g.writeUInt16LE(c,_e.LOCNAM),g.writeUInt16LE(l,_e.LOCEXT),g},entryHeaderToBinary:function(){var g=Buffer.alloc(_e.CENHDR+c+l+u);return g.writeUInt32LE(_e.CENSIG,0),g.writeUInt16LE(e,_e.CENVEM),g.writeUInt16LE(t,_e.CENVER),g.writeUInt16LE(n,_e.CENFLG),g.writeUInt16LE(r,_e.CENHOW),g.writeUInt32LE(o,_e.CENTIM),g.writeUInt32LE(i,_e.CENCRC),g.writeUInt32LE(s,_e.CENSIZ),g.writeUInt32LE(a,_e.CENLEN),g.writeUInt16LE(c,_e.CENNAM),g.writeUInt16LE(l,_e.CENEXT),g.writeUInt16LE(u,_e.CENCOM),g.writeUInt16LE(d,_e.CENDSK),g.writeUInt16LE(p,_e.CENATT),g.writeUInt32LE(f,_e.CENATX),g.writeUInt32LE(m,_e.CENOFF),g.fill(0,_e.CENHDR),g},toJSON:function(){let g=function(w){return w+" bytes"};return{made:e,version:t,flags:n,method:Bv.methodToString(r),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:g(s),size:g(a),fileNameLength:g(c),extraLength:g(l),commentLength:g(u),diskNumStart:d,inAttr:p,attr:f,offset:m,entryHeaderSize:g(_e.CENHDR+c+l+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var XB=O((k_e,JB)=>{var im=om(),en=im.Constants;JB.exports=function(){var e=0,t=0,n=0,r=0,o=0;return{get diskEntries(){return e},set diskEntries(i){e=t=i},get totalEntries(){return t},set totalEntries(i){t=e=i},get size(){return n},set size(i){n=i},get offset(){return r},set offset(i){r=i},get commentLength(){return o},set commentLength(i){o=i},get mainHeaderSize(){return en.ENDHDR+o},loadFromBinary:function(i){if((i.length!==en.ENDHDR||i.readUInt32LE(0)!==en.ENDSIG)&&(i.length<en.ZIP64HDR||i.readUInt32LE(0)!==en.ZIP64SIG))throw new Error(im.Errors.INVALID_END);i.readUInt32LE(0)===en.ENDSIG?(e=i.readUInt16LE(en.ENDSUB),t=i.readUInt16LE(en.ENDTOT),n=i.readUInt32LE(en.ENDSIZ),r=i.readUInt32LE(en.ENDOFF),o=i.readUInt16LE(en.ENDCOM)):(e=im.readBigUInt64LE(i,en.ZIP64SUB),t=im.readBigUInt64LE(i,en.ZIP64TOT),n=im.readBigUInt64LE(i,en.ZIP64SIZE),r=im.readBigUInt64LE(i,en.ZIP64OFF),o=0)},toBinary:function(){var i=Buffer.alloc(en.ENDHDR+o);return i.writeUInt32LE(en.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,en.ENDSUB),i.writeUInt16LE(t,en.ENDTOT),i.writeUInt32LE(n,en.ENDSIZ),i.writeUInt32LE(r,en.ENDOFF),i.writeUInt16LE(o,en.ENDCOM),i.fill(" ",en.ENDHDR),i},toJSON:function(){let i=function(s,a){let c=s.toString(16).toUpperCase();for(;c.length<a;)c="0"+c;return"0x"+c};return{diskEntries:e,totalEntries:t,size:n+" bytes",offset:i(r,4),commentLength:o}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Ak=O(Lk=>{Lk.EntryHeader=KB();Lk.MainHeader=XB()});var QB=O((N_e,ZB)=>{ZB.exports=function(e){var t=require("zlib"),n={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,n)},deflateAsync:function(r){var o=t.createDeflateRaw(n),i=[],s=0;o.on("data",function(a){i.push(a),s+=a.length}),o.on("end",function(){var a=Buffer.alloc(s),c=0;a.fill(0);for(var l=0;l<i.length;l++){var u=i[l];u.copy(a,c),c+=u.length}r&&r(a)}),o.end(e)}}}});var tq=O((L_e,eq)=>{eq.exports=function(e){var t=require("zlib");return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(n){var r=t.createInflateRaw(),o=[],i=0;r.on("data",function(s){o.push(s),i+=s.length}),r.on("end",function(){var s=Buffer.alloc(i),a=0;s.fill(0);for(var c=0;c<o.length;c++){var l=o[c];l.copy(s,a),a+=l.length}n&&n(s)}),r.end(e)}}}});var sq=O((A_e,iq)=>{"use strict";var{randomFillSync:nq}=require("crypto"),rse=new Uint32Array(256).map((e,t)=>{for(let n=0;n<8;n++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),oq=(e,t)=>Math.imul(e,t)>>>0,rq=(e,t)=>rse[(e^t)&255]^e>>>8,qv=()=>typeof nq=="function"?nq(Buffer.alloc(12)):qv.node();qv.node=()=>{let e=Buffer.alloc(12),t=e.length;for(let n=0;n<t;n++)e[n]=Math.random()*256&255;return e};var NC={genSalt:qv};function LC(e){let t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let n=0;n<t.length;n++)this.updateKeys(t[n])}LC.prototype.updateKeys=function(e){let t=this.keys;return t[0]=rq(t[0],e),t[1]+=t[0]&255,t[1]=oq(t[1],134775813)+1,t[2]=rq(t[2],t[1]>>>24),e};LC.prototype.next=function(){let e=(this.keys[2]|2)>>>0;return oq(e,e^1)>>8&255};function ose(e){let t=new LC(e);return function(n){let r=Buffer.alloc(n.length),o=0;for(let i of n)r[o++]=t.updateKeys(i^t.next());return r}}function ise(e){let t=new LC(e);return function(n,r,o=0){r||(r=Buffer.alloc(n.length));for(let i of n){let s=t.next();r[o++]=i^s,t.updateKeys(i)}return r}}function sse(e,t,n){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);let r=ose(n);if(r(e.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return r(e.slice(12))}function ase(e){Buffer.isBuffer(e)&&e.length>=12?NC.genSalt=function(){return e.slice(0,12)}:e==="node"?NC.genSalt=qv.node:NC.genSalt=qv}function cse(e,t,n,r=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));let o=ise(n),i=NC.genSalt();i[11]=t.crc>>>24&255,r&&(i[10]=t.crc>>>16&255);let s=Buffer.alloc(e.length+12);return o(i,s),o(e,s,12)}iq.exports={decrypt:sse,encrypt:cse,_salter:ase}});var aq=O(AC=>{AC.Deflater=QB();AC.Inflater=tq();AC.ZipCrypto=sq()});var Ok=O((O_e,cq)=>{var In=om(),lse=Ak(),Zo=In.Constants,Fk=aq();cq.exports=function(e){var t=new lse.EntryHeader,n=Buffer.alloc(0),r=Buffer.alloc(0),o=!1,i=null,s=Buffer.alloc(0);function a(){return!e||!Buffer.isBuffer(e)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function c(m){return!((t.flags&8)!==8&&In.crc32(m)!==t.dataHeader.crc)}function l(m,h,v){if(typeof h>"u"&&typeof m=="string"&&(v=m,m=void 0),o)return m&&h&&h(Buffer.alloc(0),In.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var g=a();if(g.length===0)return m&&h&&h(g),g;if(t.encripted){if(typeof v!="string"&&!Buffer.isBuffer(v))throw new Error("ADM-ZIP: Incompatible password parameter");g=Fk.ZipCrypto.decrypt(g,t,v)}var w=Buffer.alloc(t.size);switch(t.method){case In.Constants.STORED:if(g.copy(w),c(w))return m&&h&&h(w),w;throw m&&h&&h(w,In.Errors.BAD_CRC),new Error(In.Errors.BAD_CRC);case In.Constants.DEFLATED:var x=new Fk.Inflater(g);if(m)x.inflateAsync(function(y){y.copy(y,0),h&&(c(y)?h(y):h(y,In.Errors.BAD_CRC))});else{if(x.inflate(w).copy(w,0),!c(w))throw new Error(In.Errors.BAD_CRC+" "+n.toString());return w}break;default:throw m&&h&&h(Buffer.alloc(0),In.Errors.UNKNOWN_METHOD),new Error(In.Errors.UNKNOWN_METHOD)}}function u(m,h){if((!i||!i.length)&&Buffer.isBuffer(e))return m&&h&&h(a()),a();if(i.length&&!o){var v;switch(t.method){case In.Constants.STORED:return t.compressedSize=t.size,v=Buffer.alloc(i.length),i.copy(v),m&&h&&h(v),v;default:case In.Constants.DEFLATED:var g=new Fk.Deflater(i);if(m)g.deflateAsync(function(x){v=Buffer.alloc(x.length),t.compressedSize=x.length,x.copy(v),h&&h(v)});else{var w=g.deflate();return t.compressedSize=w.length,w}g=null;break}}else if(m&&h)h(Buffer.alloc(0));else return Buffer.alloc(0)}function d(m,h){return(m.readUInt32LE(h+4)<<4)+m.readUInt32LE(h)}function p(m){for(var h=0,v,g,w;h<m.length;)v=m.readUInt16LE(h),h+=2,g=m.readUInt16LE(h),h+=2,w=m.slice(h,h+g),h+=g,Zo.ID_ZIP64===v&&f(w)}function f(m){var h,v,g,w;m.length>=Zo.EF_ZIP64_SCOMP&&(h=d(m,Zo.EF_ZIP64_SUNCOMP),t.size===Zo.EF_ZIP64_OR_32&&(t.size=h)),m.length>=Zo.EF_ZIP64_RHO&&(v=d(m,Zo.EF_ZIP64_SCOMP),t.compressedSize===Zo.EF_ZIP64_OR_32&&(t.compressedSize=v)),m.length>=Zo.EF_ZIP64_DSN&&(g=d(m,Zo.EF_ZIP64_RHO),t.offset===Zo.EF_ZIP64_OR_32&&(t.offset=g)),m.length>=Zo.EF_ZIP64_DSN+4&&(w=m.readUInt32LE(Zo.EF_ZIP64_DSN),t.diskNumStart===Zo.EF_ZIP64_OR_16&&(t.diskNumStart=w))}return{get entryName(){return n.toString()},get rawEntryName(){return n},set entryName(m){n=In.toBuffer(m);var h=n[n.length-1];o=h===47||h===92,t.fileNameLength=n.length},get extra(){return s},set extra(m){s=m,t.extraLength=m.length,p(m)},get comment(){return r.toString()},set comment(m){r=In.toBuffer(m),t.commentLength=r.length},get name(){var m=n.toString();return o?m.substr(m.length-1).split("/").pop():m.split("/").pop()},get isDirectory(){return o},getCompressedData:function(){return u(!1,null)},getCompressedDataAsync:function(m){u(!0,m)},setData:function(m){i=In.toBuffer(m),!o&&i.length?(t.size=i.length,t.method=In.Constants.DEFLATED,t.crc=In.crc32(m),t.changed=!0):t.method=In.Constants.STORED},getData:function(m){return t.changed?i:l(!1,null,m)},getDataAsync:function(m,h){t.changed?m(i):l(!0,m,h)},set attr(m){t.attr=m},get attr(){return t.attr},set header(m){t.loadFromBinary(m)},get header(){return t},packHeader:function(){var m=t.entryHeaderToBinary(),h=In.Constants.CENHDR;return n.copy(m,h),h+=n.length,t.extraLength&&(s.copy(m,h),h+=t.extraLength),t.commentLength&&r.copy(m,h),m},toJSON:function(){let m=function(h){return"<"+(h&&h.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:m(e),data:m(i)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var dq=O((U_e,uq)=>{var lq=Ok(),use=Ak(),jr=om();uq.exports=function(e,t){var n=[],r={},o=Buffer.alloc(0),i=new use.MainHeader,s=!1;let a=Object.assign(Object.create(null),t),{noSort:c}=a;e?d(a.readEntries):s=!0;function l(f){let m=i.diskEntries,h=i.offset;for(let v=0;v<m;v++){let g=h,w=new lq(e);w.header=e.slice(g,g+=jr.Constants.CENHDR),w.entryName=e.slice(g,g+=w.header.fileNameLength),h+=w.header.entryHeaderSize,f(w)}}function u(){s=!0,r={},n=new Array(i.diskEntries);for(var f=i.offset,m=0;m<n.length;m++){var h=f,v=new lq(e);v.header=e.slice(h,h+=jr.Constants.CENHDR),v.entryName=e.slice(h,h+=v.header.fileNameLength),v.header.extraLength&&(v.extra=e.slice(h,h+=v.header.extraLength)),v.header.commentLength&&(v.comment=e.slice(h,h+v.header.commentLength)),f+=v.header.entryHeaderSize,n[m]=v,r[v.entryName]=v}}function d(f){var m=e.length-jr.Constants.ENDHDR,h=Math.max(0,m-65535),v=h,g=e.length,w=-1,x=0;for(m;m>=v;m--)if(e[m]===80){if(e.readUInt32LE(m)===jr.Constants.ENDSIG){w=m,x=m,g=m+jr.Constants.ENDHDR,v=m-jr.Constants.END64HDR;continue}if(e.readUInt32LE(m)===jr.Constants.END64SIG){v=h;continue}if(e.readUInt32LE(m)===jr.Constants.ZIP64SIG){w=m,g=m+jr.readBigUInt64LE(e,m+jr.Constants.ZIP64SIZE)+jr.Constants.ZIP64LEAD;break}}if(!~w)throw new Error(jr.Errors.INVALID_FORMAT);i.loadFromBinary(e.slice(w,g)),i.commentLength&&(o=e.slice(x+jr.Constants.ENDHDR)),f&&u()}function p(){n.length>1&&!c&&n.sort((f,m)=>f.entryName.toLowerCase().localeCompare(m.entryName.toLowerCase()))}return{get entries(){return s||u(),n},get comment(){return o.toString()},set comment(f){o=jr.toBuffer(f),i.commentLength=o.length},getEntryCount:function(){return s?n.length:i.diskEntries},forEach:function(f){if(!s){l(f);return}n.forEach(f)},getEntry:function(f){return s||u(),r[f]||null},setEntry:function(f){s||u(),n.push(f),r[f.entryName]=f,i.totalEntries=n.length},deleteEntry:function(f){s||u();var m=r[f];if(m&&m.isDirectory){var h=this;this.getEntryChildren(m).forEach(function(v){v.entryName!==f&&h.deleteEntry(v.entryName)})}n.splice(n.indexOf(m),1),delete r[f],i.totalEntries=n.length},getEntryChildren:function(f){if(s||u(),f&&f.isDirectory){let m=[],h=f.entryName,v=h.length;return n.forEach(function(g){g.entryName.substr(0,v)===h&&m.push(g)}),m}return[]},compressToBuffer:function(){s||u(),p();let f=[],m=[],h=0,v=0;i.size=0,i.offset=0;for(let x of n){let y=x.getCompressedData();x.header.offset=v;let E=x.header.dataHeaderToBinary(),P=x.rawEntryName.length,D=Buffer.alloc(P+x.extra.length);x.rawEntryName.copy(D,0),D.copy(x.extra,P);let R=E.length+D.length+y.length;v+=R,f.push(E),f.push(D),f.push(y);let N=x.packHeader();m.push(N),i.size+=N.length,h+=R+N.length}h+=i.mainHeaderSize,i.offset=v,v=0;let g=Buffer.alloc(h);for(let x of f)x.copy(g,v),v+=x.length;for(let x of m)x.copy(g,v),v+=x.length;let w=i.toBinary();return o&&o.copy(w,jr.Constants.ENDHDR),w.copy(g,v),g},toAsyncBuffer:function(f,m,h,v){try{s||u(),p();let g=[],w=[],x=0,y=0;i.size=0,i.offset=0;let E=function(P){if(P.length){let D=P.pop(),R=D.entryName+D.extra.toString();h&&h(R),D.getCompressedDataAsync(function(N){v&&v(R),D.header.offset=y;let k=D.header.dataHeaderToBinary(),C=Buffer.alloc(R.length,R),S=k.length+C.length+N.length;y+=S,g.push(k),g.push(C),g.push(N);let b=D.packHeader();w.push(b),i.size+=b.length,x+=S+b.length,E(P)})}else{x+=i.mainHeaderSize,i.offset=y,y=0;let D=Buffer.alloc(x);g.forEach(function(N){N.copy(D,y),y+=N.length}),w.forEach(function(N){N.copy(D,y),y+=N.length});let R=i.toBinary();o&&o.copy(R,jr.Constants.ENDHDR),R.copy(D,y),f(D)}};E(n)}catch(g){m(g)}}}}});var pq=O((M_e,fq)=>{var sr=om(),qs=require("path"),dse=Ok(),fse=dq(),Od=(e,t)=>typeof e=="boolean"?e:t,Uk=(e,t)=>typeof e=="string"?e:t,pse={noSort:!1,readEntries:!1,method:sr.Constants.NONE,fs:null};fq.exports=function(e,t){let n=null,r=Object.assign(Object.create(null),pse);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(r,e),e=r.input?r.input:void 0,r.input&&delete r.input),Buffer.isBuffer(e)&&(n=e,r.method=sr.Constants.BUFFER,e=void 0)),Object.assign(r,t);let o=new sr(r);if(e&&typeof e=="string")if(o.fs.existsSync(e))r.method=sr.Constants.FILE,r.filename=e,n=o.fs.readFileSync(e);else throw new Error(sr.Errors.INVALID_FILENAME);let i=new fse(n,r),{canonical:s,sanitize:a}=sr;function c(u){if(u&&i){var d;if(typeof u=="string"&&(d=i.getEntry(u)),typeof u=="object"&&typeof u.entryName<"u"&&typeof u.header<"u"&&(d=i.getEntry(u.entryName)),d)return d}return null}function l(u){let{join:d,normalize:p,sep:f}=qs.posix;return d(".",p(f+u.split("\\").join(f)+f))}return{readFile:function(u,d){var p=c(u);return p&&p.getData(d)||null},readFileAsync:function(u,d){var p=c(u);p?p.getDataAsync(d):d(null,"getEntry failed for:"+u)},readAsText:function(u,d){var p=c(u);if(p){var f=p.getData();if(f&&f.length)return f.toString(d||"utf8")}return""},readAsTextAsync:function(u,d,p){var f=c(u);f?f.getDataAsync(function(m,h){if(h){d(m,h);return}m&&m.length?d(m.toString(p||"utf8")):d("")}):d("")},deleteFile:function(u){var d=c(u);d&&i.deleteEntry(d.entryName)},addZipComment:function(u){i.comment=u},getZipComment:function(){return i.comment||""},addZipEntryComment:function(u,d){var p=c(u);p&&(p.comment=d)},getZipEntryComment:function(u){var d=c(u);return d&&d.comment||""},updateFile:function(u,d){var p=c(u);p&&p.setData(d)},addLocalFile:function(u,d,p,f){if(o.fs.existsSync(u)){d=d?l(d):"";var m=u.split("\\").join("/").split("/").pop();d+=p||m;let h=o.fs.statSync(u);this.addFile(d,o.fs.readFileSync(u),f,h)}else throw new Error(sr.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolder:function(u,d,p,f){if(p instanceof RegExp?p=function(m){return function(h){return m.test(h)}}(p):typeof p!="function"&&(p=function(){return!0}),d=d?l(d):"",u=qs.normalize(u),o.fs.existsSync(u)){let m=o.findFiles(u),h=this;m.length&&m.forEach(function(v){var g=qs.relative(u,v).split("\\").join("/");if(p(g)){var w=o.fs.statSync(v);w.isFile()?h.addFile(d+g,o.fs.readFileSync(v),"",f||w):h.addFile(d+g+"/",Buffer.alloc(0),"",f||w)}})}else throw new Error(sr.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolderAsync:function(u,d,p,f){f instanceof RegExp?f=function(h){return function(v){return h.test(v)}}(f):typeof f!="function"&&(f=function(){return!0}),p=p?l(p):"",u=qs.normalize(u);var m=this;o.fs.open(u,"r",function(h){if(h&&h.code==="ENOENT")d(void 0,sr.Errors.FILE_NOT_FOUND.replace("%s",u));else if(h)d(void 0,h);else{var v=o.findFiles(u),g=-1,w=function(){if(g+=1,g<v.length){var x=v[g],y=qs.relative(u,x).split("\\").join("/");y=y.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),f(y)?o.fs.stat(x,function(E,P){E&&d(void 0,E),P.isFile()?o.fs.readFile(x,function(D,R){D?d(void 0,D):(m.addFile(p+y,R,"",P),w())}):(m.addFile(p+y+"/",Buffer.alloc(0),"",P),w())}):process.nextTick(()=>{w()})}else d(!0,void 0)};w()}})},addLocalFolderPromise:function(u,d){return new Promise((p,f)=>{let{filter:m,zipPath:h}=Object.assign({},d);this.addLocalFolderAsync(u,(v,g)=>{g&&f(g),v&&p(this)},h,m)})},addFile:function(u,d,p,f){let m=c(u),h=m!=null;h||(m=new dse,m.entryName=u),m.comment=p||"";let v=typeof f=="object"&&f instanceof o.fs.Stats;v&&(m.header.time=f.mtime);var g=m.isDirectory?16:0;let w=m.isDirectory?16384:32768;v?w|=4095&f.mode:typeof f=="number"?w|=4095&f:w|=m.isDirectory?493:420,g=(g|w<<16)>>>0,m.attr=g,m.setData(d),h||i.setEntry(m)},getEntries:function(){return i?i.entries:[]},getEntry:function(u){return c(u)},getEntryCount:function(){return i.getEntryCount()},forEach:function(u){return i.forEach(u)},extractEntryTo:function(u,d,p,f,m,h){f=Od(f,!1),m=Od(m,!1),p=Od(p,!0),h=Uk(h,Uk(m,void 0));var v=c(u);if(!v)throw new Error(sr.Errors.NO_ENTRY);var g=s(v.entryName),w=a(d,h&&!v.isDirectory?h:p?g:qs.basename(g));if(v.isDirectory){var x=i.getEntryChildren(v);return x.forEach(function(P){if(P.isDirectory)return;var D=P.getData();if(!D)throw new Error(sr.Errors.CANT_EXTRACT_FILE);var R=s(P.entryName),N=a(d,p?R:qs.basename(R));let k=m?P.header.fileAttr:void 0;o.writeFileTo(N,D,f,k)}),!0}var y=v.getData();if(!y)throw new Error(sr.Errors.CANT_EXTRACT_FILE);if(o.fs.existsSync(w)&&!f)throw new Error(sr.Errors.CANT_OVERRIDE);let E=m?u.header.fileAttr:void 0;return o.writeFileTo(w,y,f,E),!0},test:function(u){if(!i)return!1;for(var d in i.entries)try{if(d.isDirectory)continue;var p=i.entries[d].getData(u);if(!p)return!1}catch{return!1}return!0},extractAllTo:function(u,d,p,f){if(d=Od(d,!1),f=Uk(p,f),p=Od(p,!1),!i)throw new Error(sr.Errors.NO_ZIP);i.entries.forEach(function(m){var h=a(u,s(m.entryName.toString()));if(m.isDirectory){o.makeDir(h);return}var v=m.getData(f);if(!v)throw new Error(sr.Errors.CANT_EXTRACT_FILE);let g=p?m.header.fileAttr:void 0;o.writeFileTo(h,v,d,g);try{o.fs.utimesSync(h,m.header.time,m.header.time)}catch{throw new Error(sr.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(u,d,p,f){if(d=Od(d,!1),typeof p=="function"&&!f&&(f=p),p=Od(p,!1),f||(f=function(x){throw new Error(x)}),!i){f(new Error(sr.Errors.NO_ZIP));return}u=qs.resolve(u);let m=x=>a(u,qs.normalize(s(x.entryName.toString()))),h=(x,y)=>new Error(x+': "'+y+'"'),v=[],g=new Set;i.entries.forEach(x=>{x.isDirectory?v.push(x):g.add(x)});for(let x of v){let y=m(x),E=p?x.header.fileAttr:void 0;try{o.makeDir(y),E&&o.fs.chmodSync(y,E),o.fs.utimesSync(y,x.header.time,x.header.time)}catch{f(h("Unable to create folder",y))}}let w=()=>{g.size===0&&f()};for(let x of g.values()){let y=qs.normalize(s(x.entryName.toString())),E=a(u,y);x.getDataAsync(function(P,D){if(D){f(new Error(D));return}if(!P)f(new Error(sr.Errors.CANT_EXTRACT_FILE));else{let R=p?x.header.fileAttr:void 0;o.writeFileToAsync(E,P,d,R,function(N){if(!N){f(h("Unable to write file",E));return}o.fs.utimes(E,x.header.time,x.header.time,function(k){if(k){f(h("Unable to set times",E));return}g.delete(x),w()})})}})}w()},writeZip:function(u,d){if(arguments.length===1&&typeof u=="function"&&(d=u,u=""),!u&&r.filename&&(u=r.filename),!!u){var p=i.compressToBuffer();if(p){var f=o.writeFileTo(u,p,!0);typeof d=="function"&&d(f?null:new Error("failed"),"")}}},writeZipPromise:function(u,d){let{overwrite:p,perm:f}=Object.assign({overwrite:!0},d);return new Promise((m,h)=>{!u&&r.filename&&(u=r.filename),u||h("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(v=>{let g=w=>w?m(w):h("ADM-ZIP: Wasn't able to write zip file");o.writeFileToAsync(u,v,p,f,g)},h)})},toBufferPromise:function(){return new Promise((u,d)=>{i.toAsyncBuffer(u,d)})},toBuffer:function(u,d,p,f){return this.valueOf=2,typeof u=="function"?(i.toAsyncBuffer(u,d,p,f),null):i.compressToBuffer()}}}});var hq=O(($_e,mq)=>{mq.exports=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e)});var vq=O((j_e,gq)=>{gq.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):hq()});var wq=O((B_e,xq)=>{xq.exports=class{constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var Mk=O((W_e,Eq)=>{var yq=wq();Eq.exports=class{constructor(t){this.hwm=t||16,this.head=new yq(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){let n=this.head;this.head=n.next=new yq(2*this.head.buffer.length),this.head.push(t)}}shift(){this.length!==0&&this.length--;let t=this.tail.shift();if(t===void 0&&this.tail.next){let n=this.tail.next;return this.tail.next=null,this.tail=n,this.tail.shift()}return t}peek(){let t=this.tail.peek();return t===void 0&&this.tail.next?this.tail.next.peek():t}isEmpty(){return this.length===0}}});var eR=O((Y_e,qq)=>{var{EventEmitter:mse}=require("events"),jC=new Error("Stream was destroyed"),$k=new Error("Premature close"),Dq=vq(),Pq=Mk(),Tn=(1<<27)-1,jd=1,zk=2,Ud=4,Wv=8,Iq=Tn^jd,hse=Tn^zk,Jv=16,Yv=32,um=64,ml=128,Vv=256,Gk=512,Md=1024,jk=2048,Kk=4096,Jk=8192,ns=16384,sm=32768,HC=65536,Tq=Vv|Gk,gse=Jv|HC,vse=um|Jv,xse=Kk|ml,wse=Tn^Jv,yse=Tn^um,Ese=Tn^(um|HC),Cse=Tn^HC,bse=Tn^Vv,Sse=Tn^(ml|Jk),_se=Tn^Md,Cq=Tn^Tq,kq=Tn^sm,Dse=Tn^Yv,hl=1<<17,cm=2<<17,Xv=4<<17,$d=8<<17,Zv=16<<17,Hd=32<<17,Hk=64<<17,am=128<<17,Xk=256<<17,lm=512<<17,Rq=Tn^(hl|Xk),Nq=Tn^Xv,Pse=Tn^lm,Ise=Tn^Zv,Tse=Tn^$d,Lq=Tn^am,kse=Tn^cm,zv=Jv|hl,Aq=Tn^zv,Zk=ns|Hd,Xa=Ud|Wv|zk,Qo=Xa|jd,Fq=Xa|Zk,Rse=Nq&yse,Qk=am|sm,Nse=Qk&Aq,Oq=Qo|Nse,Lse=Qo|Md|ns,bq=Qo|ns|ml,Ase=Qo|Md|ml,Fse=Qo|Kk|ml|Jk,Ose=Qo|Jv|Md|ns|HC,Use=Xa|Md|ns,Mse=Yv|Qo|sm|um,$se=Qo|lm|Hd,jse=$d|Zv,Uq=$d|hl,Hse=$d|Zv|Qo|hl,Sq=Qo|hl|$d,Bse=Xv|hl,qse=hl|Xk,Wse=Qo|lm|Uq|Hd,Yse=Zv|Xa|lm|Hd,Vse=cm|Qo|am|Xv,FC=Symbol.asyncIterator||Symbol("asyncIterator"),OC=class{constructor(t,{highWaterMark:n=16384,map:r=null,mapWritable:o,byteLength:i,byteLengthWritable:s}={}){this.stream=t,this.queue=new Pq,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||Bq,this.map=o||r,this.afterWrite=Kse.bind(this),this.afterUpdateNextTick=Zse.bind(this)}get ended(){return(this.stream._duplexState&Hd)!==0}push(t){return this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=$d,!0):(this.stream._duplexState|=jse,!1)}shift(){let t=this.queue.shift();return this.buffered-=this.byteLength(t),this.buffered===0&&(this.stream._duplexState&=Tse),t}end(t){typeof t=="function"?this.stream.once("finish",t):t!=null&&this.push(t),this.stream._duplexState=(this.stream._duplexState|lm)&Nq}autoBatch(t,n){let r=[],o=this.stream;for(r.push(t);(o._duplexState&Sq)===Uq;)r.push(o._writableState.shift());if(o._duplexState&Qo)return n(null);o._writev(r,n)}update(){let t=this.stream;t._duplexState|=cm;do{for(;(t._duplexState&Sq)===$d;){let n=this.shift();t._duplexState|=qse,t._write(n,this.afterWrite)}t._duplexState&Bse||this.updateNonPrimary()}while(this.continueUpdate()===!0);t._duplexState&=kse}updateNonPrimary(){let t=this.stream;if((t._duplexState&Wse)===lm){t._duplexState=(t._duplexState|hl)&Pse,t._final(Gse.bind(this));return}if((t._duplexState&Xa)===Ud){t._duplexState&Qk||(t._duplexState|=zv,t._destroy(Mq.bind(this)));return}(t._duplexState&Oq)===jd&&(t._duplexState=(t._duplexState|zv)&Iq,t._open($q.bind(this)))}continueUpdate(){return this.stream._duplexState&am?(this.stream._duplexState&=Lq,!0):!1}updateCallback(){(this.stream._duplexState&Vse)===Xv?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&am||(this.stream._duplexState|=am,this.stream._duplexState&cm||Dq(this.afterUpdateNextTick))}},Bk=class{constructor(t,{highWaterMark:n=16384,map:r=null,mapReadable:o,byteLength:i,byteLengthReadable:s}={}){this.stream=t,this.queue=new Pq,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||Bq,this.map=o||r,this.pipeTo=null,this.afterRead=Jse.bind(this),this.afterUpdateNextTick=Xse.bind(this)}get ended(){return(this.stream._duplexState&ns)!==0}pipe(t,n){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof n!="function"&&(n=null),this.stream._duplexState|=Gk,this.pipeTo=t,this.pipeline=new Wk(this.stream,t,n),n&&this.stream.on("error",_q),Kv(t))t._writableState.pipeline=this.pipeline,n&&t.on("error",_q),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{let r=this.pipeline.done.bind(this.pipeline,t),o=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",r),t.on("close",o),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",zse.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){let n=this.stream;return t===null?(this.highWaterMark=0,n._duplexState=(n._duplexState|Md)&Ese,!1):(this.map!==null&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),n._duplexState=(n._duplexState|ml)&Cse,this.buffered<this.highWaterMark)}shift(){let t=this.queue.shift();return this.buffered-=this.byteLength(t),this.buffered===0&&(this.stream._duplexState&=Sse),t}unshift(t){let n=[this.map!==null?this.map(t):t];for(;this.buffered>0;)n.push(this.shift());for(let r=0;r<n.length-1;r++){let o=n[r];this.buffered+=this.byteLength(o),this.queue.push(o)}this.push(n[n.length-1])}read(){let t=this.stream;if((t._duplexState&bq)===ml){let n=this.shift();return this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(t._duplexState&=Cq),t._duplexState&jk&&t.emit("data",n),n}return null}drain(){let t=this.stream;for(;(t._duplexState&bq)===ml&&t._duplexState&Tq;){let n=this.shift();this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(t._duplexState&=Cq),t._duplexState&jk&&t.emit("data",n)}}update(){let t=this.stream;t._duplexState|=Yv;do{for(this.drain();this.buffered<this.highWaterMark&&!(t._duplexState&Ose);)t._duplexState|=gse,t._read(this.afterRead),this.drain();(t._duplexState&Fse)===xse&&(t._duplexState|=Jk,t.emit("readable")),t._duplexState&vse||this.updateNonPrimary()}while(this.continueUpdate()===!0);t._duplexState&=Dse}updateNonPrimary(){let t=this.stream;if((t._duplexState&Ase)===Md&&(t._duplexState=(t._duplexState|ns)&_se,t.emit("end"),(t._duplexState&Fq)===Zk&&(t._duplexState|=Ud),this.pipeTo!==null&&this.pipeTo.end()),(t._duplexState&Xa)===Ud){t._duplexState&Qk||(t._duplexState|=zv,t._destroy(Mq.bind(this)));return}(t._duplexState&Oq)===jd&&(t._duplexState=(t._duplexState|zv)&Iq,t._open($q.bind(this)))}continueUpdate(){return this.stream._duplexState&sm?(this.stream._duplexState&=kq,!0):!1}updateCallback(){(this.stream._duplexState&Mse)===um?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&sm||(this.stream._duplexState|=sm,this.stream._duplexState&Yv||Dq(this.afterUpdateNextTick))}},qk=class{constructor(t){this.data=null,this.afterTransform=eae.bind(t),this.afterFinal=null}},Wk=class{constructor(t,n,r){this.from=t,this.to=n,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,n){if(n&&(this.error=n),t===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&ns)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(t===this.from&&(this.from=null,this.to!==null)){t._duplexState&ns||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function zse(){this.stream._duplexState|=Gk,this.updateCallback()}function Gse(e){let t=this.stream;e&&t.destroy(e),t._duplexState&Xa||(t._duplexState|=Hd,t.emit("finish")),(t._duplexState&Fq)===Zk&&(t._duplexState|=Ud),t._duplexState&=Rq,t._duplexState&cm?this.updateNextTick():this.update()}function Mq(e){let t=this.stream;!e&&this.error!==jC&&(e=this.error),e&&t.emit("error",e),t._duplexState|=Wv,t.emit("close");let n=t._readableState,r=t._writableState;if(n!==null&&n.pipeline!==null&&n.pipeline.done(t,e),r!==null){for(;r.drains!==null&&r.drains.length>0;)r.drains.shift().resolve(!1);r.pipeline!==null&&r.pipeline.done(t,e)}}function Kse(e){let t=this.stream;e&&t.destroy(e),t._duplexState&=Rq,this.drains!==null&&Qse(this.drains),(t._duplexState&Hse)===Zv&&(t._duplexState&=Ise,(t._duplexState&Hk)===Hk&&t.emit("drain")),this.updateCallback()}function Jse(e){e&&this.stream.destroy(e),this.stream._duplexState&=wse,this.updateCallback()}function Xse(){this.stream._duplexState&Yv||(this.stream._duplexState&=kq,this.update())}function Zse(){this.stream._duplexState&cm||(this.stream._duplexState&=Lq,this.update())}function Qse(e){for(let t=0;t<e.length;t++)--e[t].writes===0&&(e.shift().resolve(!0),t--)}function $q(e){let t=this.stream;e&&t.destroy(e),t._duplexState&Ud||(t._duplexState&Lse||(t._duplexState|=um),t._duplexState&$se||(t._duplexState|=Xv),t.emit("open")),t._duplexState&=Aq,t._writableState!==null&&t._writableState.updateCallback(),t._readableState!==null&&t._readableState.updateCallback()}function eae(e,t){t!=null&&this.push(t),this._writableState.afterWrite(e)}var Gv=class extends mse{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",sae.bind(this)))}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&Wv)!==0}get destroying(){return(this._duplexState&Xa)!==0}destroy(t){this._duplexState&Xa||(t||(t=jC),this._duplexState=(this._duplexState|Ud)&Rse,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=t),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=zk,this._predestroy(),this._duplexState&=hse,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(t,n){return this._readableState!==null&&(t==="data"&&(this._duplexState|=jk|Vv,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=Kk,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=Hk,this._writableState.updateNextTick()),super.on(t,n)}},UC=class e extends Gv{constructor(t){super(t),this._duplexState|=jd|Hd,this._readableState=new Bk(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick())}_read(t){t(null)}pipe(t,n){return this._readableState.updateNextTick(),this._readableState.pipe(t,n),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=Vv,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=bse,this}static _fromAsyncIterator(t,n){let r,o=new e({...n,read(s){t.next().then(i).then(s.bind(null,null)).catch(s)},predestroy(){r=t.return()},destroy(s){if(!r)return s(null);r.then(s.bind(null,null)).catch(s)}});return o;function i(s){s.done?o.push(null):o.push(s.value)}}static from(t,n){if(oae(t))return t;if(t[FC])return this._fromAsyncIterator(t[FC](),n);Array.isArray(t)||(t=t===void 0?[]:[t]);let r=0;return new e({...n,read(o){this.push(r===t.length?null:t[r++]),o(null)}})}static isBackpressured(t){return(t._duplexState&Use)!==0||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return(t._duplexState&Vv)===0}[FC](){let t=this,n=null,r=null,o=null;return this.on("error",l=>{n=l}),this.on("readable",i),this.on("close",s),{[FC](){return this},next(){return new Promise(function(l,u){r=l,o=u;let d=t.read();d!==null?a(d):t._duplexState&Wv&&a(null)})},return(){return c(null)},throw(l){return c(l)}};function i(){r!==null&&a(t.read())}function s(){r!==null&&a(null)}function a(l){o!==null&&(n?o(n):l===null&&!(t._duplexState&ns)?o(jC):r({value:l,done:l===null}),o=r=null)}function c(l){return t.destroy(l),new Promise((u,d)=>{if(t._duplexState&Wv)return u({value:void 0,done:!0});t.once("close",function(){l?d(l):u({value:void 0,done:!0})})})}}},Yk=class extends Gv{constructor(t){super(t),this._duplexState|=jd|ns,this._writableState=new OC(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}_writev(t,n){n(null)}_write(t,n){this._writableState.autoBatch(t,n)}_final(t){t(null)}static isBackpressured(t){return(t._duplexState&Yse)!==0}static drained(t){if(t.destroyed)return Promise.resolve(!1);let n=t._writableState,r=n.queue.length+(t._duplexState&Xk?1:0);return r===0?Promise.resolve(!0):(n.drains===null&&(n.drains=[]),new Promise(o=>{n.drains.push({writes:r,resolve:o})}))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}},MC=class extends UC{constructor(t){super(t),this._duplexState=jd,this._writableState=new OC(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,n){n(null)}_write(t,n){this._writableState.autoBatch(t,n)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}},$C=class extends MC{constructor(t){super(t),this._transformState=new qk(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,n){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(this._transformState.data!==null){let n=this._transformState.data;this._transformState.data=null,t(null),this._transform(n,this._transformState.afterTransform)}else t(null)}_transform(t,n){n(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(tae.bind(this))}},Vk=class extends $C{};function tae(e,t){let n=this._transformState.afterFinal;if(e)return n(e);t!=null&&this.push(t),this.push(null),n(null)}function nae(...e){return new Promise((t,n)=>jq(...e,r=>{if(r)return n(r);t()}))}function jq(e,...t){let n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&typeof n[n.length-1]=="function"?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let o=n[0],i=null,s=null;for(let l=1;l<n.length;l++)i=n[l],Kv(o)?o.pipe(i,c):(a(o,!0,l>1,c),o.pipe(i)),o=i;if(r){let l=!1,u=Kv(i)||!!(i._writableState&&i._writableState.autoDestroy);i.on("error",d=>{s===null&&(s=d)}),i.on("finish",()=>{l=!0,u||r(s)}),u&&i.on("close",()=>r(s||(l?null:$k)))}return i;function a(l,u,d,p){l.on("error",p),l.on("close",f);function f(){if(u&&l._readableState&&!l._readableState.ended||d&&l._writableState&&!l._writableState.ended)return p($k)}}function c(l){if(!(!l||s)){s=l;for(let u of n)u.destroy(l)}}}function Hq(e){return!!e._readableState||!!e._writableState}function Kv(e){return typeof e._duplexState=="number"&&Hq(e)}function rae(e){let t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===jC?null:t}function oae(e){return Kv(e)&&e.readable}function iae(e){return typeof e=="object"&&e!==null&&typeof e.byteLength=="number"}function Bq(e){return iae(e)?e.byteLength:1024}function _q(){}function sae(){this.destroy(new Error("Stream aborted."))}qq.exports={pipeline:jq,pipelinePromise:nae,isStream:Hq,isStreamx:Kv,getStreamError:rae,Stream:Gv,Writable:Yk,Readable:UC,Duplex:MC,Transform:$C,PassThrough:Vk}});var BC=O((V_e,Wq)=>{function aae(e){return Buffer.isBuffer(e)||e instanceof Uint8Array}function cae(e){return Buffer.isEncoding(e)}function lae(e,t,n){return Buffer.alloc(e,t,n)}function uae(e){return Buffer.allocUnsafe(e)}function dae(e){return Buffer.allocUnsafeSlow(e)}function fae(e,t){return Buffer.byteLength(e,t)}function pae(e,t){return Buffer.compare(e,t)}function mae(e,t){return Buffer.concat(e,t)}function hae(e,t,n,r,o){return kn(e).copy(t,n,r,o)}function gae(e,t){return kn(e).equals(t)}function vae(e,t,n,r,o){return kn(e).fill(t,n,r,o)}function xae(e,t,n){return Buffer.from(e,t,n)}function wae(e,t,n,r){return kn(e).includes(t,n,r)}function yae(e,t,n,r){return kn(e).indexOf(t,n,r)}function Eae(e,t,n,r){return kn(e).lastIndexOf(t,n,r)}function Cae(e){return kn(e).swap16()}function bae(e){return kn(e).swap32()}function Sae(e){return kn(e).swap64()}function kn(e){return Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)}function _ae(e,t,n,r){return kn(e).toString(t,n,r)}function Dae(e,t,n,r,o){return kn(e).write(t,n,r,o)}function Pae(e,t,n){return kn(e).writeDoubleLE(t,n)}function Iae(e,t,n){return kn(e).writeFloatLE(t,n)}function Tae(e,t,n){return kn(e).writeUInt32LE(t,n)}function kae(e,t,n){return kn(e).writeInt32LE(t,n)}function Rae(e,t){return kn(e).readDoubleLE(t)}function Nae(e,t){return kn(e).readFloatLE(t)}function Lae(e,t){return kn(e).readUInt32LE(t)}function Aae(e,t){return kn(e).readInt32LE(t)}Wq.exports={isBuffer:aae,isEncoding:cae,alloc:lae,allocUnsafe:uae,allocUnsafeSlow:dae,byteLength:fae,compare:pae,concat:mae,copy:hae,equals:gae,fill:vae,from:xae,includes:wae,indexOf:yae,lastIndexOf:Eae,swap16:Cae,swap32:bae,swap64:Sae,toBuffer:kn,toString:_ae,write:Dae,writeDoubleLE:Pae,writeFloatLE:Iae,writeUInt32LE:Tae,writeInt32LE:kae,readDoubleLE:Rae,readFloatLE:Nae,readUInt32LE:Lae,readInt32LE:Aae}});var rR=O(fm=>{var xt=BC(),Fae="0000000000000000000",Oae="7777777777777777777",qC="0".charCodeAt(0),Yq=xt.from([117,115,116,97,114,0]),Uae=xt.from([qC,qC]),Mae=xt.from([117,115,116,97,114,32]),$ae=xt.from([32,0]),jae=4095,Qv=257,nR=263;fm.decodeLongPath=function(t,n){return dm(t,0,t.length,n)};fm.encodePax=function(t){let n="";t.name&&(n+=tR(" path="+t.name+`
`)),t.linkname&&(n+=tR(" linkpath="+t.linkname+`
`));let r=t.pax;if(r)for(let o in r)n+=tR(" "+o+"="+r[o]+`
`);return xt.from(n)};fm.decodePax=function(t){let n={};for(;t.length;){let r=0;for(;r<t.length&&t[r]!==32;)r++;let o=parseInt(t.subarray(0,r).toString(),10);if(!o)return n;let i=xt.toString(t.subarray(r+1,o-1)),s=i.indexOf("=");if(s===-1)return n;n[i.slice(0,s)]=i.slice(s+1),t=t.subarray(o)}return n};fm.encode=function(t){let n=xt.alloc(512),r=t.name,o="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),xt.byteLength(r)!==r.length)return null;for(;xt.byteLength(r)>100;){let i=r.indexOf("/");if(i===-1)return null;o+=o?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return xt.byteLength(r)>100||xt.byteLength(o)>155||t.linkname&&xt.byteLength(t.linkname)>100?null:(xt.write(n,r),xt.write(n,vl(t.mode&jae,6),100),xt.write(n,vl(t.uid,6),108),xt.write(n,vl(t.gid,6),116),zae(t.size,n,124),xt.write(n,vl(t.mtime.getTime()/1e3|0,11),136),n[156]=qC+Yae(t.type),t.linkname&&xt.write(n,t.linkname,157),xt.copy(Yq,n,Qv),xt.copy(Uae,n,nR),t.uname&&xt.write(n,t.uname,265),t.gname&&xt.write(n,t.gname,297),xt.write(n,vl(t.devmajor||0,6),329),xt.write(n,vl(t.devminor||0,6),337),o&&xt.write(n,o,345),xt.write(n,vl(zq(n),6),148),n)};fm.decode=function(t,n,r){let o=t[156]===0?0:t[156]-qC,i=dm(t,0,100,n),s=gl(t,100,8),a=gl(t,108,8),c=gl(t,116,8),l=gl(t,124,12),u=gl(t,136,12),d=Wae(o),p=t[157]===0?null:dm(t,157,100,n),f=dm(t,265,32),m=dm(t,297,32),h=gl(t,329,8),v=gl(t,337,8),g=zq(t);if(g===8*32)return null;if(g!==gl(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Hae(t))t[345]&&(i=dm(t,345,155,n)+"/"+i);else if(!Bae(t)){if(!r)throw new Error("Invalid tar header: unknown format.")}return o===0&&i&&i[i.length-1]==="/"&&(o=5),{name:i,mode:s,uid:a,gid:c,size:l,mtime:new Date(1e3*u),type:d,linkname:p,uname:f,gname:m,devmajor:h,devminor:v,pax:null}};function Hae(e){return xt.equals(Yq,e.subarray(Qv,Qv+6))}function Bae(e){return xt.equals(Mae,e.subarray(Qv,Qv+6))&&xt.equals($ae,e.subarray(nR,nR+2))}function qae(e,t,n){return typeof e!="number"?n:(e=~~e,e>=t?t:e>=0||(e+=t,e>=0)?e:0)}function Wae(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function Yae(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function Vq(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r}function zq(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}function vl(e,t){return e=e.toString(8),e.length>t?Oae.slice(0,t)+" ":Fae.slice(0,t-e.length)+e+" "}function Vae(e,t,n){t[n]=128;for(let r=11;r>0;r--)t[n+r]=e&255,e=Math.floor(e/256)}function zae(e,t,n){e.toString(8).length>11?Vae(e,t,n):xt.write(t,vl(e,11),n)}function Gae(e){let t;if(e[0]===128)t=!0;else if(e[0]===255)t=!1;else return null;let n=[],r;for(r=e.length-1;r>0;r--){let s=e[r];t?n.push(s):n.push(255-s)}let o=0,i=n.length;for(r=0;r<i;r++)o+=n[r]*Math.pow(256,r);return t?o:-1*o}function gl(e,t,n){if(e=e.subarray(t,t+n),t=0,e[t]&128)return Gae(e);{for(;t<e.length&&e[t]===32;)t++;let r=qae(Vq(e,32,t,e.length),e.length,e.length);for(;t<r&&e[t]===0;)t++;return r===t?0:parseInt(e.subarray(t,r).toString(),8)}}function dm(e,t,n,r){return xt.toString(e.subarray(t,Vq(e,0,t,t+n)),r)}function tR(e){let t=xt.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e}});var Zq=O((G_e,Xq)=>{var{Writable:Kae,Readable:Jae,getStreamError:Gq}=eR(),Xae=Mk(),Kq=BC(),pm=rR(),Zae=Kq.alloc(0),iR=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new Xae,this._offset=0}push(t){this.buffered+=t.byteLength,this.queue.push(t)}shiftFirst(t){return this._buffered===0?null:this._next(t)}shift(t){if(t>this.buffered)return null;if(t===0)return Zae;let n=this._next(t);if(t===n.byteLength)return n;let r=[n];for(;(t-=n.byteLength)>0;)n=this._next(t),r.push(n);return Kq.concat(r)}_next(t){let n=this.queue.peek(),r=n.byteLength-this._offset;if(t>=r){let o=this._offset?n.subarray(this._offset,n.byteLength):n;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,o}return this.buffered-=t,this.shifted+=t,n.subarray(this._offset,this._offset+=t)}},sR=class extends Jae{constructor(t,n,r){super(),this.header=n,this.offset=r,this._parent=t}_read(t){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),t(null)}_predestroy(){this._parent.destroy(Gq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Jq(this.header.size),this._parent._update())}_destroy(t){this._detach(),t(null)}},aR=class extends Kae{constructor(t){super(t),t||(t={}),this._buffer=new iR,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=oR,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=t.filenameEncoding||"utf-8",this._allowUnknownFormat=!!t.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(t){if(this._locked=!1,t){this.destroy(t),this._continueWrite(t);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=pm.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(t){return this._continueWrite(t),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(t){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=pm.decodeLongPath(t,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=pm.decodeLongPath(t,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=pm.decodePax(t);break;case"pax-header":this._pax=this._paxGlobal===null?pm.decodePax(t):Object.assign({},this._paxGlobal,pm.decodePax(t));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Jq(this._header.size);let t=this._buffer.shift(this._header.size);try{this._decodeLongHeader(t)}catch(n){return this._continueWrite(n),!1}return!0}_consumeStream(){let t=this._buffer.shiftFirst(this._missing);if(t===null)return!1;this._missing-=t.byteLength;let n=this._stream.push(t);return this._missing===0?(this._stream.push(null),n&&this._stream._detach(),n&&this._locked===!1):n}_createStream(){return new sR(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let t=this._buffer.shiftFirst(this._missing);t!==null&&(this._missing-=t.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(t){let n=this._callback;this._callback=oR,n(t)}_write(t,n){this._callback=n,this._buffer.push(t),this._update()}_final(t){this._finished=this._missing===0&&this._buffer.buffered===0,t(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(t){this._stream&&this._stream.destroy(Gq(this)),t(null)}[Symbol.asyncIterator](){let t=null,n=null,r=null,o=null,i=null,s=this;return this.on("entry",l),this.on("error",p=>{t=p}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(c)},return(){return d(null)},throw(p){return d(p)}};function a(p){if(!i)return;let f=i;i=null,f(p)}function c(p,f){if(t)return f(t);if(o){p({value:o,done:!1}),o=null;return}n=p,r=f,a(null),s._finished&&n&&(n({value:void 0,done:!0}),n=r=null)}function l(p,f,m){i=m,f.on("error",oR),n?(n({value:f,done:!1}),n=r=null):o=f}function u(){a(t),n&&(t?r(t):n({value:void 0,done:!0}),n=r=null)}function d(p){return s.destroy(p),a(p),new Promise((f,m)=>{if(s.destroyed)return f({value:void 0,done:!0});s.once("close",function(){p?m(p):f({value:void 0,done:!0})})})}}};Xq.exports=function(t){return new aR(t)};function oR(){}function Jq(e){return e&=511,e&&512-e}});var eW=O((K_e,cR)=>{var Qq={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{cR.exports=require("fs").constants||Qq}catch{cR.exports=Qq}});var iW=O((J_e,oW)=>{var{Readable:Qae,Writable:ece,getStreamError:tW}=eR(),Bd=BC(),mm=eW(),WC=rR(),tce=493,nce=420,nW=Bd.alloc(1024),uR=class extends ece{constructor(t,n,r){super({mapWritable:oce,eagerOpen:!0}),this.written=0,this.header=n,this._callback=r,this._linkname=null,this._isLinkname=n.type==="symlink"&&!n.linkname,this._isVoid=n.type!=="file"&&n.type!=="contiguous-file",this._finished=!1,this._pack=t,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(t){this._openCallback=t,this._pack._stream===this&&this._continueOpen()}_continuePack(t){if(this._callback===null)return;let n=this._callback;this._callback=null,n(t)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let t=this._openCallback;if(this._openCallback=null,t!==null){if(this._pack.destroying)return t(new Error("pack stream destroyed"));if(this._pack._finalized)return t(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),t(null)}}_write(t,n){if(this._isLinkname)return this._linkname=this._linkname?Bd.concat([this._linkname,t]):t,n(null);if(this._isVoid)return t.byteLength>0?n(new Error("No body allowed for this entry")):n();if(this.written+=t.byteLength,this._pack.push(t))return n();this._pack._drain=n}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?Bd.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),rW(this._pack,this.header.size),this._pack._done(this))}_final(t){if(this.written!==this.header.size)return t(new Error("Size mismatch"));this._finish(),t(null)}_getError(){return tW(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(t){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),t()}},dR=class extends Qae{constructor(t){super(t),this._drain=lR,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(t,n,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof n=="function"&&(r=n,n=null),r||(r=lR),(!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=rce(t.mode)),t.mode||(t.mode=t.type==="directory"?tce:nce),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof n=="string"&&(n=Bd.from(n));let o=new uR(this,t,r);return Bd.isBuffer(n)?(t.size=n.byteLength,o.write(n),o.end(),o):(o._isVoid,o)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(nW),this.push(null))}_done(t){t===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(t){if(!t.pax){let n=WC.encode(t);if(n){this.push(n);return}}this._encodePax(t)}_encodePax(t){let n=WC.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:n.byteLength,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(WC.encode(r)),this.push(n),rW(this,n.byteLength),r.size=t.size,r.type=t.type,this.push(WC.encode(r))}_doDrain(){let t=this._drain;this._drain=lR,t()}_predestroy(){let t=tW(this);for(this._stream&&this._stream.destroy(t);this._pending.length;){let n=this._pending.shift();n.destroy(t),n._continueOpen()}this._doDrain()}_read(t){this._doDrain(),t()}};oW.exports=function(t){return new dR(t)};function rce(e){switch(e&mm.S_IFMT){case mm.S_IFBLK:return"block-device";case mm.S_IFCHR:return"character-device";case mm.S_IFDIR:return"directory";case mm.S_IFIFO:return"fifo";case mm.S_IFLNK:return"symlink"}return"file"}function lR(){}function rW(e,t){t&=511,t&&e.push(nW.subarray(0,512-t))}function oce(e){return Bd.isBuffer(e)?e:Bd.from(e)}});var sW=O(fR=>{fR.extract=Zq();fR.pack=iW()});var pR=O((nDe,lW)=>{lW.exports=function(t,n,r){t(n),r&&r(n===!0?null:n)}});var VC=O((rDe,dW)=>{"use strict";var uW=pR();dW.exports=function(t,n){if(!t)return function(o,i){return o?uW(i,o,n):i(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(o){return t[o]}));var r=0;return function(o,i){if(o)return uW(i,o,n);r>=t.length?i(!0):i(null,t[r++])}}});var pW=O((oDe,fW)=>{"use strict";var ace=VC();fW.exports=function(e){return ace(Object.keys(e))}});var mR=O((iDe,mW)=>{"use strict";var cce=pR();mW.exports=function(t,n){return function(r,o){if(r)return cce(o,r,n);if(t!=null){var i=t;t=null,o(null,i)}else o(!0)}}});var gW=O((sDe,hW)=>{"use strict";hW.exports=function(t){var n=0;return t=t||1/0,function(r,o){if(r)return o&&o(r);if(n>t)return o(!0);o(null,n++)}}});var xW=O((aDe,vW)=>{"use strict";vW.exports=function(t){return t=t||Math.random,function(n,r){return n?r&&r(n):r(null,t())}}});var yW=O((cDe,wW)=>{"use strict";wW.exports=function(){return function(t,n){n(!0)}}});var CW=O((lDe,EW)=>{"use strict";EW.exports=function(t){return function(n,r){r(t)}}});var SW=O((uDe,bW)=>{"use strict";bW.exports={keys:pW(),once:mR(),values:VC(),count:gW(),infinite:xW(),empty:yW(),error:CW()}});var hm=O((dDe,_W)=>{"use strict";_W.exports=function(t,n){var r,o,i;n||(i=new Error("no done callback supplied"));function s(a){if(r=a,o)return s.abort();(function c(){for(var l=!0,u=!1;l;)if(u=!1,r(null,function(d,p){if(u=!0,d=d||o){if(l=!1,n)n(d===!0?null:d);else if(d&&d!==!0)throw console.warn(i),d}else t&&t(p)===!1||o?(l=!1,r(o||!0,n||function(){})):l||c()}),!u){l=!1;return}})()}return s.abort=function(a,c){if(typeof a=="function"&&(c=a,a=!0),o=a||!0,r)return r(o,c||function(){})},s}});var PW=O((fDe,DW)=>{"use strict";var lce=hm();DW.exports=function(t){return lce(null,t)}});var TW=O((pDe,IW)=>{"use strict";var uce=hm();IW.exports=function(t){return uce(function(n){console.log(n)},t)}});var gm=O((mDe,kW)=>{kW.exports=function(t){return t&&(typeof t=="string"?function(n){return n[t]}:typeof t=="object"&&typeof t.exec=="function"?function(n){var r=t.exec(n);return r&&r[0]}:t)}});var LW=O((hDe,NW)=>{"use strict";function RW(e){return e}var dce=gm(),fce=hm();NW.exports=function(t,n){var r=!1;return n?t=dce(t)||RW:(n=t,t=RW),fce(function(o){if(t(o))return r=!0,n(null,o),!1},function(o){r||n(o===!0?null:o,null)})}});var zC=O((gDe,AW)=>{"use strict";var pce=hm();AW.exports=function(t,n,r){r||(r=n,n=null);var o=pce(function(i){n=t(n,i)},function(i){r(i,n)});return arguments.length===2?function(i){i(null,function(s,a){if(s)return r(s===!0?null:s);n=a,o(i)})}:o}});var hR=O((vDe,FW)=>{"use strict";var mce=zC();FW.exports=function(t){return mce(function(n,r){return n.push(r),n},[],t)}});var UW=O((xDe,OW)=>{"use strict";var hce=hR();OW.exports=function(){return t=>{let n,r,o=new Promise((i,s)=>{n=i,r=s});return hce((i,s)=>{i?r(i):n(s)})(t),o}}});var $W=O((wDe,MW)=>{"use strict";var gce=zC();MW.exports=function(t){return gce(function(n,r){return n+r},"",t)}});var HW=O((yDe,jW)=>{"use strict";jW.exports={drain:hm(),onEnd:PW(),log:TW(),find:LW(),reduce:zC(),collect:hR(),collectAsPromise:UW(),concat:$W()}});var qW=O((EDe,BW)=>{"use strict";function vce(e){return e}var xce=gm();BW.exports=function(t){return t?(t=xce(t),function(n){return function(r,o){n(r,function(i,s){try{s=i?null:t(s)}catch(a){return n(a,function(){return o(a)})}o(i,s)})}}):vce}});var YW=O((CDe,WW)=>{"use strict";function wce(e){return e}var yce=gm();WW.exports=function(t){if(!t)return wce;t=yce(t);var n=!1,r,o;return function(i){return function s(a,c){if(o)return c(o);a?(o=a,n?i(a,function(l){n?r=c:c(a)}):i(a,function(l){c(a)})):i(null,function(l,u){l?c(l):o?c(o):(n=!0,t(u,function(d,p){n=!1,o?(c(o),r&&r(o)):d?s(d,c):c(null,p)}))})}}}});var gR=O((bDe,VW)=>{var Ece=gm();function Cce(e){return e}VW.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(n){return t.test(n)}:Ece(t)||Cce}});var GC=O((SDe,zW)=>{"use strict";var bce=gR();zW.exports=function(t){return t=bce(t),function(n){return function r(o,i){for(var s,a=!0;a;)a=!1,s=!0,n(o,function(c,l){if(!c&&!t(l))return s?a=!0:r(c,i);i(c,l)}),s=!1}}}});var KW=O((_De,GW)=>{"use strict";var Sce=gR(),_ce=GC();GW.exports=function(t){return t=Sce(t),_ce(function(n){return!t(n)})}});var XW=O((DDe,JW)=>{"use strict";JW.exports=function(t,n){var r=!1;function o(i){r||!n||(r=!0,n(i===!0?null:i))}return function(i){return function(s,a){return s&&o(s),i(s,function(c,l){c?o(c):t&&t(l),a(c,l)})}}}});var QW=O((PDe,ZW)=>{"use strict";ZW.exports=function(t,n){n=n||{};var r=n.last||!1,o=!1;if(typeof t=="number"){r=!0;var i=t;t=function(){return--i}}return function(s){function a(c){s(!0,function(l){r=!1,c(l||!0)})}return function(c,l){o&&!c?r?a(l):l(o):(o=c)?s(o,l):s(null,function(u,d){(o=o||u)?l(o):t(d)?l(null,d):(o=!0,r?l(null,d):a(l))})}}}});var vR=O((IDe,eY)=>{"use strict";function Dce(e){return e}var Pce=gm(),Ice=GC();eY.exports=function(t,n){t=Pce(t)||Dce;var r={};return Ice(function(o){var i=t(o);return r[i]?!!n:(r[i]=!0,!n)})}});var nY=O((TDe,tY)=>{"use strict";var Tce=vR();tY.exports=function(t){return Tce(t,!0)}});var oY=O((kDe,rY)=>{"use strict";var kce=VC(),Rce=mR();rY.exports=function(){return function(t){var n;return function(r,o){r?n?n(r,function(a){t(a||r,o)}):t(r,o):n?i():s();function i(){n(null,function(a,c){a?a===!0?s():t(!0,function(l){o(a)}):o(null,c)})}function s(){n=null,t(null,function(a,c){if(a)return o(a);c&&typeof c=="object"?c=kce(c):typeof c!="function"&&(c=Rce(c)),n=c,i()})}}}}});var sY=O((RDe,iY)=>{"use strict";iY.exports={map:qW(),asyncMap:YW(),filter:GC(),filterNot:KW(),through:XW(),take:QW(),unique:vR(),nonUnique:nY(),flatten:oY()}});var xR=O((NDe,aY)=>{"use strict";aY.exports=function e(t){var n=arguments.length;if(typeof t=="function"&&t.length===1){for(var r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(a){if(r==null)throw new TypeError("partial sink should only be called once!");var c=r;switch(r=null,n){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var i=t;i&&typeof i.source=="function"&&(i=i.source);for(var o=1;o<n;o++){var s=arguments[o];typeof s=="function"?i=s(i):s&&typeof s=="object"&&(s.sink(i),i=s.source)}return i}});var tx=O((qd,dY)=>{"use strict";var cY=SW(),lY=HW(),uY=sY();qd=dY.exports=xR();qd.pull=qd;for(rs in cY)qd[rs]=cY[rs];var rs;for(rs in uY)qd[rs]=uY[rs];var rs;for(rs in lY)qd[rs]=lY[rs];var rs});var TR=O((s0e,LY)=>{var i0e=LY.exports=function(e){(function t(){var n=!0,r=!1,o=!1;do o=!0,n=!1,e.call(this,function(){o?n=!0:t()}),o=!1;while(n)})()}});var FY=O((a0e,AY)=>{var zce=TR();AY.exports=function(e,t){return function(n){var r=[],o,i;function s(l){r.push(l)}e=e||function(l){this.queue(l)},t=t||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(o=!0,s(null)),l=="error"&&(i=u)},queue:s},c;return function(l,u){if(o=o||l,l)return n(l,function(){if(c){var d=c;c=null,d(l)}u(l)});c=u,zce(function d(p){if(c)if(u=c,i)c=null,u(i);else if(r.length){var f=r.shift();c=null,u(f===null,f)}else n(o,function(m,h){if(m&&m!==!0)return i=m,p();if(o=o||m)t.call(a);else if(h!==null&&(e.call(a,h),i||o))return n(i||o,function(){c=null,u(i||o)});p(d)})})}}}});var UY=O((c0e,OY)=>{OY.exports=function(){var e=[],t=0;function n(){return e.reduce(function(r,o){return r+o.length},0)}return{length:t,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=t=t+r.length,e.push(r),this},has:function(r){return r==null?t>0:t>=r},get:function(r){var o;if(r==null||r===t){t=0;var i=e;return e=[],i.length==1?i[0]:Buffer.concat(i)}else if(e.length>1&&r<=(o=e[0].length)){var s=e[0].slice(0,r);return r===o?e.shift():e[0]=e[0].slice(r,o),t-=r,s}else if(r<t){for(var a=[],c=0;c+e[0].length<r;){var l=e.shift();c+=l.length,a.push(l)}return c<r&&(a.push(e[0].slice(0,r-c)),e[0]=e[0].slice(r-c,e[0].length),this.length=t=t-r),Buffer.concat(a)}else throw new Error("could not get "+r+" bytes")}}}});var HY=O((l0e,jY)=>{"use strict";var Gce=UY();function Kce(e){return Number.isFinite(e)}function MY(e){return typeof e=="function"}function $Y(e,t){return t?function(n,r){var o=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),r)},t);e(n,function(i,s){clearTimeout(o),r(i,s)})}:e}jY.exports=function(e){var t=[],n,r,o=!1,i=Gce(),s,a,c;function l(){for(;t.length;)if(t[0].length==null&&i.has(1))t.shift().cb(null,i.get());else if(i.has(t[0].length)){var p=t.shift();p.cb(null,i.get(p.length))}else if(s==!0&&t[0].length&&i.length<t[0].length){var f="stream ended with:"+i.length+" but wanted:"+t[0].length;t.shift().cb(new Error(f))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!i.has(1)||c}function u(){var p=l();p&&!o&&n&&!o&&!a&&(o=!0,r(null,function(f,m){if(o=!1,f)return s=f,l();i.add(m),u()}))}function d(p){if(c){for(;t.length;)t.shift().cb(c);return cb&&cb(c)}r=$Y(p,e),n=p,u()}return d.abort=function(p,f){c=p||!0,n?(o=!0,n(c,function(){for(;t.length;)t.shift().cb(c);f&&f(c)})):f()},d.read=function(p,f,m){if(MY(f)&&(m=f,f=e),MY(m))t.push({length:Kce(p)?p:null,cb:m}),u();else return a=!0,function(h,v){if(o||i.has(1)){if(h)return n(h,v);t.push({length:null,cb:v}),u()}else $Y(n,f)(h,function(g,w){v(g,w)})}},d}});var QY=O((Yd,ZY)=>{var Jce=FY(),Xce=HY(),BY=pE(),qY=0,WY=1,YY=2,VY="GOODBYE";function zY(e){let t=Buffer.alloc(9),n=0,r=e.value!==void 0?e.value:e.end;return typeof e=="string"&&e===VY?(t.fill(0),[t,null]):(typeof r=="string"?(n=WY,r=Buffer.from(r,"utf-8")):Buffer.isBuffer(r)?n=qY:(n=YY,r=Buffer.from(JSON.stringify(r),"utf-8")),n=e.stream<<3|e.end<<2|n,t[0]=n,t.writeUInt32BE(r.length,1),t.writeInt32BE(e.req||0,5),[t,r])}function GY(e){if(e.length!==9)throw new Error("expected header to be 9 bytes long");let t=e[0],n=e.readUInt32BE(1);return{req:e.readInt32BE(5),stream:!!(t&8),end:!!(t&4),value:null,length:n,type:t&3}}function KY(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(t.type===qY)t.value=e;else if(t.type===WY)t.value=e.toString();else if(t.type===YY)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function JY(e){return Jce(function(n){e&&e("encoded: %o",n);let[r,o]=zY(n);this.queue(r),o!==null&&this.queue(o)})}function XY(e){let t=Xce(),n=!1;return function(o){return t(o),function(s,a){if(n)return a(!0);if(s)return t.abort(s,a);t.read(9,function(l,u){if(l)return a(l);let d=GY(u);if(d.length===0)return n=!0,a(null,VY);t.read(d.length,function(f,m){if(f)return a(f);try{KY(m,d)}catch(h){return a(h)}e&&e("decoded: %o",d),a(null,d)})})}}}Yd=ZY.exports=function(t,n){let r=n===!0?BY("packet-stream-codec"):typeof n=="string"?BY(n):null;return{source:JY(r)(t.source),sink(o){return t.sink(XY(r)(o))}}};Yd.encodePair=zY;Yd.decodeHead=GY;Yd.decodeBody=KY;Yd.encode=JY;Yd.decode=XY});var kR=O((u0e,eV)=>{function Zce(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}function Qce(e){console.error("packet-stream asked to read after closed",e)}eV.exports={flat:Zce,closedread:Qce}});var rV=O((d0e,nV)=>{var{flat:tV,closedread:ele}=kR();function ZC(e,t,n){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=n}ZC.prototype.write=function(e,t){let n=this._ps;t?(this.writeEnd=t,n&&(n.read({req:this.id,stream:!0,end:!0,value:tV(t)}),this.readEnd&&this.destroy(t),n._maybedone(t))):n&&n.read({req:this.id,stream:!0,end:!1,value:e})};ZC.prototype.end=function(e){this.write(null,tV(e||!0))};ZC.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=ele,this._ps=null)};nV.exports=ZC});var sV=O((f0e,iV)=>{var oV=rV(),{flat:RR,closedread:tle}=kR();function Ri(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}Ri.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};Ri.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));let n=this._req_counter++;this._requests.set(n,(r,o)=>{this._requests.delete(n),t(r,o),this._maybedone(r)}),this.read({req:n,stream:!1,end:!1,value:e})};Ri.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let e=this._req_counter++,t=new oV(e,this,()=>{this._outstreams.delete(e)});return this._outstreams.set(e,t),t};Ri.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};Ri.prototype.destroy=function(e){e=e||RR(e),this.ended=e,this._closing=!0;let t=e===!0?new Error("unexpected end of parent stream"):e,n=0;this._requests.forEach(r=>{n++,r(t)}),this._instreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),this._outstreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),n===0&&e===!0&&(t=null),this._maybedone(t)};Ri.prototype._maybedone=function(e){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,e||!0),this._closed=!0,this._closecbs.forEach(t=>{t(e)}),this.opts=null,this._closecbs.length=0,this.read=tle,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};Ri.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};Ri.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};Ri.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};Ri.prototype._onrequest=function(e){let t=e.req*-1;if(e.req<0)this._requests.has(t)&&this._requests.get(t)(e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){let n=!1;this.opts.request(e.value,(r,o)=>{if(n)throw new Error("cb called twice from local api");n=!0,r?this.read({value:RR(r),end:!0,req:t}):this.read({value:o,end:!1,req:t}),this._maybedone()})}else{if(this.ended){let n=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:RR(n),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};Ri.prototype._onstream=function(e){if(e.req<0){let t=e.req*-1,n=this._outstreams.get(t);if(!n)return console.error("no stream for incoming msg",e);e.end?(n.writeEnd&&this._outstreams.delete(t),n.readEnd=!0,n.read(null,e.value),this._maybedone()):n.read(e.value)}else{let t=e.req,n=this._instreams.get(t);n||(n=new oV(t*-1,this,()=>{this._instreams.delete(t)}),this._instreams.set(t,n),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)),e.end?(n.writeEnd&&this._instreams.delete(t),n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};iV.exports=e=>new Ri(e)});var cV=O((p0e,ix)=>{"use strict";var nle=tx();function rle(e){let t=!1;return(n,r)=>{t||(t=!0,e(n,r))}}function NR(e,t){let n=[],r=!1,o=!1,i,s,a=rle((c,l)=>{t&&t(c,l),e=null,t=null,i=null,s&&s(c||!0,()=>{})});return e.read=function(c,l){if(r=r||l,i){let u=i;i=null,u(r,c)}else!r&&!o&&n.push(c);r&&a(r!==!0?r:null)},{source(c,l){c?(e&&e.write(null,c),l(c),n.length=0,o=!0,a(c!==!0?c:null)):n.length?l(null,n.shift()):r?l(r):i=l},sink(c){if(r)return s=null,c(r,()=>{});s=c,nle.drain(l=>{if(r)return!1;e.write(l)},l=>{e&&!e.writeEnd&&e.write(null,l||!0),a&&a(l)})(c)}}}function aV(e,t){return NR(e,n=>{e.writeEnd||e.write(null,n||!0),t&&t(n)})}function ole(e){return aV(e).source}function ile(e,t){return aV(e,t).sink}ix.exports=NR;ix.exports.source=ole;ix.exports.sink=ile;ix.exports.duplex=NR});var uV=O((m0e,lV)=>{lV.exports=function(t){var n,r,o;function i(s){return function(a,c){s(a,function(l,u){if(l&&!o)return o=!0,c(null,t);l&&n?c(l):l?r=c:c(null,u)})}}return i.end=function(){return n=!0,r&&r(n),i},i}});var fV=O((h0e,dV)=>{var sle=uV(),LR=tx();dV.exports=function(e,t){t=t||"GOODBYE";var n=sle(t);return{source:LR(e.source,n),sink:LR(LR.filter(function(r){if(r!==t)return!0;n.end()}),e.sink)}}});var sx=O(is=>{"use strict";var QC=tx();function ale(e){return e?Object.keys(e).length===0:!0}is.set=function(t,n,r){let o,i;for(let s=0;s<n.length;s++){let a=n[s];t[a]=t[a]||{},o=t,i=a,t=t[a]}o[i]=r};is.get=function(t,n){if(typeof n=="string")return t[n];let r;for(let o=0;o<n.length;o++){let i=n[o];if(r=t=t[i],t==null)return t}return r};is.prefix=function(t,n){let r;for(let o=0;o<n.length;o++){let i=n[o];if(r=t=t[i],typeof t!="object")return t}return typeof r!="object"?!!r:!1};function cle(e,t){for(let n in t){let r=t[n];e[r]||(e[r]={}),e=e[r]}return e}function lle(e,t){(function n(r,o){let i=t[o];if(r)t.length-1===o?delete r[i]:o<t.length&&n(r[i],o+1);else return;ale(r[i])&&delete r[i]})(e,0)}function ule(e,t){for(let n in t)e[n]=t[n];return e}is.mount=function(t,n,r){if(!Array.isArray(n))throw new Error("path must be array of strings");return ule(cle(t,n),r)};is.unmount=function(t,n){return lle(t,n)};var eb=e=>e==="source",tb=e=>e==="sink",AR=e=>e==="duplex",dle=e=>e==="sync",fle=e=>e==="async",pV=e=>dle(e)||fle(e),ple=e=>eb(e)||tb(e)||AR(e);is.isRequest=pV;is.isStream=ple;function FR(e){return function(t){t(e||!0,()=>{})}}function mV(e){return{source:QC.error(e),sink:FR(e)}}is.errorAsStream=function(t,n){return eb(t)?QC.error(n):tb(t)?FR(n):mV(n)};is.errorAsStreamOrCb=function(t,n,r){return pV(t)?r(n):AR(t)?mV(n):eb(t)?QC.error(n):tb(t)?FR(n):r(n)};is.pipeToStream=function(t,n,r){eb(t)?n(r):tb(t)?r(n):AR(t)&&QC(n,r,n)}});var OR=O((v0e,hV)=>{"use strict";function mle(e){return typeof e=="string"?[`Error: ${e}`]:e.stack?e.stack.split(`
`):[`${e.name}: ${e.message}`]}hV.exports=function(t,n){let r=new Error(n),o=r.stack.split(`
`);o.splice(1,1);let i=mle(t);i[0]="  "+i[0];for(let s=1;s<o.length;s++)if(i.includes(o[s])){o.splice(s);break}return r.stack=o.concat(i).join(`
`),r}});var wV=O((x0e,xV)=>{"use strict";var hle=sV(),UR=cV(),gle=fV(),wm=sx(),gV=OR(),vV=pE()("muxrpc:psc");xV.exports=function(t,n,r){let o=hle({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,d=!1;l.push((p,f)=>{d=!0,u=!0,a(p,f)});try{t("async",c,l)}catch(p){if(u||d)throw gV(p,"no callback provided to muxrpc async funtion");a(p)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:d,args:p}=c,f,m;if(s.read=null,!wm.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{m=t(d,u,p)}catch(g){f=g}let v=UR[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return wm.pipeToStream(d,v,f?wm.errorAsStream(d,f):m)}},close(s){if(o=null,i.ended=!0,!i.closed&&(i.closed=!0,r)){let a=r;r=null,a(s)}}}),i=gle(UR(o,()=>{}));return i=n?n(i,vV.enabled?vV.namespace:!1):i,i.remoteCall=function(s,a,c,l){if(a==="emit")return o.message(c);if(!(wm.isRequest(s)||wm.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(wm.isRequest(s))return o.request({name:a,args:c},l);let u=o.stream(),d=UR[s](u,l);return u.write({name:a,args:c,type:s}),d},i.isOpen=function(){return!o.ended},i.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!o){a&&a();return}if(s){o.destroy(s),a&&a();return}return o.close(c=>{if(a)a(c);else if(c)throw gV(c,"no callback provided for muxrpc close")}),this},i.closed=!1,i}});var EV=O((w0e,yV)=>{"use strict";var vle=OR(),xle=sx();function MR(e,t,n,r){for(let o in t){let i=t[o],s=n?n.concat(o):[o];if(i&&typeof i=="object"){let a=i;e[o]=MR({},a,s,r)}else{let a=i;e[o]=(...c)=>r(a,s,c)}}return e}function wle(e){if(e)throw vle(e,"callback not provided")}function yle(e,t,n,r){e=e||{};function o(i,s,a){let c=typeof a[a.length-1]=="function"?a.pop():i==="sync"||i==="async"?null:wle;if(typeof c=="function"){let l;try{l=n(i,s,a,c)}catch(u){return xle.errorAsStreamOrCb(i,u,c)}return l}else return new Promise((l,u)=>{n(i,s,a,(d,p)=>{d?u(d):l(p)})})}return r?o("async","manifest",[function(i,s){if(i)return r(i);MR(e,s,null,o),r(null,s,e)}]):MR(e,t,null,o),e}yV.exports=yle});var SV=O((y0e,bV)=>{"use strict";var nb=sx();function CV(e){return Array.isArray(e)?e:e.split(".")}function Ele(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}bV.exports=function(t){if(Ele(t))return t;if(typeof t=="function")return{pre:t};let n=null,r={};function o(i){if(i.allow){n={};for(let s of i.allow)nb.set(n,CV(s),!0)}else n=null;if(i.deny)for(let s of i.deny)nb.set(r,CV(s),!0);else r={};return this}return t&&o(t),o.pre=i=>{if(i=Array.isArray(i)?i:[i],n&&!nb.prefix(n,i))return new Error(`method:${i} is not in list of allowed methods`);if(r&&nb.prefix(r,i))return new Error(`method:${i} is on list of disallowed methods`)},o.post=()=>{},o.test=i=>o.pre(i),o.get=()=>({allow:n,deny:r}),o}});var DV=O((E0e,_V)=>{"use strict";var Cle=SV(),$R=sx();_V.exports=function(t,n,r){r=Cle(r);function o(s,a){return s===$R.get(n,a)}function i(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&o("sync",a)){let l=c.pop(),u;try{u=$R.get(t,a).apply(this,c)}catch(d){return l(d)}return l(null,u)}if(!o(s,a))throw new Error(`no ${s}:${a}`);return $R.get(t,a).apply(this,c)}return function(a,c,l){let u=r.pre(c,l);if(u)throw u;return i.call(this,a,c,l)}}});var TV=O((C0e,IV)=>{"use strict";var ble=QY(),Sle=require("events").EventEmitter,_le=wV(),Dle=EV(),Ple=DV();function PV(e,t,n,r,o,i,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let c=new Sle;i||(i=ble);let l,u={_emit(p,f){return c&&c._emit(p,f),u},id:r},d=_le(Ple(n,t,o).bind(u),i,p=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let f=l;l=null,f(p)}});if(Dle(c,e,(p,f,m,h)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(p,f,m,h)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",f=>{u.id=f});let p=!0;c.createStream=f=>{if(l=f,p)return p=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(p,f){return d.close(p,f),this},c}IV.exports=function(e,t,n){return arguments.length>3?PV.apply(this,arguments):function(r,o,i){return PV(e,t,r,i,o,n,!0)}}});var sb=O((Qa,NV)=>{var b0e=xR(),Ile=TR();function kV(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function RV(e,t,n){var r,o=!1,i;function s(){i||(i=!0,n&&n(r===!0?null:r))}function a(){o||(o=!0,l(),r?s():e(r=!0,s))}function c(u){l(),r||e(r=u,s)}function l(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",c)}t.on("close",a),t.on("finish",a),t.on("error",c),process.nextTick(function(){Ile(function(u){e(null,function(d,p){if(r=r||d,d===!0)return t._isStdio?s():t.end();if(r=r||d)return kV(t),s(r);if(t._isStdio)t.write(p,function(){u()});else{var f=t.write(p);f===!1?t.once("drain",u):u()}})})})}function Tle(e){var t=!1,n=!1,r;function o(){var i=e.read();if(i!==null&&r){var s=r;r=null,s(null,i)}}return e.on("readable",function(){n=!0,r&&o()}).on("end",function(){t=!0,r&&r(t)}).on("error",function(i){t=i,r&&r(t)}),function(i,s){r=s,t?s(t):n&&o()}}function rb(e){var t=[],n=[],r,o=!1,i;function s(){for(;(t.length||r)&&n.length;)n.shift()(t.length?null:r,t.shift());!t.length&&o&&(o=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(o=!0,e.pause())}),e.on("end",function(){r=!0,s()}),e.on("close",function(){r=!0,s()}),e.on("error",function(a){r=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;n.length;)n.shift()(a);c(a)};var l=u;if(r)return u();e.once("close",u),kV(e)}else n.push(c),s()}}var kle=rb,ob=function(e,t){return function(n){return RV(n,e,t)}},ib=function(e){return rb(e)};Qa=NV.exports=function(e,t){return e.writable&&e.write?e.readable?function(n){return RV(n,e,t),rb(e)}:ob(e,t):ib(e)};Qa.sink=ob;Qa.source=ib;Qa.read=kle;Qa.read1=rb;Qa.read2=Tle;Qa.duplex=function(e,t){return{source:ib(e),sink:ob(e,t)}};Qa.transform=function(e){return function(t){var n=ib(e);return ob(e)(t),n}}});var AV=O((S0e,ab)=>{var Rle=require("stream");ab.exports=jR;ab.exports.source=function(e){return jR(null,e)};ab.exports.sink=function(e){return jR(e,null)};var LV=typeof setImmediate>"u"?process.nextTick:setImmediate;function jR(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var n=[],r=[],o,i,s=new Rle;s.writable=s.readable=!0,s.write=function(v){return n.length?n.shift()(null,v):r.push(v),n.length||(i=!0),!!n.length},s.end=function(){t?r.length?h():t(o=!0,n.length?n.shift():function(){}):n.length&&n.shift()(!0)},s.source=function(v,g){r.length?(g(null,r.shift()),r.length||s.emit("drain")):((o=o||v)?g(o):n.push(g),i&&(i=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var c=[],l=[],u=!1,d=!1,p=!1;if(s.sink=function(v){t=v,LV(h)},t){s.sink(t),s.paused=!0;var f=s.on.bind(s);s.on=(v,g)=>{var w=f(v,g);return v==="data"&&s.paused&&LV(s.resume.bind(s)),w};var m=s.pipe.bind(s);s.pipe=function(v,g){var w=m(v,g);return s.paused&&s.resume(),w}}function h(){if(d=!1,!(!t||p)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");p=!0,t(null,function v(g,w){p=!1,s.paused?(g===!0?u=g:g?s.emit("error",g):c.push(w),d=!0):g&&(o=g)!==!0?s.emit("error",g):(o=o||g)?s.emit("end"):(s.emit("data",w),p=!0,t(null,v))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,h(),s},s.destroy=function(){!o&&t&&t(o=!0,function(){}),o=!0,n.length&&n.shift()(!0),s.emit("close")},s}});var OV=O((_0e,FV)=>{FV.exports=Nle;function Nle(e,t){typeof e=="function"&&(t=e,e=!1);var n=[],r,o;function i(d,p){d&&(r=d,o&&u(r)),o=p,l()}var s;function a(d){s=s||d||!0,l()}function c(d){if(!s){if(o){u(r,d);return}n.push(d)}}if(e)return{push:c,end:a,source:i,buffer:n};return i.push=c,i.end=a,i.buffer=n,i;function l(){o&&(r?u(r):!n.length&&s?u(s):n.length&&u(null,n.shift()))}function u(d,p){var f=o;if(d&&t){var m=t;t=null,m(d===!0?null:d)}o=null,f(d,p)}}});var nN=O((hIe,pz)=>{"use strict";var dz=require("child_process"),aue=1024*1024,fz={exec(e,t){dz.exec(e,{maxBuffer:2*aue,windowsHide:!0},t)},spawn(e,t,n){return dz.spawn(e,t,n)},stripLine(e,t){let n=0;for(;t-- >0;){let r=e.indexOf(`
`,n);r>=0&&(n=r+1)}return n>0?e.substring(n):e},split(e,t){let n=e.trim().split(/\s+/);return n.length>t&&(n[t-1]=n.slice(t-1).join(" ")),n},extractColumns(e,t,n){let r=e.split(/(\r\n|\n|\r)/),o=[];return n||(n=Math.max.apply(null,t)+1),r.forEach(i=>{let s=fz.split(i,n),a=[];t.forEach(c=>{a.push(s[c]||"")}),o.push(a)}),o},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(n=>n.trim().length>0).map(n=>n.split(/(\r\n|\n|\r)/).filter(r=>r.trim().length>0));return t.forEach(n=>{for(let r=0;n[r];){let o=n[r];o.startsWith(" ")?(n[r-1]+=o.trimLeft(),n.splice(r,1)):r+=1}}),t.map(n=>{let r={};return n.forEach(o=>{let i=o.indexOf(":"),s=o.slice(0,i).trim();r[s]=o.slice(i+1).trim()}),r})}};pz.exports=fz});var hz=O((gIe,mz)=>{"use strict";var cue=require("os"),Rb=require("fs"),Ni=nN(),lue=e=>new Promise((t,n)=>{Rb.existsSync(e)?t():Rb.mkdir(e,r=>{r?n(r):t()})}),rN={darwin(e){return new Promise((t,n)=>{Ni.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(r,o,i){if(r)n(r);else{if(r=i.toString().trim(),r){n(r);return}let s=Ni.stripLine(o.toString(),2),a=Ni.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):n(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,n)=>{let r="netstat -tunlp";Ni.exec(r,function(o,i,s){if(o)n(o);else{let a=s.toString().trim();a&&console.warn(a);let c=Ni.stripLine(i.toString(),2),l=Ni.extractColumns(c,[3,6],7).find(u=>{let d=String(u[0]).match(/:(\d+)$/);if(d&&d[1]===String(e))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?t(parseInt(u,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,n)=>{Ni.exec("netstat -ano",function(r,o,i){if(r)n(r);else{if(r=i.toString().trim(),r){n(r);return}let s=Ni.stripLine(o.toString(),4),a=Ni.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):n(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,n)=>{let r=cue.tmpdir()+"/.find-process",o=r+"/"+process.pid,i='netstat -tunp >> "'+o+'"';lue(r).then(()=>{Ni.exec(i,()=>{Rb.readFile(o,"utf8",(s,a)=>{if(Rb.unlink(o,()=>{}),s)n(s);else{a=Ni.stripLine(a,2);let c=Ni.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})})})}};function uue(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in rN))return r(new Error(`platform ${t} is unsupported`));let o=rN[t];typeof o=="string"&&(o=rN[o]),o(e).then(n,r)})}mz.exports=uue});var wz=O((vIe,xz)=>{"use strict";var Nb=require("path"),Pl=nN();function oN(e,t){return t?e&&e.match?e.match(t):!1:!0}function gz(e){let t=e.split(Nb.sep),n=t[t.length-1];n&&(t[t.length-1]=n.split(" ")[0]);let r=[];for(let o of t){let i=o.indexOf(" -");if(i>=0){r.push(o.substring(0,i).trim());break}else if(o.endsWith(" ")){r.push(o.trim());break}r.push(o)}return r.join(Nb.sep)}function vz(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return Nb.basename(e.substring(0,t))}return Nb.basename(e)}var iN={darwin(e){return new Promise((t,n)=>{let r;"pid"in e?r=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:r="ps ax -ww -o pid,ppid,uid,gid,args",Pl.exec(r,function(o,i,s){if(o)"pid"in e?t([]):n(o);else{if(o=s.toString().trim(),o){n(o);return}let a=Pl.stripLine(i.toString(),1),l=Pl.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[4]&&e.name?oN(u[4],e.name):!!u[0]).map(u=>{let d=String(u[4]),p=gz(d);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:vz(p),bin:p,cmd:u[4]}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,n)=>{let r="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",o=[],i=Pl.spawn("powershell.exe",["/c",r],{detached:!1,windowsHide:!0});i.stdout.on("data",s=>{o.push(s.toString())}),i.on("close",s=>{if(s!==0)return n(new Error("Command '"+r+"' terminated with code: "+s));let a=Pl.parseTable(o.join("")).filter(c=>{if("pid"in e)return c.ProcessId===String(e.pid);if(e.name){let l=c.Name||"";return e.strict?l===e.name||l.endsWith(".exe")&&l.slice(0,-4)===e.name:oN(c.CommandLine||l,e.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));t(a)})})},android(e){return new Promise((t,n)=>{let r="ps";Pl.exec(r,function(o,i,s){if(o)"pid"in e?t([]):n(o);else{if(o=s.toString().trim(),o){n(o);return}let a=Pl.stripLine(i.toString(),1),l=Pl.extractColumns(a,[0,3],4).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[1]&&e.name?oN(u[1],e.name):!!u[0]).map(u=>{let d=String(u[1]),p=gz(d);return{pid:parseInt(u[0],10),name:vz(p),bin:p,cmd:d}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})}};function due(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in iN))return r(new Error(`platform ${t} is unsupported`));let o=iN[t];typeof o=="string"&&(o=iN[o]),o(e).then(n,r)})}xz.exports=due});var Cz=O((xIe,Ez)=>{"use strict";var fue=hz(),yz=wz(),sN={port(e,t){return fue(e,t).then(n=>sN.pid(n,t),()=>[])},pid(e,t){return yz({pid:e,strict:t})},name(e,t){return yz({name:e,strict:t})}};function pue(e,t,n){return new Promise((r,o)=>{if(!(e in sN))o(new Error(`do not support find by "${e}"`));else{let i=/^\d+$/.test(t);e==="pid"&&!i?o(new Error("pid must be a number")):e==="port"&&!i?o(new Error("port must be a number")):sN[e](t,n).then(r,o)}})}Ez.exports=pue});var Sz=O((wIe,bz)=>{"use strict";bz.exports=Cz()});var X3=O(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.BaseTelemetryReporter=void 0;var aL=class{constructor(t,n,r){this.telemetrySender=t,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,n,r,o){o?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logUsage(t,{properties:n,measurements:r})}sendTelemetryEvent(t,n,r){this.internalSendTelemetryEvent(t,n,r,!1)}sendRawTelemetryEvent(t,n,r){let o={...n};for(let i of Object.keys(o??{})){let s=o[i];typeof i=="string"&&s!==void 0&&(o[i]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(t,o,r)}sendDangerousTelemetryEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,n,r,!0)}internalSendTelemetryErrorEvent(t,n,r,o){o?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logError(t,{properties:n,measurements:r})}sendTelemetryErrorEvent(t,n,r){this.internalSendTelemetryErrorEvent(t,n,r,!1)}sendDangerousTelemetryErrorEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,n,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};_S.BaseTelemetryReporter=aL});var Z3=O(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.BaseTelemetrySender=void 0;var lc;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(lc||(lc={}));var cL=class{constructor(t,n){this._instantiationStatus=lc.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=t}sendEventData(t,n){if(!this._telemetryClient){this._instantiationStatus!==lc.INSTANTIATED&&this._eventQueue.push({eventName:t,data:n});return}this._telemetryClient.logEvent(t,n)}sendErrorData(t,n){if(!this._telemetryClient){this._instantiationStatus!==lc.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:n});return}let r={stack:t.stack,message:t.message,name:t.name};n?n.properties={...n.properties,...r}:n={properties:r},this._telemetryClient.logEvent("unhandlederror",n)}async flush(){var t;return(t=this._telemetryClient)==null?void 0:t.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:n})=>this.sendEventData(t,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:n})=>this.sendErrorData(t,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===lc.NOT_INSTANTIATED&&(this._instantiationStatus=lc.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=lc.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=lc.INSTANTIATED}))}};DS.BaseTelemetrySender=cL});var uL=O(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.TelemetryUtil=void 0;var lL=class e{static applyReplacements(t,n){for(let r of Object.keys(t))for(let o of n)o.lookup.test(r)&&(o.replacementString!==void 0?t[r]=o.replacementString:delete t[r])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return e._instance||(e._instance=new e),e._instance}};PS.TelemetryUtil=lL});var zm,uc,Xs,ps,Gm,qx,dL=q(()=>{zm="function",uc="object",Xs="undefined",ps="prototype",Gm=Object,qx=Gm[ps]});var Yr,qt,Km,fL,Vl,pL,dc,Ui,Wx,mL,fc,Yx,Vx,Q3,IS,TS,ms,hL,kS,RS,Jm,dn,NS,gL,Vr,vL,xL,li,tt=q(()=>{Yr=void 0,qt=null,Km="",fL="boolean",Vl="function",pL="number",dc="object",Ui="prototype",Wx="__proto__",mL="string",fc="undefined",Yx="constructor",Vx="Symbol",Q3="_polyfill",IS="indexOf",TS="lastIndexOf",ms="length",hL="done",kS="value",RS="name",Jm="slice",dn=Object,NS=dn[Ui],gL=String,Vr=gL[Ui],vL=Math,xL=Array,li=xL[Ui]});function zx(e,t){var n=t;try{n=e()}catch{}return n}var wL=q(()=>{});function Xm(e){return function(t){return typeof t===e}}function df(e){var t="[object "+e+"]";return function(n){return!!(n&&ff(n)===t)}}function ff(e){return NS.toString.call(e)}function LS(e,t){return typeof e===t}function Oe(e){return typeof e===fc||e===fc}function te(e){return e===qt||Oe(e)}function yL(e){return e===qt||!AS(e)}function AS(e){return!!e||e!==Yr}function kt(e){return!e&&te(e)?!1:!!e&&typeof e===dc}function zl(e){return!!e&&Ae(e.then)}function FS(e){return!e||!zx(function(){return e&&0+e},e)}function gs(e){return!(!e||zx(function(){return!(e&&0+e)},!e))}var vme,EL,Fe,Ae,ge,Zm,dr,hs,xme,wme,yme,Eme,Cme,Zs,uo=q(()=>{tt();wL();vme=[mL,pL,fL,fc,"symbol","bigint"];EL=function(e){return e!==dc&&vme.indexOf(e)!==-1},Fe=Xm(mL),Ae=Xm(Vl);ge=xL.isArray,Zm=df("Date"),dr=Xm(pL),hs=Xm(fL),xme=df("RegExp"),wme=df("File"),yme=df("FormData"),Eme=df("Blob"),Cme=df("ArrayBuffer"),Zs=df("Error")});var pf,OS=q(()=>{tt();pf=dn.getOwnPropertyDescriptor});function En(e,t){return e&&NS.hasOwnProperty.call(e,t)}var US=q(()=>{tt()});function e4(e,t){return En(e,t)||!!pf(e,t)}var No,MS=q(()=>{tt();OS();US();No=dn.hasOwn||e4});function de(e,t,n){if(e&&kt(e)){for(var r in e)if(No(e,r)&&t.call(n||e,r,e[r])===-1)break}}var Gl=q(()=>{uo();MS()});function CL(e,t,n,r){var o={};return de(e,function(i,s){o[i]=t?s:i,o[s]=n?s:i}),r(o)}var t4=q(()=>{Gl()});function tn(e){throw new Error(e)}function Gt(e){throw new TypeError(e)}var Kl=q(()=>{});function n4(e){var t=[];return de(e,function(n,r){t.push([n,r])}),t}function r4(e){var t=[];return de(e,function(n,r){t.push(r)}),t}var o4=q(()=>{Gl()});function Kn(e){return(!kt(e)||e===qt)&&Gt("objKeys called on non-object"),dn.keys(e)}function fo(e){return bL&&de(e,function(t,n){(ge(n)||kt(n))&&bL(n)}),Qs(e)}var bL,i4,bme,mf,Qs,$S,Qm,Sme,sAe,eh=q(()=>{tt();uo();Kl();Gl();o4();bL=dn.freeze,i4=function(e){return e},bme=function(e){return e[Wx]||qt},mf=dn.assign;Qs=bL||i4,$S=dn.seal||i4,Qm=dn.getPrototypeOf||bme,Sme=dn.entries||n4,sAe=dn.values||r4});function SL(e){return CL(e,1,0,fo)}function _L(e){return CL(e,0,0,fo)}function s4(e){var t={};return de(e,function(n,r){t[n]=r[1],t[r[0]]=r[1]}),fo(t)}function DL(e){return s4(e)}var PL=q(()=>{t4();Gl();eh()});var jS,IL=q(()=>{PL();jS=_L({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12})});var Ln,th=q(()=>{tt();Ln=gL});function kL(){var e;return typeof globalThis!==fc&&(e=globalThis),!e&&typeof self!==fc&&(e=self),!e&&typeof window!==fc&&(e=window),!e&&typeof global!==fc&&(e=global),e}function HS(){if(!TL){var e=kL()||{};TL=e[a4]=e[a4]||{}}return TL}var a4,TL,BS=q(()=>{tt();a4="__tsUtils$gblCfg"});function pe(e,t){var n=Km;if(Zs(e))n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'";else try{n=JSON.stringify(e,qt,t?dr(t)?t:4:Yr)}catch(r){n=" - "+pe(r,t)}return ff(e)+": "+n}var Jl=q(()=>{tt();uo()});function l4(e){return function(t){return t[e]}}var RL,c4,qS,zr,Mi,po=q(()=>{Jl();Kl();th();tt();RL=li[Jm],c4=function(e,t){Gt("'"+Ln(e)+"' not defined for "+pe(t))},qS=function(e){return function(t){return t[e].apply(t,RL.call(arguments,1))}},zr=function(e,t){var n=t&&t[e];return function(r){var o=r&&r[e]||n;if(o)return o.apply(r,RL.call(arguments,1));c4(e,r)}},Mi=function(e,t,n){var r=t&&t[e];return function(o){var i=o&&o[e]||r;if(i||n){var s=arguments;return(i||n).apply(o,i?RL.call(s,1):s)}c4(e,o)}}});var PAe,u4,d4=q(()=>{tt();PAe=vL.min,u4=vL.max});var NL,f4=q(()=>{tt();po();NL=zr(Jm,Vr)});function p4(e,t,n){return te(e)&&Gt("'polyStrSubstr called with invalid "+pe(e)),n<0?Km:(t=t||0,t<0&&(t=u4(t+e[ms],0)),Oe(n)?NL(e,t):NL(e,t,t+n))}function Xl(e,t){return fn(e,0,t)}var fn,vs,WS=q(()=>{uo();Jl();Kl();tt();po();d4();f4();fn=zr("substring",Vr),vs=Mi("substr",Vr,p4)});function _me(e,t,n){Fe(e)||Gt("'"+pe(e)+"' is not a string");var r=Fe(t)?t:Ln(t),o=r[ms],i=n>0?n:0;return fn(e,i,i+o)===r}var hf,m4=q(()=>{uo();Jl();Kl();tt();po();th();WS();hf=Mi("startsWith",Vr,_me)});function Dme(){if(!LL){var e=HS();LL=e.gblSym=e.gblSym||{k:{},s:{}}}return LL}function YS(e){var t={description:Ln(e),toString:function(){return Vx+"("+e+")"}};return t[Q3]=!0,t}function v4(e){var t=Dme();if(!No(t.k,e)){var n=YS(e),r=Kn(t.s).length;n[h4]=function(){return r+"_"+n.toString()},t.k[e]=n,t.s[n[h4]()]=Ln(e)}return t.k[e]}function x4(e){var t,n=jS[e];return n&&(t=g4[n]=g4[n]||YS(Vx+"."+n)),t}var h4,LL,g4,w4=q(()=>{IL();tt();MS();th();BS();eh();h4="_urid";g4={}});function y4(e){var t={};if(t[VS.c]=!0,t[VS.e]=!0,e.l){t.get=function(){return e.l.v};var n=pf(e.l,"v");n&&n.set&&(t.set=function(r){e.l.v=r})}return de(e,function(r,o){t[VS[r]]=Oe(o)?t[VS[r]]:o}),t}function zS(e,t,n,r,o,i){var s={e:i,c:o};return n&&(s.g=n),r&&(s.s=r),An(e,t,y4(s))}function wt(e,t,n){return An(e,t,y4(n))}var VS,An,Pme,nh=q(()=>{tt();uo();Gl();OS();VS={e:"enumerable",c:"configurable",v:kS,w:"writable",g:"get",s:"set"};An=dn.defineProperty,Pme=dn.defineProperties});function xs(e){var t={};return AL&&AL(),t.b=Ot.lzy,An(t,"v",{configurable:!0,get:function(){var n=e();return Ot.lzy||(An(t,"v",{value:n}),t.b&&delete t.b),Ot.lzy&&t.b!==Ot.lzy&&(t.b=Ot.lzy),n}}),t}var Ot,AL,Zl=q(()=>{tt();BS();nh();AL=function(){Ot=HS(),AL=qt}});function pc(e,t){return xs(function(){return zx(e,t)})}var GS=q(()=>{Zl();wL()});var E4,rh,oh,KS,JS,XS,FL,ui,Gr,Ut,Ql,nn,eu,pn,ih,Fn,ZS,Gx,OL,Kx=q(()=>{tt();BS();GS();Zl();E4="window",ui=function(e){return pc(function(){return Ut(e)||Yr},Yr)},Gr=function(e){return(!rh||e===!1||Ot&&Ot.lzy&&!rh.b)&&(rh=pc(kL,qt)),rh.v},Ut=function(e,t){var n=!rh||t===!1?Gr(t):rh.v;return n&&n[e]?n[e]:e===E4&&oh?oh.v:qt},Ql=function(){return!!nn()},nn=function(){return(!KS||Ot&&Ot.lzy&&!KS.b)&&(KS=ui("document")),KS.v},eu=function(){return!!pn()},pn=function(){return(!oh||Ot&&Ot.lzy&&!oh.b)&&(oh=ui(E4)),oh.v},ih=function(){return!!Fn()},Fn=function(){return(!JS||Ot&&Ot.lzy&&!JS.b)&&(JS=ui("navigator")),JS.v},ZS=function(){return!!Gx()},Gx=function(){return(!XS||Ot&&Ot.lzy&&!XS.b)&&(XS=ui("history")),XS.v},OL=function(){return!FL&&(FL=pc(function(){return!!(process&&(process.versions||{}).node)},!1)),FL.v}});function b4(e){return pc(function(){return mo.v?mo.v[e]:Yr},Yr)}function UL(){return!!Jx()}function Jx(){var e=!mo||Ot&&Ot.lzy&&!mo.b;return e&&(mo=ui(Vx)),(!QS||e)&&(QS=b4("for")),(!C4||e)&&(C4=b4("keyFor")),mo.v}function gf(e,t){var n=jS[e];return(!mo||Ot.lzy&&!mo.b)&&Jx(),mo.v?mo.v[n||e]:t?Yr:x4(e)}function vf(e,t){return(!mo||Ot.lzy&&!mo.b)&&Jx(),mo.v?mo.v(e):t?qt:YS(e)}function Xx(e){return(!QS||Ot.lzy&&!mo.b)&&Jx(),(QS.v||v4)(e)}var mo,QS,C4,S4,e_=q(()=>{tt();w4();IL();uo();Zl();GS();Kx();S4=Xm("symbol")});function Zx(e){return!!e&&Ae(e.next)}function _4(e){return!yL(e)&&Ae(e[gf(3)])}var ML=q(()=>{e_();uo()});function D4(e,t,n){if(e&&(Zx(e)||(!t_&&(t_=xs(function(){return gf(3)})),e=e[t_.v]?e[t_.v]():null),Zx(e))){var r=void 0,o=void 0;try{for(var i=0;!(o=e.next())[hL]&&t.call(n||e,o[kS],i,e)!==-1;)i++}catch(s){r={e:s},e.throw&&(o=null,e.throw(r))}finally{try{o&&!o[hL]&&e.return&&e.return(o)}finally{if(r)throw r.e}}}}var t_,P4=q(()=>{Zl();tt();e_();ML()});var mc,n_=q(()=>{po();mc=qS("apply")});function $i(e,t){return!Oe(t)&&e&&(ge(t)?mc(e.push,e,t):Zx(t)||_4(t)?D4(t,function(n){e.push(n)}):e.push(t)),e}var I4=q(()=>{uo();ML();P4();n_()});function ne(e,t,n){if(e)for(var r=e[ms]>>>0,o=0;o<r&&!(o in e&&t.call(n||e,e[o],o,e)===-1);o++);}var r_=q(()=>{tt()});var ut,Ime,$L=q(()=>{tt();po();ut=zr(IS,li),Ime=zr(TS,li)});var ea,T4=q(()=>{tt();po();ea=zr("map",li)});var _r,Qx=q(()=>{tt();po();_r=zr(Jm,li)});var ew,jL=q(()=>{po();ew=qS("call")});function k4(e,t,n){return ut(e,t,n)!==-1}var R4=q(()=>{$L()});var o_,N4=q(()=>{tt();po();R4();o_=Mi("includes",li,k4)});var sh,L4=q(()=>{tt();po();sh=zr("reduce",li)});function kme(e){if(!e)return{};var t=typeof e;if(t!==dc&&t!==Vl)throw new TypeError("Prototype must be an Object or function: "+pe(e));function n(){}return n[Ui]=e,new n}var Tme,tw,HL=q(()=>{tt();Jl();Tme=dn.create,tw=Tme||kme});function qL(e,t){var n=dn.setPrototypeOf||function(r,o){!BL&&(BL=xs(function(){var i;return i={},i[Wx]=[],i instanceof Array})),BL.v?r[Wx]=o:de(o,function(i,s){return r[i]=s})};return n(e,t)}var BL,A4=q(()=>{Zl();tt();Gl()});function WL(e,t,n){var r=n||Error,o=r[Ui][RS],i=Error.captureStackTrace;return Rme(e,function(){var s=this;try{F4(r,e);var a=mc(r,s,_r(arguments))||s;if(a!==s){var c=Qm(s);c!==Qm(a)&&qL(a,c)}return i&&i(a,s[Yx]),t&&t(a,arguments),a}finally{F4(r,o)}},r)}var Rme,F4,O4,U4=q(()=>{Qx();n_();tt();HL();nh();eh();A4();Rme=function(e,t,n){O4(t,e),t=qL(t,n);function r(){this.constructor=t,O4(this,e)}return t[Ui]=n===qt?tw(n):(r[Ui]=n[Ui],new r),t},F4=function(e,t){try{t&&(e[RS]=t)}catch{}},O4=function(e,t){try{wt(e,RS,{v:t,c:!0,e:!1})}catch{}}});function rn(){return(Date.now||M4)()}function M4(){return new Date().getTime()}var YL=q(()=>{});function VL(e){return function(n){return te(n)&&Gt("strTrim called ["+pe(n)+"]"),n&&n.replace&&(n=n.replace(e,Km)),n}}var $4,j4,H4,B4=q(()=>{uo();Jl();Kl();tt();$4=VL(/^\s+|(?=\s)\s+$/g),j4=VL(/^\s+/g),H4=VL(/(?=\s)\s+$/g)});var pt,Nme,Lme,q4=q(()=>{tt();po();B4();pt=Mi("trim",Vr,$4),Nme=Mi("trimStart",Vr,j4),Lme=Mi("trimEnd",Vr,H4)});function Jn(e){if(!e||typeof e!==dc)return!1;KL||(KL=eu()?pn():!0);var t=!1;if(e!==KL){GL||(zL=Function[Ui].toString,GL=ew(zL,dn));try{var n=Qm(e);t=!n,t||(En(n,Yx)&&(n=n[Yx]),t=n&&typeof n===Vl&&zL.call(n)===GL)}catch{}}return t}var zL,GL,KL,JL=q(()=>{jL();Kx();tt();US();eh()});function Fme(e,t,n,r){var o;return ne(e,function(i){if(i.k===t)return o=i,-1}),o||(o={k:t,v:t},e.push(o),r(o)),o.v}function XL(e,t,n,r){var o=n.handler,i=n.path?r?n.path.concat(r):n.path:[],s={handler:n.handler,src:n.src,path:i},a=typeof t,c=!1,l=!1;t&&a===dc?c=Jn(t):l=t===qt||EL(a);var u={type:a,isPrim:l,isPlain:c,value:t,result:t,path:i,origin:n.src,copy:function(d,p){return XL(e,d,p?s:n,p)},copyTo:function(d,p){return Y4(e,d,p,s)}};return u.isPrim?o&&ew(o,n,u)?u.result:t:Fme(e,t,i,function(d){wt(u,"result",{g:function(){return d.v},s:function(m){d.v=m}});for(var p=0,f=o;!ew(f||(p<W4.length?W4[p++]:Ame),n,u);)f=qt})}function Y4(e,t,n,r){if(!te(n))for(var o in n)t[o]=XL(e,n[o],r,o);return t}function V4(e,t,n){var r={handler:n,src:t,path:[]};return Y4([],e,t,r)}function z4(e,t){var n={handler:t,src:e};return XL([],e,n)}function Ome(e){var t=e.value;if(ge(t)){var n=e.result=[];return n.length=t.length,e.copyTo(n,t),!0}return!1}function Ume(e){var t=e.value;return Zm(t)?(e.result=new Date(t.getTime()),!0):!1}function Mme(e){return e.type===Vl}function G4(e){var t=e.value;if(t&&e.isPlain){var n=e.result={};return e.copyTo(n,t),!0}return!1}var Ame,W4,K4=q(()=>{r_();jL();uo();tt();nh();JL();Ame=function(e){return e.value&&G4(e),!0},W4=[Ome,G4,Mme,Ume]});function $me(e,t){return ne(t,function(n){V4(e,n)}),e}function i_(e,t,n,r,o,i,s){return $me(z4(e)||{},_r(arguments))}var J4=q(()=>{r_();Qx();K4()});var ah,X4=q(()=>{tt();po();ah=l4(ms)});function hc(){return(!s_||!s_.b&&Ot&&Ot.lzy)&&(s_=ui("performance")),s_.v}function ch(){var e=hc();return e&&e.now?e.now():rn()}var s_,Z4=q(()=>{YL();Kx();Zl()});function jme(e,t,n){Fe(e)||Gt("'"+pe(e)+"' is not a string");var r=Fe(t)?t:Ln(t),o=r[ms],i=e[ms],s=!Oe(n)&&n<i?n:i;return fn(e,s-o,s)===r}var tu,Q4=q(()=>{uo();Jl();Kl();tt();po();th();WS();tu=Mi("endsWith",Vr,jme)});var ho,Hme,e6=q(()=>{tt();po();ho=zr(IS,Vr),Hme=zr(TS,Vr)});function n6(e,t,n){var r,o=!0,i=e?t(qt):qt,s,a=function(){return o=!1,i&&i[ZL]&&i[ZL](),s},c=function(){return o=!0,i&&i[a_]&&i[a_](),s},l=function(){return i&&i[QL]?i[QL]():o},u=function(){return i=t(i),o||a(),s},d=function(){i&&n(i),i=qt},p=function(f){!f&&i&&d(),f&&!i&&u()};return s=(r={cancel:d,refresh:u},r[QL]=l,r[a_]=c,r[ZL]=a,r[t6]=!1,r),An(s,t6,{get:function(){return!!i},set:p}),{h:s,dn:function(){i=qt}}}var a_,ZL,QL,t6,r6=q(()=>{tt();nh();a_="ref",ZL="un"+a_,QL="hasRef",t6="enabled"});function eA(e,t,n,r){var o=ge(n),i=o?n.length:0,s=(i>0?n[0]:o?Yr:n)||setTimeout,a=(i>1?n[1]:Yr)||clearTimeout,c=r[0];r[0]=function(){l.dn(),mc(c,e,_r(arguments))};var l=n6(t,function(u){if(u){if(u.refresh)return u.refresh(),u;mc(a,e,[u])}return mc(s,e,r)},function(u){mc(a,e,[u])});return l.h}function Lo(e,t){return eA(this,!0,Yr,_r(arguments))}function tA(e,t,n){return eA(this,!0,e,_r(arguments,1))}function nA(e,t){return eA(this,!1,Yr,_r(arguments))}var o6=q(()=>{Qx();n_();uo();tt();r6()});var Re=q(()=>{I4();r_();N4();$L();T4();L4();Qx();uo();U4();YL();Jl();PL();Kx();J4();Zl();X4();Z4();GS();Kl();HL();nh();Gl();OS();MS();US();JL();eh();Q4();e6();m4();WS();th();q4();e_();o6()});function Ao(e,t){typeof t!==zm&&t!==null&&Gt("Class extends value "+String(t)+" is not a constructor or null"),rA(e,t);function n(){this.constructor=e}e[ps]=t===null?tw(t):(n[ps]=t[ps],new n)}function c_(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var TUe,kUe,i6,qme,ji,rA,s6=q(()=>{Re();dL();TUe=(Gr()||{}).Symbol,kUe=(Gr()||{}).Reflect,i6="hasOwnProperty",qme=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)qx[i6].call(t,o)&&(e[o]=t[o])}return e},ji=mf||qme,rA=function(e,t){return rA=Gm.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r[i6](o)&&(n[o]=r[o])},rA(e,t)}});var a6=q(()=>{});var Fo=q(()=>{dL();s6();a6();Re()});function m6(e){return e&&(e===uA[nu]||e===Array[nu])}function dA(e){return m6(e)||e===Function[nu]}function xf(e){var t;if(e){if(rw)return rw(e);var n=e[p6]||e[nu]||(e[f_]?e[f_][nu]:null);t=e[u_]||n,En(e,u_)||(delete e[oA],t=e[u_]=e[oA]||e[u_],e[oA]=n)}return t}function h_(e,t){var n=[];if(u6)n=u6(e);else for(var r in e)typeof r=="string"&&En(e,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function fA(e,t,n){return t!==f_&&typeof e[t]===p_&&(n||En(e,t))}function g_(e){Gt("DynamicProto: "+e)}function Yme(e){var t={};return h_(e,function(n){!t[n]&&fA(e,n,!1)&&(t[n]=e[n])}),t}function pA(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Vme(e,t,n,r){function o(c,l,u){var d=l[u];if(d[sA]&&r){var p=c[m_]||{};p[nw]!==!1&&(d=(p[l[lh]]||{})[u]||d)}return function(){return d.apply(c,arguments)}}var i={};h_(n,function(c){i[c]=o(t,n,c)});for(var s=xf(e),a=[];s&&!dA(s)&&!pA(a,s);)h_(s,function(c){!i[c]&&fA(s,c,!rw)&&(i[c]=o(t,s,c))}),a.push(s),s=xf(s);return i}function zme(e,t,n,r){var o=null;if(e&&En(n,lh)){var i=e[m_]||{};if(o=(i[n[lh]]||{})[t],o||g_("Missing ["+t+"] "+p_),!o[aA]&&i[nw]!==!1){for(var s=!En(e,t),a=xf(e),c=[];s&&a&&!dA(a)&&!pA(c,a);){var l=a[t];if(l){s=l===r;break}c.push(a),a=xf(a)}try{s&&(e[t]=o),o[aA]=1}catch{i[nw]=!1}}}return o}function Gme(e,t,n){var r=t[e];return r===n&&(r=xf(t)[e]),typeof r!==p_&&g_("["+e+"] is not a "+p_),r}function Kme(e,t,n,r,o){function i(c,l){var u=function(){var d=zme(this,l,c,u)||Gme(l,c,u);return d.apply(this,arguments)};return u[sA]=1,u}if(!m6(e)){var s=n[m_]=n[m_]||{},a=s[t]=s[t]||{};s[nw]!==!1&&(s[nw]=!!o),h_(n,function(c){fA(n,c,!1)&&n[c]!==r[c]&&(a[c]=n[c],delete n[c],(!En(e,c)||e[c]&&!e[c][sA])&&(e[c]=i(e,c)))})}}function Jme(e,t){if(rw){for(var n=[],r=xf(t);r&&!dA(r)&&!pA(n,r);){if(r===e)return!0;n.push(r),r=xf(r)}return!1}return!0}function iA(e,t){return En(e,nu)?e.name||t||c6:((e||{})[f_]||{}).name||t||c6}function ot(e,t,n,r){En(e,nu)||g_("theClass is an invalid class definition.");var o=e[nu];Jme(o,t)||g_("["+iA(e)+"] not in hierarchy of ["+iA(t)+"]");var i=null;En(o,lh)?i=o[lh]:(i=Wme+iA(e,"_")+"$"+lA.n,lA.n++,o[lh]=i);var s=ot[f6],a=!!s[d_];a&&r&&r[d_]!==void 0&&(a=!!r[d_]);var c=Yme(t),l=Vme(o,t,c,a);n(t,l);var u=!!rw&&!!s[cA];u&&r&&(u=!!r[cA]),Kme(o,i,t,c,u!==!1)}var l_,f_,nu,p_,m_,sA,lh,Wme,aA,nw,f6,c6,p6,u_,l6,oA,d_,cA,uA,rw,u6,d6,lA,Dr=q(()=>{Re();f_="constructor",nu="prototype",p_="function",m_="_dynInstFuncs",sA="_isDynProxy",lh="_dynClass",Wme="_dynCls$",aA="_dynInstChk",nw=aA,f6="_dfOpts",c6="_unknown_",p6="__proto__",u_="_dyn"+p6,l6="__dynProto$Gbl",oA="_dynInstProto",d_="useBaseInst",cA="setInstFuncs",uA=Object,rw=uA.getPrototypeOf,u6=uA.getOwnPropertyNames,d6=Gr(),lA=d6[l6]||(d6[l6]={o:(l_={},l_[cA]=!0,l_[d_]=!0,l_),n:1e3});ot[f6]=lA.o});var mA,h6=q(()=>{"use strict";mA=100});var fr,hA,v_=q(()=>{Re();fr=SL,hA=DL});var ws,g6=q(()=>{v_();ws=fr({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});var ta,ru,Te,wf,yf,uh,gc,ys,Hi,It,ou,nt,na,x_,Ef,Cf,ra,Oo,iu,gA,Kr,su,Xn,w_,dh,fh,ph,au,vA,Uo,ow,bf,y_,oa,di,mh,cu,Es,Mo,hh,Sf,fi,lu,iw,ia,E_,vc,xA,$o,sw,aw,_f,Cs,C_,gh,vh,uu,Mt=q(()=>{ta="toLowerCase",ru="blkVal",Te="length",wf="rdOnly",yf="notify",uh="warnToConsole",gc="throwInternal",ys="setDf",Hi="watch",It="logger",ou="apply",nt="push",na="splice",x_="hdlr",Ef="cancel",Cf="initialize",ra="identifier",Oo="isInitialized",iu="getPlugin",gA="pollInternalLogs",Kr="name",su="time",Xn="processNext",w_="getProcessTelContext",dh="getNotifyMgr",fh="addNotificationListener",ph="removeNotificationListener",au="enabled",vA="stopPollingInternalLogs",Uo="unload",ow="onComplete",bf="version",y_="loggingLevelConsole",oa="createNew",di="teardown",mh="messageId",cu="message",Es="isAsync",Mo="diagLog",hh="_doTeardown",Sf="update",fi="getNext",lu="setNextPlugin",iw="userAgent",ia="split",E_="nodeType",vc="replace",xA="logInternalMessage",$o="type",sw="handler",aw="isChildEvt",_f="getCtx",Cs="setCtx",C_="complete",gh="traceId",vh="spanId",uu="traceFlags"});function v6(e,t){wA||(wA=WL("AggregationError",function(r,o){o[Te]>1&&(r.errors=o[1])}));var n=e||"One or more errors occurred.";throw ne(t,function(r,o){n+=`
`.concat(o," > ").concat(pe(r))}),new wA(n,t||[])}var wA,x6=q(()=>{Re();Mt()});function du(e,t){return b_(e,function(n){t&&t({value:n,rejected:!1})},function(n){t&&t({rejected:!0,reason:n})})}function b_(e,t,n,r){var o=e;return zl(e)?(t||n)&&(o=e.then(t,n)):t&&t(e),r&&(o=w6(o,r)),o}function w6(e,t){var n=e;return t&&(zl(e)?e.finally?n=e.finally(t):n=e.then(function(r){return t(),r},function(r){throw t(),r}):t()),n}var yA=q(()=>{Re()});function y6(e,t,n,r){EA=EA||{toString:function(){return"[[PromiseState]]"}},CA=CA||{toString:function(){return"[[PromiseResult]]"}},bA=bA||{toString:function(){return"[[PromiseIsHandled]]"}},An(e,EA,{get:t}),An(e,CA,{get:n}),An(e,bA,{get:r})}var EA,CA,bA,SA,E6=q(()=>{Re();SA=!1});var S_,_A=q(()=>{S_=["pending","resolving","resolved","rejected"]});function b6(e,t,n,r){var o=nn();!__&&(__=pc(function(){var c;return o&&o.createEvent&&(c=o.createEvent("Event")),!!c&&c.initEvent},null));var i=__.v?o.createEvent("Event"):r?new Event(t):{};if(n&&n(i),__.v&&i.initEvent(t,!1,!0),i&&e[C6])e[C6](i);else{var s=e["on"+t];if(s)s(i);else{var a=Ut("console");a&&(a.error||a.log)(t,pe(i))}}}var C6,__,S6=q(()=>{Re();C6="dispatchEvent"});var xh,DA=q(()=>{xh="Promise"});function _6(e){return Ae(e)?e.toString():pe(e)}function P6(e,t,n){var r=_r(arguments,3),o=0,i=!1,s,a=[],c=Zme++,l=cw.length>0?cw[cw.length-1]:void 0,u=!1,d=null,p;!PA&&(PA=ui(xh+"RejectionEvent"));var f=function(E,P){try{cw.push(c),u=!0,d&&d.cancel(),d=null;var D=e(function(R,N){a.push(function(){try{var k=o===2?E:P,C=Oe(k)?s:Ae(k)?k(s):k;zl(C)?C.then(R,N):k?R(C):o===3?N(C):R(C)}catch(S){N(S)}}),i&&g()},r);return D}finally{cw.pop()}},m=function(E){return f(void 0,E)},h=function(E){var P=E,D=E;return Ae(E)&&(P=function(R){return E&&E(),R},D=function(R){throw E&&E(),R}),f(P,D)},v=function(){return S_[o]},g=function(){if(a.length>0){var E=a.slice();a=[],u=!0,t(E),d&&d.cancel(),d=null}},w=function(E,P){return function(D){if(o===P){if(E===2&&zl(D)){o=1,D.then(w(2,1),w(3,1));return}o=E,i=!0,s=D,g(),!u&&E===3&&!d&&(d=Lo(x,Qme))}}},x=function(){if(!u)if(OL())process.emit(D6,s,p);else{var E=pn()||Gr();b6(E,Xme,function(P){return wt(P,"promise",{g:function(){return p}}),P.reason=s,P},!!PA.v)}};p={then:f,catch:m,finally:h},An(p,"state",{get:v}),SA&&y6(p,v,function(){return ff(s)},function(){return u}),UL()&&(p[gf(11)]="IPromise");var y=function(){return"IPromise"+(SA?"["+c+(Oe(l)?"":":"+l)+"]":"")+" "+v()+(i?" - "+_6(s):"")};return p.toString=y,function(){Ae(n)||Gt(xh+": executor is not a function - "+_6(n));var P=w(3,0);try{n.call(p,w(2,0),P)}catch(D){P(D)}}(),p}function wh(e){return function(t){var n=_r(arguments,1);return e(function(r,o){try{var i=[],s=1;ne(t,function(a,c){a&&(s++,b_(a,function(l){i[c]=l,--s===0&&r(i)},o))}),s--,s===0&&r(i)}catch(a){o(a)}},n)}}function yh(e){return function(t){var n=_r(arguments,1);return zl(t)?t:e(function(r){r(t)},n)}}function Eh(e){return function(t){var n=_r(arguments,1);return e(function(r,o){o(t)},n)}}var D6,Xme,cw,Zme,Qme,PA,D_=q(()=>{Re();yA();E6();_A();S6();DA();D6="unhandledRejection",Xme=D6.toLowerCase(),cw=[],Zme=0,Qme=10});function I6(e){var t=dr(e)?e:0;return function(n){Lo(function(){ehe(n)},t)}}var ehe,T6=q(()=>{Re();ehe=function(e){ne(e,function(t){try{t()}catch{}})}});function Ch(e,t){return P6(Ch,I6(t),e,t)}var IMe,TMe,kMe,k6=q(()=>{D_();T6();IMe=wh(Ch),TMe=yh(Ch),kMe=Eh(Ch)});function lw(e,t){!IA&&(IA=ui(xh));var n=IA.v;if(!n)return Ch(e);Ae(e)||Gt(xh+": executor is not a function - "+pe(e));var r=0;function o(){return S_[r]}var i=new n(function(s,a){function c(u){r=2,s(u)}function l(u){r=3,a(u)}e(c,l)});return An(i,"state",{get:o}),i}var IA,UMe,MMe,$Me,R6=q(()=>{k6();D_();_A();Re();DA();UMe=wh(lw),MMe=yh(lw),$Me=Eh(lw)});function go(e,t){return!TA&&(TA=xs(function(){return lw})),TA.v.call(this,e,t)}var TA,kA,the,nhe,N6=q(()=>{Re();D_();R6();kA=wh(go),the=yh(go),nhe=Eh(go)});var bh=q(()=>{yA();N6()});var pi,Ue,fu,on,P_,uw,xc,Df,jo,Pf,Sh,pu,_h,sa,Dh,I_,T_,L6,On=q(()=>{pi=void 0,Ue="",fu="channels",on="core",P_="createPerfMgr",uw="disabled",xc="extensionConfig",Df="extensions",jo="processTelemetry",Pf="priority",Sh="eventsSent",pu="eventsDiscarded",_h="eventsSendRequest",sa="perfEvent",Dh="getPerfMgr",I_="domain",T_="path",L6="Not dynamic - "});function aa(e){return!te(e)}function If(e){var t=e;return t&&Fe(t)&&(t=t[vc](ohe,function(n,r){return r.toUpperCase()}),t=t[vc](ihe,"_"),t=t[vc](she,function(n,r){return"_"+r})),t}function Cn(e,t){return e&&t?ho(e,t)!==-1:!1}function mi(e){return e&&e.toISOString()||""}function $t(e){return Zs(e)?e[Kr]:Ue}function Bi(e,t,n,r,o){var i=n;return e&&(i=e[t],i!==n&&(!o||o(i))&&(!r||r(n))&&(i=n,e[t]=i)),i}function dw(e,t,n){var r;return e?(r=e[t],!r&&te(r)&&(r=Oe(n)?{}:n,e[t]=r)):r=Oe(n)?{}:n,r}function A6(e,t){var n=null,r=null;return Ae(e)?n=e:r=e,function(){var o=arguments;if(n&&(r=n()),r)return r[t][ou](r,o)}}function RA(e,t,n){if(e&&t&&kt(e)&&kt(t)){var r=function(i){if(Fe(i)){var s=t[i];Ae(s)?(!n||n(i,!0,t,e))&&(e[i]=A6(t,i)):(!n||n(i,!1,t,e))&&(No(e,i)&&delete e[i],wt(e,i,{g:function(){return t[i]},s:function(a){t[i]=a}}))}};for(var o in t)r(o)}return e}function wc(e,t,n,r,o){e&&t&&n&&(o!==!1||Oe(e[t]))&&(e[t]=A6(n,r))}function hi(e,t,n,r){return e&&t&&kt(e)&&ge(n)&&ne(n,function(o){Fe(o)&&wc(e,o,t,o,r)}),e}function NA(e){return function(){function t(){var n=this;e&&de(e,function(r,o){n[r]=o})}return t}()}function qi(e){return e&&mf&&(e=Gm(mf({},e))),e}function k_(e,t,n,r,o,i){var s=arguments,a=s[0]||{},c=s[Te],l=!1,u=1;for(c>0&&hs(a)&&(l=a,a=s[u]||{},u++),kt(a)||(a={});u<c;u++){var d=s[u],p=ge(d),f=kt(d);for(var m in d){var h=p&&m in d||f&&No(d,m);if(h){var v=d[m],g=void 0;if(l&&v&&((g=ge(v))||Jn(v))){var w=a[m];g?ge(w)||(w=[]):Jn(w)||(w={}),v=k_(l,w,v)}v!==void 0&&(a[m]=v)}}}return a}var rhe,ohe,ihe,she,e$e,yc=q(()=>{Fo();Re();Mt();On();rhe="getPrototypeOf",ohe=/-([a-z])/g,ihe=/([^\w\d_$])/g,she=/^(\d+[\w\d_$])/,e$e=Object[rhe]});function M6(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[ps];r&&(n=t in r)}}catch{}if(!n)try{var o=new e;n=!Oe(o[t])}catch{}}return n}function MA(e){U6=e}function Tf(e){if(e&&U6){var t=Ut("__mockLocation");if(t)return t}return typeof location===uc&&location?location:Ut(che)}function fw(){return typeof console!==Xs?console:Ut(lhe)}function ca(){return!!(typeof JSON===uc&&JSON||Ut(F6)!==null)}function Pr(){return ca()?JSON||Ut(F6):null}function pw(){return Ut(uhe)}function mw(){return Ut(dhe)}function mu(){var e=Fn();return e&&e.product?e.product===fhe:!1}function hu(){var e=Fn();if(e&&(e[iw]!==AA||LA===null)){AA=e[iw];var t=(AA||Ue)[ta]();LA=Cn(t,OA)||Cn(t,UA)}return LA}function hw(e){if(e===void 0&&(e=null),!e){var t=Fn()||{};e=t?(t.userAgent||Ue)[ta]():Ue}var n=(e||Ue)[ta]();if(Cn(n,OA)){var r=nn()||{};return Math.max(parseInt(n[ia](OA)[1]),r[ahe]||0)}else if(Cn(n,UA)){var o=parseInt(n[ia](UA)[1]);if(o)return o+4}return null}function gi(e){return(FA===null||e===!1)&&(FA=ih()&&!!Fn().sendBeacon),FA}function Ec(e){var t=!1;try{t=!!Ut("fetch");var n=Ut("Request");t&&e&&n&&(t=M6(n,"keepalive"))}catch{}return t}function kf(){return Ph===null&&(Ph=typeof XDomainRequest!==Xs,Ph&&gu()&&(Ph=Ph&&!M6(Ut(O6),"withCredentials"))),Ph}function gu(){var e=!1;try{var t=Ut(O6);e=!!t}catch{}return e}function $6(e,t){if(e)for(var n=0;n<e[Te];n++){var r=e[n];if(r[Kr]&&r[Kr]===t)return r}return{}}function $A(e){var t=nn();return t&&e?$6(t.querySelectorAll("meta"),e).content:null}function jA(e){var t,n=hc();if(n){var r=n.getEntriesByType("navigation")||[];t=$6((r[Te]>0?r[0]:{}).serverTiming,e).description}return t}var ahe,che,lhe,F6,uhe,dhe,fhe,OA,UA,O6,LA,AA,U6,Ph,FA,Ih=q(()=>{"use strict";Fo();Re();Mt();yc();On();ahe="documentMode",che="location",lhe="console",F6="JSON",uhe="crypto",dhe="msCrypto",fhe="ReactNative",OA="msie",UA="trident/",O6="XMLHttpRequest",LA=null,AA=null,U6=!1,Ph=null,FA=null});function phe(e){e<0&&(e>>>=0),gw=H6+e&vu,vw=B6-e&vu,q6=!0}function mhe(){try{var e=rn()&2147483647;phe((Math.random()*j6^e)+e)}catch{}}function xw(e){return e>0?Math.floor(Cc()/vu*(e+1))>>>0:0}function Cc(e){var t=0,n=pw()||mw();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&vu),t===0&&hu()&&(q6||mhe(),t=W6()&vu),t===0&&(t=Math.floor(j6*Math.random()|0)),e||(t>>>=0),t}function W6(e){vw=36969*(vw&65535)+(vw>>16)&vu,gw=18e3*(gw&65535)+(gw>>16)&vu;var t=(vw<<16)+(gw&65535)>>>0&vu|0;return e||(t>>>=0),t}function ww(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Cc()>>>0,r=0,o=Ue;o[Te]<e;)r++,o+=t.charAt(n&63),n>>>=6,r===5&&(n=(Cc()<<2&4294967295|n&3)>>>0,r=0);return o}var j6,vu,H6,B6,q6,gw,vw,R_=q(()=>{Re();Mt();Ih();On();j6=4294967296,vu=4294967295,H6=123456789,B6=987654321,q6=!1,gw=H6,vw=B6});function V6(e){return e[E_]===1||e[E_]===9||!+e[E_]}function vhe(e,t){var n=t[e.id];if(!n){n={};try{V6(t)&&wt(t,e.id,{e:!1,v:n})}catch{}}return n}function Ir(e,t){return t===void 0&&(t=!1),If(e+ghe+++(t?"."+Y6:Ue)+hhe)}function N_(e){var t={id:Ir("_aiData-"+(e||Ue)+"."+Y6),accept:function(n){return V6(n)},get:function(n,r,o,i){var s=n[t.id];return s?s[If(r)]:(i&&(s=vhe(t,n),s[If(r)]=o),o)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}var Y6,hhe,ghe,Th=q(()=>{Re();Mt();yc();On();R_();Y6="3.0.5",hhe="."+ww(6),ghe=0});function L_(e){return e&&kt(e)&&(e.isVal||e.fb||No(e,"v")||No(e,"mrg")||No(e,"ref")||e.set)}function z6(e,t,n){var r,o=n.dfVal||AS;if(t&&n.fb){var i=n.fb;ge(i)||(i=[i]);for(var s=0;s<i[Te];s++){var a=i[s],c=t[a];if(o(c)?r=c:e&&(c=e.cfg[a],o(c)&&(r=c),e.set(e.cfg,Ln(a),c)),o(r))break}}return!o(r)&&o(n.v)&&(r=n.v),r}function HA(e,t,n){var r=n;if(n&&L_(n)&&(r=z6(e,t,n)),r){L_(r)&&(r=HA(e,t,r));var o;ge(r)?(o=[],o[Te]=r[Te]):Jn(r)&&(o={}),o&&(de(r,function(i,s){s&&L_(s)&&(s=HA(e,t,s)),o[i]=s}),r=o)}return r}function yw(e,t,n,r){var o,i,s,a=r,c,l,u,d;L_(a)?(o=a.isVal,i=a.set,u=a[wf],d=a[ru],c=a.mrg,l=a.ref,!l&&Oe(l)&&(l=!!c),s=z6(e,t,a)):s=r,d&&e[ru](t,n);var p,f=!0,m=t[n];(m||!te(m))&&(p=m,f=!1,o&&p!==s&&!o(p)&&(p=s,f=!0),i&&(p=i(p,s,t),f=p===s)),f?s?p=HA(e,t,s):p=s:(Jn(p)||ge(s))&&c&&s&&(Jn(s)||ge(s))&&de(s,function(h,v){yw(e,p,h,v)}),e.set(t,n,p),l&&e.ref(t,n),u&&e[wf](t,n)}var BA=q(()=>{Re();Mt()});function qA(e){if(e){var t;if(ge(e)?(t=[],t[Te]=e[Te]):Jn(e)&&(t={}),t)return de(e,function(n,r){t[n]=qA(r)}),t}return e}function Ew(e){if(e){var t=e[la]||e;if(t.cfg&&(t.cfg===e||t.cfg[la]===t))return t}return null}function Cw(e){if(e&&(Jn(e)||ge(e)))try{e[G6]=!0}catch{}return e}function WA(e){if(e)try{e[K6]=!0}catch{}return e}function A_(e,t,n){var r=!1;return n&&!e[t.blkVal]&&(r=n[K6],!r&&!n[G6]&&(r=Jn(n)||ge(n))),r}function F_(e){Gt("InvalidAccess:"+e)}var la,G6,K6,O_=q(()=>{Re();Mt();la=Xx("[[ai_dynCfg_1]]"),G6=Xx("[[ai_blkDynCfg_1]]"),K6=Xx("[[ai_frcDynCfg_1]]")});function whe(e,t,n){ge(t)&&ne(xhe,function(r){var o=t[r];t[r]=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=o[ou](this,i);return bw(e,t,n,"Patching"),a}})}function U_(e,t){var n=pf(e,t);return n&&n.get}function yhe(e,t,n,r){var o={n,h:[],trk:function(l){l&&l.fn&&(ut(o.h,l)===-1&&o.h[nt](l),e.trk(l,o))},clr:function(l){var u=ut(o.h,l);u!==-1&&o.h[na](u,1)}},i=!0,s=!1;function a(){i&&(s=s||A_(a,e,r),r&&!r[la]&&s&&(r=bw(e,r,n,"Converting")),i=!1);var l=e.act;return l&&o.trk(l),r}a[e.prop]={chng:function(){e.add(o)}};function c(l){if(r!==l){a[e.ro]&&!e.upd&&F_("["+n+"] is read-only:"+pe(t)),i&&(s=s||A_(a,e,r),i=!1);var u=s&&a[e.rf];if(s)if(u){de(r,function(p){r[p]=l?l[p]:pi});try{de(l,function(p,f){Sw(e,r,p,f)}),l=r}catch(p){kh((e.hdlr||{})[It],n,"Assigning",p),s=!1}}else r&&r[la]&&de(r,function(p){var f=U_(r,p);if(f){var m=f[e.prop];m&&m.chng()}});if(l!==r){var d=l&&A_(a,e,l);!u&&d&&(l=bw(e,l,n,"Converting")),r=l,s=d}e.add(o)}}wt(t,o.n,{g:a,s:c})}function Sw(e,t,n,r){if(t){var o=U_(t,n),i=o&&!!o[e.prop];i?t[n]=r:yhe(e,t,n,r)}return t}function M_(e,t,n,r){if(t){var o=U_(t,n),i=o&&!!o[e.prop],s=r&&r[0],a=r&&r[1],c=r&&r[2];if(!i){if(c)try{Cw(t)}catch(l){kh((e.hdlr||{})[It],n,"Blocking",l)}try{Sw(e,t,n,t[n]),o=U_(t,n)}catch(l){kh((e.hdlr||{})[It],n,"State",l)}}s&&(o[e.rf]=s),a&&(o[e.ro]=a),c&&(o[e.blkVal]=!0)}return t}function bw(e,t,n,r){try{de(t,function(o,i){Sw(e,t,o,i)}),t[la]||(An(t,la,{get:function(){return e[x_]}}),whe(e,t,n))}catch(o){kh((e.hdlr||{})[It],n,r,o)}return t}var xhe,kh,J6=q(()=>{Re();On();Mt();O_();xhe=["push","pop","shift","unshift","splice"],kh=function(e,t,n,r){e&&e[gc](3,108,"".concat(n," [").concat(t,"] failed - ")+pe(r))}});function X6(e){var t,n=vf(_w+"get"+e.uid+Dw),r=vf(_w+"ro"+e.uid+Dw),o=vf(_w+"rf"+e.uid+Dw),i=vf(_w+"blkVal"+e.uid+Dw),s=vf(_w+"dtl"+e.uid+Dw),a=null,c=null,l;function u(m,h){var v=l.act;try{l.act=m,m&&m[s]&&(ne(m[s],function(w){w.clr(m)}),m[s]=[]),h({cfg:e.cfg,set:e.set.bind(e),setDf:e[ys].bind(e),ref:e.ref.bind(e),rdOnly:e[wf].bind(e)})}catch(w){var g=e[It];throw g&&g[gc](1,107,pe(w)),w}finally{l.act=v||null}}function d(){if(a){var m=a;a=null,c&&c[Ef](),c=null;var h=[];if(ne(m,function(v){if(v&&(v[s]&&(ne(v[s],function(g){g.clr(v)}),v[s]=null),v.fn))try{u(v,v.fn)}catch(g){h[nt](g)}}),a)try{d()}catch(v){h[nt](v)}h[Te]>0&&v6("Watcher error(s): ",h)}}function p(m){if(m&&m.h[Te]>0){a||(a=[]),c||(c=Lo(function(){c=null,d()},0));for(var h=0;h<m.h[Te];h++){var v=m.h[h];v&&ut(a,v)===-1&&a[nt](v)}}}function f(m,h){if(m){var v=m[s]=m[s]||[];ut(v,h)===-1&&v[nt](h)}}return l=(t={prop:n,ro:r,rf:o},t[ru]=i,t[x_]=e,t.add=p,t[yf]=d,t.use=u,t.trk=f,t),l}var _w,Dw,Z6=q(()=>{Re();x6();Mt();_w="[[ai_",Dw="]]"});function Ehe(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return e.use(n,t),n}function Che(e,t,n){var r,o=Ew(t);if(o)return o;var i=Ir("dyncfg",!0),s=t&&n!==!1?t:qA(t),a;function c(){a[yf]()}function l(g,w,x){try{g=Sw(a,g,w,x)}catch(y){kh(e,w,"Setting value",y)}return g[w]}function u(g){return Ehe(a,g)}function d(g,w){a.use(null,function(x){var y=a.upd;try{Oe(w)||(a.upd=w),g(x)}finally{a.upd=y}})}function p(g,w){var x;return M_(a,g,w,(x={},x[0]=!0,x))[w]}function f(g,w){var x;return M_(a,g,w,(x={},x[1]=!0,x))[w]}function m(g,w){var x;return M_(a,g,w,(x={},x[2]=!0,x))[w]}function h(g,w){return w&&de(w,function(x,y){yw(v,g,x,y)}),g}var v=(r={uid:null,cfg:s},r[It]=e,r[yf]=c,r.set=l,r[ys]=h,r[Hi]=u,r.ref=p,r[wf]=f,r[ru]=m,r._block=d,r);return wt(v,"uid",{c:!1,e:!1,w:!1,v:i}),a=X6(v),bw(a,s,"config","Creating"),v}function bhe(e,t){e?(e[uh](t),e[gc](2,108,t)):F_(t)}function Kt(e,t,n,r){var o=Che(n,e||{},r);return t&&o[ys](o.cfg,t),o}function Un(e,t,n){var r=e[la]||e;return r.cfg&&(r.cfg===e||r.cfg[la]===r)?r[Hi](t):(bhe(n,L6+pe(e)),Kt(e,null,n)[Hi](t))}var xu=q(()=>{Re();Th();On();Mt();BA();J6();Z6();O_()});function bc(e,t){if(e&&e[Uo])return e[Uo](t)}function $_(e,t,n){var r;return n||(r=go(function(o){n=o})),e&&ah(e)>0?du(bc(e[0],t),function(){$_(_r(e,1),t,n)}):n(),r}var YA=q(()=>{bh();Re();Mt()});var Q6,e8=q(()=>{Q6=500});function She(e,t,n){return!e&&te(e)?t:hs(e)?e:Ln(e)[ta]()==="true"}function VA(e){return{mrg:!0,v:e}}function Rh(e,t,n){return{fb:n,isVal:e,v:t}}function bs(e,t){return{fb:t,set:She,v:!!e}}var zA=q(()=>{Re();Mt()});function _he(e,t){return function(){var n=arguments,r=KA(t);if(r){var o=r.listener;o&&o[e]&&o[e][ou](o,n)}}}function Dhe(){var e=Ut("Microsoft");return e&&(H_=e.ApplicationInsights),H_}function KA(e){var t=H_;return!t&&e.disableDbgExt!==!0&&(t=H_||Dhe()),t?t.ChromeDbgExt:null}function t8(e){if(!j_){j_={};for(var t=0;t<GA[Te];t++)j_[GA[t]]=_he(GA[t],e)}return j_}var GA,H_,j_,JA=q(()=>{Re();Mt();On();GA=[Sh,pu,_h,sa],H_=null});function n8(e){return e?'"'+e[vc](/\"/g,Ue)+'"':Ue}function XA(e,t){var n=fw();if(n){var r="log";n[e]&&(r=e),Ae(n[r])&&n[r](t)}}function Ss(e,t){return(e||{})[It]||new wu(t)}function ZA(e){return e||new wu}function ue(e,t,n,r,o,i){i===void 0&&(i=!1),ZA(e)[gc](t,n,r,o,i)}function vi(e,t){ZA(e)[uh](t)}function QA(e,t,n){ZA(e)[xA](t,n)}var Nh,r8,Phe,Ihe,The,khe,Rhe,Rf,wu,Sc=q(()=>{"use strict";Dr();Re();xu();Mt();JA();Ih();On();r8="warnToConsole",Phe="AI (Internal): ",Ihe="AI: ",The="AITR_",khe={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Rhe=(Nh={},Nh[0]=null,Nh[1]="errorToConsole",Nh[2]=r8,Nh[3]="debugToConsole",Nh);Rf=function(){function e(t,n,r,o){r===void 0&&(r=!1);var i=this;i[mh]=t,i[cu]=(r?Ihe:Phe)+t;var s=Ue;ca()&&(s=Pr().stringify(o));var a=(n?" message:"+n8(n):Ue)+(o?" props:"+n8(s):Ue);i[cu]+=a}return e.dataType="MessageData",e}();wu=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},o,i,s,a,c;ot(e,this,function(l){c=d(t||{}),l.consoleLoggingLevel=function(){return o},l[gc]=function(m,h,v,g,w){w===void 0&&(w=!1);var x=new Rf(h,v,w,g);if(a)throw pe(x);var y=Rhe[m]||r8;if(Oe(x[cu]))f("throw"+(m===1?"Critical":"Warning"),x);else{if(w){var E=+x[mh];!r[E]&&o>=m&&(l[y](x[cu]),r[E]=!0)}else o>=m&&l[y](x[cu]);u(m,x)}},l.debugToConsole=function(m){XA("debug",m),f("warning",m)},l[uh]=function(m){XA("warn",m),f("warning",m)},l.errorToConsole=function(m){XA("error",m),f("error",m)},l.resetInternalMessageCount=function(){n=0,r={}},l[xA]=u,l[Uo]=function(m){c&&c.rm(),c=null};function u(m,h){if(!p()){var v=!0,g=The+h[mh];if(r[g]?v=!1:r[g]=!0,v&&(m<=i&&(l.queue[nt](h),n++,f(m===1?"error":"warn",h)),n===s)){var w="Internal events throttle limit per PageView reached for this app.",x=new Rf(23,w,!1);l.queue[nt](x),m===1?l.errorToConsole(w):l[uh](w)}}}function d(m){return Un(Kt(m,khe,l).cfg,function(h){var v=h.cfg;o=v[y_],i=v.loggingLevelTelemetry,s=v.maxMessageLimit,a=v.enableDebug})}function p(){return n>=s}function f(m,h){var v=KA(t||{});v&&v[Mo]&&v[Mo](m,h)}})}return e.__ieDyn=1,e}()});function iF(){!ua&&(ua=xs(function(){return nn()}))}function Lhe(e,t){var n=_c[yu]||W_[yu];return n||(n=_c[yu]=_c(e,t),W_[yu]=n),n}function q_(e){return e?e.isEnabled():!0}function p8(e,t){return t&&e&&ge(e.ignoreCookies)?ut(e.ignoreCookies,t)!==-1:!1}function Ahe(e,t){return t&&e&&ge(e.blockedCookies)&&ut(e.blockedCookies,t)!==-1?!0:p8(e,t)}function l8(e,t){var n=t[au];if(te(n)){var r=void 0;Oe(e[s8])||(r=!e[s8]),Oe(e[rF])||(r=!e[rF]),n=r}return n}function sF(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r&&r[yu]?n=r[yu]:n=_c(t)}return n||(n=Lhe(t,(e||{})[It])),n}function _c(e,t){var n,r,o,i,s,a,c,l,u;e=Kt(e||W_,null,t).cfg,s=Un(e,function(p){p[ys](p.cfg,Nhe),r=p.ref(p.cfg,"cookieCfg"),o=r[T_]||"/",i=r[I_],a=l8(e,r)!==!1,c=r.getCookie||Fhe,l=r.setCookie||f8,u=r.delCookie||f8},t);var d=(n={isEnabled:function(){var p=l8(e,r)!==!1&&a&&Lh(t),f=W_[yu];return p&&f&&d!==f&&(p=q_(f)),p},setEnabled:function(p){a=p!==!1,r[au]=p},set:function(p,f,m,h,v){var g=!1;if(q_(d)&&!Ahe(r,p)){var w={},x=pt(f||Ue),y=ho(x,";");if(y!==-1&&(x=pt(Xl(f,y)),w=m8(fn(f,y+1))),Bi(w,I_,h||i,gs,Oe),!te(m)){var E=hu();if(Oe(w[tF])){var P=rn(),D=P+m*1e3;if(D>0){var R=new Date;R.setTime(D),Bi(w,tF,u8(R,E?o8:i8)||u8(R,E?o8:i8)||Ue,gs)}}E||Bi(w,"max-age",Ue+m,null,Oe)}var N=Tf();N&&N.protocol==="https:"&&(Bi(w,"secure",null,null,Oe),nF===null&&(nF=!Y_((Fn()||{})[iw])),nF&&Bi(w,"SameSite","None",null,Oe)),Bi(w,T_,v||o,null,Oe),l(p,d8(x,w)),g=!0}return g},get:function(p){var f=Ue;return q_(d)&&!p8(r,p)&&(f=c(p)),f},del:function(p,f){var m=!1;return q_(d)&&(m=d.purge(p,f)),m},purge:function(p,f){var m,h=!1;if(Lh(t)){var v=(m={},m[T_]=f||"/",m[tF]="Thu, 01 Jan 1970 00:00:01 GMT",m);hu()||(v["max-age"]="0"),u(p,d8(Ue,v)),h=!0}return h}},n[Uo]=function(p){s&&s.rm(),s=null},n);return d[yu]=d,d}function Lh(e){if(B_===null){B_=!1,!ua&&iF();try{var t=ua.v||{};B_=t[oF]!==void 0}catch(n){ue(e,2,68,"Cannot access document.cookie - "+$t(n),{exception:pe(n)})}}return B_}function m8(e){var t={};if(e&&e[Te]){var n=pt(e)[ia](";");ne(n,function(r){if(r=pt(r||Ue),r){var o=ho(r,"=");o===-1?t[r]=null:t[pt(Xl(r,o))]=pt(fn(r,o+1))}})}return t}function u8(e,t){return Ae(e[t])?e[t]():null}function d8(e,t){var n=e||Ue;return de(t,function(r,o){n+="; "+r+(te(o)?Ue:"="+o)}),n}function Fhe(e){var t=Ue;if(!ua&&iF(),ua.v){var n=ua.v[oF]||Ue;a8!==n&&(c8=m8(n),a8=n),t=pt(c8[e]||Ue)}return t}function f8(e,t){!ua&&iF(),ua.v&&(ua.v[oF]=e+"="+t)}function Y_(e){return Fe(e)?!!(Cn(e,"CPU iPhone OS 12")||Cn(e,"iPad; CPU OS 12")||Cn(e,"Macintosh; Intel Mac OS X 10_14")&&Cn(e,"Version/")&&Cn(e,"Safari")||Cn(e,"Macintosh; Intel Mac OS X 10_14")&&tu(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Cn(e,"Chrome/5")||Cn(e,"Chrome/6")||Cn(e,"UnrealEngine")&&!Cn(e,"Chrome")||Cn(e,"UCBrowser/12")||Cn(e,"UCBrowser/11")):!1}var eF,Nf,o8,i8,oF,tF,s8,rF,yu,B_,nF,a8,ua,c8,W_,Nhe,aF=q(()=>{Re();zA();xu();Mt();Sc();Ih();yc();On();o8="toGMTString",i8="toUTCString",oF="cookie",tF="expires",s8="isCookieUseDisabled",rF="disableCookiesUsage",yu="_ckMgr",B_=null,nF=null,a8=null,c8={},W_={},Nhe=(eF={cookieCfg:VA((Nf={},Nf[I_]={fb:"cookieDomain",dfVal:aa},Nf.path={fb:"cookiePath",dfVal:aa},Nf.enabled=pi,Nf.ignoreCookies=pi,Nf.blockedCookies=pi,Nf)),cookieDomain:pi,cookiePath:pi},eF[rF]=pi,eF)});function Pw(e,t,n,r){ne(e,function(o){if(o&&o[t])if(n)Lo(function(){return r(o)},0);else try{r(o)}catch{}})}var Ohe,Iw,cF=q(()=>{Dr();bh();Re();xu();Mt();On();Ohe={perfEvtsSendAll:!1};Iw=function(){function e(t){this.listeners=[];var n,r,o=[],i=Kt(t,Ohe);r=i[Hi](function(s){n=!!s.cfg.perfEvtsSendAll}),ot(e,this,function(s){wt(s,"listeners",{g:function(){return o}}),s[fh]=function(a){o[nt](a)},s[ph]=function(a){for(var c=ut(o,a);c>-1;)o[na](c,1),c=ut(o,a)},s[Sh]=function(a){Pw(o,Sh,!0,function(c){c[Sh](a)})},s[pu]=function(a,c){Pw(o,pu,!0,function(l){l[pu](a,c)})},s[_h]=function(a,c){Pw(o,_h,c,function(l){l[_h](a,c)})},s[sa]=function(a){a&&(n||!a[aw]())&&Pw(o,sa,!1,function(c){a[Es]?Lo(function(){return c[sa](a)},0):c[sa](a)})},s[Uo]=function(a){var c=function(){r&&r.rm(),r=null,o=[]},l;if(Pw(o,"unload",!1,function(u){var d=u[Uo](a);d&&(l||(l=[]),l[nt](d))}),l)return go(function(u){return du(kA(l),function(){c(),u()})});c()}})}return e.__ieDyn=1,e}()});function mn(e,t,n,r,o){if(e){var i=e;if(i[Dh]&&(i=i[Dh]()),i){var s=void 0,a=i[_f](lF);try{if(s=i.create(t(),r,o),s){if(a&&s[Cs]&&(s[Cs](Lf[uF],a),a[_f]&&a[Cs])){var c=a[_f](Lf[Tw]);c||(c=[],a[Cs](Lf[Tw],c)),c[nt](s)}return i[Cs](lF,s),n(s)}}catch(l){s&&s[Cs]&&s[Cs]("exception",l)}finally{s&&i.fire(s),i[Cs](lF,a)}}}return n()}function dF(){return Uhe}var Ah,uF,Tw,Uhe,Lf,kw,lF,V_=q(()=>{Dr();Re();Mt();On();Ah="ctx",uF="ParentContextKey",Tw="ChildrenContextKey",Uhe=null,Lf=function(){function e(t,n,r){var o=this;if(o.start=rn(),o[Kr]=t,o[Es]=r,o[aw]=function(){return!1},Ae(n)){var i;wt(o,"payload",{g:function(){return!i&&Ae(n)&&(i=n(),n=null),i}})}o[_f]=function(s){return s?s===e[uF]||s===e[Tw]?o[s]:(o[Ah]||{})[s]:null},o[Cs]=function(s,a){if(s)if(s===e[uF])o[s]||(o[aw]=function(){return!0}),o[s]=a;else if(s===e[Tw])o[s]=a;else{var c=o[Ah]=o[Ah]||{};c[s]=a}},o[C_]=function(){var s=0,a=o[_f](e[Tw]);if(ge(a))for(var c=0;c<a[Te];c++){var l=a[c];l&&(s+=l[su])}o[su]=rn()-o.start,o.exTime=o[su]-s,o[C_]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),kw=function(){function e(t){this.ctx={},ot(e,this,function(n){n.create=function(r,o,i){return new Lf(r,o,i)},n.fire=function(r){r&&(r[C_](),t&&Ae(t[sa])&&t[sa](r))},n[Cs]=function(r,o){if(r){var i=n[Ah]=n[Ah]||{};i[r]=o}},n[_f]=function(r){return(n[Ah]||{})[r]}})}return e.__ieDyn=1,e}(),lF="CoreUtils.doPerf"});function Rw(){var e=Af();return fn(e,0,8)+"-"+fn(e,8,12)+"-"+fn(e,12,16)+"-"+fn(e,16,20)+"-"+fn(e,20)}function Af(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Ue,n,r=0;r<4;r++)n=Cc(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var o=e[8+(Cc()&3)|0];return vs(t,0,8)+vs(t,9,4)+"4"+vs(t,13,3)+o+vs(t,16,3)+vs(t,19,12)}var fF=q(()=>{"use strict";Re();On();R_()});function Dc(e,t,n){return e&&e[Te]===t&&e!==n?!!e.match(/^[\da-f]*$/i):!1}function g8(e,t,n){return Dc(e,t)?e:n}function v8(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[Te]<2;)t="0"+t;return t}function Nw(e,t,n,r){var o;return o={},o[bf]=Dc(r,2,mF)?r:pF,o[gh]=da(e)?e:Af(),o[vh]=fa(t)?t:Xl(Af(),16),o.traceFlags=n>=0&&n<=255?n:1,o}function Ff(e,t){var n;if(!e||(ge(e)&&(e=e[0]||""),!e||!Fe(e)||e[Te]>8192))return null;if(e.indexOf(",")!==-1){var r=e[ia](",");e=r[t>0&&r[Te]>t?t:0]}var o=Mhe.exec(pt(e));return!o||o[1]===mF||o[2]===z_||o[3]===G_?null:(n={version:(o[1]||Ue)[ta](),traceId:(o[2]||Ue)[ta](),spanId:(o[3]||Ue)[ta]()},n[uu]=parseInt(o[4],16),n)}function da(e){return Dc(e,32,z_)}function fa(e){return Dc(e,16,G_)}function Fh(e){return!(!e||!Dc(e[bf],2,mF)||!Dc(e[gh],32,z_)||!Dc(e[vh],16,G_)||!Dc(v8(e[uu]),2))}function Lw(e){return Fh(e)?(e[uu]&h8)===h8:!1}function Aw(e){if(e){var t=v8(e[uu]);Dc(t,2)||(t="01");var n=e[bf]||pF;return n!=="00"&&n!=="ff"&&(n=pF),"".concat(n.toLowerCase(),"-").concat(g8(e.traceId,32,z_).toLowerCase(),"-").concat(g8(e.spanId,16,G_).toLowerCase(),"-").concat(t.toLowerCase())}return""}function Fw(e){var t="traceparent",n=Ff($A(t),e);return n||(n=Ff(jA(t),e)),n}var Mhe,pF,mF,z_,G_,h8,hF=q(()=>{Re();Mt();fF();Ih();On();Mhe=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,pF="00",mF="ff",z_="00000000000000000000000000000000",G_="0000000000000000",h8=1});function Pc(e){return $he.get(e,"state",{},!0)}function gF(e,t){for(var n=[],r=null,o=e[fi](),i;o;){var s=o[iu]();if(s){r&&r[lu]&&s[jo]&&r[lu](s),i=Pc(s);var a=!!i[Oo];s[Oo]&&(a=s[Oo]()),a||n[nt](s),r=s,o=o[fi]()}}ne(n,function(c){var l=e[on]();c[Cf](e.getCfg(),l,t,e[fi]()),i=Pc(c),!c[on]&&!i[on]&&(i[on]=l),i[Oo]=!0,delete i[di]})}function K_(e){return e.sort(function(t,n){var r=0;if(n){var o=n[jo];t[jo]?r=o?t[Pf]-n[Pf]:1:o&&(r=-1)}else r=t?1:-1;return r})}function x8(e){var t={};return{getName:function(){return t[Kr]},setName:function(n){e&&e.setName(n),t[Kr]=n},getTraceId:function(){return t[gh]},setTraceId:function(n){e&&e.setTraceId(n),da(n)&&(t[gh]=n)},getSpanId:function(){return t[vh]},setSpanId:function(n){e&&e.setSpanId(n),fa(n)&&(t[vh]=n)},getTraceFlags:function(){return t[uu]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[uu]=n}}}var $he,vF=q(()=>{"use strict";Re();Mt();Th();On();hF();$he=N_("plugin")});function Hhe(e,t,n){for(;e;){if(e[iu]()===n)return e;e=e[fi]()}return Eu([n],t.config||{},t)}function xF(e,t,n,r){var o=null,i=[];t||(t=Kt({},null,n[It])),r!==null&&(o=r?Hhe(e,n,r):e);var s={_next:c,ctx:{core:function(){return n},diagLog:function(){return Ss(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:u,getConfig:d,hasNext:function(){return!!o},getNext:function(){return o},setNext:function(f){o=f},iterate:p,onComplete:a}};function a(f,m){for(var h=[],v=2;v<arguments.length;v++)h[v-2]=arguments[v];f&&i[nt]({func:f,self:Oe(m)?s.ctx:m,args:h})}function c(){var f=o;if(o=f?f[fi]():null,!f){var m=i;m&&m[Te]>0&&(ne(m,function(h){try{h.func.call(h.self,h.args)}catch(v){ue(n[It],2,73,"Unexpected Exception during onComplete - "+pe(v))}}),i=[])}return f}function l(f,m){var h=null,v=t.cfg;if(v&&f){var g=v[xc];!g&&m&&(g={}),v[xc]=g,g=t.ref(v,xc),g&&(h=g[f],!h&&m&&(h={}),g[f]=h,h=t.ref(g,f))}return h}function u(f,m){var h=l(f,!0);return m&&de(m,function(v,g){if(te(h[v])){var w=t.cfg[v];(w||!te(w))&&(h[v]=w)}yw(t,h,v,g)}),t[ys](h,m)}function d(f,m,h){h===void 0&&(h=!1);var v,g=l(f,!1),w=t.cfg;return g&&(g[m]||!te(g[m]))?v=g[m]:(w[m]||!te(w[m]))&&(v=w[m]),v||!te(v)?v:h}function p(f){for(var m;m=s._next();){var h=m[iu]();h&&f(h)}}return s}function vo(e,t,n,r){var o=Kt(t),i=xF(e,o,n,r),s=i.ctx;function a(l){var u=i._next();return u&&u[jo](l,s),!u}function c(l,u){return l===void 0&&(l=null),ge(l)&&(l=Eu(l,o.cfg,n,u)),vo(l||s[fi](),o.cfg,n,u)}return s[Xn]=a,s[oa]=c,s}function Oh(e,t,n){var r=Kt(t.config),o=xF(e,r,t,n),i=o.ctx;function s(c){var l=o._next();return l&&l[Uo](i,c),!l}function a(c,l){return c===void 0&&(c=null),ge(c)&&(c=Eu(c,r.cfg,t,l)),Oh(c||i[fi](),t,l)}return i[Xn]=s,i[oa]=a,i}function Ow(e,t,n){var r=Kt(t.config),o=xF(e,r,t,n),i=o.ctx;function s(c){return i.iterate(function(l){Ae(l[Sf])&&l[Sf](i,c)})}function a(c,l){return c===void 0&&(c=null),ge(c)&&(c=Eu(c,r.cfg,t,l)),Ow(c||i[fi](),t,l)}return i[Xn]=s,i[oa]=a,i}function Eu(e,t,n,r){var o=null,i=!r;if(ge(e)&&e[Te]>0){var s=null;ne(e,function(a){if(!i&&r===a&&(i=!0),i&&a&&Ae(a[jo])){var c=Bhe(a,t,n);o||(o=c),s&&s._setNext(c),s=c}})}return r&&!o?Eu([r],t,n):o}function Bhe(e,t,n){var r=null,o=Ae(e[jo]),i=Ae(e[lu]),s;e?s=e[ra]+"-"+e[Pf]+"-"+E8++:s="Unknown-0-"+E8++;var a={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:u,unload:d,update:p,_id:s,_setNext:function(f){r=f}};function c(){var f;return e&&Ae(e[y8])&&(f=e[y8]()),f||(f=vo(a,t,n)),f}function l(f,m,h,v,g){var w=!1,x=e?e[ra]:jhe,y=f[w8];return y||(y=f[w8]={}),f.setNext(r),e&&mn(f[on](),function(){return x+":"+h},function(){y[s]=!0;try{var E=r?r._id:Ue;E&&(y[E]=!1),w=m(f)}catch(D){var P=r?y[r._id]:!0;P&&(w=!0),(!r||!P)&&ue(f[Mo](),1,73,"Plugin ["+x+"] failed during "+h+" - "+pe(D)+", run flags: "+pe(y))}},v,g),w}function u(f,m){m=m||c();function h(v){if(!e||!o)return!1;var g=Pc(e);return g[di]||g[uw]?!1:(i&&e[lu](r),e[jo](f,v),!0)}l(m,h,"processTelemetry",function(){return{item:f}},!f.sync)||m[Xn](f)}function d(f,m){function h(){var v=!1;if(e){var g=Pc(e),w=e[on]||g[on];e&&(!w||w===f.core())&&!g[di]&&(g[on]=null,g[di]=!0,g[Oo]=!1,e[di]&&e[di](f,m)===!0&&(v=!0))}return v}l(f,h,"unload",function(){},m[Es])||f[Xn](m)}function p(f,m){function h(){var v=!1;if(e){var g=Pc(e),w=e[on]||g[on];e&&(!w||w===f.core())&&!g[di]&&e[Sf]&&e[Sf](f,m)===!0&&(v=!0)}return v}l(f,h,"update",function(){},!1)||f[Xn](m)}return Qs(a)}var jhe,w8,y8,E8,wF,J_=q(()=>{"use strict";Re();BA();xu();Mt();Sc();yc();On();V_();vF();jhe="TelemetryPluginChain",w8="_hasRun",y8="_getTelCtx",E8=0;wF=function(){function e(t,n,r,o){var i=this,s=vo(t,n,r,o);hi(i,s,Kn(s))}return e}()});function Of(){var e=[];function t(r){r&&e[nt](r)}function n(r,o){ne(e,function(i){try{i(r,o)}catch(s){ue(r[Mo](),2,73,"Unexpected error calling unload handler - "+pe(s))}}),e=[]}return{add:t,run:n}}var X_=q(()=>{Re();Mt();Sc()});function Z_(){var e=[];function t(r){var o=e;e=[],ne(o,function(i){try{(i.rm||i.remove).call(i)}catch(s){ue(r,2,73,"Unloading:"+pe(s))}})}function n(r){r&&$i(e,r)}return{run:t,add:n}}var yF=q(()=>{Re();Sc()});var EF,Cu,qhe,Ic,CF=q(()=>{"use strict";Dr();Re();xu();Mt();Sc();yc();On();J_();X_();yF();Cu="getPlugin",qhe=(EF={},EF[xc]={isVal:aa,v:{}},EF),Ic=function(){function e(){var t=this,n,r,o,i,s;l(),ot(e,t,function(u){u[Cf]=function(d,p,f,m){c(d,p,m),n=!0},u[di]=function(d,p){var f,m=u[on];if(!m||d&&m!==d[on]())return;var h,v=!1,g=d||Oh(null,m,o&&o[Cu]?o[Cu]():o),w=p||(f={reason:0},f[Es]=!1,f);function x(){v||(v=!0,i.run(g,p),s.run(g[Mo]()),h===!0&&g[Xn](w),l())}return!u[hh]||u[hh](g,w,x)!==!0?x():h=!0,h},u[Sf]=function(d,p){var f=u[on];if(!f||d&&f!==d[on]())return;var m,h=!1,v=d||Ow(null,f,o&&o[Cu]?o[Cu]():o),g=p||{reason:0};function w(){h||(h=!0,c(v.getCfg(),v.core(),v[fi]()))}return!u._doUpdate||u._doUpdate(v,g,w)!==!0?w():m=!0,m},wc(u,"_addUnloadCb",function(){return i},"add"),wc(u,"_addHook",function(){return s},"add"),wt(u,"_unloadHooks",{g:function(){return s}})}),t[Mo]=function(u){return a(u)[Mo]()},t[Oo]=function(){return n},t.setInitialized=function(u){n=u},t[lu]=function(u){o=u},t[Xn]=function(u,d){d?d[Xn](u):o&&Ae(o[jo])&&o[jo](u,null)},t._getTelCtx=a;function a(u){u===void 0&&(u=null);var d=u;if(!d){var p=r||vo(null,{},t[on]);o&&o[Cu]?d=p[oa](null,o[Cu]):d=p[oa](null,o)}return d}function c(u,d,p){Kt(u,qhe,Ss(d)),!p&&d&&(p=d[w_]()[fi]());var f=o;o&&o[Cu]&&(f=o[Cu]()),t[on]=d,r=vo(p,u,d,f)}function l(){n=!1,t[on]=null,r=null,o=null,s=Z_(),i=Of()}}return e.__ieDyn=1,e}()});function Whe(e,t,n){var r={id:t,fn:n};$i(e,r);var o={remove:function(){ne(e,function(i,s){if(i.id===r.id)return e[na](s,1),-1})}};return o}function Yhe(e,t,n){for(var r=!1,o=e[Te],i=0;i<o;++i){var s=e[i];if(s)try{if(s.fn[ou](null,[t])===!1){r=!0;break}}catch(a){ue(n,2,64,"Telemetry initializer failed: "+$t(a),{exception:pe(a)},!0)}}return!r}var C8,b8=q(()=>{Fo();Dr();Re();Mt();CF();Sc();yc();On();C8=function(e){Ao(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,o;i(),ot(t,n,function(s,a){s.addTelemetryInitializer=function(c){return Whe(o,r++,c)},s[jo]=function(c,l){Yhe(o,c,l?l[Mo]():s[Mo]())&&s[Xn](c,l)},s[hh]=function(){i()}});function i(){r=0,o=[]}return n}return t.__ieDyn=1,t}(Ic)});function Ghe(e,t){return new kw(t)}function Khe(e,t,n){var r,o=[],i=[],s={};return ne(n,function(a){(te(a)||te(a[Cf]))&&tn(P8);var c=a[Pf],l=a[ra];a&&c&&(te(s[c])?s[c]=l:vi(e,"Two extensions have same priority #"+c+" - "+s[c]+", "+l)),!c||c<t?o[nt](a):i[nt](a)}),r={},r[on]=o,r[fu]=i,r}function _8(e,t){var n=!1;return ne(t,function(r){if(r===e)return n=!0,-1}),n}function SF(e,t,n,r){n&&de(n,function(o,i){r&&Jn(i)&&Jn(t[o])&&SF(e,t[o],i,r),r&&Jn(i)&&Jn(t[o])?SF(e,t[o],i,r):e.set(t,o,i)})}function D8(e,t){var n=null,r=-1;return ne(e,function(o,i){if(o.w===t)return n=o,r=i,-1}),{i:r,l:n}}function Jhe(e,t){var n=D8(e,t).l;return n||(n={w:t,rm:function(){var r=D8(e,t);r.i!==-1&&e[na](r.i,1)}},e[nt](n)),n}function Xhe(e,t,n){ne(t,function(r){var o=Un(e,r.w,n);delete r.w,r.rm=function(){o.rm()}})}var bu,P8,Vhe,S8,zhe,bF,Tc,I8=q(()=>{"use strict";Fo();Dr();bh();Re();xu();Mt();YA();e8();aF();Th();JA();Sc();yc();On();cF();V_();J_();vF();b8();X_();yF();P8="Plugins must provide initialize method",Vhe="_notificationManager",S8="SDK is still unloading...",zhe="SDK is not initialized",bF=fo((bu={cookieCfg:{}},bu[Df]={rdOnly:!0,ref:!0,v:[]},bu[fu]={rdOnly:!0,ref:!0,v:[]},bu[xc]={ref:!0,v:{}},bu[P_]=pi,bu.loggingLevelConsole=0,bu.diagnosticLogInterval=pi,bu));Tc=function(){function e(){var t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,w,x,y,E,P,D,R,N,k,C,S;ot(e,this,function(b){L(),b._getDbgPlgTargets=function(){return[D]},b[Oo]=function(){return n},b[Cf]=function(K,ae,he,Ee){f&&tn(S8),b[Oo]()&&tn("Core cannot be initialized more than once"),t=Kt(K,bF,he||b[It],!1),K=t.cfg,ct(t[Hi](function(le){E=le.cfg.instrumentationKey;var Le=le.ref(le.cfg,xc);de(Le,function(ft){le.ref(Le,ft)}),te(E)&&tn("Please provide instrumentation key")})),i=Ee,ke(),Xe(),b[It]=he;var Ce=K[Df];if(u=[],u[nt].apply(u,c_(c_([],ae,!1),Ce,!1)),d=K[fu],$(null),(!p||p[Te]===0)&&tn("No "+fu+" available"),d&&d[Te]>1){var Ze=b[iu]("TeeChannelController");(!Ze||!Ze.plugin)&&ue(r,1,28,"TeeChannel required")}Xhe(K,P,r),P=null,n=!0,b.releaseQueue(),b[gA]()},b.getChannels=function(){var K=[];return p&&ne(p,function(ae){K[nt](ae)}),Qs(K)},b.track=function(K){mn(b[Dh](),function(){return"AppInsightsCore:track"},function(){K===null&&(Je(K),tn("Invalid telemetry item")),!K[Kr]&&te(K[Kr])&&(Je(K),tn("telemetry name required")),K.iKey=K.iKey||E,K[su]=K[su]||mi(new Date),K.ver=K.ver||"4.0",!f&&b[Oo]()?T()[Xn](K):o[nt](K)},function(){return{item:K}},!K.sync)},b[w_]=T,b[dh]=function(){return i||(i=new Iw(t.cfg),b[Vhe]=i),i},b[fh]=function(K){b[dh]()[fh](K)},b[ph]=function(K){i&&i[ph](K)},b.getCookieMgr=function(){return c||(c=_c(t.cfg,b[It])),c},b.setCookieMgr=function(K){c!==K&&(bc(c,!1),c=K)},b[Dh]=function(){return!s&&!a&&ct(t[Hi](function(K){if(K.cfg.enablePerfMgr){var ae=K.cfg[P_];Ae(ae)&&(a=ae(b,b[dh]()))}})),s||a||dF()},b.setPerfMgr=function(K){s=K},b.eventCnt=function(){return o[Te]},b.releaseQueue=function(){if(n&&o[Te]>0){var K=o;o=[],ne(K,function(ae){T()[Xn](ae)})}},b[gA]=function(K){return h=K||null,S=!1,k&&k[Ef](),_(!0)};function _(K){if((!k||!k[au])&&!S){var ae=K||r&&r.queue[Te]>0;ae&&(C||(C=!0,ct(t[Hi](function(he){var Ee=he.cfg.diagnosticLogInterval;(!Ee||!(Ee>0))&&(Ee=1e4);var Ce=!1;k&&(Ce=k[au],k[Ef]()),k=nA(fe,Ee),k.unref(),k[au]=Ce}))),k[au]=!0)}return k}b[vA]=function(){S=!0,k&&k[Ef](),fe()},hi(b,function(){return m},["addTelemetryInitializer"]),b[Uo]=function(K,ae,he){var Ee;K===void 0&&(K=!0),n||tn(zhe),f&&tn(S8);var Ce=(Ee={reason:50},Ee[Es]=K,Ee.flushComplete=!1,Ee),Ze;K&&!ae&&(Ze=go(function(ft){ae=ft}));var le=Oh(j(),b);le[ow](function(){w.run(b[It]),$_([c,i,r],K,function(){L(),ae&&ae(Ce)})},b);function Le(ft){Ce.flushComplete=ft,f=!0,g.run(le,Ce),b[vA](),le[Xn](Ce)}return fe(),Ne(K,Le,6,he)||Le(!1),Ze},b[iu]=Y,b.addPlugin=function(K,ae,he,Ee){if(!K){Ee&&Ee(!1),Ct(P8);return}var Ce=Y(K[ra]);if(Ce&&!ae){Ee&&Ee(!1),Ct("Plugin ["+K[ra]+"] is already loaded!");return}var Ze={reason:16};function le(Lt){u[nt](K),Ze.added=[K],$(Ze),Ee&&Ee(!0)}if(Ce){var Le=[Ce.plugin],ft={reason:2,isAsync:!!he};J(Le,ft,function(Lt){Lt?(Ze.removed=Le,Ze.reason|=32,le(!0)):Ee&&Ee(!1)})}else le(!1)},b.updateCfg=function(K,ae){ae===void 0&&(ae=!0);var he;if(b[Oo]()){he={reason:1,cfg:t.cfg,oldCfg:i_({},t.cfg),newConfig:i_({},K),merge:ae},K=he.newConfig;var Ee=t.cfg;K[Df]=Ee[Df],K[fu]=Ee[fu]}t._block(function(Ce){var Ze=Ce.cfg;SF(Ce,Ze,K,ae),ae||de(Ze,function(le){No(K,le)||Ce.set(Ze,le,pi)}),Ce[ys](Ze,bF)},!0),t[yf](),he&&Ke(he)},b.evtNamespace=function(){return v},b.flush=Ne,b.getTraceCtx=function(K){return y||(y=x8()),y},b.setTraceCtx=function(K){y=K||null},b.addUnloadHook=ct,wc(b,"addUnloadCb",function(){return g},"add"),b.onCfgChange=function(K){var ae;return n?ae=Un(t.cfg,K,b[It]):ae=Jhe(P,K),{rm:function(){ae.rm()}}},b.getWParam=function(){return Ql()||t.cfg.enableWParam?0:-1};function A(){var K={};R=[];var ae=function(he){he&&ne(he,function(Ee){if(Ee[ra]&&Ee[bf]&&!K[Ee.identifier]){var Ce=Ee[ra]+"="+Ee[bf];R[nt](Ce),K[Ee.identifier]=Ee}})};ae(p),d&&ne(d,function(he){ae(he)}),ae(u)}function L(){n=!1,t=Kt({},bF,b[It]),t.cfg[y_]=1,wt(b,"config",{g:function(){return t.cfg},s:function(ae){b.updateCfg(ae,!1)}}),wt(b,"pluginVersionStringArr",{g:function(){return R||A(),R}}),wt(b,"pluginVersionString",{g:function(){return N||(R||A(),N=R.join(";")),N||Ue}}),wt(b,"logger",{g:function(){return r||(r=new wu(t.cfg),t[It]=r),r},s:function(ae){t[It]=ae,r!==ae&&(bc(r,!1),r=ae)}}),b[It]=new wu(t.cfg),D=[];var K=b.config[Df]||[];K.splice(0,K[Te]),$i(K,D),m=new C8,o=[],bc(i,!1),i=null,s=null,a=null,bc(c,!1),c=null,l=null,u=[],d=null,p=null,f=!1,h=null,v=Ir("AIBaseCore",!0),g=Of(),y=null,E=null,w=Z_(),P=[],N=null,R=null,S=!1}function T(){var K=vo(j(),t.cfg,b);return K[ow](_),K}function $(K){var ae=Khe(b[It],Q6,u);l=null,N=null,R=null,p=(d||[])[0]||[],p=K_($i(p,ae[fu]));var he=$i(K_(ae[on]),p);D=Qs(he);var Ee=b.config[Df]||[];Ee.splice(0,Ee[Te]),$i(Ee,D);var Ce=T();p&&p[Te]>0&&gF(Ce[oa](p),he),gF(Ce,he),K&&Ke(K)}function Y(K){var ae=null,he=null,Ee=[];return ne(D,function(Ce){if(Ce[ra]===K&&Ce!==m)return he=Ce,-1;Ce.getChannel&&Ee[nt](Ce)}),!he&&Ee[Te]>0&&ne(Ee,function(Ce){if(he=Ce.getChannel(K),!he)return-1}),he&&(ae={plugin:he,setEnabled:function(Ce){Pc(he)[uw]=!Ce},isEnabled:function(){var Ce=Pc(he);return!Ce[di]&&!Ce[uw]},remove:function(Ce,Ze){var le;Ce===void 0&&(Ce=!0);var Le=[he],ft=(le={reason:1},le[Es]=Ce,le);J(Le,ft,function(Lt){Lt&&$({reason:32,removed:Le}),Ze&&Ze(Lt)})}}),ae}function j(){if(!l){var K=(D||[]).slice();ut(K,m)===-1&&K[nt](m),l=Eu(K_(K),t.cfg,b)}return l}function J(K,ae,he){if(K&&K[Te]>0){var Ee=Eu(K,t.cfg,b),Ce=Oh(Ee,b);Ce[ow](function(){var Ze=!1,le=[];ne(u,function(ft,Lt){_8(ft,K)?Ze=!0:le[nt](ft)}),u=le,N=null,R=null;var Le=[];d&&(ne(d,function(ft,Lt){var Nr=[];ne(ft,function(Ji){_8(Ji,K)?Ze=!0:Nr[nt](Ji)}),Le[nt](Nr)}),d=Le),he&&he(Ze),_()}),Ce[Xn](ae)}else he(!1)}function fe(){if(r&&r.queue){var K=r.queue.slice(0);r.queue[Te]=0,ne(K,function(ae){var he,Ee=(he={},he[Kr]=h||"InternalMessageId: "+ae[mh],he.iKey=E,he[su]=mi(new Date),he.baseType=Rf.dataType,he.baseData={message:ae[cu]},he);b.track(Ee)})}}function Ne(K,ae,he,Ee){var Ce=1,Ze=!1,le=null;Ee=Ee||5e3;function Le(){Ce--,Ze&&Ce===0&&(le&&le[Ef](),le=null,ae&&ae(Ze),ae=null)}if(p&&p[Te]>0){var ft=T()[oa](p);ft.iterate(function(Lt){if(Lt.flush){Ce++;var Nr=!1;Lt.flush(K,function(){Nr=!0,Le()},he)||Nr||(K&&le==null?le=Lo(function(){le=null,Le()},Ee):Le())}})}return Ze=!0,Le(),!0}function ke(){!i&&b[dh](),ct(t[Hi](function(K){var ae=K.cfg.disableDbgExt;ae===!0&&x&&(i[ph](x),x=null),i&&!x&&ae!==!0&&(x=t8(K.cfg),i[fh](x))}))}function Xe(){ct(t[Hi](function(K){var ae=K.cfg.enablePerfMgr;!ae&&a&&(a=null),ae&&dw(K.cfg,P_,Ghe)}))}function Ke(K){var ae=Ow(j(),b);ae[ow](_),(!b._updateHook||b._updateHook(ae,K)!==!0)&&ae[Xn](K)}function Ct(K){var ae=b[It];ae?(ue(ae,2,73,K),_()):tn(K)}function Je(K){var ae=b[dh]();ae&&ae[pu]([K],2)}function ct(K){w.add(K)}})}return e.__ieDyn=1,e}()});function L8(e){return e&&e[vc]?e[vc](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ue):e}function tD(e,t){var n;if(t){var r=Ue;ge(t)?(r=Ue,ne(t,function(i){i=L8(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=L8(t),r&&(r[0]!=="."&&(r="."+r),e=(e||Ue)+r)}var o=tge.exec(e||Ue)||[];return n={},n[$o]=o[1],n.ns=(o[2]||Ue).replace(Zhe,".").replace(Qhe,Ue)[ia](".").sort().join("."),n}function _F(e,t,n){var r=[],o=Mw.get(e,Q_,{},!1),i=tD(t,n);return de(o,function(s,a){ne(a,function(c){var l;(!i[$o]||i[$o]===c.evtName[$o])&&(!i.ns||i.ns===i.ns)&&r[nt]((l={},l[Kr]=c.evtName[$o]+(c.evtName.ns?"."+c.evtName.ns:Ue),l.handler=c[sw],l))})}),r}function H8(e,t,n){n===void 0&&(n=!0);var r=Mw.get(e,Q_,{},n),o=r[t];return o||(o=r[t]=[]),o}function B8(e,t,n,r){e&&t&&t[$o]&&(e[N8]?e[N8](t[$o],n,r):e[R8]&&e[R8](F8+t[$o],n))}function nge(e,t,n,r){var o=!1;return e&&t&&t[$o]&&n&&(e[k8]?(e[k8](t[$o],n,r),o=!0):e[T8]&&(e[T8](F8+t[$o],n),o=!0)),o}function A8(e,t,n,r){for(var o=t[Te];o--;){var i=t[o];i&&(!n.ns||n.ns===i.evtName.ns)&&(!r||r(i))&&(B8(e,i.evtName,i[sw],i.capture),t[na](o,1))}}function rge(e,t,n){if(t[$o])A8(e,H8(e,t[$o]),t,n);else{var r=Mw.get(e,Q_,{});de(r,function(o,i){A8(e,i,t,n)}),Kn(r)[Te]===0&&Mw.kill(e,Q_)}}function xi(e,t){var n;return t?(ge(t)?n=[e].concat(t):n=[e,t],n=tD("xx",n).ns[ia](".")):n=e,n}function pa(e,t,n,r,o){var i;o===void 0&&(o=!1);var s=!1;if(e)try{var a=tD(t,r);if(s=nge(e,a,n,o),s&&Mw.accept(e)){var c=(i={guid:ege++,evtName:a},i[sw]=n,i.capture=o,i);H8(e,a.type)[nt](c)}}catch{}return s}function kc(e,t,n,r,o){if(o===void 0&&(o=!1),e)try{var i=tD(t,r),s=!1;rge(e,i,function(a){return i.ns&&!n||a[sw]===n?(s=!0,!0):!1}),s||B8(e,i,n,o)}catch{}}function DF(e,t,n,r){return r===void 0&&(r=!1),pa(e,t,n,null,r)}function PF(e,t,n,r){r===void 0&&(r=!1),kc(e,t,n,null,r)}function nD(e,t,n){var r=!1,o=pn();o&&(r=pa(o,e,t,n),r=pa(o.body,e,t,n)||r);var i=nn();return i&&(r=pa(i,e,t,n)||r),r}function rD(e,t,n){var r=pn();r&&(kc(r,e,t,n),kc(r.body,e,t,n));var o=nn();o&&kc(o,e,t,n)}function Uh(e,t,n,r){var o=!1;return t&&e&&e[Te]>0&&ne(e,function(i){i&&(!n||ut(n,i)===-1)&&(o=nD(i,t,r)||o)}),o}function oD(e,t,n,r){var o=!1;return t&&e&&ge(e)&&(o=Uh(e,t,n,r),!o&&n&&n[Te]>0&&(o=Uh(e,t,null,r))),o}function Su(e,t,n){e&&ge(e)&&ne(e,function(r){r&&rD(r,t,n)})}function $w(e,t,n){return oD([M8,U8,eD],e,t,n)}function jw(e,t){Su([M8,U8,eD],e,t)}function Mh(e,t,n){function r(s){var a=nn();e&&a&&a.visibilityState==="hidden"&&e(s)}var o=xi($8,n),i=Uh([eD],e,t,o);return(!t||ut(t,Uw)===-1)&&(i=Uh([Uw],r,t,o)||i),!i&&t&&(i=Mh(e,null,n)),i}function Hw(e,t){var n=xi($8,t);Su([eD],e,n),Su([Uw],null,n)}function $h(e,t,n){function r(s){var a=nn();e&&a&&a.visibilityState==="visible"&&e(s)}var o=xi(j8,n),i=Uh([O8],e,t,o);return i=Uh([Uw],r,t,o)||i,!i&&t&&(i=$h(e,null,n)),i}function Bw(e,t){var n=xi(j8,t);Su([O8],e,n),Su([Uw],null,n)}var F8,T8,k8,R8,N8,Q_,Uw,eD,O8,U8,M8,$8,j8,Zhe,Qhe,ege,Mw,tge,q8=q(()=>{Re();Mt();Th();On();F8="on",T8="attachEvent",k8="addEventListener",R8="detachEvent",N8="removeEventListener",Q_="events",Uw="visibilitychange",eD="pagehide",O8="pageshow",U8="unload",M8="beforeunload",$8=Ir("aiEvtPageHide"),j8=Ir("aiEvtPageShow"),Zhe=/\.[\.]+/g,Qhe=/[\.]+$/,ege=1,Mw=N_("events"),tge=/^([^.]*)(?:\.(.+)|)/});var IF,W8=q(()=>{v_();IF=fr({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3})});var yt=q(()=>{h6();g6();I8();CF();R_();fF();YA();yc();Re();v_();q8();Ih();Fo();cF();V_();Sc();J_();W8();aF();Th();X_();hF();xu();O_();zA()});var ma,Y8,TF,iD,sD=q(()=>{ma="",Y8="https://browser.events.data.microsoft.com/OneCollector/1.0/",TF="version",iD="properties"});var kF,RF,jh,ha,NF,Jt,Uf,Rc,aD,cD,lD,uD,qw,dD=q(()=>{kF="initialize",RF="logger",jh="indexOf",ha="timings",NF="pollInternalLogs",Jt="value",Uf="kind",Rc="length",aD="processTelemetryStart",cD="handleField",lD="rmSanitizer",uD="rmFieldSanitizer",qw="canHandle"});function pr(e){return!(e===ma||te(e))}function fD(e){if(e){var t=ho(e,"-");if(t>-1)return Xl(e,t)}return ma}function J8(){return LF===null&&(LF=!Oe(Uint8Array)&&!cge()&&!mu()),LF}function pD(e){return!!(e&&dr(e)&&e>=1&&e<=4)}function mD(e,t,n){if(!t&&!pr(t)||typeof e!="string")return null;var r=typeof t;if(r==="string"||r==="number"||r==="boolean"||ge(t))t={value:t};else if(r==="object"&&!z8.call(t,"value"))t={value:n?JSON.stringify(t):t};else if(te(t[Jt])||t[Jt]===ma||!Fe(t[Jt])&&!dr(t[Jt])&&!hs(t[Jt])&&!ge(t[Jt]))return null;if(ge(t[Jt])&&!FF(t[Jt]))return null;if(!te(t[Uf])){if(ge(t[Jt])||!Ww(t[Uf]))return null;t[Jt]=t[Jt].toString()}return t}function hD(e,t,n){var r=-1;if(!Oe(e))if(t>0&&(t===32?r=8192:t<=13&&(r=t<<5)),age(n))r===-1&&(r=0),r|=n;else{var o=sge[ga(e)]||-1;r!==-1&&o!==-1?r|=o:o===6&&(r=o)}return r}function X8(e,t,n){n===void 0&&(n=!0);var r;return e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||ma}function Z8(e){e===void 0&&(e="D");var t=Rw();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,ma)),t}function Mf(e,t,n,r,o){var i={},s=!1,a=0,c=arguments[Rc],l=arguments;for(hs(l[0])&&(s=l[0],a++);a<c;a++){var e=l[a];de(e,function(d,p){s&&p&&kt(p)?ge(p)?(i[d]=i[d]||[],ne(p,function(f,m){f&&kt(f)?i[d][m]=Mf(!0,i[d][m],f):i[d][m]=f})):i[d]=Mf(!0,i[d],p):i[d]=p})}return i}function Ww(e){return e===0||e>0&&e<=13||e===32}function age(e){return e>=0&&e<=9}function cge(){var e=Fn();if(!Oe(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t[jh]("safari")>=0||t[jh]("firefox")>=0)&&t[jh]("chrome")<0)return!0}return!1}function FF(e){return e[Rc]>0}function Yw(e,t){var n=e;n[ha]=n[ha]||{},n[ha][aD]=n[ha][aD]||{},n[ha][aD][t]=Ho()}function ga(e){var t=0;if(e!=null){var n=typeof e;n==="string"?t=1:n==="number"?t=2:n==="boolean"?t=3:n===uc&&(t=4,ge(e)?(t=4096,e[Rc]>0&&(t|=ga(e[0]))):z8.call(e,"value")&&(t=8192|ga(e[Jt])))}return t}function gD(){return!!Ut("chrome")}function vD(e,t,n,r,o,i){r===void 0&&(r=!1),o===void 0&&(o=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return r&&s(a,oge,r),n&&s(a,V8,n),a.open(e,t,!o),n&&s(a,V8,n),!o&&i&&s(a,ige,i),a}function _u(e){return e>0}var Nc,AF,Hh,z8,oge,V8,ige,sge,LF,G8,K8,Ho,xD=q(()=>{yt();Fo();Re();sD();dD();AF="4.0.4",Hh="1DS-Web-JS-"+AF,z8=qx.hasOwnProperty,oge="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",V8="withCredentials",ige="timeout",sge=(Nc={},Nc[0]=0,Nc[2]=6,Nc[1]=1,Nc[3]=7,Nc[4098]=6,Nc[4097]=1,Nc[4099]=7,Nc),LF=null,G8=Ql(),K8=eu();Ho=ch});function uge(e){return e&&(!e.getProperty||!e.setProperty)&&tn("Invalid property storage override passed."),!0}var lge,Q8,eK=q(()=>{Fo();Dr();yt();Re();sD();xD();dD();lge=fo({endpointUrl:Y8,propertyStorageOverride:{isVal:uge}});Q8=function(e){Ao(t,e);function t(){var n=e.call(this)||this;return ot(t,n,function(r,o){r[kF]=function(i,s,a,c){mn(r,function(){return"AppInsightsCore.initialize"},function(){try{o[kF](Kt(i,lge,a||r[RF],!1).cfg,s,a,c)}catch(d){var l=r[RF],u=pe(d);u[jh]("channels")!==-1&&(u+=`
 - Channels must be provided through config.channels only!`),ue(l,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}},function(){return{config:i,extensions:s,logger:a,notificationManager:c}})},r.track=function(i){mn(r,function(){return"AppInsightsCore.track"},function(){var s=i;if(s){s[ha]=s[ha]||{},s[ha].trackStart=Ho(),pD(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Hh;var c=s.baseData=s.baseData||{};c[iD]=c[iD]||{};var l=c[iD];l[TF]=l[TF]||r.pluginVersionString||ma}o.track(s)},function(){return{item:i}},!i.sync)},r[NF]=function(i){return o[NF](i||"InternalLog")}}),n}return t.__ieDyn=1,t}(Tc)});var tK,nK,rK,oK,iK,sK=q(()=>{yt();tK=fr({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),nK=fr({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),rK=fr({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),oK=fr({Normal:1,Critical:2}),iK=fr({NONE:0,ERROR:1,WARNING:2,INFORMATION:3})});var aK,cK=q(()=>{yt();Re();sD();xD();dD();aK=function(){function e(t){var n=this,r={},o=[],i=[];t&&i.push(t);function s(u,d){var p,f=r[u];if(f&&(p=f[d]),!p&&p!==null){if(Fe(u)&&Fe(d))if(i[Rc]>0){for(var m=0;m<i[Rc];m++)if(i[m][cD](u,d)){p={canHandle:!0,fieldHandler:i[m]};break}}else o[Rc]===0&&(p={canHandle:!0});if(!p&&p!==null){p=null;for(var m=0;m<o[Rc];m++)if(o[m][cD](u,d)){p={canHandle:!0,handler:o[m],fieldHandler:null};break}}f||(f=r[u]={}),f[d]=p}return p}n.clearCache=function(){r={}},n.addSanitizer=function(u){u&&(o_(o,u)||o.push(u),r={})},n.addFieldSanitizer=function(u){u&&(o_(i,u)||i.push(u),r={})},n[lD]=function(u){if(u){var d=ut(o,u);d!==-1&&(o.splice(d,1),r={}),ne(o,function(p){p&&p[lD]&&p[lD](u)})}},n[uD]=function(u){if(u){var d=ut(i,u);d!==-1&&(i.splice(d,1),r={}),ne(o,function(p){p&&p[uD]&&p[uD](u)})}},n.isEmpty=function(){return ah(o)+ah(i)===0},n[cD]=function(u,d){var p=s(u,d);return p?p[qw]:!1},n[Jt]=function(u,d,p,f){var m=s(u,d);if(m&&m[qw]){if(!m||!m[qw])return null;if(m.handler)return m.handler[Jt](u,d,p,f);if(!Fe(d)||te(p)||p===ma)return null;var h=null,v=ga(p);if((v&8192)===8192){var g=v&-8193;if(h=p,!pr(h[Jt])||g!==1&&g!==2&&g!==3&&(g&4096)!==4096)return null}else v===1||v===2||v===3||(v&4096)===4096?h=c(u,d,p):v===4&&(h=c(u,d,f?JSON.stringify(p):p));if(h)return a(m,u,d,v,h,f)}return null},n.property=function(u,d,p,f){var m=s(u,d);if(!m||!m[qw]||!Fe(d)||te(p)||!pr(p[Jt]))return null;var h=ga(p[Jt]);return h===0?null:a(m,u,d,h,p,f)};function a(u,d,p,f,m,h){if(u.handler)return u.handler.property(d,p,m,h);if(!te(m[Uf])){if((f&4096)===4096||!Ww(m[Uf]))return null;m[Jt]=m[Jt].toString()}return l(u.fieldHandler,d,p,f,m)}function c(u,d,p){return pr(p)?{value:p}:null}function l(u,d,p,f,m){if(m&&u){var h=u.getSanitizer(d,p,f,m[Uf],m.propertyType);if(h)if(f===4){var v={},g=m[Jt];de(g,function(x,y){var E=d+"."+p;if(pr(y)){var P=c(E,x,y);P=l(u,E,x,ga(y),P),P&&(v[x]=P[Jt])}}),m[Jt]=v}else{var w={path:d,name:p,type:f,prop:m,sanitizer:n};m=h.call(n,w)}}return m}}return e.getFieldType=ga,e}()});var lK={};Zg(lK,{AppInsightsCore:()=>Q8,BaseTelemetryPlugin:()=>Ic,DiagnosticLogger:()=>wu,EventLatency:()=>nK,EventPersistence:()=>oK,EventPropertyType:()=>rK,EventsDiscardedReason:()=>ws,FullVersionString:()=>Hh,InternalAppInsightsCore:()=>Tc,LoggingSeverity:()=>IF,MinChannelPriorty:()=>mA,NotificationManager:()=>Iw,PerfEvent:()=>Lf,PerfManager:()=>kw,ProcessTelemetryContext:()=>wF,TraceLevel:()=>iK,Undefined:()=>Xs,ValueKind:()=>tK,ValueSanitizer:()=>aK,Version:()=>AF,_InternalLogMessage:()=>Rf,__getRegisteredEvents:()=>_F,_logInternalMessage:()=>QA,_throwInternal:()=>ue,_warnToConsole:()=>vi,addEventHandler:()=>nD,addEventListeners:()=>oD,addPageHideEventListener:()=>Mh,addPageShowEventListener:()=>$h,addPageUnloadEventListener:()=>$w,areCookiesSupported:()=>Lh,arrForEach:()=>ne,arrIndexOf:()=>ut,arrMap:()=>ea,arrReduce:()=>sh,attachEvent:()=>DF,blockDynamicConversion:()=>Cw,cookieAvailable:()=>Lh,createCookieMgr:()=>_c,createDynamicConfig:()=>Kt,createEnumStyle:()=>fr,createGuid:()=>Z8,createProcessTelemetryContext:()=>vo,createTraceParent:()=>Nw,createUniqueNamespace:()=>Ir,createUnloadHandlerContainer:()=>Of,dateNow:()=>rn,detachEvent:()=>PF,disallowsSameSiteNone:()=>Y_,doPerf:()=>mn,dumpObj:()=>pe,eventOff:()=>kc,eventOn:()=>pa,extend:()=>Mf,findW3cTraceParent:()=>Fw,forceDynamicConversion:()=>WA,formatTraceParent:()=>Aw,generateW3CId:()=>Af,getCommonSchemaMetaData:()=>hD,getConsole:()=>fw,getCookieValue:()=>X8,getCrypto:()=>pw,getDocument:()=>nn,getDynamicConfigHandler:()=>Ew,getExceptionName:()=>$t,getFieldValueType:()=>ga,getGlobal:()=>Gr,getGlobalInst:()=>Ut,getHistory:()=>Gx,getIEVersion:()=>hw,getISOString:()=>mi,getJSON:()=>Pr,getLocation:()=>Tf,getMsCrypto:()=>mw,getNavigator:()=>Fn,getPerformance:()=>hc,getSetValue:()=>dw,getTenantId:()=>fD,getTime:()=>Ho,getWindow:()=>pn,hasDocument:()=>Ql,hasHistory:()=>ZS,hasJSON:()=>ca,hasNavigator:()=>ih,hasOwnProperty:()=>En,hasWindow:()=>eu,isArray:()=>ge,isArrayValid:()=>FF,isBeaconsSupported:()=>gi,isBoolean:()=>hs,isChromium:()=>gD,isDate:()=>Zm,isDocumentObjectAvailable:()=>G8,isError:()=>Zs,isFetchSupported:()=>Ec,isFunction:()=>Ae,isGreaterThanZero:()=>_u,isIE:()=>hu,isLatency:()=>pD,isNotTruthy:()=>FS,isNullOrUndefined:()=>te,isNumber:()=>dr,isObject:()=>kt,isReactNative:()=>mu,isSampledFlag:()=>Lw,isString:()=>Fe,isTruthy:()=>gs,isTypeof:()=>LS,isUint8ArrayAvailable:()=>J8,isUndefined:()=>Oe,isValidSpanId:()=>fa,isValidTraceId:()=>da,isValidTraceParent:()=>Fh,isValueAssigned:()=>pr,isValueKind:()=>Ww,isWindowObjectAvailable:()=>K8,isXhrSupported:()=>gu,mergeEvtNamespace:()=>xi,newGuid:()=>Rw,newId:()=>ww,normalizeJsName:()=>If,objDefineAccessors:()=>zS,objForEachKey:()=>de,objFreeze:()=>Qs,objKeys:()=>Kn,objSeal:()=>$S,onConfigChange:()=>Un,openXhr:()=>vD,optimizeObject:()=>qi,parseTraceParent:()=>Ff,perfNow:()=>ch,proxyAssign:()=>RA,proxyFunctionAs:()=>wc,proxyFunctions:()=>hi,random32:()=>Cc,randomValue:()=>xw,removeEventHandler:()=>rD,removeEventListeners:()=>Su,removePageHideEventListener:()=>Hw,removePageShowEventListener:()=>Bw,removePageUnloadEventListener:()=>jw,safeGetCookieMgr:()=>sF,safeGetLogger:()=>Ss,sanitizeProperty:()=>mD,setEnableEnvMocks:()=>MA,setProcessTelemetryTimings:()=>Yw,setValue:()=>Bi,strContains:()=>Cn,strEndsWith:()=>tu,strFunction:()=>zm,strObject:()=>uc,strPrototype:()=>ps,strStartsWith:()=>hf,strTrim:()=>pt,strUndefined:()=>Xs,throwError:()=>tn,toISOString:()=>mi,useXDomainRequest:()=>kf});var $f=q(()=>{eK();sK();cK();yt();xD()});var jf,wD,yD,OF=q(()=>{jf="REAL_TIME",wD="NEAR_REAL_TIME",yD="BEST_EFFORT"});var _s,ED,uK,CD,dK,UF,fK,pK,mK,MF,$F,bD,hK,jF,gK,HF,SD,BF,_D,DD,PD,Vw,qF,vK,Bh,WF,ID,zw=q(()=>{_s="",ED="POST",uK="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",CD="drop",dK="send",UF="requeue",fK="rspFail",pK="oth",mK="no-cache, no-store",MF="application/x-json-stream",$F="cache-control",bD="content-type",hK="kill-tokens",jF="kill-duration",gK="kill-duration-seconds",HF="time-delta-millis",SD="client-version",BF="client-id",_D="time-delta-to-apply-millis",DD="upload-time",PD="apikey",Vw="AuthMsaDeviceTicket",qF="AuthXToken",vK="NoResponseBody",Bh="msfpc",WF="trace",ID="user"});var Gw,TD,kD,RD,Kw,Ge,Wi,Yi,bn,va,mr,Ds,Hf,qh,Wh,ND,Yh,LD,AD,xK,YF,VF,wK,yK,FD,OD,zF,GF,KF,EK,Vh,Du,JF,Ps,Jw,xa,XF,ZF,zh,Jr,Bo,Xw,Gh,UD,Zw,CK,MD,$D,Kh,QF,Qw,jD,HD,BD,qD,WD,ey,bK,SK,eO,tO,_K,DK,PK,ty,Pu,YD,Bf,Jh=q(()=>{Gw="allowRequestSending",TD="firstRequestSent",kD="shouldAddClockSkewHeaders",RD="getClockSkewHeaderValue",Kw="setClockSkew",Ge="length",Wi="concat",Yi="iKey",bn="count",va="events",mr="push",Ds="split",Hf="splice",qh="toLowerCase",Wh="hdrs",ND="useHdrs",Yh="initialize",LD="setTimeoutOverride",AD="clearTimeoutOverride",xK="payloadPreprocessor",YF="overrideEndpointUrl",VF="avoidOptions",wK="disableEventTimings",yK="stringifyObjects",FD="enableCompoundKey",OD="disableXhrSync",zF="disableFetchKeepAlive",GF="useSendBeacon",KF="alwaysUseXhrOverride",EK="unloadTransports",Vh="urlString",Du="timeout",JF="ontimeout",Ps="data",Jw="_sendReason",xa="headers",XF="getResponseHeader",ZF="getAllResponseHeaders",zh="_thePayload",Jr="batches",Bo="sendType",Xw="canSendRequest",Gh="sendQueuedRequests",UD="isCompletelyIdle",Zw="setUnloading",CK="isTenantKilled",MD="sendSynchronousBatch",$D="_transport",Kh="getWParam",QF="isBeacon",Qw="timings",jD="isTeardown",HD="isSync",BD="sendPOST",qD="setKillSwitchTenants",WD="_backOffTransmission",ey="identifier",bK="disableOptimizeObj",SK="ignoreMc1Ms0CookieProcessing",eO="eventsLimitInMem",tO="autoFlushEventsLimit",_K="disableAutoBatchFlushLimit",DK="overrideInstrumentationKey",PK="disableTelemetry",ty="sendAttempt",Pu="latency",YD="baseData",Bf="sync"});function TK(e){var t=(e.ext||{}).intweb;return t&&pr(t[Bh])?t[Bh]:null}function IK(e){for(var t=null,n=0;t===null&&n<e[Ge];n++)t=TK(e[n]);return t}var Xh,nO=q(()=>{$f();zw();Jh();Xh=function(){function e(t,n){var r=n?[][Wi](n):[],o=this,i=IK(r);o[Yi]=function(){return t},o.Msfpc=function(){return i||_s},o[bn]=function(){return r[Ge]},o[va]=function(){return r},o.addEvent=function(s){return s?(r[mr](s),i||(i=TK(s)),!0):!1},o[Ds]=function(s,a){var c;if(s<r[Ge]){var l=r[Ge]-s;te(a)||(l=a<l?a:l),c=r[Hf](s,l),i=IK(r)}return new e(t,c)}}return e.create=function(t,n){return new e(t,n)},e}()});var rO,kK=q(()=>{Dr();Jh();rO=function(){function e(){var t=!0,n=!0,r=!0,o="use-collector-delta",i=!1;ot(e,this,function(s){s[Gw]=function(){return t},s[TD]=function(){r&&(r=!1,i||(t=!1))},s[kD]=function(){return n},s[RD]=function(){return o},s[Kw]=function(a){i||(a?(o=a,n=!0,i=!0):n=!1,t=!0)}})}return e.__ieDyn=1,e}()});var dge,oO,RK=q(()=>{Dr();$f();Jh();dge=1e3,oO=function(){function e(){var t={};function n(r){var o=[];return r&&ne(r,function(i){o[mr](pt(i))}),o}ot(e,this,function(r){r[qD]=function(o,i){if(o&&i)try{var s=n(o[Ds](","));if(i==="this-request-only")return s;for(var a=parseInt(i,10)*dge,c=0;c<s[Ge];++c)t[s[c]]=rn()+a}catch{return[]}return[]},r[CK]=function(o){var i=t,s=pt(o);return i[s]!==void 0&&i[s]>rn()?!0:(delete i[s],!1)}})}return e.__ieDyn=1,e}()});function LK(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function VD(e){var t=0,n=NK*fge,r=NK*pge,o=Math.floor(Math.random()*(r-n))+n;return t=Math.pow(2,e)*o,Math.min(t,mge)}var fge,pge,NK,mge,iO=q(()=>{fge=.8,pge=1.2,NK=3e3,mge=6e5});function FK(e,t,n,r){if(r&&e){var o=hD(r.value,r.kind,r.propertyType);if(o>-1){var i=e[AK];i||(i=e[AK]={f:{}});var s=i[zD];if(s||(s=i[zD]={}),t)for(var a=0;a<t.length;a++){var c=t[a];s[c]||(s[c]={f:{}});var l=s[c][zD];l||(l=s[c][zD]={}),s=l}s=s[n]={},ge(r.value)?s.a={t:o}:s.t=o}}}var hge,gge,OK,UK,vge,AK,zD,xge,MK,$K=q(()=>{Dr();$f();nO();zw();Re();hge=20,gge=3984588,OK=65e3,UK=2e6,vge=Math.min(UK,OK),AK="metadata",zD="f",xge=/\./,MK=function(){function e(t,n,r,o){var i="data",s="baseData",a="ext",c=!!o,l=!0,u=n,d={};ot(e,this,function(p){p.createPayload=function(h,v,g,w,x,y){return{apiKeys:[],payloadBlob:_s,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:v,isSync:g,isBeacon:w,sendType:y,sendReason:x}},p.appendPayload=function(h,v,g){var w=h&&v&&!h.overflow;return w&&mn(t,function(){return"Serializer:appendPayload"},function(){for(var x=v.events(),y=h.payloadBlob,E=h.numEvents,P=!1,D=[],R=[],N=h.isBeacon,k=N?OK:gge,C=N?vge:UK,S=0,b=0;S<x.length;){var _=x[S];if(_){if(E>=g){h.overflow=v.split(S);break}var A=p.getEventBlob(_);if(A&&A.length<=C){var L=A.length,T=y.length;if(T+L>k){h.overflow=v.split(S);break}y&&(y+=`
`),y+=A,b++,b>hge&&(vs(y,0,1),b=0),P=!0,E++}else A?D.push(_):R.push(_),x.splice(S,1),S--}S++}if(D.length>0&&h.sizeExceed.push(Xh.create(v.iKey(),D)),R.length>0&&h.failedEvts.push(Xh.create(v.iKey(),R)),P){h.batches.push(v),h.payloadBlob=y,h.numEvents=E;var $=v.iKey();ut(h.apiKeys,$)===-1&&h.apiKeys.push($)}},function(){return{payload:h,theBatch:{iKey:v.iKey(),evts:v.events()},max:g}}),w},p.getEventBlob=function(h){try{return mn(t,function(){return"Serializer.getEventBlob"},function(){var v={};v.name=h.name,v.time=h.time,v.ver=h.ver,v.iKey="o:"+fD(h.iKey);var g={},w=h[a];w&&(v[a]=g,de(w,function(E,P){var D=g[E]={};m(P,D,"ext."+E,!0,null,null,!0)}));var x=v[i]={};x.baseType=h.baseType;var y=x[s]={};return m(h.baseData,y,s,!1,[s],function(E,P,D){FK(g,E,P,D)},l),m(h.data,x,i,!1,[],function(E,P,D){FK(g,E,P,D)},l),JSON.stringify(v)},function(){return{item:h}})}catch{return null}};function f(h,v){var g=d[h];return g===void 0&&(h.length>=7&&(g=hf(h,"ext.metadata")||hf(h,"ext.web")),d[h]=g),g}function m(h,v,g,w,x,y,E){de(h,function(P,D){var R=null;if(D||pr(D)){var N=g,k=P,C=x,S=v;if(c&&!w&&xge.test(P)){var b=P.split("."),_=b.length;if(_>1){C&&(C=C.slice());for(var A=0;A<_-1;A++){var L=b[A];S=S[L]=S[L]||{},N+="."+L,C&&C.push(L)}k=b[_-1]}}var T=w&&f(N,k);if(!T&&u&&u.handleField(N,k)?R=u.value(N,k,D,r):R=mD(k,D,r),R){var $=R.value;if(S[k]=$,y&&y(C,k,R),E&&typeof $=="object"&&!ge($)){var Y=C;Y&&(Y=Y.slice(),Y.push(k)),m(D,$,N+"."+k,w,Y,y,E)}}}})}})}return e.__ieDyn=1,e}()});function Zh(e,t){return{set:function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return tA([e,t],n,r,o)}}}var sO=q(()=>{Re()});function Wf(e,t,n){cO[e]=t,n!==!1&&(lO[t]=e)}function HK(e){try{return e.responseText}catch{}return _s}function BK(e,t){var n=!1;if(e&&t){var r=Kn(e);if(r&&r[Ge]>0)for(var o=t[qh](),i=0;i<r[Ge];i++){var s=r[i];if(s&&En(t,s)&&s[qh]()===o){n=!0;break}}}return n}function Qh(e,t,n,r){t&&n&&n[Ge]>0&&(r&&cO[t]?(e[Wh][cO[t]]=n,e[ND]=!0):e.url+="&"+t+"="+n)}function qK(e,t){return t&&(dr(t)?e=[t][Wi](e):ge(t)&&(e=t[Wi](e))),e}function Ege(e,t,n){for(var r=0;r<e[Ge];r++)if(e[r].name===t){e[r].value=n;return}e[mr]({name:t,value:n})}function Cge(e,t){for(var n=0;n<e[Ge];n++)if(e[n].name===t){e[Hf](n,1);return}}var qf,aO,jK,wge,yge,cO,lO,WK,YK=q(()=>{Dr();$f();Re();kK();zw();RK();iO();$K();sO();Jh();aO="sendAttempt",jK="&"+vK+"=true",wge="?cors=true&"+bD[qh]()+"="+MF,yge=(qf={},qf[1]=UF,qf[100]=UF,qf[200]="sent",qf[8004]=CD,qf[8003]=CD,qf),cO={},lO={};Wf(Vw,Vw,!1);Wf(SD,SD);Wf(BF,"Client-Id");Wf(PD,PD);Wf(_D,_D);Wf(DD,DD);Wf(qF,qF);WK=function(){function e(t,n,r,o){var i,s=new oO,a=!1,c=new rO,l=!1,u=0,d,p,f,m,h=!0,v=[],g={},w=[],x=null,y=!1,E,P=!1,D=!1,R,N,k,C,S,b=[],_,A,L=[],T,$;ot(e,this,function(Y){Ne();var j=!0;Y[Yh]=function(I,U,B){T||(m=U,E=U.getCookieMgr(),d=B,p=d.diagLog(),$i(b,Un(I,function(z){var X,re=z.cfg,Q=z.cfg.extensionConfig[B.identifier];$=Zh(Q[LD],Q[AD]),pr(re.anonCookieName)?Ege(v,"anoncknm",re.anonCookieName):Cge(v,"anoncknm"),_=Q[xK],A=Q.payloadListener;var M=Q.httpXHROverride,V=Q[YF]?Q[YF]:re.endpointUrl;i=V+wge,D=Oe(Q[VF])?!0:!Q[VF],y=!Q[wK];var H=Q.valueSanitizer,ie=Q[yK],ce=!!re[FD];Oe(Q[FD])||(ce=!!Q[FD]),R=Q.xhrTimeout,N=!!Q[OD],k=!!Q[zF],S=Q.addNoResponse!==!1,U.getPlugin("LocalStorage")&&(k=!0),l=!mu(),x=new MK(m,H,ie,ce),te(Q[GF])||(l=!!Q[GF]);var ye=M,He=Q[KF]?M:null,rt=Q[KF]?M:null,Qe=[3,2];if(!M){h=!1;var Lr=Tf();Lr&&Lr.protocol&&Lr.protocol[qh]()==="file:"&&(j=!1);var bt=[];mu()?(bt=[2,1],Qe=[2,1,3]):bt=[1,2,3],bt=qK(bt,Q.transports),M=J(bt,!1),M||vi(p,"No available transport to send events"),ye=J(bt,!0)}He||(Qe=qK(Qe,Q[EK]),He=J(Qe,!0)),C=!h&&(l&&gi()||!k&&Ec(!0)),f=(X={},X[0]=M,X[1]=ye||J([1,2,3],!0),X[2]=He||ye||J([1],!0),X[3]=rt||J([2,3],!0)||ye||J([1],!0),X)})),T=!0)},Y.addResponseHandler=function(I){return L[mr](I),{rm:function(){var U=L.indexOf(I);U>=0&&L[Hf](U,1)}}};function J(I,U){for(var B=0,z=null,X=0;z==null&&X<I[Ge];)B=I[X],B===1?kf()?z=fe:gu()&&(z=Xe):B===2&&Ec(U)&&(!U||U&&!k)?z=ke:l&&B===3&&gi()&&(z=Ct),X++;return z?{_transport:B,_isSync:U,sendPOST:z}:null}Y._getDbgPlgTargets=function(){return[f[0],s,x,f]};function fe(I,U,B){var z=new XDomainRequest;z.open(ED,I[Vh]),I[Du]&&(z[Du]=I[Du]),z.onload=function(){var X=HK(z);Ke(U,200,{},X),hd(X)},z.onerror=function(){Ke(U,400,{})},z[JF]=function(){Ke(U,500,{})},z.onprogress=function(){},B?z.send(I[Ps]):$.set(function(){z.send(I[Ps])},0)}function Ne(){var I;i=null,s=new oO,a=!1,c=new rO,l=!1,u=0,d=null,p=null,f=null,m=null,h=!0,v=[],g={},w=[],x=null,y=!1,E=null,P=!1,D=!1,R=I,N=I,k=I,C=I,S=I,b=[],_=I,A=I,L=[],T=!1,$=Zh()}function ke(I,U,B){var z,X=I[Vh],re=!1,Q=!1,M=(z={body:I[Ps],method:ED},z[uK]=!0,z);B&&(M.keepalive=!0,I[Jw]===2&&(re=!0,S&&(X+=jK))),j&&(M.credentials="include"),I.headers&&Kn(I.headers)[Ge]>0&&(M[xa]=I[xa]);var V=function(ie,ce,ye){Q||(Q=!0,Ke(U,ie,ce,ye),hd(ye))},H=function(){Q||(Q=!0,Ke(U,0,{}))};fetch(X,M).then(function(ie){var ce={},ye=_s,He=ie[xa];He&&He.forEach(function(rt,Qe){ce[Qe]=rt}),ie.body?ie.text().then(function(rt){ye=rt,V(ie.status,ce,ye)},H):V(ie.status,ce,"")}).catch(H),re&&!Q&&(Q=!0,Ke(U,200,{})),!Q&&I[Du]>0&&$.set(function(){Q||(Q=!0,Ke(U,500,{}))},I[Du])}function Xe(I,U,B){var z=I[Vh];function X(V,H,ie){if(!V[ie]&&H&&H[XF]){var ce=H[XF](ie);ce&&(V[ie]=pt(ce))}return V}function re(V){var H={};return V[ZF]?H=Sp(V[ZF]()):(H=X(H,V,HF),H=X(H,V,jF),H=X(H,V,gK)),H}function Q(V,H){Ke(U,V.status,re(V),H)}B&&I[OD]&&(B=!1);var M=vD(ED,z,j,!0,B,I[Du]);de(I[xa],function(V,H){M.setRequestHeader(V,H)}),M.onload=function(){var V=HK(M);Q(M,V),hd(V)},M.onerror=function(){Q(M)},M[JF]=function(){Q(M)},M.send(I[Ps])}function Ke(I,U,B,z){try{I(U,B,z)}catch(X){ue(p,2,518,pe(X))}}function Ct(I,U,B){var z=I,X=200,re=z[zh],Q=I[Vh]+(S?jK:_s);try{var M=Fn();if(!M.sendBeacon(Q,I[Ps]))if(re){var V=!!m.getPlugin("LocalStorage"),H=[],ie=[];ne(re[Jr],function(ce){if(H&&ce&&ce[bn]()>0)for(var ye=ce[va](),He=0;He<ye[Ge];He++)if(M.sendBeacon(Q,x.getEventBlob(ye[He])))ie[mr](ce[He]);else{H[mr](ce[Ds](He));break}else H[mr](ce[Ds](0))}),ie[Ge]>0&&(re.sentEvts=ie),V||yo(H,8003,re[Bo],!0)}else X=0}catch(ce){vi(p,"Failed to send telemetry using sendBeacon API. Ex:"+pe(ce)),X=0}finally{Ke(U,X,{},_s)}}function Je(I){return I===2||I===3}function ct(I){return P&&Je(I)&&(I=2),I}Y.addHeader=function(I,U){g[I]=U},Y[Xw]=function(){return K()&&c[Gw]()},Y[Gh]=function(I,U){Oe(I)&&(I=0),P&&(I=ct(I),U=2),he(w,I,0)&&Ce(ae(),0,!1,I,U||0)},Y[UD]=function(){return!a&&u===0&&w[Ge]===0},Y[Zw]=function(I){P=I},Y.addBatch=function(I){if(I&&I[bn]()>0){if(s.isTenantKilled(I[Yi]()))return!1;w[mr](I)}return!0},Y.teardown=function(){w[Ge]>0&&Ce(ae(),0,!0,2,2),ne(b,function(I){I&&I.rm&&I.rm()}),b=[]},Y.pause=function(){a=!0},Y.resume=function(){a=!1,Y[Gh](0,4)},Y[MD]=function(I,U,B){I&&I[bn]()>0&&(te(U)&&(U=1),P&&(U=ct(U),B=2),Ce([I],0,!1,U,B||0))};function K(){return!a&&u<n}function ae(){var I=w;return w=[],I}function he(I,U,B){var z=!1;return I&&I[Ge]>0&&!a&&f[U]&&x&&(z=U!==0||K()&&(B>0||c[Gw]())),z}function Ee(I){var U={};return I&&ne(I,function(B,z){U[z]={iKey:B[Yi](),evts:B[va]()}}),U}function Ce(I,U,B,z,X){if(!(!I||I[Ge]===0)){if(a){yo(I,1,z);return}z=ct(z);try{var re=I,Q=z!==0;mn(m,function(){return"HttpManager:_sendBatches"},function(M){M&&(I=I.slice(0));for(var V=[],H=null,ie=Ho(),ce=f[z]||(Q?f[1]:f[0]),ye=ce&&ce[$D],He=C&&(P||Je(z)||ye===3||ce._isSync&&ye===2);he(I,z,U);){var rt=I.shift();rt&&rt[bn]()>0&&(s.isTenantKilled(rt[Yi]())?V[mr](rt):(H=H||x.createPayload(U,B,Q,He,X,z),x.appendPayload(H,rt,t)?H.overflow!==null&&(I=[H.overflow][Wi](I),H.overflow=null,Le(H,ie,Ho(),X),ie=Ho(),H=null):(Le(H,ie,Ho(),X),ie=Ho(),I=[rt][Wi](I),H=null)))}H&&Le(H,ie,Ho(),X),I[Ge]>0&&(w=I[Wi](w)),yo(V,8004,z)},function(){return{batches:Ee(re),retryCount:U,isTeardown:B,isSynchronous:Q,sendReason:X,useSendBeacon:Je(z),sendType:z}},!Q)}catch(M){ue(p,2,48,"Unexpected Exception sending batch: "+pe(M))}}}function Ze(I,U){var B={url:i,hdrs:{},useHdrs:!1};U?(B[Wh]=Mf(B[Wh],g),B.useHdrs=Kn(B.hdrs)[Ge]>0):de(g,function(M,V){lO[M]?Qh(B,lO[M],V,!1):(B[Wh][M]=V,B[ND]=!0)}),Qh(B,BF,"NO_AUTH",U),Qh(B,SD,Hh,U);var z=_s;ne(I.apiKeys,function(M){z[Ge]>0&&(z+=","),z+=M}),Qh(B,PD,z,U),Qh(B,DD,rn().toString(),U);var X=_p(I);if(pr(X)&&(B.url+="&ext.intweb.msfpc="+X),c[kD]()&&Qh(B,_D,c[RD](),U),m[Kh]){var re=m[Kh]();re>=0&&(B.url+="&w="+re)}for(var Q=0;Q<v[Ge];Q++)B.url+="&"+v[Q].name+"="+v[Q].value;return B}function le(I,U,B){I[U]=I[U]||{},I[U][d.identifier]=B}function Le(I,U,B,z){if(I&&I.payloadBlob&&I.payloadBlob[Ge]>0){var X=!!_,re=f[I.sendType];!Je(I[Bo])&&I[QF]&&I.sendReason===2&&(re=f[2]||f[3]||re);var Q=D;(I.isBeacon||re[$D]===3)&&(Q=!1);var M=Ze(I,Q);Q=Q||M[ND];var V=Ho();mn(m,function(){return"HttpManager:_doPayloadSend"},function(){for(var H=0;H<I.batches[Ge];H++)for(var ie=I[Jr][H],ce=ie[va](),ye=0;ye<ce[Ge];ye++){var He=ce[ye];if(y){var rt=He[Qw]=He[Qw]||{};le(rt,"sendEventStart",V),le(rt,"serializationStart",U),le(rt,"serializationCompleted",B)}He[aO]>0?He[aO]++:He[aO]=1}yo(I[Jr],1e3+(z||0),I[Bo],!0);var Qe={data:I.payloadBlob,urlString:M.url,headers:M[Wh],_thePayload:I,_sendReason:z,timeout:R,disableXhrSync:N,disableFetchKeepAlive:k};Q&&(BK(Qe[xa],$F)||(Qe[xa][$F]=mK),BK(Qe[xa],bD)||(Qe[xa][bD]=MF));var Lr=null;re&&(Lr=function(bt){c[TD]();var Dt=function(Dp,dQ){Lt(Dp,dQ,I,z)},tr=I[jD]||I[HD];try{re[BD](bt,Dt,tr),A&&A(Qe,bt,tr,I[QF])}catch(Dp){vi(p,"Unexpected exception sending payload. Ex:"+pe(Dp)),Ke(Dt,0,{})}}),mn(m,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Lr)if(I[Bo]===0&&u++,X&&!I.isBeacon&&re[$D]!==3){var bt={data:Qe[Ps],urlString:Qe[Vh],headers:Mf({},Qe[xa]),timeout:Qe[Du],disableXhrSync:Qe[OD],disableFetchKeepAlive:Qe[zF]},Dt=!1;mn(m,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{_(bt,function(tr){Dt=!0,!h&&!tr[zh]&&(tr[zh]=tr[zh]||Qe[zh],tr[Jw]=tr[Jw]||Qe[Jw]),Lr(tr)},I.isSync||I[jD])}catch{Dt||Lr(Qe)}})}else Lr(Qe)})},function(){return{thePayload:I,serializationStart:U,serializationCompleted:B,sendReason:z}},I[HD])}I.sizeExceed&&I.sizeExceed[Ge]>0&&yo(I.sizeExceed,8003,I[Bo]),I.failedEvts&&I.failedEvts[Ge]>0&&yo(I.failedEvts,8002,I[Bo])}function ft(I,U){y&&ne(I,function(B){var z=B[Qw]=B[Qw]||{};le(z,"sendEventCompleted",U)})}function Lt(I,U,B,z){var X=9e3,re=null,Q=!1,M=!1;try{var V=!0;if(typeof I!==Xs){if(U){c[Kw](U[HF]);var H=U[jF]||U["kill-duration-seconds"];ne(s[qD](U[hK],H),function(ce){ne(B[Jr],function(ye){if(ye[Yi]()===ce){re=re||[];var He=ye[Ds](0);B.numEvents-=He[bn](),re[mr](He)}})})}if(I==200||I==204){X=200;return}(!LK(I)||B.numEvents<=0)&&(V=!1),X=9e3+I%1e3}if(V){X=100;var ie=B.retryCnt;B[Bo]===0&&(ie<r?(Q=!0,md(function(){B[Bo]===0&&u--,Ce(B[Jr],ie+1,B[jD],P?2:B[Bo],5)},P,VD(ie))):(M=!0,P&&(X=8001)))}}finally{Q||(c[Kw](),Nr(B,X,z,M)),yo(re,8004,B[Bo])}}function Nr(I,U,B,z){try{z&&d[WD]();var X=I[Jr];U===200&&(X=I.sentEvts||I[Jr],!z&&!I[HD]&&d._clearBackOff(),Ji(X)),yo(X,U,I[Bo],!0)}finally{I[Bo]===0&&(u--,B!==5&&Y.sendQueuedRequests(I[Bo],B))}}function Ji(I){if(y){var U=Ho();ne(I,function(B){B&&B[bn]()>0&&ft(B[va](),U)})}}function md(I,U,B){U?I():$.set(I,B)}function Sp(I){var U={};if(Fe(I)){var B=pt(I)[Ds](/[\r\n]+/);ne(B,function(z){if(z){var X=z.indexOf(": ");if(X!==-1){var re=pt(z.substring(0,X))[qh](),Q=pt(z.substring(X+1));U[re]=Q}else U[pt(z)]=1}})}return U}function _p(I){for(var U=0;U<I.batches[Ge];U++){var B=I[Jr][U].Msfpc();if(B)return encodeURIComponent(B)}return _s}function hd(I){var U=L;try{for(var B=0;B<U[Ge];B++)try{U[B](I)}catch(X){ue(p,1,519,"Response handler failed: "+X)}if(I){var z=JSON.parse(I);pr(z.webResult)&&pr(z.webResult[Bh])&&E.set("MSFPC",z.webResult[Bh],365*86400)}}catch{}}function yo(I,U,B,z){if(I&&I[Ge]>0&&o){var X=o[Jc(U)];if(X){var re=B!==0;mn(m,function(){return"HttpManager:_sendBatchesNotification"},function(){md(function(){try{X.call(o,I,U,re,B)}catch(Q){ue(p,1,74,"send request notification failed: "+Q)}},z||re,0)},function(){return{batches:Ee(I),reason:U,isSync:re,sendSync:z,sendType:B}},!re)}}}function Jc(I){var U=yge[I];return pr(U)||(U=pK,I>=9e3&&I<=9999?U=fK:I>=8e3&&I<=8999?U=CD:I>=1e3&&I<=1999&&(U=dK)),U}})}return e.__ieDyn=1,e}()});function Ige(e){return e&&e[BD]}var bge,VK,Sge,GK,KK,_ge,zK,Dge,uO,Yf,hr,Pge,JK,XK=q(()=>{Fo();Dr();$f();bh();Re();OF();nO();YK();zw();iO();sO();Jh();bge=.25,VK=500,Sge=20,GK=6,KK=2,_ge=4,zK=2,Dge=1,uO=1e4,Yf="eventsDiscarded",hr=void 0,Pge=fo({eventsLimitInMem:{isVal:_u,v:uO},immediateEventLimit:{isVal:_u,v:500},autoFlushEventsLimit:{isVal:_u,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:Ige,v:hr},overrideInstrumentationKey:hr,overrideEndpointUrl:hr,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:hr,clearTimeoutOverride:hr,payloadPreprocessor:hr,payloadListener:hr,disableEventTimings:hr,valueSanitizer:hr,stringifyObjects:hr,enableCompoundKey:hr,disableOptimizeObj:!1,transports:hr,unloadTransports:hr,useSendBeacon:hr,disableFetchKeepAlive:hr,avoidOptions:!1,xhrTimeout:hr,disableXhrSync:hr,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:dr,v:GK},maxUnloadEventRetryAttempts:{isVal:dr,v:KK},addNoResponse:hr});JK=function(e){Ao(t,e);function t(){var n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="4.0.4";var r,o=!1,i=[],s,a=!1,c=0,l,u=0,d,p={},f=jf,m,h,v,g,w,x,y,E,P,D,R,N,k,C,S,b,_,A,L,T,$,Y;return ot(t,n,function(j,J){K(),j._getDbgPlgTargets=function(){return[w,r]},j[Yh]=function(M,V,H){mn(V,function(){return"PostChannel:initialize"},function(){J[Yh](M,V,H),L=V.getNotifyMgr();try{S=xi(Ir(j[ey]),V.evtNamespace&&V.evtNamespace()),j._addHook(Un(M,function(ie){var ce=ie.cfg,ye=vo(null,ce,V);r=ye.getExtCfg(j[ey],Pge),b=Zh(r[LD],r[AD]),R=!r[bK]&&gD(),_=r[SK],Ne(V),d=r[eO],l=r.immediateEventLimit,y=r[tO],k=r.maxEventRetryAttempts,C=r.maxUnloadEventRetryAttempts,A=r[_K],Q(),$=r[DK],Y=!!r[PK],T&&fe();var He=ce.disablePageUnloadEvents||[];T=$w(ke,He,S),T=Mh(ke,He,S)||T,T=$h(Xe,ce.disablePageShowEvents,S)||T})),w[Yh](M,j.core,j)}catch(ie){throw j.setInitialized(!1),ie}},function(){return{theConfig:M,core:V,extensions:H}})},j.processTelemetry=function(M,V){Yw(M,j[ey]),V=V||j._getTelCtx(V);var H=M;!Y&&!o&&($&&(H[Yi]=$),Ke(H,!0),N?Ee(2,2):ct()),j.processNext(H,V)},j._doTeardown=function(M,V){Ee(2,2),o=!0,w.teardown(),fe(),K()};function fe(){jw(null,S),Hw(null,S),Bw(null,S)}function Ne(M){var V=M[Kh];M[Kh]=function(){var H=0;return _&&(H=H|2),H|V.call(M)}}function ke(M){var V=M||pn().event;V.type!=="beforeunload"&&(N=!0,w[Zw](N)),Ee(2,2)}function Xe(M){N=!1,w[Zw](N)}function Ke(M,V){if(M[ty]||(M[ty]=0),M[Pu]||(M[Pu]=1),M.ext&&M.ext[WF]&&delete M.ext[WF],M.ext&&M.ext[ID]&&M.ext[ID].id&&delete M.ext[ID].id,R&&(M.ext=qi(M.ext),M[YD]&&(M[YD]=qi(M[YD])),M[Ps]&&(M[Ps]=qi(M[Ps]))),M[Bf]){if(v||a)M[Pu]=3,M[Bf]=!1;else if(w){R&&(M=qi(M)),w[MD](Xh.create(M[Yi],[M]),M[Bf]===!0?1:M[Bf],3);return}}var H=M[Pu],ie=u,ce=d;H===4&&(ie=c,ce=l);var ye=!1;if(ie<ce)ye=!Le(M,V);else{var He=1,rt=Sge;H===4&&(He=4,rt=1),ye=!0,ft(M[Yi],M[Pu],He,rt)&&(ye=!Le(M,V))}ye&&Jc(Yf,[M],ws.QueueFull)}j.setEventQueueLimits=function(M,V){r[eO]=d=_u(M)?M:uO,r[tO]=y=_u(V)?V:0,Q();var H=u>M;if(!H&&E>0)for(var ie=1;!H&&ie<=3;ie++){var ce=x[ie];ce&&ce[Jr]&&ne(ce[Jr],function(ye){ye&&ye[bn]()>=E&&(H=!0)})}le(!0,H)},j.pause=function(){he(),a=!0,w.pause()},j.resume=function(){a=!1,w.resume(),ct()},j._loadTransmitProfiles=function(M){Sp(),de(M,function(V,H){var ie=H[Ge];if(ie>=2){var ce=ie>2?H[2]:0;if(H[Hf](0,ie-2),H[1]<0&&(H[0]=-1),H[1]>0&&H[0]>0){var ye=H[0]/H[1];H[0]=Math.ceil(ye)*H[1]}ce>=0&&H[1]>=0&&ce>H[1]&&(ce=H[1]),H[mr](ce),p[V]=H}})},j.flush=function(M,V,H){M===void 0&&(M=!0);var ie;if(!a)if(H=H||1,M)V||(ie=go(function(ye){V=ye})),s==null?(he(),Nr(1,0,H),s=ae(function(){s=null,Ji(V,H)},0)):i[mr](V);else{var ce=he();Ct(1,1,H),V&&V(),ce&&ct()}return ie},j.setMsaAuthTicket=function(M){w.addHeader(Vw,M)},j.hasEvents=Je,j._setTransmitProfile=function(M){f!==M&&p[M]!==void 0&&(he(),f=M,ct())},hi(j,function(){return w},["addResponseHandler"]);function Ct(M,V,H){var ie=Nr(M,V,H);return w[Gh](V,H),ie}function Je(){return u>0}function ct(){if(P>=0&&Nr(P,0,D)&&w[Gh](0,D),c>0&&!h&&!a){var M=p[f][2];M>=0&&(h=ae(function(){h=null,Ct(4,0,1),ct()},M))}var V=p[f][1];!m&&!s&&V>=0&&!a&&(Je()?m=ae(function(){m=null,Ct(g===0?3:1,0,1),g++,g%=2,ct()},V):g=0)}j[WD]=function(){v<_ge&&(v++,he(),ct())},j._clearBackOff=function(){v&&(v=0,he(),ct())};function K(){r=null,o=!1,i=[],s=null,a=!1,c=0,l=500,u=0,d=uO,p={},f=jf,m=null,h=null,v=0,g=0,x={},y=0,T=!1,E=0,P=-1,D=null,R=!0,N=!1,k=GK,C=KK,S=null,$=null,Y=!1,b=Zh(),w=new WK(VK,zK,Dge,{requeue:hd,send:U,sent:B,drop:z,rspFail:X,oth:re}),_p(),Ce(),Q()}function ae(M,V){V===0&&v&&(V=1);var H=1e3;return v&&(H=VD(v-1)),b.set(M,V*H)}function he(){return m!==null?(m.cancel(),m=null,g=0,!0):!1}function Ee(M,V){he(),s&&(s.cancel(),s=null),a||Ct(1,M,V)}function Ce(){x[4]={batches:[],iKeyMap:{}},x[3]={batches:[],iKeyMap:{}},x[2]={batches:[],iKeyMap:{}},x[1]={batches:[],iKeyMap:{}}}function Ze(M,V,H){var ie=x[V];ie||(V=1,ie=x[V]);var ce=ie.iKeyMap[M];return!ce&&H&&(ce=Xh.create(M),ie.batches[mr](ce),ie.iKeyMap[M]=ce),ce}function le(M,V){w[Xw]()&&!v&&(y>0&&u>y&&(V=!0),V&&s==null&&j.flush(M,function(){},20))}function Le(M,V){R&&(M=qi(M));var H=M[Pu],ie=Ze(M[Yi],H,!0);return ie.addEvent(M)?(H!==4?(u++,V&&M[ty]===0&&le(!M.sync,E>0&&ie[bn]()>=E)):c++,!0):!1}function ft(M,V,H,ie){for(;H<=V;){var ce=Ze(M,V,!0);if(ce&&ce[bn]()>0){var ye=ce[Ds](0,ie),He=ye[bn]();if(He>0)return H===4?c-=He:u-=He,I(Yf,[ye],ws.QueueFull),!0}H++}return Lt(),!1}function Lt(){for(var M=0,V=0,H=function(ce){var ye=x[ce];ye&&ye[Jr]&&ne(ye[Jr],function(He){ce===4?M+=He[bn]():V+=He[bn]()})},ie=1;ie<=4;ie++)H(ie);u=V,c=M}function Nr(M,V,H){var ie=!1,ce=V===0;return!ce||w[Xw]()?mn(j.core,function(){return"PostChannel._queueBatches"},function(){for(var ye=[],He=4;He>=M;){var rt=x[He];rt&&rt.batches&&rt.batches[Ge]>0&&(ne(rt[Jr],function(Qe){w.addBatch(Qe)?ie=ie||Qe&&Qe[bn]()>0:ye=ye[Wi](Qe[va]()),He===4?c-=Qe[bn]():u-=Qe[bn]()}),rt[Jr]=[],rt.iKeyMap={}),He--}ye[Ge]>0&&Jc(Yf,ye,ws.KillSwitch),ie&&P>=M&&(P=-1,D=0)},function(){return{latency:M,sendType:V,sendReason:H}},!ce):(P=P>=0?Math.min(P,M):M,D=Math.max(D,H)),ie}function Ji(M,V){Ct(1,0,V),Lt(),md(function(){M&&M(),i[Ge]>0?s=ae(function(){s=null,Ji(i.shift(),V)},0):(s=null,ct())})}function md(M){w[UD]()?M():s=ae(function(){s=null,md(M)},bge)}function Sp(){he(),_p(),f=jf,ct()}function _p(){p={},p[jf]=[2,1,0],p[wD]=[6,3,0],p[yD]=[18,9,0]}function hd(M,V){var H=[],ie=k;N&&(ie=C),ne(M,function(ce){ce&&ce[bn]()>0&&ne(ce[va](),function(ye){ye&&(ye[Bf]&&(ye[Pu]=4,ye[Bf]=!1),ye[ty]<ie?(Yw(ye,j[ey]),Ke(ye,!1)):H[mr](ye))})}),H[Ge]>0&&Jc(Yf,H,ws.NonRetryableStatus),N&&Ee(2,2)}function yo(M,V){var H=L||{},ie=H[M];if(ie)try{ie.apply(H,V)}catch(ce){ue(j.diagLog(),1,74,M+" notification failed: "+ce)}}function Jc(M,V){for(var H=[],ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];V&&V[Ge]>0&&yo(M,[V][Wi](H))}function I(M,V){for(var H=[],ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];V&&V[Ge]>0&&ne(V,function(ce){ce&&ce[bn]()>0&&yo(M,[ce.events()][Wi](H))})}function U(M,V,H){M&&M[Ge]>0&&yo("eventsSendRequest",[V>=1e3&&V<=1999?V-1e3:0,H!==!0])}function B(M,V){I("eventsSent",M,V),ct()}function z(M,V){I(Yf,M,V>=8e3&&V<=8999?V-8e3:ws.Unknown)}function X(M){I(Yf,M,ws.NonRetryableStatus),ct()}function re(M,V){I(Yf,M,ws.Unknown),ct()}function Q(){A?E=0:E=Math.max(VK*(zK+1),d/6)}}),n}return t.__ieDyn=1,t}(Ic)});var ZK={};Zg(ZK,{BE_PROFILE:()=>yD,NRT_PROFILE:()=>wD,PostChannel:()=>JK,RT_PROFILE:()=>jf});var QK=q(()=>{OF();XK()});var t5=O(wa=>{"use strict";var Tge=wa&&wa.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),kge=wa&&wa.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e5=wa&&wa.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Tge(t,e,n);return kge(t,e),t};Object.defineProperty(wa,"__esModule",{value:!0});wa.oneDataSystemClientFactory=void 0;var Rge=async(e,t,n)=>{let r=await Promise.resolve().then(()=>e5(($f(),Qg(lK)))),o=await Promise.resolve().then(()=>e5((QK(),Qg(ZK)))),i=new r.AppInsightsCore,s=new o.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let u={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=u}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return i.initialize(a,[]),i.addTelemetryInitializer(u=>{l&&(u.ext=u.ext??{},u.ext.utc=u.ext.utc??{},u.ext.utc.flags=8462029)}),i},Nge=async(e,t,n)=>{let r=await Rge(e,t,n);return{logEvent:(s,a)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:a==null?void 0:a.properties,measurements:a==null?void 0:a.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!r){a();return}r.flush(!0,l=>{if(!l){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!r){a();return}r.unload(!1,()=>{a(),r=void 0},1e3)})}};wa.oneDataSystemClientFactory=Nge});var eg,tg,ng,ny,Iu,ya,Zn,GD,Vi=q(()=>{eg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",tg="sampleRate",ng="ProcessLegacy",ny="http.method",Iu="https://dc.services.visualstudio.com",ya="/v2/track",Zn="not_specified",GD="iKey"});var Lc,dO=q(()=>{yt();Lc=hA({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})});var Ac,Me,Ea,Tu,Fc,KD,Mn,Is,ku,JD,XD,ZD,fO,QD,e0,Vf,rg,pO,ry,zf,zi,Xr,Zr,Gf,Ca,Kf,t0,n0,mO,Jf,Ru,oy,iy,Xf,og,Zf,hO,gr=q(()=>{Ac="split",Me="length",Ea="toLowerCase",Tu="ingestionendpoint",Fc="toString",KD="removeItem",Mn="name",Is="message",ku="count",JD="preTriggerDate",XD="disabled",ZD="interval",fO="daysOfMonth",QD="date",e0="getUTCDate",Vf="stringify",rg="pathname",pO="correlationHeaderExcludePatterns",ry="extensionConfig",zf="exceptions",zi="parsedStack",Xr="properties",Zr="measurements",Gf="sizeInBytes",Ca="typeName",Kf="severityLevel",t0="problemGroup",n0="isManual",mO="CreateFromInterface",Jf="assembly",Ru="fileName",oy="hasFullStack",iy="level",Xf="method",og="line",Zf="duration",hO="receivedResponse"});function r0(e,t,n){var r=t[Me],o=gO(e,t);if(o[Me]!==r){for(var i=0,s=o;n[s]!==void 0;)i++,s=fn(o,0,150-3)+vO(i);o=s}return o}function gO(e,t){var n;return t&&(t=pt(Ln(t)),t[Me]>150&&(n=fn(t,0,150),ue(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),n||t}function St(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=pt(Ln(t)),t[Me]>n&&(r=fn(t,0,n),ue(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Nu(e,t){return s0(e,t,2048,66)}function ig(e,t){var n;return t&&t[Me]>32768&&(n=fn(t,0,32768),ue(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function o0(e,t){var n;if(t){var r=""+t;r[Me]>32768&&(n=fn(r,0,32768),ue(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Qr(e,t){if(t){var n={};de(t,function(r,o){if(kt(o)&&ca())try{o=Pr()[Vf](o)}catch(i){ue(e,2,49,"custom property is not valid",{exception:i},!0)}o=St(e,o,8192),r=r0(e,r,n),n[r]=o}),t=n}return t}function eo(e,t){if(t){var n={};de(t,function(r,o){r=r0(e,r,n),n[r]=o}),t=n}return t}function i0(e,t){return t&&s0(e,t,128,69)[Fc]()}function s0(e,t,n,r){var o;return t&&(t=pt(Ln(t)),t[Me]>n&&(o=fn(t,0,n),ue(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),o||t}function vO(e){var t="00"+e;return vs(t,t[Me]-3)}var Gi=q(()=>{yt();Re();gr()});function Qf(e){var t=r5,n=Lge,r=n[t];return n5.createElement?n[t]||(r=n[t]=n5.createElement("a")):r={host:xO(e,!0)},r.href=e,t++,t>=n[Me]&&(t=0),r5=t,r}function o5(e){var t,n=Qf(e);return n&&(t=n.href),t}function i5(e){var t,n=Qf(e);return n&&(t=n[rg]),t}function s5(e,t){return e?e.toUpperCase()+" "+t:t}function xO(e,t){var n=sy(e,t)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[Me]>3&&Fe(r[2])&&r[2][Me]>0)return r[2]+(r[3]||"")}return n}function sy(e,t){var n=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[Me]>2&&Fe(r[2])&&r[2][Me]>0&&(n=r[2]||"",t&&r[Me]>2)){var o=(r[1]||"")[Ea](),i=r[3]||"";(o==="http"&&i===":80"||o==="https"&&i===":443")&&(i=""),n+=i}}return n}var n5,r5,Lge,wO=q(()=>{yt();gr();n5=nn()||{},r5=0,Lge=[null,null,null,null,null]});function sg(e){return ut(Age,e[Ea]())!==-1}function a5(e){yO=e}function c5(){return yO}function l5(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[pO]){for(var r=0;r<e.correlationHeaderExcludePatterns[Me];r++)if(e[pO][r].test(t))return!1}var o=Qf(t).host[Ea]();if(o&&(ho(o,":443")!==-1||ho(o,":80")!==-1)&&(o=(sy(t,!0)||"")[Ea]()),(!e||!e.enableCorsCorrelation)&&o&&o!==n)return!1;var i=e&&e.correlationHeaderDomains;if(i){var s;if(ne(i,function(l){var u=new RegExp(l.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||u.test(o)}),!s)return!1}var a=e&&e.correlationHeaderExcludedDomains;if(!a||a[Me]===0)return!0;for(var r=0;r<a[Me];r++){var c=new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(o))return!1}return o&&o[Me]>0}function u5(e){if(e){var t=EO(e,Lc[1]);if(t&&t!==yO)return t}}function EO(e,t){if(e)for(var n=e[Ac](","),r=0;r<n[Me];++r){var o=n[r][Ac]("=");if(o[Me]===2&&o[0]===t)return o[1]}}function d5(e,t,n,r){var o,i=r,s=r;if(t&&t[Me]>0){var a=Qf(t);if(o=a.host,!i)if(a[rg]!=null){var c=a.pathname[Me]===0?"/":a[rg];c.charAt(0)!=="/"&&(c="/"+c),s=a[rg],i=St(e,n?n+" "+c:c)}else i=St(e,t)}else o=r,i=r;return{target:o,name:i,data:s}}function f5(){var e=hc();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return rn()}function p5(e,t){var n=null;return e!==0&&t!==0&&!te(e)&&!te(t)&&(n=t-e),n}function m5(e,t){var n=e||{};return{getName:function(){return n[Mn]},setName:function(r){t&&t.setName(r),n[Mn]=r},getTraceId:function(){return n.traceID},setTraceId:function(r){t&&t.setTraceId(r),da(r)&&(n.traceID=r)},getSpanId:function(){return n.parentID},setSpanId:function(r){t&&t.setSpanId(r),fa(r)&&(n.parentID=r)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(r){t&&t.setTraceFlags(r),n.traceFlags=r}}}var Age,yO,CO=q(()=>{yt();Re();Vi();dO();Gi();wO();gr();Age=[Iu+ya,"https://breeze.aimon.applicationinsights.io"+ya,"https://dc-int.services.visualstudio.com"+ya],yO="cid-v1:"});var ag,h5,bO=q(()=>{yt();ag=fr({LocalStorage:0,SessionStorage:1}),h5=fr({AI:0,AI_AND_W3C:1,W3C:2})});function SO(){return cg()?a0(ag.LocalStorage):null}function a0(e){try{if(te(Gr()))return null;var t=new Date()[Fc](),n=Ut(e===ag.LocalStorage?"localStorage":"sessionStorage"),r=g5+t;n.setItem(r,t);var o=n.getItem(r)!==t;if(n[KD](r),!o)return n}catch{}return null}function _O(){return ep()?a0(ag.SessionStorage):null}function v5(){Lu=!1,Au=!1}function c0(e){g5=e||""}function x5(){Lu=cg(!0),Au=ep(!0)}function cg(e){return(e||Lu===void 0)&&(Lu=!!a0(ag.LocalStorage)),Lu}function l0(e,t){var n=SO();if(n!==null)try{return n.getItem(t)}catch(r){Lu=!1,ue(e,2,1,"Browser failed read of local storage. "+$t(r),{exception:pe(r)})}return null}function u0(e,t,n){var r=SO();if(r!==null)try{return r.setItem(t,n),!0}catch(o){Lu=!1,ue(e,2,3,"Browser failed write to local storage. "+$t(o),{exception:pe(o)})}return!1}function w5(e,t){var n=SO();if(n!==null)try{return n[KD](t),!0}catch(r){Lu=!1,ue(e,2,5,"Browser failed removal of local storage item. "+$t(r),{exception:pe(r)})}return!1}function ep(e){return(e||Au===void 0)&&(Au=!!a0(ag.SessionStorage)),Au}function y5(){var e=[];return ep()&&de(Ut("sessionStorage"),function(t){e.push(t)}),e}function d0(e,t){var n=_O();if(n!==null)try{return n.getItem(t)}catch(r){Au=!1,ue(e,2,2,"Browser failed read of session storage. "+$t(r),{exception:pe(r)})}return null}function f0(e,t,n){var r=_O();if(r!==null)try{return r.setItem(t,n),!0}catch(o){Au=!1,ue(e,2,4,"Browser failed write to session storage. "+$t(o),{exception:pe(o)})}return!1}function E5(e,t){var n=_O();if(n!==null)try{return n[KD](t),!0}catch(r){Au=!1,ue(e,2,6,"Browser failed removal of session storage item. "+$t(r),{exception:pe(r)})}return!1}var Lu,Au,g5,DO=q(()=>{yt();bO();gr();Lu=void 0,Au=void 0,g5=""});var Fge,C5,b5=q(()=>{yt();Re();DO();gr();Fge="appInsightsThrottle",C5=function(){function e(t,n){var r=this,o,i,s,a,c,l,u,d=!1,p=!1;m(),r._getDbgPlgTargets=function(){return[u]},r.getConfig=function(){return s},r.canThrottle=function(_){var A=C(_),L=h(_);return w(L,o,A)},r.isTriggered=function(_){return S(_)},r.isReady=function(){return d},r.flush=function(_){try{var A=b(_);if(A&&A[Me]>0){var L=A.slice(0);return u[_]=[],ne(L,function(T){f(T.msgID,T[Is],T.severity,!1)}),!0}}catch{}return!1},r.flushAll=function(){try{if(u){var _=!0;return de(u,function(A){var L=r.flush(parseInt(A));_=_&&L}),_}}catch{}return!1},r.onReadyState=function(_,A){return A===void 0&&(A=!0),d=te(_)?!0:_,d&&A?r.flushAll():null},r.sendMessage=function(_,A,L){return f(_,A,L,!0)};function f(_,A,L,T){if(d){var $=k(_);if(!$)return;var Y=h(_),j=C(_),J=w(Y,o,j),fe=!1,Ne=0,ke=S(_);try{J&&!ke?(Ne=Math.min(Y.limit.maxSendNumber,j[ku]+1),j[ku]=0,fe=!0,c[_]=!0,j[JD]=new Date):(c[_]=J,j[ku]+=1);var Xe=x(_);D(i,Xe,j);for(var Ke=0;Ke<Ne;Ke++)N(_,i,A,L)}catch{}return{isThrottled:fe,throttleNum:Ne}}else if(T){var Ct=b(_);Ct.push({msgID:_,message:A,severity:L})}return null}function m(){i=Ss(t),c={},a={},u={},s={},v(109),l=aa(n)?n:"",t.addUnloadHook(Un(t.config,function(_){var A=_.cfg;o=cg();var L=A.throttleMgrCfg||{};de(L,function(T,$){v(parseInt(T),$)})}))}function h(_){return s[_]||s[109]}function v(_,A){var L,T;try{var $=A||{},Y={};Y[XD]=!!$[XD];var j=$[ZD]||{};p=(j==null?void 0:j.daysOfMonth)&&(j==null?void 0:j.daysOfMonth[Me])>0,Y[ZD]=g(j);var J={samplingRate:((L=$.limit)===null||L===void 0?void 0:L.samplingRate)||100,maxSendNumber:((T=$.limit)===null||T===void 0?void 0:T.maxSendNumber)||1};Y.limit=J,s[_]=Y}catch{}}function g(_){_=_||{};var A=_==null?void 0:_.monthInterval,L=_==null?void 0:_.dayInterval;return te(A)&&te(L)&&(_.monthInterval=3,p||(_[fO]=[28],p=!0)),_={monthInterval:_==null?void 0:_.monthInterval,dayInterval:_==null?void 0:_.dayInterval,daysOfMonth:_==null?void 0:_.daysOfMonth},_}function w(_,A,L){if(_&&!_[XD]&&A&&aa(L)){var T=P(),$=L[QD],Y=_[ZD],j=1;if(Y!=null&&Y.monthInterval){var J=(T.getUTCFullYear()-$.getUTCFullYear())*12+T.getUTCMonth()-$.getUTCMonth();j=R(Y.monthInterval,0,J)}var fe=1;if(p)fe=ut(Y[fO],T[e0]());else if(Y!=null&&Y.dayInterval){var Ne=Math.floor((T.getTime()-$.getTime())/864e5);fe=R(Y.dayInterval,0,Ne)}return j>=0&&fe>=0}return!1}function x(_,A){var L=aa(A)?A:"";return _?Fge+L+"-"+_:null}function y(_){try{if(_){var A=new Date;return _.getUTCFullYear()===A.getUTCFullYear()&&_.getUTCMonth()===A.getUTCMonth()&&_[e0]()===A[e0]()}}catch{}return!1}function E(_,A,L){try{var T={date:P(),count:0};if(_){var $=JSON.parse(_),Y={date:P($[QD])||T[QD],count:$[ku]||T[ku],preTriggerDate:$.preTriggerDate?P($[JD]):void 0};return Y}else return D(A,L,T),T}catch{}return null}function P(_){try{if(_){var A=new Date(_);if(!isNaN(A.getDate()))return A}else return new Date}catch{}return null}function D(_,A,L){try{return u0(_,A,pt(JSON[Vf](L)))}catch{}return!1}function R(_,A,L){return _<=0?1:L>=A&&(L-A)%_==0?Math.floor((L-A)/_)+1:-1}function N(_,A,L,T){ue(A,T||1,_,L)}function k(_){try{var A=h(_);return xw(1e6)<=A.limit.samplingRate}catch{}return!1}function C(_){try{var A=a[_];if(!A){var L=x(_,l);A=E(l0(i,L),i,L),a[_]=A}return a[_]}catch{}return null}function S(_){var A=c[_];if(te(A)){A=!1;var L=C(_);L&&(A=y(L[JD])),c[_]=A}return c[_]}function b(_){return u=u||{},te(u[_])&&(u[_]=[]),u[_]}}return e}()});function ay(e){if(!e)return{};var t=e[Ac](Oge),n=sh(t,function(o,i){var s=i[Ac](Uge);if(s[Me]===2){var a=s[0][Ea](),c=s[1];o[a]=c}return o},{});if(Kn(n)[Me]>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n[Tu]=n[Tu]||"https://"+r+"dc."+n.endpointsuffix}n[Tu]=n[Tu]||Iu,tu(n[Tu],"/")&&(n[Tu]=n[Tu].slice(0,-1))}return n}var Oge,Uge,S5,_5=q(()=>{yt();Vi();gr();Oge=";",Uge="=";S5={parse:ay}});var p0,D5=q(()=>{yt();Vi();gr();Gi();p0=function(){function e(t,n,r){var o=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i[Mn]=St(t,r)||Zn,i.data=n,i.time=mi(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1}}return e}()});var ba,P5=q(()=>{Vi();gr();Gi();ba=function(){function e(t,n,r,o){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i[Mn]=St(t,n)||Zn,i[Xr]=Qr(t,r),i[Zr]=eo(t,o)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}()});function kO(e,t){var n=e;return n&&!Fe(n)&&(JSON&&JSON[Vf]?(n=JSON[Vf](e),t&&(!n||n==="{}")&&(Ae(e[Fc])?n=e[Fc]():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}function N5(e,t){var n=e;return e&&(n&&!Fe(n)&&(n=e[TO]||e[R5]||n),n&&!Fe(n)&&(n=kO(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&ho(n||"",t)===-1&&(n=t+": "+n),n||""}function $ge(e){try{if(kt(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}function jge(e){try{if(kt(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}function T5(e){return e&&e.src&&Fe(e.src)&&e.obj&&ge(e.obj)}function tp(e){var t=e||"";Fe(t)||(Fe(t[qo])?t=t[qo]:t=""+t);var n=t[Ac](`
`);return{src:t,obj:n}}function Hge(e){for(var t=[],n=e[Ac](`
`),r=0;r<n[Me];r++){var o=n[r];n[r+1]&&(o+="@"+n[r+1],r++),t.push(o)}return{src:e,obj:t}}function L5(e){var t=null;if(e)try{if(e[qo])t=tp(e[qo]);else if(e[lg]&&e[lg][qo])t=tp(e[lg][qo]);else if(e.exception&&e.exception[qo])t=tp(e.exception[qo]);else if(T5(e))t=e;else if(T5(e[IO]))t=e[IO];else if(pn()&&pn().opera&&e[TO])t=Hge(e[Is]);else if(e.reason&&e.reason[qo])t=tp(e.reason[qo]);else if(Fe(e))t=tp(e);else{var n=e[TO]||e[R5]||"";Fe(e[I5])&&(n&&(n+=`
`),n+=" from "+e[I5]),n&&(t=tp(n))}}catch(r){t=tp(r)}return t||{src:"",obj:null}}function Bge(e){var t="";return e&&(e.obj?ne(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}function qge(e){var t,n=e.obj;if(n&&n[Me]>0){t=[];var r=0,o=0;ne(n,function(m){var h=m[Fc]();if(RO.regex.test(h)){var v=new RO(h,r++);o+=v[Gf],t.push(v)}});var i=32*1024;if(o>i)for(var s=0,a=t[Me]-1,c=0,l=s,u=a;s<a;){var d=t[s][Gf],p=t[a][Gf];if(c+=d+p,c>i){var f=u-l+1;t.splice(l,f);break}l=s,u=a,s++,a--}}return t}function m0(e){var t="";if(e&&(t=e.typeName||e[Mn]||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor[Fc]());t=r&&r[Me]>1?r[1]:""}catch{}return t}function PO(e){if(e)try{if(!Fe(e)){var t=m0(e),n=kO(e,!1);return(!n||n==="{}")&&(e[lg]&&(e=e[lg],t=m0(e)),n=kO(e,!0)),ho(n,t)!==0&&t!=="String"?t+":"+n:n}}catch{}return""+(e||"")}var Mge,lg,qo,IO,I5,TO,R5,Fu,k5,RO,A5=q(()=>{Fo();yt();Re();Vi();gr();Gi();Mge="<no_method>",lg="error",qo="stack",IO="stackDetails",I5="errorSrc",TO="message",R5="description";Fu=function(){function e(t,n,r,o,i,s){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,jge(n)?(a[zf]=n[zf]||[],a[Xr]=n[Xr],a[Zr]=n[Zr],n[Kf]&&(a[Kf]=n[Kf]),n.id&&(a.id=n.id),n[t0]&&(a[t0]=n[t0]),te(n[n0])||(a[n0]=n[n0])):(r||(r={}),a[zf]=[new k5(t,n,r)],a[Xr]=Qr(t,r),a[Zr]=eo(t,o),i&&(a[Kf]=i),s&&(a.id=s))}return e.CreateAutoException=function(t,n,r,o,i,s,a,c){var l,u=m0(i||s||t);return l={},l[Is]=N5(t,u),l.url=n,l.lineNumber=r,l.columnNumber=o,l.error=PO(i||s||t),l.evt=PO(s||t),l[Ca]=u,l.stackDetails=L5(a||i||s),l.errorSrc=c,l},e.CreateFromInterface=function(t,n,r,o){var i=n[zf]&&ea(n[zf],function(a){return k5[mO](t,a)}),s=new e(t,ji(ji({},n),{exceptions:i}),r,o);return s},e.prototype.toInterface=function(){var t,n=this,r=n.exceptions,o=n.properties,i=n.measurements,s=n.severityLevel,a=n.problemGroup,c=n.id,l=n.isManual,u=r instanceof Array&&ea(r,function(d){return d.toInterface()})||void 0;return t={ver:"4.0"},t[zf]=u,t.severityLevel=s,t.properties=o,t.measurements=i,t.problemGroup=a,t.id=c,t.isManual=l,t},e.CreateSimpleException=function(t,n,r,o,i,s){var a;return{exceptions:[(a={},a[oy]=!0,a.message=t,a.stack=i,a.typeName=n,a)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=PO,e}(),k5=function(){function e(t,n,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var o=this;if($ge(n))o[Ca]=n[Ca],o[Is]=n[Is],o[qo]=n[qo],o[zi]=n[zi]||[],o[oy]=n[oy];else{var i=n,s=i&&i.evt;Zs(i)||(i=i[lg]||s||i),o[Ca]=St(t,m0(i))||Zn,o[Is]=ig(t,N5(n||i,o[Ca]))||Zn;var a=n[IO]||L5(n);o[zi]=qge(a),ge(o[zi])&&ea(o[zi],function(c){c[Jf]=St(t,c[Jf]),c[Ru]=St(t,c[Ru])}),o[qo]=o0(t,Bge(a)),o.hasFullStack=ge(o.parsedStack)&&o.parsedStack[Me]>0,r&&(r[Ca]=r[Ca]||o[Ca])}}return e.prototype.toInterface=function(){var t,n=this,r=n[zi]instanceof Array&&ea(n[zi],function(i){return i.toInterface()}),o=(t={id:n.id,outerId:n.outerId,typeName:n[Ca],message:n[Is],hasFullStack:n[oy],stack:n[qo]},t[zi]=r||void 0,t);return o},e.CreateFromInterface=function(t,n){var r=n[zi]instanceof Array&&ea(n[zi],function(i){return RO[mO](i)})||n[zi],o=new e(t,ji(ji({},n),{parsedStack:r}));return o},e}(),RO=function(){function e(t,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r[Gf]=0,typeof t=="string"){var o=t;r[iy]=n,r[Xf]=Mge,r[Jf]=pt(o),r[Ru]="",r[og]=0;var i=o.match(e.regex);i&&i[Me]>=5&&(r[Xf]=pt(i[2])||r[Xf],r[Ru]=pt(i[4]),r[og]=parseInt(i[5])||0)}else r[iy]=t[iy],r[Xf]=t[Xf],r[Jf]=t[Jf],r[Ru]=t[Ru],r[og]=t[og],r[Gf]=0;r.sizeInBytes+=r.method[Me],r.sizeInBytes+=r.fileName[Me],r.sizeInBytes+=r.assembly[Me],r[Gf]+=e.baseSize,r.sizeInBytes+=r.level.toString()[Me],r.sizeInBytes+=r.line.toString()[Me]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var t=this;return{level:t[iy],method:t[Xf],assembly:t[Jf],fileName:t[Ru],line:t[og]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}()});var F5,O5=q(()=>{F5=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return e}()});var Sa,U5=q(()=>{Vi();gr();O5();Gi();Sa=function(){function e(t,n,r,o,i,s,a,c,l){this.aiDataContract={ver:1,metrics:1,properties:0};var u=this;u.ver=2;var d=new F5;d[ku]=o>0?o:void 0,d.max=isNaN(s)||s===null?void 0:s,d.min=isNaN(i)||i===null?void 0:i,d[Mn]=St(t,n)||Zn,d.value=r,d.stdDev=isNaN(a)||a===null?void 0:a,u.metrics=[d],u[Xr]=Qr(t,c),u[Zr]=eo(t,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}()});function M5(e,t){return t===void 0&&(t=!1),e==null?t:e.toString()[Ea]()==="true"}function ug(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=cy+e%1e3,n=cy+Math.floor(e/1e3)%60,r=cy+Math.floor(e/(1e3*60))%60,o=cy+Math.floor(e/(1e3*60*60))%24,i=Math.floor(e/(1e3*60*60*24));return t=t[Me]===1?"00"+t:t[Me]===2?"0"+t:t,n=n[Me]<2?"0"+n:n,r=r[Me]<2?"0"+r:r,o=o[Me]<2?"0"+o:o,(i>0?i+".":cy)+o+":"+r+":"+n+"."+t}function $5(e,t){var n=null;return ne(e,function(r){if(r.identifier===t)return n=r,-1}),n}function j5(e,t,n,r,o){return!o&&Fe(e)&&(e==="Script error."||e==="Script error")}var cy,h0=q(()=>{yt();gr();cy=""});var Ou,H5=q(()=>{Vi();h0();gr();Gi();Ou=function(){function e(t,n,r,o,i,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=i0(t,a),c.url=Nu(t,r),c[Mn]=St(t,n)||Zn,isNaN(o)||(c[Zf]=ug(o)),c[Xr]=Qr(t,i),c[Zr]=eo(t,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}()});var Uu,B5=q(()=>{h0();CO();gr();Gi();Uu=function(){function e(t,n,r,o,i,s,a,c,l,u,d,p){l===void 0&&(l="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=n,f[Zf]=ug(i),f.success=s,f.resultCode=a+"",f.type=St(t,l);var m=d5(t,r,c,o);f.data=Nu(t,o)||m.data,f.target=St(t,m.target),u&&(f.target="".concat(f.target," | ").concat(u)),f[Mn]=St(t,m[Mn]),f[Xr]=Qr(t,d),f[Zr]=eo(t,p)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}()});var Mu,q5=q(()=>{Vi();gr();Gi();Mu=function(){function e(t,n,r,o,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var s=this;s.ver=2,n=n||Zn,s[Is]=ig(t,n),s[Xr]=Qr(t,o),s[Zr]=eo(t,i),r&&(s[Kf]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}()});var $u,W5=q(()=>{Vi();gr();Gi();$u=function(){function e(t,n,r,o,i,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=Nu(t,r),c[Mn]=St(t,n)||Zn,c[Xr]=Qr(t,i),c[Zr]=eo(t,s),a&&(c.domProcessing=a.domProcessing,c[Zf]=a[Zf],c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c[hO]=a[hO],c.sentRequest=a.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}()});var _a,Y5=q(()=>{_a=function(){function e(t,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=n}return e}()});var g0,V5=q(()=>{yt();g0=fr({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})});var z5,G5=q(()=>{yt();gr();z5=function(){function e(){}return e.getConfig=function(t,n,r,o){o===void 0&&(o=!1);var i;return r&&t[ry]&&t[ry][r]&&!te(t[ry][r][n])?i=t[ry][r][n]:i=t[n],te(i)?o:i},e}()});function Hu(e){var t="ai."+e+".";return function(n){return t+n}}var ly,Qn,v0,dg,NO,ju,np,uy,fg,LO=q(()=>{Fo();yt();ly=Hu("application"),Qn=Hu("device"),v0=Hu("location"),dg=Hu("operation"),NO=Hu("session"),ju=Hu("user"),np=Hu("cloud"),uy=Hu("internal"),fg=function(e){Ao(t,e);function t(){return e.call(this)||this}return t}(NA({applicationVersion:ly("ver"),applicationBuild:ly("build"),applicationTypeId:ly("typeId"),applicationId:ly("applicationId"),applicationLayer:ly("layer"),deviceId:Qn("id"),deviceIp:Qn("ip"),deviceLanguage:Qn("language"),deviceLocale:Qn("locale"),deviceModel:Qn("model"),deviceFriendlyName:Qn("friendlyName"),deviceNetwork:Qn("network"),deviceNetworkName:Qn("networkName"),deviceOEMName:Qn("oemName"),deviceOS:Qn("os"),deviceOSVersion:Qn("osVersion"),deviceRoleInstance:Qn("roleInstance"),deviceRoleName:Qn("roleName"),deviceScreenResolution:Qn("screenResolution"),deviceType:Qn("type"),deviceMachineName:Qn("machineName"),deviceVMName:Qn("vmName"),deviceBrowser:Qn("browser"),deviceBrowserVersion:Qn("browserVersion"),locationIp:v0("ip"),locationCountry:v0("country"),locationProvince:v0("province"),locationCity:v0("city"),operationId:dg("id"),operationName:dg("name"),operationParentId:dg("parentId"),operationRootId:dg("rootId"),operationSyntheticSource:dg("syntheticSource"),operationCorrelationVector:dg("correlationVector"),sessionId:NO("id"),sessionIsFirst:NO("isFirst"),sessionIsNew:NO("isNew"),userAccountAcquisitionDate:ju("accountAcquisitionDate"),userAccountId:ju("accountId"),userAgent:ju("userAgent"),userId:ju("id"),userStoreRegion:ju("storeRegion"),userAuthUserId:ju("authUserId"),userAnonymousUserAcquisitionDate:ju("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ju("authUserAcquisitionDate"),cloudName:np("name"),cloudRole:np("role"),cloudRoleVer:np("roleVer"),cloudRoleInstance:np("roleInstance"),cloudEnvironment:np("environment"),cloudLocation:np("location"),cloudDeploymentUnit:np("deploymentUnit"),internalNodeName:uy("nodeName"),internalSdkVersion:uy("sdkVersion"),internalAgentVersion:uy("agentVersion"),internalSnippet:uy("snippet"),internalSdkSrc:uy("sdkSrc")}))});function AO(e,t,n,r,o,i){var s;n=St(r,n)||Zn,(te(e)||te(t)||te(n))&&tn("Input doesn't contain all required fields");var a="";e[GD]&&(a=e[GD],delete e[GD]);var c=(s={},s[Mn]=n,s.time=mi(new Date),s.iKey=a,s.ext=i||{},s.tags=[],s.data={},s.baseType=t,s.baseData=e,s);return te(o)||de(o,function(l,u){c.data[l]=u}),c}var K5,J5=q(()=>{yt();Vi();Gi();gr();K5=function(){function e(){}return e.create=AO,e}()});var X5,$n,Z5=q(()=>{LO();X5={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},$n=new fg});function Q5(e){var t=null;if(Ae(Event))t=new Event(e);else{var n=nn();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}var e7=q(()=>{yt()});var t7={};Zg(t7,{AnalyticsPluginIdentifier:()=>Yge,BreezeChannelIdentifier:()=>FO,ConfigurationManager:()=>z5,ConnectionStringParser:()=>S5,ContextTagKeys:()=>fg,CtxTagKeys:()=>$n,DEFAULT_BREEZE_ENDPOINT:()=>Iu,DEFAULT_BREEZE_PATH:()=>ya,Data:()=>_a,DisabledPropertyName:()=>eg,DistributedTracingModes:()=>h5,Envelope:()=>p0,Event:()=>ba,Exception:()=>Fu,Extensions:()=>X5,HttpMethod:()=>ny,Metric:()=>Sa,PageView:()=>Ou,PageViewPerformance:()=>$u,ProcessLegacy:()=>ng,PropertiesPluginIdentifier:()=>Wge,RemoteDependencyData:()=>Uu,RequestHeaders:()=>Lc,SampleRate:()=>tg,SeverityLevel:()=>g0,TelemetryItemCreator:()=>K5,ThrottleMgr:()=>C5,Trace:()=>Mu,correlationIdCanIncludeCorrelationHeader:()=>l5,correlationIdGetCorrelationContext:()=>u5,correlationIdGetCorrelationContextValue:()=>EO,correlationIdGetPrefix:()=>c5,correlationIdSetPrefix:()=>a5,createDistributedTraceContextFromTrace:()=>m5,createDomEvent:()=>Q5,createTelemetryItem:()=>AO,createTraceParent:()=>Nw,dataSanitizeException:()=>o0,dataSanitizeId:()=>i0,dataSanitizeInput:()=>s0,dataSanitizeKey:()=>gO,dataSanitizeKeyAndAddUniqueness:()=>r0,dataSanitizeMeasurements:()=>eo,dataSanitizeMessage:()=>ig,dataSanitizeProperties:()=>Qr,dataSanitizeString:()=>St,dataSanitizeUrl:()=>Nu,dateTimeUtilsDuration:()=>p5,dateTimeUtilsNow:()=>f5,dsPadNumber:()=>vO,findW3cTraceParent:()=>Fw,formatTraceParent:()=>Aw,getExtensionByName:()=>$5,isBeaconApiSupported:()=>gi,isCrossOriginError:()=>j5,isInternalApplicationInsightsEndpoint:()=>sg,isSampledFlag:()=>Lw,isValidSpanId:()=>fa,isValidTraceId:()=>da,isValidTraceParent:()=>Fh,msToTimeSpan:()=>ug,parseConnectionString:()=>ay,parseTraceParent:()=>Ff,strNotSpecified:()=>Zn,stringToBoolOrDefault:()=>M5,urlGetAbsoluteUrl:()=>o5,urlGetCompleteUrl:()=>s5,urlGetPathName:()=>i5,urlParseFullHost:()=>sy,urlParseHost:()=>xO,urlParseUrl:()=>Qf,utlCanUseLocalStorage:()=>cg,utlCanUseSessionStorage:()=>ep,utlDisableStorage:()=>v5,utlEnableStorage:()=>x5,utlGetLocalStorage:()=>l0,utlGetSessionStorage:()=>d0,utlGetSessionStorageKeys:()=>y5,utlRemoveSessionStorage:()=>E5,utlRemoveStorage:()=>w5,utlSetLocalStorage:()=>u0,utlSetSessionStorage:()=>f0,utlSetStoragePrefix:()=>c0});var Wge,FO,Yge,Oc=q(()=>{CO();b5();_5();dO();Vi();D5();P5();A5();U5();H5();B5();q5();W5();Y5();V5();G5();LO();Gi();J5();Z5();bO();h0();yt();e7();DO();wO();Wge="AppInsightsPropertiesPlugin",FO="AppInsightsChannelPlugin",Yge="ApplicationInsightsAnalytics"});var Bu,n7=q(()=>{Bu="duration"});var jn,x0,Hn,Da,rp,ze,qu,Wu,Ki,Yu,Uc,dy,fy,pg,Mc,Vu,w0,$c,py,jc,my,hy,mg,op,gy,y0,Hc,hg,E0,gg,Tr,vg,C0,OO,UO,b0,MO,$O,zu,jO,HO,BO,qO,S0,xg,r7,Gu,_0,vy,xy,o7,wg,D0,WO,P0,i7,Bc=q(()=>{jn="tags",x0="deviceType",Hn="data",Da="name",rp="traceID",ze="length",qu="stringify",Wu="measurements",Ki="dataType",Yu="envelopeType",Uc="toString",dy="onLine",fy="isOnline",pg="_get",Mc="enqueue",Vu="count",w0="eventsLimitInMem",$c="push",py="emitLineDelimitedJson",jc="clear",my="batchPayloads",hy="createNew",mg="markAsSent",op="clearSent",gy="bufferOverride",y0="BUFFER_KEY",Hc="SENT_BUFFER_KEY",hg="MAX_BUFFER_SIZE",E0="sendPOST",gg="triggerSend",Tr="diagLog",vg="_sender",C0="customHeaders",OO="maxBatchSizeInBytes",UO="onunloadDisableBeacon",b0="isBeaconApiDisabled",MO="alwaysUseXhrOverride",$O="enableSessionStorageBuffer",zu="_buffer",jO="onunloadDisableFetch",HO="instrumentationKey",BO="convertUndefined",qO="maxBatchInterval",S0="baseType",xg="sampleRate",r7="_xhrReadyStateChange",Gu="_onError",_0="_onPartialSuccess",vy="_onSuccess",xy="itemsAccepted",o7="itemsReceived",wg="oriPayload",D0="setRequestHeader",WO="eventsSendRequest",P0="getSamplingScore",i7="getHashCodeScore"});function Bn(e,t,n){return Bi(e,t,n,gs)}function Vge(e,t,n){var r=n[jn]=n[jn]||{},o=t.ext=t.ext||{},i=t[jn]=t[jn]||[],s=o.user;s&&(Bn(r,$n.userAuthUserId,s.authId),Bn(r,$n.userId,s.id||s.localId));var a=o.app;a&&Bn(r,$n.sessionId,a.sesId);var c=o.device;c&&(Bn(r,$n.deviceId,c.id||c.localId),Bn(r,$n[x0],c.deviceClass),Bn(r,$n.deviceIp,c.ip),Bn(r,$n.deviceModel,c.model),Bn(r,$n[x0],c[x0]));var l=t.ext.web;if(l){Bn(r,$n.deviceLanguage,l.browserLang),Bn(r,$n.deviceBrowserVersion,l.browserVer),Bn(r,$n.deviceBrowser,l.browser);var u=n[Hn]=n[Hn]||{},d=u[Xt]=u[Xt]||{},p=d[vr]=d[vr]||{};Bn(p,"domain",l.domain),Bn(p,"isManual",l.isManual?s7:null),Bn(p,"screenRes",l.screenRes),Bn(p,"userConsent",l.userConsent?s7:null)}var f=o.os;f&&Bn(r,$n.deviceOS,f[Da]);var m=o.trace;m&&(Bn(r,$n.operationParentId,m.parentID),Bn(r,$n.operationName,St(e,m[Da])),Bn(r,$n.operationId,m[rp]));for(var h={},v=i[ze]-1;v>=0;v--){var g=i[v];de(g,function(x,y){h[x]=y}),i.splice(v,1)}de(i,function(x,y){h[x]=y});var w=ji(ji({},r),h);w[$n.internalSdkVersion]||(w[$n.internalSdkVersion]=St(e,"javascript:".concat(zge.Version),64)),n[jn]=qi(w)}function Ku(e,t,n){te(e)||de(e,function(r,o){dr(o)?n[r]=o:Fe(o)?t[r]=o:ca()&&(t[r]=Pr()[qu](o))})}function ip(e,t){te(e)||de(e,function(n,r){e[n]=r||t})}function sp(e,t,n,r){var o=new p0(e,r,t);Bn(o,"sampleRate",n[tg]),(n[Xt]||{}).startTime&&(o.time=mi(n[Xt].startTime)),o.iKey=n.iKey;var i=n.iKey.replace(/-/g,"");return o[Da]=o[Da].replace("{0}",i),Vge(e,n,o),n[jn]=n[jn]||[],qi(o)}function ap(e,t){te(t[Xt])&&ue(e,1,46,"telemetryItem.baseData cannot be null.")}function a7(e,t,n){ap(e,t);var r=t[Xt][Wu]||{},o=t[Xt][vr]||{};Ku(t[Hn],o,r),te(n)||ip(o,n);var i=t[Xt];if(te(i))return vi(e,"Invalid input for dependency data"),null;var s=i[vr]&&i[vr][ny]?i[vr][ny]:"GET",a=new Uu(e,i.id,i.target,i[Da],i[Bu],i.success,i.responseCode,s,i.type,i.correlationContext,o,r),c=new _a(Uu[Ki],a);return sp(e,Uu[Yu],t,c)}function VO(e,t,n){ap(e,t);var r={},o={};t[YO]!==ba[Ki]&&(r.baseTypeSource=t[YO]),t[YO]===ba[Ki]?(r=t[Xt][vr]||{},o=t[Xt][Wu]||{}):t[Xt]&&Ku(t[Xt],r,o),Ku(t[Hn],r,o),te(n)||ip(r,n);var i=t[Xt][Da],s=new ba(e,i,r,o),a=new _a(ba[Ki],s);return sp(e,ba[Yu],t,a)}function c7(e,t,n){ap(e,t);var r=t[Xt][Wu]||{},o=t[Xt][vr]||{};Ku(t[Hn],o,r),te(n)||ip(o,n);var i=t[Xt],s=Fu.CreateFromInterface(e,i,o,r),a=new _a(Fu[Ki],s);return sp(e,Fu[Yu],t,a)}function l7(e,t,n){ap(e,t);var r=t[Xt],o=r[vr]||{},i=r[Wu]||{};Ku(t[Hn],o,i),te(n)||ip(o,n);var s=new Sa(e,r[Da],r.average,r.sampleCount,r.min,r.max,r.stdDev,o,i),a=new _a(Sa[Ki],s);return sp(e,Sa[Yu],t,a)}function u7(e,t,n){ap(e,t);var r,o=t[Xt];!te(o)&&!te(o[vr])&&!te(o[vr][Bu])?(r=o[vr][Bu],delete o[vr][Bu]):!te(t[Hn])&&!te(t[Hn][Bu])&&(r=t[Hn][Bu],delete t[Hn][Bu]);var i=t[Xt],s;((t.ext||{}).trace||{})[rp]&&(s=t.ext.trace[rp]);var a=i.id||s,c=i[Da],l=i.uri,u=i[vr]||{},d=i[Wu]||{};if(te(i.refUri)||(u.refUri=i.refUri),te(i.pageType)||(u.pageType=i.pageType),te(i.isLoggedIn)||(u.isLoggedIn=i.isLoggedIn[Uc]()),!te(i[vr])){var p=i[vr];de(p,function(h,v){u[h]=v})}Ku(t[Hn],u,d),te(n)||ip(u,n);var f=new Ou(e,c,l,r,u,d,a),m=new _a(Ou[Ki],f);return sp(e,Ou[Yu],t,m)}function d7(e,t,n){ap(e,t);var r=t[Xt],o=r[Da],i=r.uri||r.url,s=r[vr]||{},a=r[Wu]||{};Ku(t[Hn],s,a),te(n)||ip(s,n);var c=new $u(e,o,i,void 0,s,a,r),l=new _a($u[Ki],c);return sp(e,$u[Yu],t,l)}function f7(e,t,n){ap(e,t);var r=t[Xt].message,o=t[Xt].severityLevel,i=t[Xt][vr]||{},s=t[Xt][Wu]||{};Ku(t[Hn],i,s),te(n)||ip(i,n);var a=new Mu(e,r,o,i,s),c=new _a(Mu[Ki],a);return sp(e,Mu[Yu],t,c)}var YO,Xt,vr,s7,zge,p7=q(()=>{Fo();Oc();yt();n7();Bc();YO="baseType",Xt="baseData",vr="properties",s7="true";zge={Version:"3.0.5"}});function m7(e,t){kc(e,null,null,t)}function h7(e){var t,n=nn(),r=Fn(),o=!1,i=!0,s=xi(Ir("OfflineListener"),e);try{if(c(pn())&&(o=!0),n){var a=n.body||n;a.ononline&&c(a)&&(o=!0)}o&&r&&!te(r[dy])&&(i=r[dy])}catch{o=!1}function c(f){var m=!1;return f&&(m=pa(f,"online",l,s),m&&pa(f,"offline",u,s)),m}function l(){i=!0}function u(){i=!1}function d(){var f=!0;return o?f=i:r&&!te(r[dy])&&(f=r[dy]),f}function p(){var f=pn();if(f&&o){if(m7(f,s),n){var m=n.body||n;Oe(m.ononline)||m7(m,s)}o=!1}}return t={},t[fy]=d,t.isListening=function(){return o},t.unload=p,t}var g7=q(()=>{yt();Bc()});var v7,I0,zO,x7=q(()=>{Fo();Dr();Oc();yt();Bc();v7=function(){function e(t,n){var r=[],o=!1;this[pg]=function(){return r},this._set=function(i){return r=i,r},ot(e,this,function(i){i[Mc]=function(s){if(i[Vu]()>=n[w0]){o||(ue(t,2,105,"Maximum in-memory buffer size reached: "+i[Vu](),!0),o=!0);return}r[$c](s)},i[Vu]=function(){return r[ze]},i.size=function(){for(var s=r[ze],a=0;a<r[ze];a++)s+=r[a][ze];return n[py]||(s+=2),s},i[jc]=function(){r=[],o=!1},i.getItems=function(){return r.slice(0)},i[my]=function(s){if(s&&s[ze]>0){var a=n[py]?s.join(`
`):"["+s.join(",")+"]";return a}return null},i[hy]=function(s,a,c){var l=r.slice(0);s=s||t,a=a||{};var u=c?new zO(s,a):new I0(s,a);return ne(l,function(d){u[Mc](d)}),u}})}return e.__ieDyn=1,e}(),I0=function(e){Ao(t,e);function t(n,r){var o=e.call(this,n,r)||this;return ot(t,o,function(i,s){i[mg]=function(a){s[jc]()},i[op]=function(a){}}),o}return t.__ieDyn=1,t}(v7),zO=function(e){Ao(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=!1,s=r==null?void 0:r.namePrefix,a=r[gy]||{getItem:d0,setItem:f0},c=a.getItem,l=a.setItem;return ot(t,o,function(u,d){var p=v(t[y0]),f=v(t[Hc]),m=u._set(p.concat(f));m[ze]>t[hg]&&(m[ze]=t[hg]),g(t[Hc],[]),g(t[y0],m),u[Mc]=function(w){if(u[Vu]()>=t[hg]){i||(ue(n,2,67,"Maximum buffer size reached: "+u[Vu](),!0),i=!0);return}d[Mc](w),g(t.BUFFER_KEY,u[pg]())},u[jc]=function(){d[jc](),g(t.BUFFER_KEY,u[pg]()),g(t[Hc],[]),i=!1},u[mg]=function(w){g(t[y0],u._set(h(w,u[pg]())));var x=v(t[Hc]);x instanceof Array&&w instanceof Array&&(x=x.concat(w),x[ze]>t[hg]&&(ue(n,1,67,"Sent buffer reached its maximum size: "+x[ze],!0),x[ze]=t[hg]),g(t[Hc],x))},u[op]=function(w){var x=v(t[Hc]);x=h(w,x),g(t[Hc],x)},u[hy]=function(w,x,y){y=!!y;var E=u[pg]().slice(0),P=v(t[Hc]).slice(0);w=w||n,x=x||{},u[jc]();var D=y?new t(w,x):new I0(w,x);return ne(E,function(R){D[Mc](R)}),y&&D[mg](P),D};function h(w,x){var y=[];return ne(x,function(E){!Ae(E)&&ut(w,E)===-1&&y[$c](E)}),y}function v(w){var x=w;try{x=s?s+"_"+x:x;var y=c(n,x);if(y){var E=Pr().parse(y);if(Fe(E)&&(E=Pr().parse(E)),E&&ge(E))return E}}catch(P){ue(n,1,42," storage key: "+x+", "+$t(P),{exception:pe(P)})}return[]}function g(w,x){var y=w;try{y=s?s+"_"+y:y;var E=JSON[qu](x);l(n,y,E)}catch(P){l(n,y,JSON[qu]([])),ue(n,2,41," storage key: "+y+", "+$t(P)+". Buffer cleared",{exception:pe(P)})}}}),o}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(v7)});var w7,y7=q(()=>{Dr();yt();Bc();w7=function(){function e(t){ot(e,this,function(n){n.serialize=function(s){var a=r(s,"root");try{return Pr()[qu](a)}catch(c){ue(t,1,48,c&&Ae(c[Uc])?c[Uc]():"Error serializing object",null,!0)}};function r(s,a){var c="__aiCircularRefCheck",l={};if(!s)return ue(t,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),l;if(s[c])return ue(t,2,50,"Circular reference detected while serializing object",{name:a},!0),l;if(!s.aiDataContract){if(a==="measurements")l=i(s,"number",a);else if(a==="properties")l=i(s,"string",a);else if(a==="tags")l=i(s,"string",a);else if(ge(s))l=o(s,a);else{ue(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{Pr()[qu](s),l=s}catch(u){ue(t,1,48,u&&Ae(u[Uc])?u[Uc]():"Error serializing object",null,!0)}}return l}return s[c]=!0,de(s.aiDataContract,function(u,d){var p=Ae(d)?d()&1:d&1,f=Ae(d)?d()&4:d&4,m=d&2,h=s[u]!==void 0,v=kt(s[u])&&s[u]!==null;if(p&&!h&&!m)ue(t,1,24,"Missing required field specification. The field is required but not present on source",{field:u,name:a});else if(!f){var g=void 0;v?m?g=o(s[u],u):g=r(s[u],u):g=s[u],g!==void 0&&(l[u]=g)}}),delete s[c],l}function o(s,a){var c;if(s)if(!ge(s))ue(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:a},!0);else{c=[];for(var l=0;l<s[ze];l++){var u=s[l],d=r(u,a+"["+l+"]");c[$c](d)}}return c}function i(s,a,c){var l;return s&&(l={},de(s,function(u,d){if(a==="string")d===void 0?l[u]="undefined":d===null?l[u]="null":d[Uc]?l[u]=d[Uc]():l[u]="invalid field: toString() is not defined.";else if(a==="number")if(d===void 0)l[u]="undefined";else if(d===null)l[u]="null";else{var p=parseFloat(d);isNaN(p)?l[u]="NaN":l[u]=p}else l[u]="invalid field: "+c+" is of unknown type.",ue(t,1,l[u],null,!0)})),l}})}return e.__ieDyn=1,e}()});var Gge,E7,C7=q(()=>{Bc();Gge=8,E7=function(){function e(){}return e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[ze]<Gge;)t=t.concat(t);for(var n=5381,r=0;r<t[ze];++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e}()});var b7,S7=q(()=>{Oc();Bc();C7();b7=function(){function e(){var t=this,n=new E7,r=new fg;t[P0]=function(o){var i=0;return o[jn]&&o[jn][r.userId]?i=n.getHashCodeScore(o[jn][r.userId]):o.ext&&o.ext.user&&o.ext.user.id?i=n[i7](o.ext.user.id):o[jn]&&o[jn][r.operationId]?i=n.getHashCodeScore(o[jn][r.operationId]):o.ext&&o.ext.telemetryTrace&&o.ext.telemetryTrace[rp]?i=n.getHashCodeScore(o.ext.telemetryTrace[rp]):i=Math.random()*100,i}}return e}()});var _7,D7=q(()=>{Oc();yt();Bc();S7();_7=function(){function e(t,n){this.INT_MAX_VALUE=2147483647;var r=n||Ss(null);(t>100||t<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[xg]=t,this.samplingScoreGenerator=new b7}return e.prototype.isSampledIn=function(t){var n=this[xg],r=!1;return n==null||n>=100||t.baseType===Sa[Ki]?!0:(r=this.samplingScoreGenerator[P0](t)<n,r)},e}()});function T0(e){try{return e.responseText}catch{}return null}function Jge(e){return e&&e[E0]}function Xge(e){return!isNaN(e)&&e>0&&e<=100}var Sn,qc,Ju,Kge,P7,Zge,wy,I7=q(()=>{Fo();Dr();Oc();yt();bh();Re();p7();g7();x7();y7();D7();Bc();Ju=void 0,Kge=65e3;P7=fo((Sn={endpointUrl:Rh(gs,Iu+ya)},Sn[py]=bs(),Sn[qO]=15e3,Sn[OO]=102400,Sn.disableTelemetry=bs(),Sn[$O]=bs(!0),Sn.isRetryDisabled=bs(),Sn[b0]=bs(!0),Sn.disableXhr=bs(),Sn[jO]=bs(),Sn[UO]=bs(),Sn[HO]=Ju,Sn.namePrefix=Ju,Sn.samplingPercentage=Rh(Xge,100),Sn[C0]=Ju,Sn[BO]=Ju,Sn[w0]=1e4,Sn[gy]=!1,Sn.httpXHROverride={isVal:Jge,v:Ju},Sn[MO]=bs(),Sn));Zge=(qc={},qc[ba.dataType]=VO,qc[Mu.dataType]=f7,qc[Ou.dataType]=u7,qc[$u.dataType]=d7,qc[Fu.dataType]=c7,qc[Sa.dataType]=l7,qc[Uu.dataType]=a7,qc),wy=function(e){Ao(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=FO;var r,o,i,s,a,c,l,u,d=0,p,f,m,h,v,g,w,x,y,E,P,D,R,N,k,C,S,b,_,A,L;return ot(t,n,function(T,$){Jc(),T.pause=function(){Lt(),s=!0},T.resume=function(){s&&(s=!1,o=null,Xe(),ft())},T.flush=function(I,U,B){if(I===void 0&&(I=!0),!s){Lt();try{return T[gg](I,null,B||1)}catch(z){ue(T[Tr](),1,22,"flush failed, telemetry will not be collected: "+$t(z),{exception:pe(z)})}}},T.onunloadFlush=function(){if(!s)if(w||b)try{return T[gg](!0,ct,2)}catch(I){ue(T[Tr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+$t(I),{exception:pe(I)})}else T.flush(!1)},T.addHeader=function(I,U){u[I]=U},T.initialize=function(I,U,B,z){T.isInitialized()&&ue(T[Tr](),1,28,"Sender is already initialized"),$.initialize(I,U,B,z);var X=T.identifier;c=new w7(U.logger),r=0,o=null,i=0,T[vg]=null,l=0;var re=T[Tr]();m=xi(Ir("Sender"),U.evtNamespace&&U.evtNamespace()),f=h7(m),T._addHook(Un(I,function(Q){var M=Q.cfg;M.storagePrefix&&c0(M.storagePrefix);var V=vo(null,M,U),H=V.getExtCfg(X,P7);wt(T,"_senderConfig",{g:function(){return H}}),v!==H.endpointUrl&&(h=v=H.endpointUrl),x&&x!==H[C0]&&ne(x,function(Dt){delete u[Dt.header]}),g=H[OO],w=(H[UO]===!1||H[b0]===!1)&&gi(),b=H[MO],_=!!H.disableXhr;var ie=H[gy],ce=!!H[$O]&&(!!ie||ep()),ye=H.namePrefix,He=ce!==N||ce&&C!==ye||ce&&k!==ie;if(T[zu]){if(He)try{T._buffer=T._buffer[hy](re,H,ce)}catch(Dt){ue(T[Tr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+$t(Dt),{exception:pe(Dt)})}Xe()}else T[zu]=ce?new zO(re,H):new I0(re,H);C=ye,N=ce,k=ie,A=!H[jO]&&Ec(!0),T._sample=new _7(H.samplingPercentage,re),E=H[HO],yo(E,M)||ue(re,1,100,"Invalid Instrumentation key "+E),x=H[C0],!sg(h)&&x&&x[ze]>0?ne(x,function(Dt){n.addHeader(Dt.header,Dt.value)}):x=null,S=H.enableSendPromise;var rt=H.httpXHROverride,Qe=null,Lr=null;Qe=j([1,2],!1);var bt={sendPOST:he};L=function(Dt,tr){return fe(bt,Dt,tr)},!H[b0]&&gi()&&(Qe=j([3],!1)),Qe=b?rt:Qe||rt||bt,T[vg]=function(Dt,tr){return fe(Qe,Dt,tr)},A&&(p=Ee),Lr=b?rt:j([3,1],!0)||rt,(b||!p)&&Lr&&(p=function(Dt,tr){return fe(Lr,Dt,tr)}),p||(p=L),y=H.disableTelemetry,P=H[BO]||Ju,D=H.isRetryDisabled,R=H[qO]}))},T.processTelemetry=function(I,U){U=T._getTelCtx(U);var B=U[Tr]();try{if(y)return;if(!I){ue(B,1,7,"Cannot send empty telemetry");return}if(I.baseData&&!I[S0]){ue(B,1,70,"Cannot send telemetry without baseData and baseType");return}if(I[S0]||(I[S0]="EventData"),!T[vg]){ue(B,1,28,"Sender was not initialized");return}if(Y(I))I[tg]=T._sample[xg];else{ue(B,2,33,"Telemetry item was sampled out and not sent",{SampleRate:T._sample[xg]});return}var z=I.iKey||E,X=t.constructEnvelope(I,z,B,P);if(!X){ue(B,1,47,"Unable to create an AppInsights envelope");return}var re=!1;if(I[jn]&&I[jn][ng]&&(ne(I[jn][ng],function(V){try{V&&V(X)===!1&&(re=!0,vi(B,"Telemetry processor check returns false"))}catch(H){ue(B,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+$t(H),{exception:pe(H)},!0)}}),delete I[jn][ng]),re)return;var Q=c.serialize(X),M=T[zu];Xe(Q),M[Mc](Q),ft()}catch(V){ue(B,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+$t(V),{exception:pe(V)})}T.processNext(I,U)},T[r7]=function(I,U,B){I.readyState===4&&Ke(I.status,U,I.responseURL,B,Ji(I),T0(I)||I.response)},T[gg]=function(I,U,B){I===void 0&&(I=!0);var z;if(!s)try{var X=T[zu];if(y)X[jc]();else{if(X[Vu]()>0){var re=X.getItems();hd(B||0,I),U?z=U.call(T,re,I):z=T[vg](re,I)}i=+new Date}Lt()}catch(M){var Q=hw();(!Q||Q>9)&&ue(T[Tr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+$t(M),{exception:pe(M)})}return z},T._doTeardown=function(I,U){T.onunloadFlush(),bc(f,!1),Jc()},T[Gu]=function(I,U,B){ue(T[Tr](),2,26,"Failed to send telemetry.",{message:U}),T._buffer&&T._buffer[op](I)},T[_0]=function(I,U){for(var B=[],z=[],X=U.errors.reverse(),re=0,Q=X;re<Q.length;re++){var M=Q[re],V=I.splice(M.index,1)[0];Nr(M.statusCode)?z[$c](V):B[$c](V)}I[ze]>0&&T[vy](I,U[xy]),B[ze]>0&&T[Gu](B,Ji(null,["partial success",U[xy],"of",U.itemsReceived].join(" "))),z[ze]>0&&(le(z),ue(T[Tr](),2,40,"Partial success. Delivered: "+I[ze]+", Failed: "+B[ze]+". Will retry to send "+z[ze]+" our of "+U[o7]+" items"))},T[vy]=function(I,U){T._buffer&&T._buffer[op](I)},T._xdrOnLoad=function(I,U){var B=T0(I);if(I&&(B+""=="200"||B===""))r=0,T[vy](U,0);else{var z=Ze(B);z&&z.itemsReceived&&z.itemsReceived>z[xy]&&!D?T[_0](U,z):T[Gu](U,Sp(I))}};function Y(I){return T._sample.isSampledIn(I)}function j(I,U){for(var B,z=null,X=null,re=0;X==null&&re<I[ze];)z=I[re],!_&&z===1?kf()?X=md:gu()&&(X=he):z===2&&Ec(U)?X=ke:gi()&&z===3&&(X=ae),re++;return X?(B={},B[E0]=X,B):null}function J(I,U,B,z){U===200&&I&&T._onSuccess(I,I[ze]),z&&T[Gu](I,z)}function fe(I,U,B){var z=function(Q,M,V){return J(U,Q,M,V)},X=Ne(U),re=I&&I[E0];return re&&X?(T._buffer[mg](U),re(X,z,!B)):null}function Ne(I){var U;if(ge(I)&&I[ze]>0){var B=T._buffer[my](I),z=(U={},U[Hn]=B,U.urlString=h,U.headers=u,U.disableXhrSync=_,U.disableFetchKeepAlive=!A,U[wg]=I,U);return z}return null}function ke(I,U,B){return Ce(I,U,!1)}function Xe(I){var U=I?I[ze]:0;return T[zu].size()+U>g?((!f||f[fy]())&&T[gg](!0,null,10),!0):!1}function Ke(I,U,B,z,X,re){var Q=null;if(T._appId||(Q=Ze(re),Q&&Q.appId&&(T._appId=Q.appId)),(I<200||I>=300)&&I!==0){if((I===301||I===307||I===308)&&!Ct(B)){T[Gu](U,X);return}!D&&Nr(I)?(le(U),ue(T[Tr](),2,40,". Response code "+I+". Will retry to send "+U[ze]+" items.")):T[Gu](U,X)}else if(f&&!f[fy]()){if(!D){var M=10;le(U,M),ue(T[Tr](),2,40,". Offline - Response Code: ".concat(I,". Offline status: ").concat(!f.isOnline(),". Will retry to send ").concat(U.length," items."))}}else Ct(B),I===206?(Q||(Q=Ze(re)),Q&&!D?T[_0](U,Q):T[Gu](U,X)):(r=0,T[vy](U,z))}function Ct(I){return l>=10?!1:!te(I)&&I!==""&&I!==h?(h=I,++l,!0):!1}function Je(I,U,B,z){try{I(U,B,z)}catch{}}function ct(I,U){var B=function(X,re,Q){return J(I,X,re,Q)};if(p)p(I,!1);else{var z=Ne(I);ae(z,B,!U)}}function K(I,U){var B=Fn(),z=h,X=new Blob([I],{type:"text/plain;charset=UTF-8"}),re=B.sendBeacon(z,X);return re&&U(200,{},I),re}function ae(I,U,B){var z=I,X=z&&z[Hn];if(Fe(X)&&X[ze]>0&&!K(X,U)){var re=[],Q=z[wg];if(Q[ze]>0)for(var M=0;M<X[ze];M++){var V=I[M],H=T._buffer[my](V);K(H,U)||re[$c](V)}re[ze]>0&&(L&&L(re,!0),ue(T[Tr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function he(I,U,B){var z=I,X,re,Q,M=new XMLHttpRequest,V=h;try{M[eg]=!0}catch{}return M.open("POST",V,!B),M[D0]("Content-type","application/json"),sg(V)&&M[D0](Lc[6],Lc[7]),ne(Kn(u),function(H){M[D0](H,u[H])}),M.onreadystatechange=function(){var H=z[wg];T._xhrReadyStateChange(M,H,H[ze]),M.readyState===4&&re&&re(!0)},M.onerror=function(H){Je(U,400,{},Ji(M)),Q&&Q(H)},!B&&S&&(X=go(function(H,ie){re=H,Q=ie})),M.send(I[Hn]),X}function Ee(I,U){var B=function(Q,M,V){return J(I,Q,M,V)};if(ge(I)){for(var z=I[ze],X=0;X<I[ze];X++)z+=I[X][ze];var re=Ne(I);d+z<=Kge?Ce(re,B,!0):gi()?ae(re,B,!U):(L&&L(I,!0),ue(T[Tr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Ce(I,U,B){var z,X=h,re=I,Q=re[Hn],M=new Blob([Q],{type:"application/json"}),V,H,ie,ce=new Headers,ye=Q[ze],He=!1,rt=!1;sg(X)&&ce.append(Lc[6],Lc[7]),ne(Kn(u),function(bt){ce.append(bt,u[bt])});var Qe=(z={method:"POST",headers:ce,body:M},z[eg]=!0,z);B&&(Qe.keepalive=!0,He=!0,d+=ye);var Lr=new Request(X,Qe);try{Lr[eg]=!0}catch{}!B&&S&&(V=go(function(bt,Dt){H=bt,ie=Dt}));try{du(fetch(Lr),function(bt){if(B&&(d-=ye,ye=0),!rt)if(rt=!0,bt.rejected)Je(U,400,{},bt.reason&&bt.reason.message),ie&&ie(bt.reason);else{var Dt=bt.value;Dt.ok?du(Dt.text(),function(tr){var Dp=re[wg];Ke(Dt.status,Dp,Dt.url,Dp[ze],Dt.statusText,tr.value||""),H&&H(!0)}):(Je(U,400,{},Dt.statusText),H&&H(!1))}})}catch(bt){rt||(Je(U,400,{},pe(bt)),ie&&ie(bt))}return He&&!rt&&(rt=!0,Je(U,200,{}),H&&H(!0)),V}function Ze(I){try{if(I&&I!==""){var U=Pr().parse(I);if(U&&U.itemsReceived&&U.itemsReceived>=U[xy]&&U.itemsReceived-U.itemsAccepted===U.errors[ze])return U}}catch(B){ue(T[Tr](),1,43,"Cannot parse the response. "+$t(B),{response:I})}return null}function le(I,U){if(U===void 0&&(U=1),!(!I||I[ze]===0)){var B=T[zu];B[op](I),r++;for(var z=0,X=I;z<X.length;z++){var re=X[z];B[Mc](re)}Le(U),ft()}}function Le(I){var U=10,B;if(r<=1)B=U;else{var z=(Math.pow(2,r)-1)/2,X=Math.floor(Math.random()*z*U)+1;X=I*X,B=Math.max(Math.min(X,3600),U)}var re=rn()+B*1e3;o=re}function ft(){if(!a&&!s){var I=o?Math.max(0,o-rn()):0,U=Math.max(R,I);a=Lo(function(){a=null,T[gg](!0,null,1)},U)}}function Lt(){a&&a.cancel(),a=null,o=null}function Nr(I){return I===401||I===403||I===408||I===429||I===500||I===502||I===503||I===504}function Ji(I,U){return I?"XMLHttpRequest,Status:"+I.status+",Response:"+T0(I)||I.response||"":U}function md(I,U,B){var z=I,X=pn(),re=new XDomainRequest,Q=z[Hn];re.onload=function(){var H=z[wg];T._xdrOnLoad(re,H)},re.onerror=function(){Je(U,400,{},Sp(re))};var M=X&&X.location&&X.location.protocol||"";if(h.lastIndexOf(M,0)!==0){ue(T[Tr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),T._buffer[jc]();return}var V=h.replace(/^(https?:)/,"");re.open("POST",V),re.send(Q)}function Sp(I,U){return I?"XDomainRequest,Response:"+T0(I)||"":U}function _p(){var I="getNotifyMgr";return T.core[I]?T.core[I]():T.core._notificationManager}function hd(I,U){var B=_p();if(B&&B[WO])try{B[WO](I,U)}catch(z){ue(T[Tr](),1,74,"send request notification failed: "+$t(z),{exception:pe(z)})}}function yo(I,U){var B=U.disableInstrumentationKeyValidation,z=te(B)?!1:B;if(z)return!0;var X="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",re=new RegExp(X);return re.test(I)}function Jc(){T[vg]=null,T[zu]=null,T._appId=null,T._sample=null,u={},f=null,r=0,o=null,i=null,s=!1,a=null,c=null,l=0,d=0,p=null,m=null,h=null,v=null,g=0,w=!1,x=null,y=!1,E=null,P=Ju,D=!1,N=null,C=Ju,_=!1,A=!1,L=null,wt(T,"_senderConfig",{g:function(){return k_({},P7)}})}}),n}return t.constructEnvelope=function(n,r,o,i){var s;r!==n.iKey&&!te(r)?s=ji(ji({},n),{iKey:r}):s=n;var a=Zge[s.baseType]||VO;return a(o,s,i)},t}(Ic)});var GO=q(()=>{I7()});var k0,R0,T7=q(()=>{k0="instrumentationKey",R0="connectionString"});var k7={};Zg(k7,{AppInsightsCore:()=>Tc,ApplicationInsights:()=>tve,Sender:()=>wy,SeverityLevel:()=>g0,arrForEach:()=>ne,isNullOrUndefined:()=>te,proxyFunctions:()=>hi,throwError:()=>tn});function eve(e){return e&&e>0}var Qge,tve,R7=q(()=>{Dr();GO();Oc();yt();Re();T7();yt();Oc();GO();Qge={diagnosticLogInterval:Rh(eve,1e4)};tve=function(){function e(t){var n=new Tc,r;(te(t)||te(t[k0])&&te(t[R0]))&&tn("Invalid input configuration"),ot(e,this,function(i){wt(i,"config",{g:function(){return r}}),s(),i.initialize=s,i.track=o,hi(i,n,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function s(){var a=Kt(t||{},Qge);r=a.cfg,n.addUnloadHook(Un(a,function(){if(r[R0]){var c=ay(r[R0]),l=c.ingestionendpoint;r.endpointUrl=l?l+ya:r.endpointUrl,r[k0]=c.instrumentationkey||r[k0]}})),n.initialize(r,[new wy])}});function o(i){i&&(i.baseData=i.baseData||{},i.baseType=i.baseType||"EventData"),n.track(i)}}return e.__ieDyn=1,e}()});var N7=O(Pa=>{"use strict";var nve=Pa&&Pa.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rve=Pa&&Pa.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ove=Pa&&Pa.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nve(t,e,n);return rve(t,e),t};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.appInsightsClientFactory=void 0;var ive=(Oc(),Qg(t7)),sve=uL(),ave=async(e,t,n)=>{let r;try{let i=await Promise.resolve().then(()=>ove((R7(),Qg(k7))));if(r=new i.ApplicationInsights({instrumentationKey:e,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t){r.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:t};r.config.extensionConfig[ive.BreezeChannelIdentifier]=s}}catch(i){return Promise.reject(i)}return{logEvent:(i,s)=>{let a={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};n!=null&&n.length&&sve.TelemetryUtil.applyReplacements(a,n),r==null||r.track({name:i,data:a,baseType:"EventData",baseData:{name:i,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})},flush:async()=>{r==null||r.flush(!1)},dispose:async()=>new Promise(s=>{r==null||r.unload(!0,()=>{s(),r=void 0},1e3)})}};Pa.appInsightsClientFactory=ave});var O7=O(Wc=>{"use strict";var cve=Wc&&Wc.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),lve=Wc&&Wc.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XO=Wc&&Wc.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&cve(t,e,n);return lve(t,e),t};Object.defineProperty(Wc,"__esModule",{value:!0});var KO=XO(require("os")),L7=XO(require("vscode")),uve=XO(require("https")),dve=X3(),fve=Z3(),A7=uL(),pve=t5(),mve=N7();function F7(){return{sendPOST:(t,n)=>{let r={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let o=uve.request(t.urlString,r,i=>{i.on("data",function(s){n(i.statusCode??200,i.headers,s.toString())}),i.on("error",function(){n(0,{})})});o.write(t.data,i=>{i&&n(0,{})}),o.end()}catch{n(0,{})}}}}var JO=class extends dve.BaseTelemetryReporter{constructor(t,n){let r=s=>(0,mve.appInsightsClientFactory)(s,F7(),n);A7.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(r=s=>(0,pve.oneDataSystemClientFactory)(s,L7,F7()));let o={release:KO.release(),platform:KO.platform(),architecture:KO.arch()},i=new fve.BaseTelemetrySender(t,r);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(i,L7,{additionalCommonProperties:A7.TelemetryUtil.getAdditionalCommonProperties(o)})}};Wc.default=JO});var QO=O(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.TargetPopulation=Xu.Filters=Xu.VSCodeFilterProvider=void 0;var N0=require("vscode"),ZO=class e{constructor(t,n,r){this.extensionName=t,this.extensionVersion=n,this.targetPopulation=r}static trimVersionSuffix(t){let n=/\-[a-zA-Z0-9]+$/;return t.split(n)[0]}getFilterValue(t){switch(t){case Ia.ApplicationVersion:return e.trimVersionSuffix(N0.version);case Ia.Build:return N0.env.appName;case Ia.ClientId:return N0.env.machineId;case Ia.ExtensionName:return this.extensionName;case Ia.ExtensionVersion:return e.trimVersionSuffix(this.extensionVersion);case Ia.Language:return N0.env.language;case Ia.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,n=Object.values(Ia);for(let r of n)t.set(r,this.getFilterValue(r));return t}};Xu.VSCodeFilterProvider=ZO;var Ia;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(Ia||(Xu.Filters=Ia={}));var U7;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(U7||(Xu.TargetPopulation=U7={}))});var M7=O(L0=>{"use strict";Object.defineProperty(L0,"__esModule",{value:!0});L0.BaseFeatureProvider=void 0;var e1=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};L0.BaseFeatureProvider=e1});var $7=O(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});A0.FilteredFeatureProvider=void 0;var hve=M7(),t1=class extends hve.BaseFeatureProvider{constructor(t,n){super(t),this.telemetry=t,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let n of this.filterProviders){let r=n.getFilters();for(let o of r.keys()){let i=r.get(o);t.set(o,i)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let n=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(t)}};A0.FilteredFeatureProvider=t1});var j7=O(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.TasApiFeatureProvider=Zu.TASAPI_FETCHERROR_EVENTNAME=void 0;var gve=$7();Zu.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var n1="ErrorType",r1=class extends gve.FilteredFeatureProvider{constructor(t,n,r){super(n,r),this.httpClient=t,this.telemetry=n,this.filterProviders=r}async fetch(){let t=this.getFilters(),n={};for(let a of t.keys()){let c=t.get(a);n[a]=c}let r;try{r=await this.httpClient.get({headers:n})}catch(a){let c=a,l=new Map;c.response?l.set(n1,"ServerError"):c.request?l.set(n1,"NoResponse"):l.set(n1,"GenericError"),this.telemetry.postEvent(Zu.TASAPI_FETCHERROR_EVENTNAME,l)}if(!r)throw Error(Zu.TASAPI_FETCHERROR_EVENTNAME);t.keys.length>0&&this.PostEventToTelemetry(n);let o=r.data,i=o.Configs,s=[];for(let a of i)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:o.AssignmentContext,configs:i}}};Zu.TasApiFeatureProvider=r1});var q7=O((OVe,B7)=>{var H7=require("stream").Stream,vve=require("util");B7.exports=Ts;function Ts(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}vve.inherits(Ts,H7);Ts.create=function(e,t){var n=new this;t=t||{};for(var r in t)n[r]=t[r];n.source=e;var o=e.emit;return e.emit=function(){return n._handleEmit(arguments),o.apply(e,arguments)},e.on("error",function(){}),n.pauseStream&&e.pause(),n};Object.defineProperty(Ts.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Ts.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Ts.prototype.resume=function(){this._released||this.release(),this.source.resume()};Ts.prototype.pause=function(){this.source.pause()};Ts.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};Ts.prototype.pipe=function(){var e=H7.prototype.pipe.apply(this,arguments);return this.resume(),e};Ts.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};Ts.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var z7=O((UVe,V7)=>{var xve=require("util"),Y7=require("stream").Stream,W7=q7();V7.exports=hn;function hn(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}xve.inherits(hn,Y7);hn.create=function(e){var t=new this;e=e||{};for(var n in e)t[n]=e[n];return t};hn.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};hn.prototype.append=function(e){var t=hn.isStreamLike(e);if(t){if(!(e instanceof W7)){var n=W7.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=n}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};hn.prototype.pipe=function(e,t){return Y7.prototype.pipe.call(this,e,t),this.resume(),e};hn.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};hn.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(n){var r=hn.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};hn.prototype._pipeNext=function(e){this._currentStream=e;var t=hn.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var n=e;this.write(n),this._getNext()};hn.prototype._handleErrors=function(e){var t=this;e.on("error",function(n){t._emitError(n)})};hn.prototype.write=function(e){this.emit("data",e)};hn.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};hn.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};hn.prototype.end=function(){this._reset(),this.emit("end")};hn.prototype.destroy=function(){this._reset(),this.emit("close")};hn.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};hn.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};hn.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};hn.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var G7=O((MVe,wve)=>{wve.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var J7=O(($Ve,K7)=>{K7.exports=G7()});var Q7=O(Wo=>{"use strict";var F0=J7(),yve=require("path").extname,X7=/^\s*([^;\s]*)(?:;|\s|$)/,Eve=/^text\//i;Wo.charset=Z7;Wo.charsets={lookup:Z7};Wo.contentType=Cve;Wo.extension=bve;Wo.extensions=Object.create(null);Wo.lookup=Sve;Wo.types=Object.create(null);_ve(Wo.extensions,Wo.types);function Z7(e){if(!e||typeof e!="string")return!1;var t=X7.exec(e),n=t&&F0[t[1].toLowerCase()];return n&&n.charset?n.charset:t&&Eve.test(t[1])?"UTF-8":!1}function Cve(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?Wo.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var n=Wo.charset(t);n&&(t+="; charset="+n.toLowerCase())}return t}function bve(e){if(!e||typeof e!="string")return!1;var t=X7.exec(e),n=t&&Wo.extensions[t[1].toLowerCase()];return!n||!n.length?!1:n[0]}function Sve(e){if(!e||typeof e!="string")return!1;var t=yve("x."+e).toLowerCase().substr(1);return t&&Wo.types[t]||!1}function _ve(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(F0).forEach(function(o){var i=F0[o],s=i.extensions;if(!(!s||!s.length)){e[o]=s;for(var a=0;a<s.length;a++){var c=s[a];if(t[c]){var l=n.indexOf(F0[t[c]].source),u=n.indexOf(i.source);if(t[c]!=="application/octet-stream"&&(l>u||l===u&&t[c].substr(0,12)==="application/"))continue}t[c]=o}}})}});var t9=O((HVe,e9)=>{e9.exports=Dve;function Dve(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var o1=O((BVe,r9)=>{var n9=t9();r9.exports=Pve;function Pve(e){var t=!1;return n9(function(){t=!0}),function(r,o){t?e(r,o):n9(function(){e(r,o)})}}});var i1=O((qVe,o9)=>{o9.exports=Ive;function Ive(e){Object.keys(e.jobs).forEach(Tve.bind(e)),e.jobs={}}function Tve(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var s1=O((WVe,s9)=>{var i9=o1(),kve=i1();s9.exports=Rve;function Rve(e,t,n,r){var o=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[o]=Nve(t,o,e[o],function(i,s){o in n.jobs&&(delete n.jobs[o],i?kve(n):n.results[o]=s,r(i,n.results))})}function Nve(e,t,n,r){var o;return e.length==2?o=e(n,i9(r)):o=e(n,t,i9(r)),o}});var a1=O((YVe,a9)=>{a9.exports=Lve;function Lve(e,t){var n=!Array.isArray(e),r={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};return t&&r.keyedList.sort(n?t:function(o,i){return t(e[o],e[i])}),r}});var c1=O((VVe,c9)=>{var Ave=i1(),Fve=o1();c9.exports=Ove;function Ove(e){Object.keys(this.jobs).length&&(this.index=this.size,Ave(this),Fve(e)(null,this.results))}});var u9=O((zVe,l9)=>{var Uve=s1(),Mve=a1(),$ve=c1();l9.exports=jve;function jve(e,t,n){for(var r=Mve(e);r.index<(r.keyedList||e).length;)Uve(e,t,r,function(o,i){if(o){n(o,i);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return $ve.bind(r,n)}});var l1=O((GVe,O0)=>{var d9=s1(),Hve=a1(),Bve=c1();O0.exports=qve;O0.exports.ascending=f9;O0.exports.descending=Wve;function qve(e,t,n,r){var o=Hve(e,n);return d9(e,t,o,function i(s,a){if(s){r(s,a);return}if(o.index++,o.index<(o.keyedList||e).length){d9(e,t,o,i);return}r(null,o.results)}),Bve.bind(o,r)}function f9(e,t){return e<t?-1:e>t?1:0}function Wve(e,t){return-1*f9(e,t)}});var m9=O((KVe,p9)=>{var Yve=l1();p9.exports=Vve;function Vve(e,t,n){return Yve(e,t,null,n)}});var g9=O((JVe,h9)=>{h9.exports={parallel:u9(),serial:m9(),serialOrdered:l1()}});var x9=O((XVe,v9)=>{v9.exports=function(e,t){return Object.keys(t).forEach(function(n){e[n]=e[n]||t[n]}),e}});var E9=O((ZVe,y9)=>{var p1=z7(),w9=require("util"),u1=require("path"),zve=require("http"),Gve=require("https"),Kve=require("url").parse,Jve=require("fs"),Xve=require("stream").Stream,d1=Q7(),Zve=g9(),f1=x9();y9.exports=mt;w9.inherits(mt,p1);function mt(e){if(!(this instanceof mt))return new mt(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],p1.call(this),e=e||{};for(var t in e)this[t]=e[t]}mt.LINE_BREAK=`\r
`;mt.DEFAULT_CONTENT_TYPE="application/octet-stream";mt.prototype.append=function(e,t,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=p1.prototype.append.bind(this);if(typeof t=="number"&&(t=""+t),w9.isArray(t)){this._error(new Error("Arrays are not supported."));return}var o=this._multiPartHeader(e,t,n),i=this._multiPartFooter();r(o),r(t),r(i),this._trackLength(o,t,n)};mt.prototype._trackLength=function(e,t,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(t)?r=t.length:typeof t=="string"&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+mt.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&t.hasOwnProperty("httpVersion"))&&!(t instanceof Xve))&&(n.knownLength||this._valuesToMeasure.push(t))};mt.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):Jve.stat(e.path,function(n,r){var o;if(n){t(n);return}o=r.size-(e.start?e.start:0),t(null,o)}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(n){e.pause(),t(null,+n.headers["content-length"])}),e.resume()):t("Unknown stream")};mt.prototype._multiPartHeader=function(e,t,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(t,n),o=this._getContentType(t,n),i="",s={"Content-Disposition":["form-data",'name="'+e+'"'].concat(r||[]),"Content-Type":[].concat(o||[])};typeof n.header=="object"&&f1(s,n.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(i+=c+": "+a.join("; ")+mt.LINE_BREAK)));return"--"+this.getBoundary()+mt.LINE_BREAK+i+mt.LINE_BREAK};mt.prototype._getContentDisposition=function(e,t){var n,r;return typeof t.filepath=="string"?n=u1.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?n=u1.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(n=u1.basename(e.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};mt.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e.name&&(n=d1.lookup(e.name)),!n&&e.path&&(n=d1.lookup(e.path)),!n&&e.readable&&e.hasOwnProperty("httpVersion")&&(n=e.headers["content-type"]),!n&&(t.filepath||t.filename)&&(n=d1.lookup(t.filepath||t.filename)),!n&&typeof e=="object"&&(n=mt.DEFAULT_CONTENT_TYPE),n};mt.prototype._multiPartFooter=function(){return function(e){var t=mt.LINE_BREAK,n=this._streams.length===0;n&&(t+=this._lastBoundary()),e(t)}.bind(this)};mt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+mt.LINE_BREAK};mt.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(n[t.toLowerCase()]=e[t]);return n};mt.prototype.setBoundary=function(e){this._boundary=e};mt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};mt.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?e=Buffer.concat([e,this._streams[n]]):e=Buffer.concat([e,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(mt.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};mt.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(Math.random()*10).toString(16);this._boundary=e};mt.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};mt.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};mt.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}Zve.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){e(n);return}r.forEach(function(o){t+=o}),e(null,t)})};mt.prototype.submit=function(e,t){var n,r,o={method:"post"};return typeof e=="string"?(e=Kve(e),r=f1({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},o)):(r=f1(e,o),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(e.headers),r.protocol=="https:"?n=Gve.request(r):n=zve.request(r),this.getLength(function(i,s){if(i&&i!=="Unknown stream"){this._error(i);return}if(s&&n.setHeader("Content-Length",s),this.pipe(n),t){var a,c=function(l,u){return n.removeListener("error",c),n.removeListener("response",a),t.call(this,l,u)};a=c.bind(this,null),n.on("error",c),n.on("response",a)}}.bind(this)),n};mt.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};mt.prototype.toString=function(){return"[object FormData]"}});var b9=O(C9=>{"use strict";var Qve=require("url").parse,exe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},txe=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function nxe(e){var t=typeof e=="string"?Qve(e):e||{},n=t.protocol,r=t.host,o=t.port;if(typeof r!="string"||!r||typeof n!="string"||(n=n.split(":",1)[0],r=r.replace(/:\d*$/,""),o=parseInt(o)||exe[n]||0,!rxe(r,o)))return"";var i=yg("npm_config_"+n+"_proxy")||yg(n+"_proxy")||yg("npm_config_proxy")||yg("all_proxy");return i&&i.indexOf("://")===-1&&(i=n+"://"+i),i}function rxe(e,t){var n=(yg("npm_config_no_proxy")||yg("no_proxy")).toLowerCase();return n?n==="*"?!1:n.split(/[,\s]/).every(function(r){if(!r)return!0;var o=r.match(/^(.+):(\d+)$/),i=o?o[1]:r,s=o?parseInt(o[2]):0;return s&&s!==t?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!txe.call(e,i)):e!==i}):!0}function yg(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}C9.getProxyForUrl=nxe});var gJ=O((eze,hJ)=>{"use strict";var oxe=E9(),ixe=require("url"),sxe=b9(),axe=require("http"),cxe=require("https"),q9=require("util"),lxe=pv(),uxe=require("zlib"),W9=require("stream"),dxe=require("events");function od(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Y9=od(oxe),fxe=od(ixe),pxe=od(axe),mxe=od(cxe),hxe=od(q9),gxe=od(lxe),nd=od(uxe),ed=od(W9);function V9(e,t){return function(){return e.apply(t,arguments)}}var{toString:vxe}=Object.prototype,{getPrototypeOf:R1}=Object,W0=(e=>t=>{let n=vxe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ks=e=>(e=e.toLowerCase(),t=>W0(t)===e),Y0=e=>t=>typeof t===e,{isArray:_g}=Array,Ey=Y0("undefined");function xxe(e){return e!==null&&!Ey(e)&&e.constructor!==null&&!Ey(e.constructor)&&wi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var z9=ks("ArrayBuffer");function wxe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&z9(e.buffer),t}var yxe=Y0("string"),wi=Y0("function"),G9=Y0("number"),V0=e=>e!==null&&typeof e=="object",Exe=e=>e===!0||e===!1,U0=e=>{if(W0(e)!=="object")return!1;let t=R1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cxe=ks("Date"),bxe=ks("File"),Sxe=ks("Blob"),_xe=ks("FileList"),Dxe=e=>V0(e)&&wi(e.pipe),Pxe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wi(e.append)&&((t=W0(e))==="formdata"||t==="object"&&wi(e.toString)&&e.toString()==="[object FormData]"))},Ixe=ks("URLSearchParams"),[Txe,kxe,Rxe,Nxe]=["ReadableStream","Request","Response","Headers"].map(ks),Lxe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function by(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),_g(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{let i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length,a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function K9(e,t){t=t.toLowerCase();let n=Object.keys(e),r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}var cp=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),J9=e=>!Ey(e)&&e!==cp;function w1(){let{caseless:e}=J9(this)&&this||{},t={},n=(r,o)=>{let i=e&&K9(t,o)||o;U0(t[i])&&U0(r)?t[i]=w1(t[i],r):U0(r)?t[i]=w1({},r):_g(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&by(arguments[r],n);return t}var Axe=(e,t,n,{allOwnKeys:r}={})=>(by(t,(o,i)=>{n&&wi(o)?e[i]=V9(o,n):e[i]=o},{allOwnKeys:r}),e),Fxe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Oxe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Uxe=(e,t,n,r)=>{let o,i,s,a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&R1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Mxe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return r!==-1&&r===n},$xe=e=>{if(!e)return null;if(_g(e))return e;let t=e.length;if(!G9(t))return null;let n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},jxe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&R1(Uint8Array)),Hxe=(e,t)=>{let r=(e&&e[Symbol.iterator]).call(e),o;for(;(o=r.next())&&!o.done;){let i=o.value;t.call(e,i[0],i[1])}},Bxe=(e,t)=>{let n,r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},qxe=ks("HTMLFormElement"),Wxe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),S9=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Yxe=ks("RegExp"),X9=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};by(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},Vxe=e=>{X9(e,(t,n)=>{if(wi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;let r=e[n];if(wi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zxe=(e,t)=>{let n={},r=o=>{o.forEach(i=>{n[i]=!0})};return _g(e)?r(e):r(String(e).split(t)),n},Gxe=()=>{},Kxe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,m1="abcdefghijklmnopqrstuvwxyz",_9="0123456789",Z9={DIGIT:_9,ALPHA:m1,ALPHA_DIGIT:m1+m1.toUpperCase()+_9},Jxe=(e=16,t=Z9.ALPHA_DIGIT)=>{let n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Xxe(e){return!!(e&&wi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}var Zxe=e=>{let t=new Array(10),n=(r,o)=>{if(V0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;let i=_g(r)?[]:{};return by(r,(s,a)=>{let c=n(s,o+1);!Ey(c)&&(i[a]=c)}),t[o]=void 0,i}}return r};return n(e,0)},Qxe=ks("AsyncFunction"),ewe=e=>e&&(V0(e)||wi(e))&&wi(e.then)&&wi(e.catch),Q9=((e,t)=>e?setImmediate:t?((n,r)=>(cp.addEventListener("message",({source:o,data:i})=>{o===cp&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),cp.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wi(cp.postMessage)),twe=typeof queueMicrotask<"u"?queueMicrotask.bind(cp):typeof process<"u"&&process.nextTick||Q9,W={isArray:_g,isArrayBuffer:z9,isBuffer:xxe,isFormData:Pxe,isArrayBufferView:wxe,isString:yxe,isNumber:G9,isBoolean:Exe,isObject:V0,isPlainObject:U0,isReadableStream:Txe,isRequest:kxe,isResponse:Rxe,isHeaders:Nxe,isUndefined:Ey,isDate:Cxe,isFile:bxe,isBlob:Sxe,isRegExp:Yxe,isFunction:wi,isStream:Dxe,isURLSearchParams:Ixe,isTypedArray:jxe,isFileList:_xe,forEach:by,merge:w1,extend:Axe,trim:Lxe,stripBOM:Fxe,inherits:Oxe,toFlatObject:Uxe,kindOf:W0,kindOfTest:ks,endsWith:Mxe,toArray:$xe,forEachEntry:Hxe,matchAll:Bxe,isHTMLForm:qxe,hasOwnProperty:S9,hasOwnProp:S9,reduceDescriptors:X9,freezeMethods:Vxe,toObjectSet:zxe,toCamelCase:Wxe,noop:Gxe,toFiniteNumber:Kxe,findKey:K9,global:cp,isContextDefined:J9,ALPHABET:Z9,generateString:Jxe,isSpecCompliantForm:Xxe,toJSONObject:Zxe,isAsyncFn:Qxe,isThenable:ewe,setImmediate:Q9,asap:twe};function we(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}W.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var eJ=we.prototype,tJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tJ[e]={value:e}});Object.defineProperties(we,tJ);Object.defineProperty(eJ,"isAxiosError",{value:!0});we.from=(e,t,n,r,o,i)=>{let s=Object.create(eJ);return W.toFlatObject(e,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),we.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};function y1(e){return W.isPlainObject(e)||W.isArray(e)}function nJ(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function D9(e,t,n){return e?e.concat(t).map(function(o,i){return o=nJ(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function nwe(e){return W.isArray(e)&&!e.some(y1)}var rwe=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function z0(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new(Y9.default||FormData),n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!W.isUndefined(v[h])});let r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(o))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(W.isDate(m))return m.toISOString();if(!c&&W.isBlob(m))throw new we("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(m)||W.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,h,v){let g=m;if(m&&!v&&typeof m=="object"){if(W.endsWith(h,"{}"))h=r?h:h.slice(0,-2),m=JSON.stringify(m);else if(W.isArray(m)&&nwe(m)||(W.isFileList(m)||W.endsWith(h,"[]"))&&(g=W.toArray(m)))return h=nJ(h),g.forEach(function(x,y){!(W.isUndefined(x)||x===null)&&t.append(s===!0?D9([h],y,i):s===null?h:h+"[]",l(x))}),!1}return y1(m)?!0:(t.append(D9(v,h,i),l(m)),!1)}let d=[],p=Object.assign(rwe,{defaultVisitor:u,convertValue:l,isVisitable:y1});function f(m,h){if(!W.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+h.join("."));d.push(m),W.forEach(m,function(g,w){(!(W.isUndefined(g)||g===null)&&o.call(t,g,W.isString(w)?w.trim():w,h,p))===!0&&f(g,h?h.concat(w):[w])}),d.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return f(e),t}function P9(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function rJ(e,t){this._pairs=[],e&&z0(e,this,t)}var oJ=rJ.prototype;oJ.append=function(t,n){this._pairs.push([t,n])};oJ.toString=function(t){let n=t?function(r){return t.call(this,r,P9)}:P9;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function owe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function N1(e,t,n){if(!t)return e;let r=n&&n.encode||owe,o=n&&n.serialize,i;if(o?i=o(t,n):i=W.isURLSearchParams(t)?t.toString():new rJ(t,n).toString(r),i){let s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}var E1=class{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(r){r!==null&&t(r)})}},I9=E1,L1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iwe=fxe.default.URLSearchParams,swe={isNode:!0,classes:{URLSearchParams:iwe,FormData:Y9.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},A1=typeof window<"u"&&typeof document<"u",awe=(e=>A1&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),cwe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),lwe=A1&&window.location.href||"http://localhost",uwe=Object.freeze({__proto__:null,hasBrowserEnv:A1,hasStandardBrowserWebWorkerEnv:cwe,hasStandardBrowserEnv:awe,origin:lwe}),Yo={...uwe,...swe};function dwe(e,t){return z0(e,new Yo.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Yo.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function fwe(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pwe(e){let t={},n=Object.keys(e),r,o=n.length,i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function iJ(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),c=i>=n.length;return s=!s&&W.isArray(o)?o.length:s,c?(W.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!W.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&W.isArray(o[s])&&(o[s]=pwe(o[s])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){let n={};return W.forEachEntry(e,(r,o)=>{t(fwe(r),o,n,0)}),n}return null}function mwe(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var F1={transitional:L1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){let r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return o?JSON.stringify(iJ(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dwe(t,this.formSerializer).toString();if((a=W.isFileList(t))||r.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return z0(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),mwe(t)):t}],transformResponse:[function(t){let n=this.transitional||F1.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(r&&!this.responseType||o)){let s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?we.from(a,we.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yo.classes.FormData,Blob:Yo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{F1.headers[e]={}});var O1=F1,hwe=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gwe=e=>{let t={},n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&hwe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},T9=Symbol("internals");function yy(e){return e&&String(e).trim().toLowerCase()}function M0(e){return e===!1||e==null?e:W.isArray(e)?e.map(M0):String(e)}function vwe(e){let t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}var xwe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function h1(e,t,n,r,o){if(W.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!W.isString(t)){if(W.isString(r))return t.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(t)}}function wwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ywe(e,t){let n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}var Cg=class{constructor(t){t&&this.set(t)}set(t,n,r){let o=this;function i(a,c,l){let u=yy(c);if(!u)throw new Error("header name must be a non-empty string");let d=W.findKey(o,u);(!d||o[d]===void 0||l===!0||l===void 0&&o[d]!==!1)&&(o[d||c]=M0(a))}let s=(a,c)=>W.forEach(a,(l,u)=>i(l,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(W.isString(t)&&(t=t.trim())&&!xwe(t))s(gwe(t),n);else if(W.isHeaders(t))for(let[a,c]of t.entries())i(c,a,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=yy(t),t){let r=W.findKey(this,t);if(r){let o=this[r];if(!n)return o;if(n===!0)return vwe(o);if(W.isFunction(n))return n.call(this,o,r);if(W.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yy(t),t){let r=W.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||h1(this,this[r],r,n)))}return!1}delete(t,n){let r=this,o=!1;function i(s){if(s=yy(s),s){let a=W.findKey(r,s);a&&(!n||h1(r,r[a],a,n))&&(delete r[a],o=!0)}}return W.isArray(t)?t.forEach(i):i(t),o}clear(t){let n=Object.keys(this),r=n.length,o=!1;for(;r--;){let i=n[r];(!t||h1(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){let n=this,r={};return W.forEach(this,(o,i)=>{let s=W.findKey(r,i);if(s){n[s]=M0(o),delete n[i];return}let a=t?wwe(i):String(i).trim();a!==i&&delete n[i],n[a]=M0(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let n=Object.create(null);return W.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){let r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){let r=(this[T9]=this[T9]={accessors:{}}).accessors,o=this.prototype;function i(s){let a=yy(s);r[a]||(ywe(o,s),r[a]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};Cg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Cg.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});W.freezeMethods(Cg);var Vo=Cg;function g1(e,t){let n=this||O1,r=t||n,o=Vo.from(r.headers),i=r.data;return W.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function sJ(e){return!!(e&&e.__CANCEL__)}function rd(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(rd,we,{__CANCEL__:!0});function Eg(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ewe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function U1(e,t){return e&&!Ewe(t)?Cwe(e,t):t}var j0="1.7.4";function aJ(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var bwe=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Swe(e,t,n){let r=n&&n.Blob||Yo.classes.Blob,o=aJ(e);if(t===void 0&&r&&(t=!0),o==="data"){e=o.length?e.slice(o.length+1):e;let i=bwe.exec(e);if(!i)throw new we("Invalid URL",we.ERR_INVALID_URL);let s=i[1],a=i[2],c=i[3],l=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(t){if(!r)throw new we("Blob is not supported",we.ERR_NOT_SUPPORT);return new r([l],{type:s})}return l}throw new we("Unsupported protocol "+o,we.ERR_NOT_SUPPORT)}var v1=Symbol("internals"),C1=class extends ed.default.Transform{constructor(t){t=W.toFlatObject(t,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(r,o)=>!W.isUndefined(o[r])),super({readableHighWaterMark:t.chunkSize});let n=this[v1]={timeWindow:t.timeWindow,chunkSize:t.chunkSize,maxRate:t.maxRate,minChunkSize:t.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",r=>{r==="progress"&&(n.isCaptured||(n.isCaptured=!0))})}_read(t){let n=this[v1];return n.onReadCallback&&n.onReadCallback(),super._read(t)}_transform(t,n,r){let o=this[v1],i=o.maxRate,s=this.readableHighWaterMark,a=o.timeWindow,c=1e3/a,l=i/c,u=o.minChunkSize!==!1?Math.max(o.minChunkSize,l*.01):0,d=(f,m)=>{let h=Buffer.byteLength(f);o.bytesSeen+=h,o.bytes+=h,o.isCaptured&&this.emit("progress",o.bytesSeen),this.push(f)?process.nextTick(m):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(m)}},p=(f,m)=>{let h=Buffer.byteLength(f),v=null,g=s,w,x=0;if(i){let y=Date.now();(!o.ts||(x=y-o.ts)>=a)&&(o.ts=y,w=l-o.bytes,o.bytes=w<0?-w:0,x=0),w=l-o.bytes}if(i){if(w<=0)return setTimeout(()=>{m(null,f)},a-x);w<g&&(g=w)}g&&h>g&&h-g>u&&(v=f.subarray(g),f=f.subarray(0,g)),d(f,v?()=>{process.nextTick(m,null,v)}:m)};p(t,function f(m,h){if(m)return r(m);h?p(h,f):r(null)})}},k9=C1,{asyncIterator:R9}=Symbol,_we=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[R9]?yield*e[R9]():yield e},cJ=_we,Dwe=W.ALPHABET.ALPHA_DIGIT+"-_",Cy=new q9.TextEncoder,td=`\r
`,Pwe=Cy.encode(td),Iwe=2,b1=class{constructor(t,n){let{escapeName:r}=this.constructor,o=W.isString(n),i=`Content-Disposition: form-data; name="${r(t)}"${!o&&n.name?`; filename="${r(n.name)}"`:""}${td}`;o?n=Cy.encode(String(n).replace(/\r?\n|\r\n?/g,td)):i+=`Content-Type: ${n.type||"application/octet-stream"}${td}`,this.headers=Cy.encode(i+td),this.contentLength=o?n.byteLength:n.size,this.size=this.headers.byteLength+this.contentLength+Iwe,this.name=t,this.value=n}async*encode(){yield this.headers;let{value:t}=this;W.isTypedArray(t)?yield t:yield*cJ(t),yield Pwe}static escapeName(t){return String(t).replace(/[\r\n"]/g,n=>({"\r":"%0D","\n":"%0A",'"':"%22"})[n])}},Twe=(e,t,n)=>{let{tag:r="form-data-boundary",size:o=25,boundary:i=r+"-"+W.generateString(o,Dwe)}=n||{};if(!W.isFormData(e))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let s=Cy.encode("--"+i+td),a=Cy.encode("--"+i+"--"+td+td),c=a.byteLength,l=Array.from(e.entries()).map(([d,p])=>{let f=new b1(d,p);return c+=f.size,f});c+=s.byteLength*l.length,c=W.toFiniteNumber(c);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(u["Content-Length"]=c),t&&t(u),W9.Readable.from(async function*(){for(let d of l)yield s,yield*d.encode();yield a}())},kwe=Twe,S1=class extends ed.default.Transform{__transform(t,n,r){this.push(t),r()}_transform(t,n,r){if(t.length!==0&&(this._transform=this.__transform,t[0]!==120)){let o=Buffer.alloc(2);o[0]=120,o[1]=156,this.push(o,n)}this.__transform(t,n,r)}},Rwe=S1,Nwe=(e,t)=>W.isAsyncFn(e)?function(...n){let r=n.pop();e.apply(this,n).then(o=>{try{t?r(null,...t(o)):r(null,o)}catch(i){r(i)}},r)}:e,Lwe=Nwe;function Awe(e,t){e=e||10;let n=new Array(e),r=new Array(e),o=0,i=0,s;return t=t!==void 0?t:1e3,function(c){let l=Date.now(),u=r[i];s||(s=l),n[o]=c,r[o]=l;let d=i,p=0;for(;d!==o;)p+=n[d++],d=d%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-s<t)return;let f=u&&l-u;return f?Math.round(p*1e3/f):void 0}}function Fwe(e,t){let n=0,r=1e3/t,o,i,s=(l,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{let u=Date.now(),d=u-n;d>=r?s(l,u):(o=l,i||(i=setTimeout(()=>{i=null,s(o)},r-d)))},()=>o&&s(o)]}var bg=(e,t,n=3)=>{let r=0,o=Awe(50,250);return Fwe(i=>{let s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,l=o(c),u=s<=a;r=s;let d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},H0=(e,t)=>{let n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},B0=e=>(...t)=>W.asap(()=>e(...t)),N9={flush:nd.default.constants.Z_SYNC_FLUSH,finishFlush:nd.default.constants.Z_SYNC_FLUSH},Owe={flush:nd.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:nd.default.constants.BROTLI_OPERATION_FLUSH},L9=W.isFunction(nd.default.createBrotliDecompress),{http:Uwe,https:Mwe}=gxe.default,$we=/https:?/,A9=Yo.protocols.map(e=>e+":"),F9=(e,[t,n])=>(e.on("end",n).on("error",n),t);function jwe(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function lJ(e,t,n){let r=t;if(!r&&r!==!1){let o=sxe.getProxyForUrl(n);o&&(r=new URL(o))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));let i=Buffer.from(r.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+i}e.headers.host=e.hostname+(e.port?":"+e.port:"");let o=r.hostname||r.host;e.hostname=o,e.host=o,e.port=r.port,e.path=n,r.protocol&&(e.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}e.beforeRedirects.proxy=function(i){lJ(i,t,i.href)}}var Hwe=typeof process<"u"&&W.kindOf(process)==="process",Bwe=e=>new Promise((t,n)=>{let r,o,i=(c,l)=>{o||(o=!0,r&&r(c,l))},s=c=>{i(c),t(c)},a=c=>{i(c,!0),n(c)};e(s,a,c=>r=c).catch(a)}),qwe=({address:e,family:t})=>{if(!W.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}},O9=(e,t)=>qwe(W.isObject(e)?e:{address:e,family:t}),Wwe=Hwe&&function(t){return Bwe(async function(r,o,i){let{data:s,lookup:a,family:c}=t,{responseType:l,responseEncoding:u}=t,d=t.method.toUpperCase(),p,f=!1,m;if(a){let T=Lwe(a,$=>W.isArray($)?$:[$]);a=($,Y,j)=>{T($,Y,(J,fe,Ne)=>{if(J)return j(J);let ke=W.isArray(fe)?fe.map(Xe=>O9(Xe)):[O9(fe,Ne)];Y.all?j(J,ke):j(J,ke[0].address,ke[0].family)})}}let h=new dxe.EventEmitter,v=()=>{t.cancelToken&&t.cancelToken.unsubscribe(g),t.signal&&t.signal.removeEventListener("abort",g),h.removeAllListeners()};i((T,$)=>{p=!0,$&&(f=!0,v())});function g(T){h.emit("abort",!T||T.type?new rd(null,t,m):T)}h.once("abort",o),(t.cancelToken||t.signal)&&(t.cancelToken&&t.cancelToken.subscribe(g),t.signal&&(t.signal.aborted?g():t.signal.addEventListener("abort",g)));let w=U1(t.baseURL,t.url),x=new URL(w,W.hasBrowserEnv?Yo.origin:void 0),y=x.protocol||A9[0];if(y==="data:"){let T;if(d!=="GET")return Eg(r,o,{status:405,statusText:"method not allowed",headers:{},config:t});try{T=Swe(t.url,l==="blob",{Blob:t.env&&t.env.Blob})}catch($){throw we.from($,we.ERR_BAD_REQUEST,t)}return l==="text"?(T=T.toString(u),(!u||u==="utf8")&&(T=W.stripBOM(T))):l==="stream"&&(T=ed.default.Readable.from(T)),Eg(r,o,{data:T,status:200,statusText:"OK",headers:new Vo,config:t})}if(A9.indexOf(y)===-1)return o(new we("Unsupported protocol "+y,we.ERR_BAD_REQUEST,t));let E=Vo.from(t.headers).normalize();E.set("User-Agent","axios/"+j0,!1);let{onUploadProgress:P,onDownloadProgress:D}=t,R=t.maxRate,N,k;if(W.isSpecCompliantForm(s)){let T=E.getContentType(/boundary=([-_\w\d]{10,70})/i);s=kwe(s,$=>{E.set($)},{tag:`axios-${j0}-boundary`,boundary:T&&T[1]||void 0})}else if(W.isFormData(s)&&W.isFunction(s.getHeaders)){if(E.set(s.getHeaders()),!E.hasContentLength())try{let T=await hxe.default.promisify(s.getLength).call(s);Number.isFinite(T)&&T>=0&&E.setContentLength(T)}catch{}}else if(W.isBlob(s))s.size&&E.setContentType(s.type||"application/octet-stream"),E.setContentLength(s.size||0),s=ed.default.Readable.from(cJ(s));else if(s&&!W.isStream(s)){if(!Buffer.isBuffer(s))if(W.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(W.isString(s))s=Buffer.from(s,"utf-8");else return o(new we("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",we.ERR_BAD_REQUEST,t));if(E.setContentLength(s.length,!1),t.maxBodyLength>-1&&s.length>t.maxBodyLength)return o(new we("Request body larger than maxBodyLength limit",we.ERR_BAD_REQUEST,t))}let C=W.toFiniteNumber(E.getContentLength());W.isArray(R)?(N=R[0],k=R[1]):N=k=R,s&&(P||N)&&(W.isStream(s)||(s=ed.default.Readable.from(s,{objectMode:!1})),s=ed.default.pipeline([s,new k9({maxRate:W.toFiniteNumber(N)})],W.noop),P&&s.on("progress",F9(s,H0(C,bg(B0(P),!1,3)))));let S;if(t.auth){let T=t.auth.username||"",$=t.auth.password||"";S=T+":"+$}if(!S&&x.username){let T=x.username,$=x.password;S=T+":"+$}S&&E.delete("authorization");let b;try{b=N1(x.pathname+x.search,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(T){let $=new Error(T.message);return $.config=t,$.url=t.url,$.exists=!0,o($)}E.set("Accept-Encoding","gzip, compress, deflate"+(L9?", br":""),!1);let _={path:b,method:d,headers:E.toJSON(),agents:{http:t.httpAgent,https:t.httpsAgent},auth:S,protocol:y,family:c,beforeRedirect:jwe,beforeRedirects:{}};!W.isUndefined(a)&&(_.lookup=a),t.socketPath?_.socketPath=t.socketPath:(_.hostname=x.hostname,_.port=x.port,lJ(_,t.proxy,y+"//"+x.hostname+(x.port?":"+x.port:"")+_.path));let A,L=$we.test(_.protocol);if(_.agent=L?t.httpsAgent:t.httpAgent,t.transport?A=t.transport:t.maxRedirects===0?A=L?mxe.default:pxe.default:(t.maxRedirects&&(_.maxRedirects=t.maxRedirects),t.beforeRedirect&&(_.beforeRedirects.config=t.beforeRedirect),A=L?Mwe:Uwe),t.maxBodyLength>-1?_.maxBodyLength=t.maxBodyLength:_.maxBodyLength=1/0,t.insecureHTTPParser&&(_.insecureHTTPParser=t.insecureHTTPParser),m=A.request(_,function($){if(m.destroyed)return;let Y=[$],j=+$.headers["content-length"];if(D||k){let Xe=new k9({maxRate:W.toFiniteNumber(k)});D&&Xe.on("progress",F9(Xe,H0(j,bg(B0(D),!0,3)))),Y.push(Xe)}let J=$,fe=$.req||m;if(t.decompress!==!1&&$.headers["content-encoding"])switch((d==="HEAD"||$.statusCode===204)&&delete $.headers["content-encoding"],($.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Y.push(nd.default.createUnzip(N9)),delete $.headers["content-encoding"];break;case"deflate":Y.push(new Rwe),Y.push(nd.default.createUnzip(N9)),delete $.headers["content-encoding"];break;case"br":L9&&(Y.push(nd.default.createBrotliDecompress(Owe)),delete $.headers["content-encoding"])}J=Y.length>1?ed.default.pipeline(Y,W.noop):Y[0];let Ne=ed.default.finished(J,()=>{Ne(),v()}),ke={status:$.statusCode,statusText:$.statusMessage,headers:new Vo($.headers),config:t,request:fe};if(l==="stream")ke.data=J,Eg(r,o,ke);else{let Xe=[],Ke=0;J.on("data",function(Je){Xe.push(Je),Ke+=Je.length,t.maxContentLength>-1&&Ke>t.maxContentLength&&(f=!0,J.destroy(),o(new we("maxContentLength size of "+t.maxContentLength+" exceeded",we.ERR_BAD_RESPONSE,t,fe)))}),J.on("aborted",function(){if(f)return;let Je=new we("maxContentLength size of "+t.maxContentLength+" exceeded",we.ERR_BAD_RESPONSE,t,fe);J.destroy(Je),o(Je)}),J.on("error",function(Je){m.destroyed||o(we.from(Je,null,t,fe))}),J.on("end",function(){try{let Je=Xe.length===1?Xe[0]:Buffer.concat(Xe);l!=="arraybuffer"&&(Je=Je.toString(u),(!u||u==="utf8")&&(Je=W.stripBOM(Je))),ke.data=Je}catch(Je){return o(we.from(Je,null,t,ke.request,ke))}Eg(r,o,ke)})}h.once("abort",Xe=>{J.destroyed||(J.emit("error",Xe),J.destroy())})}),h.once("abort",T=>{o(T),m.destroy(T)}),m.on("error",function($){o(we.from($,null,t,m))}),m.on("socket",function($){$.setKeepAlive(!0,1e3*60)}),t.timeout){let T=parseInt(t.timeout,10);if(Number.isNaN(T)){o(new we("error trying to parse `config.timeout` to int",we.ERR_BAD_OPTION_VALUE,t,m));return}m.setTimeout(T,function(){if(p)return;let Y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",j=t.transitional||L1;t.timeoutErrorMessage&&(Y=t.timeoutErrorMessage),o(new we(Y,j.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,m)),g()})}if(W.isStream(s)){let T=!1,$=!1;s.on("end",()=>{T=!0}),s.once("error",Y=>{$=!0,m.destroy(Y)}),s.on("close",()=>{!T&&!$&&g(new rd("Request stream has been aborted",t,m))}),s.pipe(m)}else m.end(s)})},Ywe=Yo.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function o(i){let s=i;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){let a=W.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Vwe=Yo.hasStandardBrowserEnv?{write(e,t,n,r,o,i){let s=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),W.isString(r)&&s.push("path="+r),W.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}},U9=e=>e instanceof Vo?{...e}:e;function lp(e,t){t=t||{};let n={};function r(l,u,d){return W.isPlainObject(l)&&W.isPlainObject(u)?W.merge.call({caseless:d},l,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function o(l,u,d){if(W.isUndefined(u)){if(!W.isUndefined(l))return r(void 0,l,d)}else return r(l,u,d)}function i(l,u){if(!W.isUndefined(u))return r(void 0,u)}function s(l,u){if(W.isUndefined(u)){if(!W.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,d){if(d in t)return r(l,u);if(d in e)return r(void 0,l)}let c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u)=>o(U9(l),U9(u),!0)};return W.forEach(Object.keys(Object.assign({},e,t)),function(u){let d=c[u]||o,p=d(e[u],t[u],u);W.isUndefined(p)&&d!==a||(n[u]=p)}),n}var uJ=e=>{let t=lp({},e),{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=t;t.headers=s=Vo.from(s),t.url=N1(U1(t.baseURL,t.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(W.isFormData(n)){if(Yo.hasStandardBrowserEnv||Yo.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){let[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Yo.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||r!==!1&&Ywe(t.url))){let l=o&&i&&Vwe.read(i);l&&s.set(o,l)}return t},zwe=typeof XMLHttpRequest<"u",Gwe=zwe&&function(e){return new Promise(function(n,r){let o=uJ(e),i=o.data,s=Vo.from(o.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:l}=o,u,d,p,f,m;function h(){f&&f(),m&&m(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout;function g(){if(!v)return;let x=Vo.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:e,request:v};Eg(function(D){n(D),h()},function(D){r(D),h()},E),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(r(new we("Request aborted",we.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let y=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",E=o.transitional||L1;o.timeoutErrorMessage&&(y=o.timeoutErrorMessage),r(new we(y,E.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&W.forEach(s.toJSON(),function(y,E){v.setRequestHeader(E,y)}),W.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),a&&a!=="json"&&(v.responseType=o.responseType),l&&([p,m]=bg(l,!0),v.addEventListener("progress",p)),c&&v.upload&&([d,f]=bg(c),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",f)),(o.cancelToken||o.signal)&&(u=x=>{v&&(r(!x||x.type?new rd(null,e,v):x),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));let w=aJ(o.url);if(w&&Yo.protocols.indexOf(w)===-1){r(new we("Unsupported protocol "+w+":",we.ERR_BAD_REQUEST,e));return}v.send(i||null)})},Kwe=(e,t)=>{let n=new AbortController,r,o=function(c){if(!r){r=!0,s();let l=c instanceof Error?c:this.reason;n.abort(l instanceof we?l:new rd(l instanceof Error?l.message:l))}},i=t&&setTimeout(()=>{o(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t),s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",o):c.unsubscribe(o))}),e=null)};e.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",o));let{signal:a}=n;return a.unsubscribe=s,[a,()=>{i&&clearTimeout(i),i=null}]},Jwe=Kwe,Xwe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Zwe=async function*(e,t,n){for await(let r of e)yield*Xwe(ArrayBuffer.isView(r)?r:await n(String(r)),t)},M9=(e,t,n,r,o)=>{let i=Zwe(e,t,o),s=0,a,c=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{let{done:u,value:d}=await i.next();if(u){c(),l.close();return}let p=d.byteLength;if(n){let f=s+=p;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),i.return()}},{highWaterMark:2})},G0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dJ=G0&&typeof ReadableStream=="function",_1=G0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fJ=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Qwe=dJ&&fJ(()=>{let e=!1,t=new Request(Yo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$9=64*1024,D1=dJ&&fJ(()=>W.isReadableStream(new Response("").body)),q0={stream:D1&&(e=>e.body)};G0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!q0[t]&&(q0[t]=W.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new we(`Response type '${t}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);var eye=async e=>{if(e==null)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(W.isArrayBufferView(e)||W.isArrayBuffer(e))return e.byteLength;if(W.isURLSearchParams(e)&&(e=e+""),W.isString(e))return(await _1(e)).byteLength},tye=async(e,t)=>{let n=W.toFiniteNumber(e.getContentLength());return n??eye(t)},nye=G0&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:p}=uJ(e);l=l?(l+"").toLowerCase():"text";let[f,m]=o||i||s?Jwe([o,i],s):[],h,v,g=()=>{!h&&setTimeout(()=>{f&&f.unsubscribe()}),h=!0},w;try{if(c&&Qwe&&n!=="get"&&n!=="head"&&(w=await tye(u,r))!==0){let P=new Request(t,{method:"POST",body:r,duplex:"half"}),D;if(W.isFormData(r)&&(D=P.headers.get("content-type"))&&u.setContentType(D),P.body){let[R,N]=H0(w,bg(B0(c)));r=M9(P.body,$9,R,N,_1)}}W.isString(d)||(d=d?"include":"omit"),v=new Request(t,{...p,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:d});let x=await fetch(v),y=D1&&(l==="stream"||l==="response");if(D1&&(a||y)){let P={};["status","statusText","headers"].forEach(k=>{P[k]=x[k]});let D=W.toFiniteNumber(x.headers.get("content-length")),[R,N]=a&&H0(D,bg(B0(a),!0))||[];x=new Response(M9(x.body,$9,R,()=>{N&&N(),y&&g()},_1),P)}l=l||"text";let E=await q0[W.findKey(q0,l)||"text"](x,e);return!y&&g(),m&&m(),await new Promise((P,D)=>{Eg(P,D,{data:E,headers:Vo.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:v})})}catch(x){throw g(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,e,v),{cause:x.cause||x}):we.from(x,x&&x.code,e,v)}}),P1={http:Wwe,xhr:Gwe,fetch:nye};W.forEach(P1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var j9=e=>`- ${e}`,rye=e=>W.isFunction(e)||e===null||e===!1,pJ={getAdapter:e=>{e=W.isArray(e)?e:[e];let{length:t}=e,n,r,o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!rye(n)&&(r=P1[(s=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){let i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=t?i.length>1?`since :
`+i.map(j9).join(`
`):" "+j9(i[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:P1};function x1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rd(null,e)}function H9(e){return x1(e),e.headers=Vo.from(e.headers),e.data=g1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pJ.getAdapter(e.adapter||O1.adapter)(e).then(function(r){return x1(e),r.data=g1.call(e,e.transformResponse,r),r.headers=Vo.from(r.headers),r},function(r){return sJ(r)||(x1(e),r&&r.response&&(r.response.data=g1.call(e,e.transformResponse,r.response),r.response.headers=Vo.from(r.response.headers))),Promise.reject(r)})}var M1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{M1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var B9={};M1.transitional=function(t,n,r){function o(i,s){return"[Axios v"+j0+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new we(o(s," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!B9[s]&&(B9[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,a):!0}};function oye(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),o=r.length;for(;o-- >0;){let i=r[o],s=t[i];if(s){let a=e[i],c=a===void 0||s(a,i,e);if(c!==!0)throw new we("option "+i+" must be "+c,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}var I1={assertOptions:oye,validators:M1},Qu=I1.validators,Sg=class{constructor(t){this.defaults=t,this.interceptors={request:new I9,response:new I9}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;let i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=lp(this.defaults,n);let{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&I1.assertOptions(r,{silentJSONParsing:Qu.transitional(Qu.boolean),forcedJSONParsing:Qu.transitional(Qu.boolean),clarifyTimeoutError:Qu.transitional(Qu.boolean)},!1),o!=null&&(W.isFunction(o)?n.paramsSerializer={serialize:o}:I1.assertOptions(o,{encode:Qu.function,serialize:Qu.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Vo.concat(s,i);let a=[],c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let u,d=0,p;if(!c){let m=[H9.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,l),p=m.length,u=Promise.resolve(n);d<p;)u=u.then(m[d++],m[d++]);return u}p=a.length;let f=n;for(d=0;d<p;){let m=a[d++],h=a[d++];try{f=m(f)}catch(v){h.call(this,v);break}}try{u=H9.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,p=l.length;d<p;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=lp(this.defaults,t);let n=U1(t.baseURL,t.url);return N1(n,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){Sg.prototype[t]=function(n,r){return this.request(lp(r||{},{method:t,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,a){return this.request(lp(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Sg.prototype[t]=n(),Sg.prototype[t+"Form"]=n(!0)});var $0=Sg,T1=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});let r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i,s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new rd(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new e(function(o){t=o}),cancel:t}}},iye=T1;function sye(e){return function(n){return e.apply(null,n)}}function aye(e){return W.isObject(e)&&e.isAxiosError===!0}var k1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k1).forEach(([e,t])=>{k1[t]=e});var cye=k1;function mJ(e){let t=new $0(e),n=V9($0.prototype.request,t);return W.extend(n,$0.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return mJ(lp(e,o))},n}var qn=mJ(O1);qn.Axios=$0;qn.CanceledError=rd;qn.CancelToken=iye;qn.isCancel=sJ;qn.VERSION=j0;qn.toFormData=z0;qn.AxiosError=we;qn.Cancel=qn.CanceledError;qn.all=function(t){return Promise.all(t)};qn.spread=sye;qn.isAxiosError=aye;qn.mergeConfig=lp;qn.AxiosHeaders=Vo;qn.formToJSON=e=>iJ(W.isHTMLForm(e)?new FormData(e):e);qn.getAdapter=pJ.getAdapter;qn.HttpStatusCode=cye;qn.default=qn;hJ.exports=qn});var vJ=O(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.AxiosHttpClient=void 0;var lye=gJ(),$1=class{constructor(t){this.endpoint=t}get(t){return lye.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};K0.AxiosHttpClient=$1});var xJ=O(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.MemoryKeyValueStorage=void 0;var j1=class{constructor(){this.storage=new Map}async getValue(t,n){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(n||void 0)}setValue(t,n){this.storage.set(t,n)}};J0.MemoryKeyValueStorage=j1});var wJ=O(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.ExperimentationServiceBase=void 0;var uye=xJ(),H1=class{get features(){return this._features}set features(t){this._features=t,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(t,n,r,o,i){this.telemetry=t,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=r,this.storageKey=o,this.storage=i,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(i=new uye.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));let n=await this.fetchPromise;this.updateFeatures(n,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,n=!1){let r={features:[],assignmentContext:"",configs:[]};for(let o of t){for(let i of o.features)r.features.includes(i)||r.features.push(i);for(let i of o.configs){let s=r.configs.find(a=>a.Id===i.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),i.Parameters):r.configs.push(i)}r.assignmentContext+=o.assignmentContext}(n||!this.featuresConsumed)&&(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),n.features.includes(t)}getTreatmentVariable(t,n){this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${n}`);let r=this.features.configs.find(o=>o.Id===t);return r==null?void 0:r.Parameters[n]}async getTreatmentVariableAsync(t,n,r){if(r){let o=this.featuresConsumed,i=this.getTreatmentVariable(t,n);if(i===void 0)this.featuresConsumed=o;else return i}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,n)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let n of t)this.featureProviders.push(n)}};X0.ExperimentationServiceBase=H1});var yJ=O(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0});Z0.PollingService=void 0;var B1=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};Z0.PollingService=B1});var EJ=O(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});Q0.ExperimentationServiceAutoPolling=void 0;var dye=wJ(),fye=yJ(),q1=class extends dye.ExperimentationServiceBase{constructor(t,n,r,o,i,s,a){if(super(t,o,i,s,a),this.telemetry=t,this.filterProviders=n,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=i,this.storageKey=s,this.storage=a,r<1e3&&r!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new fye.PollingService(r),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let n=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),n}else return await super.getFeaturesAsync(t)}};Q0.ExperimentationServiceAutoPolling=q1});var CJ=O(tP=>{"use strict";Object.defineProperty(tP,"__esModule",{value:!0});tP.ExperimentationService=void 0;var pye=j7(),mye=vJ(),hye=EJ(),eP=class extends hye.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage),this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new pye.TasApiFeatureProvider(new mye.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};tP.ExperimentationService=eP;eP.REFRESH_RATE_IN_MINUTES=30});var bJ=O(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0});nP.ExperimentationService=void 0;var gye=CJ();Object.defineProperty(nP,"ExperimentationService",{enumerable:!0,get:function(){return gye.ExperimentationService}})});var SJ=O(rP=>{"use strict";Object.defineProperty(rP,"__esModule",{value:!0});rP.MementoKeyValueStorage=void 0;var W1=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,n){return await this.mementoGlobalStorage.get(t)||n}setValue(t,n){this.mementoGlobalStorage.update(t,n)}};rP.MementoKeyValueStorage=W1});var _J=O(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});var Y1=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,n){}getTreatmentVariableAsync(t,n){return Promise.resolve(void 0)}};V1.default=Y1});var PJ=O(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.getExperimentationServiceAsync=Dg.getExperimentationService=void 0;var vye=QO(),xye=bJ(),z1=require("vscode"),wye=SJ(),yye=_J(),Eye="https://default.exp-tas.com/vscode/ab",Cye="query-expfeature",bye="abexp.assignmentcontext",Sye="VSCode.ABExp.FeatureData",_ye=1e3*60*30;function DJ(e,t,n,r,o,...i){if(!o)throw new Error("Memento storage was not provided.");let s=z1.workspace.getConfiguration("telemetry");if(!(z1.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):z1.env.isTelemetryEnabled))return new yye.default;let l=[new vye.VSCodeFilterProvider(e,t,n),...i],u=new wye.MementoKeyValueStorage(o);return new xye.ExperimentationService({filterProviders:l,telemetry:r,storageKey:Sye,keyValueStorage:u,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:bye,telemetryEventName:Cye,endpoint:Eye,refetchInterval:_ye})}Dg.getExperimentationService=DJ;async function Dye(e,t,n,r,o,...i){let s=DJ(e,t,n,r,o,...i);return await s.initializePromise,s}Dg.getExperimentationServiceAsync=Dye});var TJ=O(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.TargetPopulation=id.getExperimentationServiceAsync=id.getExperimentationService=void 0;var IJ=PJ();Object.defineProperty(id,"getExperimentationService",{enumerable:!0,get:function(){return IJ.getExperimentationService}});Object.defineProperty(id,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return IJ.getExperimentationServiceAsync}});var Pye=QO();Object.defineProperty(id,"TargetPopulation",{enumerable:!0,get:function(){return Pye.TargetPopulation}})});var XZ=O((U5e,TCe)=>{TCe.exports={name:"remote-containers",displayName:"%displayName%",description:"%description%",version:"0.388.0",publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.86.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"%capabilities.untrustedWorkspaces.description%"},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","devcontainer","development container","continueOn"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost"],main:"./dist/extension/extension",l10n:"./l10n",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote","contribRemoteHelp"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"},{command:"remote-containers.openRepositoryFromGitWithEditSession",group:"0_local@2",when:"git.state == initialized && gitOpenRepositoryCount != 0 && remoteName =~ /(codespaces*.*|tunnel)/ && false",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"}],languages:[{id:"jsonc",filenames:["devcontainer-feature.json",".devcontainer-internal.json"]}],jsonValidation:[{fileMatch:"devcontainer-feature.json",url:"https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainerFeature.schema.json"}],configuration:{title:"%configuration.title%",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"%configuration.defaultExtensions.deprecationMessage%",markdownDeprecationMessage:"%configuration.defaultExtensions.markdownDeprecationMessage%"},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"%configuration.defaultExtensions.description%",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensions.errorMessage%"}},"dev.containers.defaultExtensionsIfInstalledLocally":{scope:"application",type:"array",description:"%configuration.defaultExtensionsIfInstalledLocally.description%",default:["GitHub.copilot","GitHub.copilot-chat","GitHub.vscode-pull-request-github"],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensionsIfInstalledLocally.errorMessage%"}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"%configuration.defaultFeatures%",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"%configuration.workspaceMountConsistency.deprecationMessage%",markdownDeprecationMessage:"%configuration.workspaceMountConsistency.markdownDeprecationMessage%"},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["%configuration.workspaceMountConsistency.consistent%","%configuration.workspaceMountConsistency.cached%","%configuration.workspaceMountConsistency.delegated%"],description:"%configuration.workspaceMountConsistency.description%",default:"cached"},"dev.containers.gpuAvailability":{scope:"machine",type:"string",enum:["all","detect","none"],enumDescriptions:["%configuration.gpuAvailability.all%","%configuration.gpuAvailability.detect%","%configuration.gpuAvailability.none%"],description:"%configuration.gpuAvailability.description%",default:"detect"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"%configuration.cacheVolume.deprecationMessage%",markdownDeprecationMessage:"%configuration.cacheVolume.markdownDeprecationMessage%"},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"%configuration.cacheVolume.description%",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"%configuration.copyGitConfig.deprecationMessage%",markdownDeprecationMessage:"%configuration.copyGitConfig.markdownDeprecationMessage%"},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"%configuration.copyGitConfig.markdownDescription%",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"%configuration.gitCredentialHelperConfigLocation.deprecationMessage%",markdownDeprecationMessage:"%configuration.gitCredentialHelperConfigLocation.markdownDeprecationMessage%"},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["%configuration.gitCredentialHelperConfigLocation.system%","%configuration.gitCredentialHelperConfigLocation.global%","%configuration.gitCredentialHelperConfigLocation.none%"],description:"%configuration.gitCredentialHelperConfigLocation.description%",default:"global"},"dev.containers.dockerCredentialHelper":{scope:"machine",type:"boolean",markdownDescription:"%configuration.dockerCredentialHelper.markdownDescription%",default:!0},"dev.containers.mountWaylandSocket":{scope:"application",ignoreSync:!0,type:"boolean",markdownDescription:"%configuration.mountWaylandSocket.markdownDescription%",default:!0},"remote.containers.logLevel":{scope:"application",deprecationMessage:"%configuration.logLevel.deprecationMessage%",markdownDeprecationMessage:"%configuration.logLevel.markdownDeprecationMessage%"},"dev.containers.logLevel":{scope:"application",type:"string",description:"%configuration.logLevel.description%",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"%configuration.dockerPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerPath.markdownDeprecationMessage%"},"dev.containers.dockerPath":{scope:"application",type:"string",description:"%configuration.dockerPath.description%",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"%configuration.dockerComposePath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerComposePath.markdownDeprecationMessage%"},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"%configuration.dockerComposePath.description%",default:"docker-compose"},"dev.containers.dockerSocketPath":{scope:"application",type:"string",description:"%configuration.dockerSocketPath.description%",default:"/var/run/docker.sock"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"%configuration.executeInWSL.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSL.markdownDeprecationMessage%"},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"%configuration.executeInWSL.description%",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"%configuration.executeInWSLDistro.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSLDistro.markdownDeprecationMessage%"},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"%configuration.executeInWSLDistro.markdownDescription%"},"dev.containers.forwardWSLServices":{scope:"application",type:"boolean",description:"%configuration.forwardWSLServices.description%",default:!0},"dotfiles.repository":{scope:"machine",type:"string",description:"%configuration.dotfiles.repository.description%"},"dotfiles.installCommand":{scope:"machine",type:"string",description:"%configuration.dotfiles.installCommand.description%"},"dotfiles.targetPath":{scope:"machine",type:"string",description:"%configuration.dotfiles.targetPath.description%",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"%configuration.dotfiles.repository.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.repository.markdownDeprecationMessage%"},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"%configuration.dotfiles.installCommand.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.installCommand.markdownDeprecationMessage%"},"remote.containers.dotfiles.targetPath":{scope:"machine",deprecationMessage:"%configuration.dotfiles.targetPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.targetPath.markdownDeprecationMessage%"},"remote.containers.repositoryConfigurationPaths":{scope:"application",deprecationMessage:"%configuration.repositoryConfigurationPaths.deprecationMessage%",markdownDeprecationMessage:"%configuration.repositoryConfigurationPaths.markdownDeprecationMessage%"},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"%configuration.repositoryConfigurationPaths.markdownDescription%",default:[],items:{type:"string"}},"dev.containers.experimentalLockfile":{scope:"application",type:"boolean",description:"%configuration.experimentalLockfile.description%",default:!1},"dev.containers.optimisticallyLaunchDocker":{scope:"application",type:"boolean",description:"%configuration.optimisticallyLaunchDocker.description%",default:!0}}},commands:[{command:"remote-containers.reopenInContainer",title:"%command.reopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildAndReopenInContainer",title:"%command.rebuildAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"%command.rebuildNoCacheAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.reopenLocally",title:"%command.reopenLocally%",category:"%command.category%"},{command:"remote-containers.reopenInWSL",title:"%command.reopenInWSL%",category:"%command.category%"},{command:"remote-containers.reopenInSSH",title:"%command.reopenInSSH%",category:"%command.category%"},{command:"remote-containers.reopenInTunnel",title:"%command.reopenInTunnel%",category:"%command.category%"},{command:"remote-containers.openFolder",title:"%command.openFolder%",category:"%command.category%",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openFolderInContainerInCurrentWindow",title:"%command.openFolderInContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.openFolderInContainerInNewWindow",title:"%command.openFolderInContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.openInformationAboutMountPerformance",title:"%command.openInformationAboutMountPerformance%",category:"%command.category%",icon:"$(info)"},{command:"remote-containers.openRepositoryInVolume",title:"%command.openRepositoryInVolume%",category:"%command.category%"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"%command.openRepositoryInUniqueVolume%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"%command.openRepositoryFromRemoteHubWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromGitWithEditSession",title:"%command.openRepositoryFromGitWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openPullRequestInVolume",title:"%command.openPullRequestInVolume%",category:"%command.category%"},{command:"remote-containers.inspectVolume",title:"%command.inspectVolume%",category:"%command.category%"},{command:"remote-containers.openWorkspace",title:"%command.openWorkspace%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainer",title:"%command.attachToRunningContainer%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"%command.attachToRunningContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.inspectVolumeFromViewlet",title:"%command.inspectVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"%command.cloneInVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cleanUpDevContainers",title:"%command.cleanUpDevContainers%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.pruneVolumes",title:"%command.pruneVolumes%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"%command.explorerVolumesRefresh%",category:"%command.category%",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainer",title:"%command.attachToK8sContainer%",category:"%command.category%"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"%command.attachToK8sContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.switchContainer",title:"%command.switchContainer%",category:"%command.category%"},{command:"remote-containers.rebuildContainer",title:"%command.rebuildContainer%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"%command.rebuildContainerNoCache%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"%command.createDevContainerFile%",category:"%command.category%"},{command:"remote-containers.createDevContainerFileWithCopilot",title:"%command.createDevContainerFileWithCopilot%",category:"%command.category%"},{command:"remote-containers.createDevContainer",title:"%command.createDevContainer%",category:"%command.category%"},{command:"remote-containers.settings",title:"%command.settings%",category:"%command.category%"},{command:"remote-containers.getHelp",title:"%command.getHelp%",category:"%command.category%"},{command:"remote-containers.getStarted",title:"%command.getStarted%",category:"%command.category%"},{command:"remote-containers.trySample",title:"%command.trySample%",category:"%command.category%"},{command:"remote-containers.reportIssue",title:"%command.reportIssue%",category:"%command.category%"},{command:"remote-containers.provideFeedback",title:"%command.provideFeedback%",category:"%command.category%"},{command:"remote-containers.openDevContainerFile",title:"%command.openDevContainerFile%",category:"%command.category%",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"%command.openAttachConfigByNameFile%",category:"%command.category%"},{command:"remote-containers.openAttachDevContainerFile",title:"%command.openAttachDevContainerFile%",category:"%command.category%"},{command:"remote-containers.revealLogTerminal",title:"%command.revealLogTerminal%",category:"%command.category%"},{command:"remote-containers.openLogFile",title:"%command.openLogFile%",category:"%command.developerCategory%"},{command:"remote-containers.openLastLogFile",title:"%command.openLastLogFile%",category:"%command.category%"},{command:"remote-containers.testConnection",title:"%command.testConnection%",category:"%command.developerCategory%"},{command:"remote-containers.attachToContainerInCurrentWindow",title:"%command.attachToContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.attachToContainerInNewWindow",title:"%command.attachToContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.stopContainer",title:"%command.stopContainer%",category:"%command.category%"},{command:"remote-containers.startContainer",title:"%command.startContainer%",category:"%command.category%",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"%command.removeContainer%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"%command.removeRecentFolder%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"%command.showDetails%",category:"%command.category%"},{command:"remote-containers.explorerTargetsRefresh",title:"%command.explorerTargetsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"%command.explorerDetailsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"%command.inspectDockerResource%",category:"%command.category%"},{command:"remote-containers.inspectInBasicDevContainer",title:"%command.inspectInBasicDevContainer%",category:"%command.category%"},{command:"remote-containers.cloneInVolume",title:"%command.cloneInVolume%",category:"%command.category%"},{command:"remote-containers.removeVolume",title:"%command.removeVolume%",category:"%command.category%"},{command:"remote-containers.newContainer",title:"%command.newContainer%",category:"%command.category%",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"%command.showContainerLog%",category:"%command.category%"},{command:"remote-containers.addExtensionToConfig",title:"%command.addExtensionToConfig%",category:"%command.category%"},{command:"remote-containers.checkoutPRInVolume",title:"%command.checkoutPRInVolume%",category:"%command.category%"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"%command.showReopenInContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"%command.showRecoveryContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.labelPortAndUpdateConfig",title:"%command.labelPortAndUpdateConfig%",category:"%command.category%",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"%command.installDocker%",category:"%command.category%"},{command:"remote-containers.installDockerInWSL",title:"%command.installDockerInWSL%",category:"%command.category%"},{command:"remote-containers.installUserCLI",title:"%command.installUserCLI%",category:"%command.category%"},{command:"remote-containers.configureContainerFeatures",title:"%command.configureContainerFeatures%",category:"%command.category%"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"!hideConnectCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"!hideConnectCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",when:"!hideConnectCommands && workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"!hideRebuildCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenLocally",when:"!hideConnectCommands && canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"!hideConnectCommands && canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"!hideConnectCommands && canReopenInSSH"},{command:"remote-containers.reopenInTunnel",when:"!hideConnectCommands && canReopenInTunnel"},{command:"remote-containers.openFolder",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.createDevContainer",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openWorkspace",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainer",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.openRepositoryFromGitWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainer",when:"!hideConnectCommands && remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.switchContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainer",when:"!hideRebuildCommands && remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"!hideRebuildCommands && remoteName =~ /^dev-container$/"},{command:"remote-containers.testConnection",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.createDevContainerFileWithCopilot",when:"false && github.copilot.activated && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFileWithCopilot",when:"false && github.copilot.activated && remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.getStarted",when:"!remoteName && !virtualWorkspace || remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.trySample",when:"!hideConnectCommands && !remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"!hideConnectCommands && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"false"},{command:"remote-containers.attachToContainerInNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"false"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"false"},{command:"remote-containers.openInformationAboutMountPerformance",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.installDockerInWSL",when:"!hideConnectCommands && isWindows && !remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_2_actions@0",when:"true"},{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@1",when:"!hideConnectCommands"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@2",when:"!hideConnectCommands"},{command:"remote-containers.configureContainerFeatures",group:"remote_30_dev-container_2_actions@3",when:"remoteName =~ /^(dev-container)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!hideConnectCommands && workspaceFolderCount == 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!hideConnectCommands && remoteName =~ /tunnel*.*/ && gitOpenRepositoryCount == 0"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!hideConnectCommands && workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_2_actions@6",when:"!hideRebuildCommands && remoteName =~ /^dev-container$/"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenLocally"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenInSSH"},{command:"remote-containers.reopenInTunnel",group:"remote_30_dev-container_2_actions@7",when:"!hideConnectCommands && canReopenInTunnel"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"!hideConnectCommands && workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"!hideConnectCommands && workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@8",when:"!hideConnectCommands && workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@3"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@1"},{command:"remote-containers.cleanUpDevContainers",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@2"},{command:"remote-containers.newContainer",when:"!hideConnectCommands && view == dockerContainers",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"!hideRebuildCommands && view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"!hideConnectCommands && view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"!hideConnectCommands && view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"!hideConnectCommands && view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/",group:"1_pullrequest@3"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"!hideConnectCommands && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@2"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@2"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@3"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"!hideConnectCommands && canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"!hideConnectCommands && canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"!hideConnectCommands && canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInTunnel",when:"!hideConnectCommands && canReopenInTunnel && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@1"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@2"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^running(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"!hideRebuildCommands && view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@3"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.openInformationAboutMountPerformance",when:"view == detailsContainers && viewItem == mountPerformanceInfo",group:"inline@1"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && !isWorkspaceScopedExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote|tunnel)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.dev-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.attached-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.exec.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.k8s-container.workspaceSuffix%"}}],views:{remote:[{id:"targetsContainers",name:"%views.remote.targetsContainers%",when:"!hideConnectCommands",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"%views.remote.detailsContainers%",when:"!hideConnectCommands && remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"%views.remote.devVolumes%",when:"!hideConnectCommands",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"%viewsWelcome.targetsContainers.needsDockerStartOrInstall%"},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"%viewsWelcome.targetsContainers.needsSSHCredentials%"},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithFolder%"},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithoutFolder%"},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:"%viewsWelcome.devVolumes.noDevVolumes%"}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist compile-watch",postinstall:"yarn --cwd node_modules/@devcontainers/cli",precommit:"node build/hygiene.js",package:"vsce package --yarn",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"npx npm-run-all --npm-path npm compile-cli-prod copy-cli esbuild-prod","compile-dev":"npx npm-run-all --npm-path npm compile-cli-dev copy-cli esbuild-dev","compile-watch":"npx npm-run-all --npm-path npm --parallel compile-cli-watch watch-cli esbuild-watch","esbuild-prod":"node esbuild.js --production","esbuild-dev":"node esbuild.js","esbuild-watch":"node esbuild.js --watch","compile-cli-prod":"yarn --cwd node_modules/@devcontainers/cli compile-prod","compile-cli-dev":"yarn --cwd node_modules/@devcontainers/cli compile-dev","compile-cli-watch":"yarn --cwd node_modules/@devcontainers/cli compile-watch","copy-cli":'copyfiles --up 4 --all "node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js" dist',"watch-cli":"npm-watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":"copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dev-containers-cli","dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},watch:{"copy-cli":"node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js"},devDependencies:{"@types/adm-zip":"^0.5.4","@types/chai":"^4.3.10","@types/eslint":"^8.56.10","@types/follow-redirects":"^1.14.4","@types/js-yaml":"^4.0.9","@types/markdown-it":"^13.0.6","@types/minimist":"^1.2.5","@types/mocha":"^10.0.4","@types/ncp":"^2.0.8","@types/node":"^18.15.3","@types/pull-stream":"^3.6.5","@types/recursive-readdir":"^2.2.4","@types/semver":"^7.5.5","@types/stats-lite":"^2.2.2","@types/tar":"^6.1.9","@types/tar-stream":"^3.1.3","@types/vscode":"~1.75.0","@types/yargs":"^17.0.31","@typescript-eslint/eslint-plugin":"^6.11.0","@typescript-eslint/experimental-utils":"^5.62.0","@typescript-eslint/parser":"^6.11.0","@vscode/l10n-dev":"^0.0.30","@vscode/vsce":"^2.22.0",ajv:"^8.12.0",chai:"^4.3.10",copyfiles:"^2.4.1",esbuild:"^0.19.5",eslint:"^8.53.0","eslint-plugin-local":"^4.2.2","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^9.0.1",husky:"^8.0.3",jsonc:"^2.0.0",minimist:"^1.2.8",mocha:"^10.2.0","npm-run-all":"^4.1.5","npm-watch":"^0.13.0","p-all":"^5.0.0",rimraf:"^5.0.5","stats-lite":"^2.2.0","ts-node":"^10.9.1",typescript:"^5.2.2","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^4.0.0"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#95f0ce4b4a7d1d5dfaf191523e654a53960c1cf3","@vscode/extension-telemetry":"^0.9.0","@vscode/l10n":"^0.0.16","adm-zip":"^0.5.10",applicationinsights:"^2.9.1","find-process":"^1.4.7","follow-redirects":"^1.15.6","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0",muxrpc:"^6.7.3","node-pty":"^1.0.0","pull-pushable":"^2.2.0","pull-stream":"^3.7.0","pull-stream-to-stream":"^2.0.0",semver:"^7.6.2","stream-to-pull-stream":"^1.7.3",tar:"^6.2.1","tar-stream":"^3.1.6","vscode-tas-client":"^0.1.75","vscode-uri":"^3.0.8",yargs:"~17.7.2"}}});var abe={};Zg(abe,{activate:()=>kCe,attachToContainer:()=>Vy,deactivate:()=>ACe});module.exports=Qg(abe);var F=G(require("vscode")),tQ=G(Ar()),oe=require("vscode"),nQ=G(require("os")),XP=G(require("fs")),_t=G(require("path")),rQ=G(require("querystring"));function tv(e,t=!1){let n=e.length,r=0,o="",i=0,s=16,a=0,c=0,l=0,u=0,d=0;function p(x,y){let E=0,P=0;for(;E<x||!y;){let D=e.charCodeAt(r);if(D>=48&&D<=57)P=P*16+D-48;else if(D>=65&&D<=70)P=P*16+D-65+10;else if(D>=97&&D<=102)P=P*16+D-97+10;else break;r++,E++}return E<x&&(P=-1),P}function f(x){r=x,o="",i=0,s=16,d=0}function m(){let x=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&Pp(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&Pp(e.charCodeAt(r)))for(r++;r<e.length&&Pp(e.charCodeAt(r));)r++;else return d=3,e.substring(x,r);let y=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&Pp(e.charCodeAt(r))){for(r++;r<e.length&&Pp(e.charCodeAt(r));)r++;y=r}else d=3;return e.substring(x,y)}function h(){let x="",y=r;for(;;){if(r>=n){x+=e.substring(y,r),d=2;break}let E=e.charCodeAt(r);if(E===34){x+=e.substring(y,r),r++;break}if(E===92){if(x+=e.substring(y,r),r++,r>=n){d=2;break}switch(e.charCodeAt(r++)){case 34:x+='"';break;case 92:x+="\\";break;case 47:x+="/";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:let D=p(4,!0);D>=0?x+=String.fromCharCode(D):d=4;break;default:d=5}y=r;continue}if(E>=0&&E<=31)if(ev(E)){x+=e.substring(y,r),d=2;break}else d=6;r++}return x}function v(){if(o="",d=0,i=r,c=a,u=l,r>=n)return i=n,s=17;let x=e.charCodeAt(r);if(ZP(x)){do r++,o+=String.fromCharCode(x),x=e.charCodeAt(r);while(ZP(x));return s=15}if(ev(x))return r++,o+=String.fromCharCode(x),x===13&&e.charCodeAt(r)===10&&(r++,o+=`
`),a++,l=r,s=14;switch(x){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,o=h(),s=10;case 47:let y=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!ev(e.charCodeAt(r));)r++;return o=e.substring(y,r),s=12}if(e.charCodeAt(r+1)===42){r+=2;let E=n-1,P=!1;for(;r<E;){let D=e.charCodeAt(r);if(D===42&&e.charCodeAt(r+1)===47){r+=2,P=!0;break}r++,ev(D)&&(D===13&&e.charCodeAt(r)===10&&r++,a++,l=r)}return P||(r++,d=1),o=e.substring(y,r),s=13}return o+=String.fromCharCode(x),r++,s=16;case 45:if(o+=String.fromCharCode(x),r++,r===n||!Pp(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o+=m(),s=11;default:for(;r<n&&g(x);)r++,x=e.charCodeAt(r);if(i!==r){switch(o=e.substring(i,r),o){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return o+=String.fromCharCode(x),r++,s=16}}function g(x){if(ZP(x)||ev(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function w(){let x;do x=v();while(x>=12&&x<=15);return x}return{setPosition:f,getPosition:()=>r,scan:t?w:v,getToken:()=>s,getTokenValue:()=>o,getTokenOffset:()=>i,getTokenLength:()=>r-i,getTokenStartLine:()=>c,getTokenStartCharacter:()=>i-u,getTokenError:()=>d}}function ZP(e){return e===32||e===9}function ev(e){return e===10||e===13}function Pp(e){return e>=48&&e<=57}var fM;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(fM||(fM={}));function QP(e,t,n){let r,o,i,s,a;if(t){for(s=t.offset,a=s+t.length,i=s;i>0&&!nv(e,i-1);)i--;let x=a;for(;x<e.length&&!nv(e,x);)x++;o=e.substring(i,x),r=LQ(o,n)}else o=e,r=0,i=0,s=0,a=e.length;let c=AQ(n,e),l=0,u=0,d;n.insertSpaces?d=Ip(" ",n.tabSize||4):d="	";let p=tv(o,!1),f=!1;function m(){return l>1?Ip(c,l)+Ip(d,r+u):c+Ip(d,r+u)}function h(){let x=p.scan();for(l=0;x===15||x===14;)x===14&&n.keepLines?l+=1:x===14&&(l=1),x=p.scan();return f=x===16||p.getTokenError()!==0,x}let v=[];function g(x,y,E){!f&&(!t||y<a&&E>s)&&e.substring(y,E)!==x&&v.push({offset:y,length:E-y,content:x})}let w=h();if(n.keepLines&&l>0&&g(Ip(c,l),0,0),w!==17){let x=p.getTokenOffset()+i,y=Ip(d,r);g(y,i,x)}for(;w!==17;){let x=p.getTokenOffset()+p.getTokenLength()+i,y=h(),E="",P=!1;for(;l===0&&(y===12||y===13);){let R=p.getTokenOffset()+i;g(" ",x,R),x=p.getTokenOffset()+p.getTokenLength()+i,P=y===12,E=P?m():"",y=h()}if(y===2)w!==1&&u--,n.keepLines&&l>0||!n.keepLines&&w!==1?E=m():n.keepLines&&(E=" ");else if(y===4)w!==3&&u--,n.keepLines&&l>0||!n.keepLines&&w!==3?E=m():n.keepLines&&(E=" ");else{switch(w){case 3:case 1:u++,n.keepLines&&l>0||!n.keepLines?E=m():E=" ";break;case 5:n.keepLines&&l>0||!n.keepLines?E=m():E=" ";break;case 12:E=m();break;case 13:l>0?E=m():P||(E=" ");break;case 6:n.keepLines&&l>0?E=m():P||(E=" ");break;case 10:n.keepLines&&l>0?E=m():y===6&&!P&&(E="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&l>0?E=m():(y===12||y===13)&&!P?E=" ":y!==5&&y!==17&&(f=!0);break;case 16:f=!0;break}l>0&&(y===12||y===13)&&(E=m())}y===17&&(n.keepLines&&l>0?E=m():E=n.insertFinalNewline?c:"");let D=p.getTokenOffset()+i;g(E,x,D),w=y}return v}function Ip(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function LQ(e,t){let n=0,r=0,o=t.tabSize||4;for(;n<e.length;){let i=e.charAt(n);if(i===" ")r++;else if(i==="	")r+=o;else break;n++}return Math.floor(r/o)}function AQ(e,t){for(let n=0;n<t.length;n++){let r=t.charAt(n);if(r==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return e&&e.eol||`
`}function nv(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}var rv;(function(e){e.DEFAULT={allowTrailingComma:!1}})(rv||(rv={}));function pM(e,t){let n=[],r=new Object,o,i={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,d){i.value=c,i.offset=l,i.length=u,i.type=d,i.colonOffset=void 0,o=i}try{rE(e,{onObjectBegin:(c,l)=>{if(t<=c)throw r;o=void 0,s=t>c,n.push("")},onObjectProperty:(c,l,u)=>{if(t<l||(a(c,l,u,"property"),n[n.length-1]=c,t<=l+u))throw r},onObjectEnd:(c,l)=>{if(t<=c)throw r;o=void 0,n.pop()},onArrayBegin:(c,l)=>{if(t<=c)throw r;o=void 0,n.push(0)},onArrayEnd:(c,l)=>{if(t<=c)throw r;o=void 0,n.pop()},onLiteralValue:(c,l,u)=>{if(t<l||(a(c,l,u,hM(c)),t<=l+u))throw r},onSeparator:(c,l,u)=>{if(t<=l)throw r;if(c===":"&&o&&o.type==="property")o.colonOffset=l,s=!1,o=void 0;else if(c===","){let d=n[n.length-1];typeof d=="number"?n[n.length-1]=d+1:(s=!0,n[n.length-1]=""),o=void 0}}})}catch(c){if(c!==r)throw c}return{path:n,previousNode:o,isAtPropertyKey:s,matches:c=>{let l=0;for(let u=0;l<c.length&&u<n.length;u++)if(c[l]===n[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function mM(e,t=[],n=rv.DEFAULT){let r=null,o=[],i=[];function s(c){Array.isArray(o)?o.push(c):r!==null&&(o[r]=c)}return rE(e,{onObjectBegin:()=>{let c={};s(c),i.push(o),o=c,r=null},onObjectProperty:c=>{r=c},onObjectEnd:()=>{o=i.pop()},onArrayBegin:()=>{let c=[];s(c),i.push(o),o=c,r=null},onArrayEnd:()=>{o=i.pop()},onLiteralValue:s,onError:(c,l,u)=>{t.push({error:c,offset:l,length:u})}},n),o[0]}function nE(e,t=[],n=rv.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(c){r.type==="property"&&(r.length=c-r.offset,r=r.parent)}function i(c){return r.children.push(c),c}rE(e,{onObjectBegin:c=>{r=i({type:"object",offset:c,length:-1,parent:r,children:[]})},onObjectProperty:(c,l,u)=>{r=i({type:"property",offset:l,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:c,offset:l,length:u,parent:r})},onObjectEnd:(c,l)=>{o(c+l),r.length=c+l-r.offset,r=r.parent,o(c+l)},onArrayBegin:(c,l)=>{r=i({type:"array",offset:c,length:-1,parent:r,children:[]})},onArrayEnd:(c,l)=>{r.length=c+l-r.offset,r=r.parent,o(c+l)},onLiteralValue:(c,l,u)=>{i({type:hM(c),offset:l,length:u,parent:r,value:c}),o(l+u)},onSeparator:(c,l,u)=>{r.type==="property"&&(c===":"?r.colonOffset=l:c===","&&o(l))},onError:(c,l,u)=>{t.push({error:c,offset:l,length:u})}},n);let a=r.children[0];return a&&delete a.parent,a}function ov(e,t){if(!e)return;let n=e;for(let r of t)if(typeof r=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let o=!1;for(let i of n.children)if(Array.isArray(i.children)&&i.children[0].value===r&&i.children.length===2){n=i.children[1],o=!0;break}if(!o)return}else{let o=r;if(n.type!=="array"||o<0||!Array.isArray(n.children)||o>=n.children.length)return;n=n.children[o]}return n}function tE(e){switch(e.type){case"array":return e.children.map(tE);case"object":let t=Object.create(null);for(let n of e.children){let r=n.children[1];r&&(t[n.children[0].value]=tE(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function rE(e,t,n=rv.DEFAULT){let r=tv(e,!1),o=[];function i(S){return S?()=>S(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(S){return S?()=>S(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}function a(S){return S?b=>S(b,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function c(S){return S?b=>S(b,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}let l=s(t.onObjectBegin),u=c(t.onObjectProperty),d=i(t.onObjectEnd),p=s(t.onArrayBegin),f=i(t.onArrayEnd),m=c(t.onLiteralValue),h=a(t.onSeparator),v=i(t.onComment),g=a(t.onError),w=n&&n.disallowComments,x=n&&n.allowTrailingComma;function y(){for(;;){let S=r.scan();switch(r.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:w||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(S){case 12:case 13:w?E(10):v();break;case 16:E(1);break;case 15:case 14:break;default:return S}}}function E(S,b=[],_=[]){if(g(S),b.length+_.length>0){let A=r.getToken();for(;A!==17;){if(b.indexOf(A)!==-1){y();break}else if(_.indexOf(A)!==-1)break;A=y()}}}function P(S){let b=r.getTokenValue();return S?m(b):(u(b),o.push(b)),y(),!0}function D(){switch(r.getToken()){case 11:let S=r.getTokenValue(),b=Number(S);isNaN(b)&&(E(2),b=0),m(b);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return y(),!0}function R(){return r.getToken()!==10?(E(3,[],[2,5]),!1):(P(!1),r.getToken()===6?(h(":"),y(),C()||E(4,[],[2,5])):E(5,[],[2,5]),o.pop(),!0)}function N(){l(),y();let S=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(S||E(4,[],[]),h(","),y(),r.getToken()===2&&x)break}else S&&E(6,[],[]);R()||E(4,[],[2,5]),S=!0}return d(),r.getToken()!==2?E(7,[2],[]):y(),!0}function k(){p(),y();let S=!0,b=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(b||E(4,[],[]),h(","),y(),r.getToken()===4&&x)break}else b&&E(6,[],[]);S?(o.push(0),S=!1):o[o.length-1]++,C()||E(4,[],[4,5]),b=!0}return f(),S||o.pop(),r.getToken()!==4?E(8,[4],[]):y(),!0}function C(){switch(r.getToken()){case 3:return k();case 1:return N();case 10:return P(!0);default:return D()}}return y(),r.getToken()===17?n.allowEmptyContent?!0:(E(4,[],[]),!1):C()?(r.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}function hM(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}function gM(e,t,n,r){let o=t.slice(),s=nE(e,[]),a,c;for(;o.length>0&&(c=o.pop(),a=ov(s,o),a===void 0&&n!==void 0);)typeof c=="string"?n={[c]:n}:n=[n];if(a)if(a.type==="object"&&typeof c=="string"&&Array.isArray(a.children)){let l=ov(a,[c]);if(l!==void 0)if(n===void 0){if(!l.parent)throw new Error("Malformed AST");let u=a.children.indexOf(l.parent),d,p=l.parent.offset+l.parent.length;if(u>0){let f=a.children[u-1];d=f.offset+f.length}else d=a.offset+1,a.children.length>1&&(p=a.children[1].offset);return vd(e,{offset:d,length:p-d,content:""},r)}else return vd(e,{offset:l.offset,length:l.length,content:JSON.stringify(n)},r);else{if(n===void 0)return[];let u=`${JSON.stringify(c)}: ${JSON.stringify(n)}`,d=r.getInsertionIndex?r.getInsertionIndex(a.children.map(f=>f.children[0].value)):a.children.length,p;if(d>0){let f=a.children[d-1];p={offset:f.offset+f.length,length:0,content:","+u}}else a.children.length===0?p={offset:a.offset+1,length:0,content:u}:p={offset:a.offset+1,length:0,content:u+","};return vd(e,p,r)}}else if(a.type==="array"&&typeof c=="number"&&Array.isArray(a.children)){let l=c;if(l===-1){let u=`${JSON.stringify(n)}`,d;if(a.children.length===0)d={offset:a.offset+1,length:0,content:u};else{let p=a.children[a.children.length-1];d={offset:p.offset+p.length,length:0,content:","+u}}return vd(e,d,r)}else if(n===void 0&&a.children.length>=0){let u=c,d=a.children[u],p;if(a.children.length===1)p={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===u){let f=a.children[u-1],m=f.offset+f.length,h=a.offset+a.length;p={offset:m,length:h-2-m,content:""}}else p={offset:d.offset,length:a.children[u+1].offset-d.offset,content:""};return vd(e,p,r)}else if(n!==void 0){let u,d=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&a.children.length>c){let p=a.children[c];u={offset:p.offset,length:p.length,content:d}}else if(a.children.length===0||c===0)u={offset:a.offset+1,length:0,content:a.children.length===0?d:d+","};else{let p=c>a.children.length?a.children.length:c,f=a.children[p-1];u={offset:f.offset+f.length,length:0,content:","+d}}return vd(e,u,r)}else throw new Error(`Can not ${n===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${l} as length is not sufficient`)}else throw new Error(`Can not add ${typeof c!="number"?"index":"property"} to parent of type ${a.type}`);else{if(n===void 0)throw new Error("Can not delete in empty document");return vd(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}}function vd(e,t,n){if(!n.formattingOptions)return[t];let r=oE(e,t),o=t.offset,i=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;o>0&&!nv(r,o-1);)o--;for(;i<r.length&&!nv(r,i);)i++}let s=QP(r,{offset:o,length:i-o},{...n.formattingOptions,keepLines:!1});for(let c=s.length-1;c>=0;c--){let l=s[c];r=oE(r,l),o=Math.min(o,l.offset),i=Math.max(i,l.offset+l.length),i+=l.content.length-l.length}let a=e.length-(r.length-i)-o;return[{offset:o,length:a,content:r.substring(o,i)}]}function oE(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}var vM;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(vM||(vM={}));var xM;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(xM||(xM={}));var yM=pM,Be=mM,xd=nE,Xi=ov;var iE=tE;var wM;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(wM||(wM={}));function Dn(e,t,n,r){return gM(e,t,n,r)}function Eo(e,t){let n=t.slice(0).sort((o,i)=>{let s=o.offset-i.offset;return s===0?o.length-i.length:s}),r=e.length;for(let o=n.length-1;o>=0;o--){let i=n[o];if(i.offset+i.length<=r)e=oE(e,i);else throw new Error("Overlapping edit");r=i.offset}return e}var Vt=G(require("fs")),Ls=require("util");function wr(e){return new Promise(t=>Vt.stat(e,(n,r)=>t(!n&&r.isFile())))}function EM(e){return new Promise(t=>Vt.stat(e,(n,r)=>t(!n&&r.isDirectory())))}function CM(e){return new Promise(t=>Vt.stat(e,(n,r)=>t(!n&&r.isSocket())))}var lt=(0,Ls.promisify)(Vt.readFile),iv=(0,Ls.promisify)(Vt.writeFile),vbe=(0,Ls.promisify)(Vt.appendFile),Xc=(0,Ls.promisify)(Vt.rename),Zc=(0,Ls.promisify)(Vt.readdir),bM=(0,Ls.promisify)(Vt.unlink),Zi=e=>new Promise((t,n)=>Vt.mkdir(e,{recursive:!0},r=>r?n(r):t())),SM=(0,Ls.promisify)(Vt.rmdir),Qc=(0,Ls.promisify)(Vt.rm),xbe=(0,Ls.promisify)(Vt.copyFile);function wd(e,t,n,r=!1){let o=e.relative(t,n);return(r||!!o)&&!o.startsWith("..")&&!e.isAbsolute(o)}var qe=G(require("vscode")),kr=require("vscode"),$y=G(require("path"));var Wl=G(require("path")),qm=G(Ar());var IM=G(require("os")),av=G(require("fs")),TM=G(require("path"));var eI=require("events"),As=class{nodeEmitter=new eI.EventEmitter;disposables;constructor(...t){this.disposables=t}event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},sE=class{nodeEmitter=new eI.EventEmitter;event=t=>{let n=r=>r.results.push(t(r.data));return this.nodeEmitter.on("event",n),{dispose:()=>{this.nodeEmitter.off("event",n)}}};fire(t){let n=[];return this.nodeEmitter.emit("event",{data:t,results:n}),n}dispose(){this.nodeEmitter.removeAllListeners()}};function _M(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:t,package:e,getTelemetryLevel:()=>"off"}}function yd(e){return e.replaceAll(/ghcr.io\/devcontainers\/([^/,]+)\/([^/,]+)/g,"devcontainers-$1:$2")}var nr=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(nr||{}),nI={info:3,debug:2,trace:1},MQ=Object.keys(nI).reduce((e,t)=>(e[nI[t]]=t,e),[]);function cE(e){return nI[e]||3}function ro(e){return MQ[e]||3}var je={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Fs=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function rI(e,t){let n=!!t;return{event:r=>{n&&(n=!1,e.forEach(o=>o.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(o=>o.event(r))}}}function oI(e,t){let n=HQ(e);return{event(r){let o=jQ(r,t());o&&n.write(o)},join:n.join}}function iI(e,t,n){return{event(r){let o=$Q(r,t(),n.getTime());o&&e(o)}}}function Pn(e,t=2){return{event:e.event,write(n,r=t){e.event({type:"text",level:r,timestamp:Date.now(),text:n})},raw(n,r=t){e.event({type:"raw",level:r,timestamp:Date.now(),text:n})},start(n,r=t){let o=Date.now();return e.event({type:"start",level:r,timestamp:o,text:n}),o},stop(n,r,o=t){e.event({type:"stop",level:o,timestamp:Date.now(),text:n,startTimestamp:r})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function $Q(e,t,n){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${sv(DM,`${e.timestamp-n} ms`)}] ${aE(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${sv(YQ,`[${e.timestamp-n} ms] Start`)}: ${aE(e.text)}`:`[${sv(DM,`${e.timestamp-n} ms`)}] Start: ${aE(e.text)}`;case"stop":return 1>=t?`${sv(WQ,`[${e.timestamp-n} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${aE(e.text)}`:void 0;default:throw kM(e)}}function aE(e){return zQ(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function jQ(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${tI(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${tI(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${tI(e.text)}`:void 0;default:throw kM(e)}}function tI(e){return e.replace(Fs,"").replace(/(\r?\n)?$/,IM.EOL)}function kM(e){return new Error(`Unknown log event type: ${e.type}`)}function HQ(e){let t=[],n=!1,r,o;function i(){n=!1,o&&!t.length&&(r=void 0,o(),o=void 0)}function s(a,c=!1){if(a&&t.push(a),!c&&!n&&t.length){n=!0;let l=t.join("");t.length=0,av.appendFile(e,l,u=>{u&&(u.code==="ENOENT"?av.mkdir(TM.dirname(e),{recursive:!0},d=>{d?(i(),console.error(d)):av.appendFile(e,l,p=>{i(),p&&console.error(p),s()})}):(i(),console.error(u))),i(),s()})}}return{write:s,join:()=>r||(n?r=new Promise(a=>o=a):Promise.resolve())}}var BQ="38;2;143;99;79",RM="38;2;99;143;79",qQ="38;2;86;156;214",WQ=BQ,YQ=RM,DM=RM,VQ=qQ;function sv(e,t){return t.split(`
`).map(n=>`\x1B[1m\x1B[${e}m${n}\x1B[39m\x1B[22m`).join(`
`)}function zQ(e){let t,n=0,r=[];for(Fs.lastIndex=0;t=Fs.exec(e);)r.push(PM(e.substring(n,t.index))),r.push(t[0]),n=Fs.lastIndex;return r.push(PM(e.substr(n))),r.join("")}function PM(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,n,r=0,o=[];for(;n=t.exec(e);)o.push(e.substring(r,n.index)),o.push(sv(VQ,n[0])),r=t.lastIndex;return o.push(e.substr(r)),o.join("")}function at(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[31m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function sI(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[33m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var be=class extends Error{description;detail;step;originalError;manageContainer=!1;params;containerId;dockerParams;volumeName;repositoryPath;folderPath;containerProperties;config;actions=[];data={};constructor(t){var n;super(t.originalError&&t.originalError.message||t.description),Object.assign(this,t),this.actions||(this.actions=[]),this.data||(this.data={}),(n=this.originalError)!=null&&n.stack&&(this.stack=this.originalError.stack)}};var De=G(require("path")),jb=G(require("fs")),jz=G(pv()),lN=require("string_decoder"),kl=G(yC());var km=G(require("crypto")),Hz=G(Ik()),Tl=G(Ar()),Bz=G(pq()),qz=G(sW());var iue=G(require("path")),tN=require("string_decoder");var Pb=G(require("path")),nz=G(require("stream")),rz=G(require("os")),Im=G(require("child_process")),vx=require("string_decoder");var YV=G(require("path")),VV=G(require("assert"));var aW;(()=>{"use strict";var e={470:o=>{function i(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,l){for(var u,d="",p=0,f=-1,m=0,h=0;h<=c.length;++h){if(h<c.length)u=c.charCodeAt(h);else{if(u===47)break;u=47}if(u===47){if(!(f===h-1||m===1))if(f!==h-1&&m===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var v=d.lastIndexOf("/");if(v!==d.length-1){v===-1?(d="",p=0):p=(d=d.slice(0,v)).length-1-d.lastIndexOf("/"),f=h,m=0;continue}}else if(d.length===2||d.length===1){d="",p=0,f=h,m=0;continue}}l&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+c.slice(f+1,h):d=c.slice(f+1,h),p=h-f-1;f=h,m=0}else u===46&&m!==-1?++m:m=-1}return d}var a={resolve:function(){for(var c,l="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var p;d>=0?p=arguments[d]:(c===void 0&&(c=process.cwd()),p=c),i(p),p.length!==0&&(l=p+"/"+l,u=p.charCodeAt(0)===47)}return l=s(l,!u),u?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(c){if(i(c),c.length===0)return".";var l=c.charCodeAt(0)===47,u=c.charCodeAt(c.length-1)===47;return(c=s(c,!l)).length!==0||l||(c="."),c.length>0&&u&&(c+="/"),l?"/"+c:c},isAbsolute:function(c){return i(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,l=0;l<arguments.length;++l){var u=arguments[l];i(u),u.length>0&&(c===void 0?c=u:c+="/"+u)}return c===void 0?".":a.normalize(c)},relative:function(c,l){if(i(c),i(l),c===l||(c=a.resolve(c))===(l=a.resolve(l)))return"";for(var u=1;u<c.length&&c.charCodeAt(u)===47;++u);for(var d=c.length,p=d-u,f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var m=l.length-f,h=p<m?p:m,v=-1,g=0;g<=h;++g){if(g===h){if(m>h){if(l.charCodeAt(f+g)===47)return l.slice(f+g+1);if(g===0)return l.slice(f+g)}else p>h&&(c.charCodeAt(u+g)===47?v=g:g===0&&(v=0));break}var w=c.charCodeAt(u+g);if(w!==l.charCodeAt(f+g))break;w===47&&(v=g)}var x="";for(g=u+v+1;g<=d;++g)g!==d&&c.charCodeAt(g)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+l.slice(f+v):(f+=v,l.charCodeAt(f)===47&&++f,l.slice(f))},_makeLong:function(c){return c},dirname:function(c){if(i(c),c.length===0)return".";for(var l=c.charCodeAt(0),u=l===47,d=-1,p=!0,f=c.length-1;f>=1;--f)if((l=c.charCodeAt(f))===47){if(!p){d=f;break}}else p=!1;return d===-1?u?"/":".":u&&d===1?"//":c.slice(0,d)},basename:function(c,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');i(c);var u,d=0,p=-1,f=!0;if(l!==void 0&&l.length>0&&l.length<=c.length){if(l.length===c.length&&l===c)return"";var m=l.length-1,h=-1;for(u=c.length-1;u>=0;--u){var v=c.charCodeAt(u);if(v===47){if(!f){d=u+1;break}}else h===-1&&(f=!1,h=u+1),m>=0&&(v===l.charCodeAt(m)?--m==-1&&(p=u):(m=-1,p=h))}return d===p?p=h:p===-1&&(p=c.length),c.slice(d,p)}for(u=c.length-1;u>=0;--u)if(c.charCodeAt(u)===47){if(!f){d=u+1;break}}else p===-1&&(f=!1,p=u+1);return p===-1?"":c.slice(d,p)},extname:function(c){i(c);for(var l=-1,u=0,d=-1,p=!0,f=0,m=c.length-1;m>=0;--m){var h=c.charCodeAt(m);if(h!==47)d===-1&&(p=!1,d=m+1),h===46?l===-1?l=m:f!==1&&(f=1):l!==-1&&(f=-1);else if(!p){u=m+1;break}}return l===-1||d===-1||f===0||f===1&&l===d-1&&l===u+1?"":c.slice(l,d)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(l,u){var d=u.dir||u.root,p=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+p:d+"/"+p:p}(0,c)},parse:function(c){i(c);var l={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return l;var u,d=c.charCodeAt(0),p=d===47;p?(l.root="/",u=1):u=0;for(var f=-1,m=0,h=-1,v=!0,g=c.length-1,w=0;g>=u;--g)if((d=c.charCodeAt(g))!==47)h===-1&&(v=!1,h=g+1),d===46?f===-1?f=g:w!==1&&(w=1):f!==-1&&(w=-1);else if(!v){m=g+1;break}return f===-1||h===-1||w===0||w===1&&f===h-1&&f===m+1?h!==-1&&(l.base=l.name=m===0&&p?c.slice(1,h):c.slice(m,h)):(m===0&&p?(l.name=c.slice(1,f),l.base=c.slice(1,h)):(l.name=c.slice(m,f),l.base=c.slice(m,h)),l.ext=c.slice(f,h)),m>0?l.dir=c.slice(0,m-1):p&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,o.exports=a}},t={};function n(o){var i=t[o];if(i!==void 0)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(o,i)=>{for(var s in i)n.o(i,s)&&!n.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:i[s]})},n.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};(()=>{let o;n.r(r),n.d(r,{URI:()=>p,Utils:()=>k}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let i=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(C,S){if(!C.scheme&&S)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${C.authority}", path: "${C.path}", query: "${C.query}", fragment: "${C.fragment}"}`);if(C.scheme&&!i.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!s.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let l="",u="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(S){return S instanceof p||!!S&&typeof S.authority=="string"&&typeof S.fragment=="string"&&typeof S.path=="string"&&typeof S.query=="string"&&typeof S.scheme=="string"&&typeof S.fsPath=="string"&&typeof S.with=="function"&&typeof S.toString=="function"}scheme;authority;path;query;fragment;constructor(S,b,_,A,L,T=!1){typeof S=="object"?(this.scheme=S.scheme||l,this.authority=S.authority||l,this.path=S.path||l,this.query=S.query||l,this.fragment=S.fragment||l):(this.scheme=function($,Y){return $||Y?$:"file"}(S,T),this.authority=b||l,this.path=function($,Y){switch($){case"https":case"http":case"file":Y?Y[0]!==u&&(Y=u+Y):Y=u}return Y}(this.scheme,_||l),this.query=A||l,this.fragment=L||l,c(this,T))}get fsPath(){return w(this,!1)}with(S){if(!S)return this;let{scheme:b,authority:_,path:A,query:L,fragment:T}=S;return b===void 0?b=this.scheme:b===null&&(b=l),_===void 0?_=this.authority:_===null&&(_=l),A===void 0?A=this.path:A===null&&(A=l),L===void 0?L=this.query:L===null&&(L=l),T===void 0?T=this.fragment:T===null&&(T=l),b===this.scheme&&_===this.authority&&A===this.path&&L===this.query&&T===this.fragment?this:new m(b,_,A,L,T)}static parse(S,b=!1){let _=d.exec(S);return _?new m(_[2]||l,P(_[4]||l),P(_[5]||l),P(_[7]||l),P(_[9]||l),b):new m(l,l,l,l,l)}static file(S){let b=l;if(o&&(S=S.replace(/\\/g,u)),S[0]===u&&S[1]===u){let _=S.indexOf(u,2);_===-1?(b=S.substring(2),S=u):(b=S.substring(2,_),S=S.substring(_)||u)}return new m("file",b,S,l,l)}static from(S){let b=new m(S.scheme,S.authority,S.path,S.query,S.fragment);return c(b,!0),b}toString(S=!1){return x(this,S)}toJSON(){return this}static revive(S){if(S){if(S instanceof p)return S;{let b=new m(S);return b._formatted=S.external,b._fsPath=S._sep===f?S.fsPath:null,b}}return S}}let f=o?1:void 0;class m extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=w(this,!1)),this._fsPath}toString(S=!1){return S?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){let S={$mid:1};return this._fsPath&&(S.fsPath=this._fsPath,S._sep=f),this._formatted&&(S.external=this._formatted),this.path&&(S.path=this.path),this.scheme&&(S.scheme=this.scheme),this.authority&&(S.authority=this.authority),this.query&&(S.query=this.query),this.fragment&&(S.fragment=this.fragment),S}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(C,S,b){let _,A=-1;for(let L=0;L<C.length;L++){let T=C.charCodeAt(L);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||S&&T===47||b&&T===91||b&&T===93||b&&T===58)A!==-1&&(_+=encodeURIComponent(C.substring(A,L)),A=-1),_!==void 0&&(_+=C.charAt(L));else{_===void 0&&(_=C.substr(0,L));let $=h[T];$!==void 0?(A!==-1&&(_+=encodeURIComponent(C.substring(A,L)),A=-1),_+=$):A===-1&&(A=L)}}return A!==-1&&(_+=encodeURIComponent(C.substring(A))),_!==void 0?_:C}function g(C){let S;for(let b=0;b<C.length;b++){let _=C.charCodeAt(b);_===35||_===63?(S===void 0&&(S=C.substr(0,b)),S+=h[_]):S!==void 0&&(S+=C[b])}return S!==void 0?S:C}function w(C,S){let b;return b=C.authority&&C.path.length>1&&C.scheme==="file"?`//${C.authority}${C.path}`:C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?S?C.path.substr(1):C.path[1].toLowerCase()+C.path.substr(2):C.path,o&&(b=b.replace(/\//g,"\\")),b}function x(C,S){let b=S?g:v,_="",{scheme:A,authority:L,path:T,query:$,fragment:Y}=C;if(A&&(_+=A,_+=":"),(L||A==="file")&&(_+=u,_+=u),L){let j=L.indexOf("@");if(j!==-1){let J=L.substr(0,j);L=L.substr(j+1),j=J.lastIndexOf(":"),j===-1?_+=b(J,!1,!1):(_+=b(J.substr(0,j),!1,!1),_+=":",_+=b(J.substr(j+1),!1,!0)),_+="@"}L=L.toLowerCase(),j=L.lastIndexOf(":"),j===-1?_+=b(L,!1,!0):(_+=b(L.substr(0,j),!1,!0),_+=L.substr(j))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){let j=T.charCodeAt(1);j>=65&&j<=90&&(T=`/${String.fromCharCode(j+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){let j=T.charCodeAt(0);j>=65&&j<=90&&(T=`${String.fromCharCode(j+32)}:${T.substr(2)}`)}_+=b(T,!0,!1)}return $&&(_+="?",_+=b($,!1,!1)),Y&&(_+="#",_+=S?Y:v(Y,!1,!1)),_}function y(C){try{return decodeURIComponent(C)}catch{return C.length>3?C.substr(0,3)+y(C.substr(3)):C}}let E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(C){return C.match(E)?C.replace(E,S=>y(S)):C}var D=n(470);let R=D.posix||D,N="/";var k;(function(C){C.joinPath=function(S,...b){return S.with({path:R.join(S.path,...b)})},C.resolvePath=function(S,...b){let _=S.path,A=!1;_[0]!==N&&(_=N+_,A=!0);let L=R.resolve(_,...b);return A&&L[0]===N&&!S.authority&&(L=L.substring(1)),S.with({path:L})},C.dirname=function(S){if(S.path.length===0||S.path===N)return S;let b=R.dirname(S.path);return b.length===1&&b.charCodeAt(0)===46&&(b=""),S.with({path:b})},C.basename=function(S){return R.basename(S.path)},C.extname=function(S){return R.extname(S.path)}})(k||(k={}))})(),aW=r})();var{URI:Se,Utils:ei}=aW;var cW=G(require("path"));var xl=G(Ar());function Tt(e,t){if(ex(t)){let n=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:n,configFolderPath:n}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function ex(e){return cW.extname(e)===".code-workspace"}async function YC(e,t){if(t.isWorkspaceFile)try{let n=t.rootFolderPath,r=(await e.readFile(t.workspaceOrFolderPath)).toString(),i=Be(r).folders;if(i&&i.length>0){for(let s of i){let a=s.path,c;if(a){if(e.path.isAbsolute(a))return xl.t("Workspace contains an absolute folder path '{0}'.",a);c=e.path.resolve(n,a)}else{let l=s.uri;return l?Se.parse(l).scheme!=="file"?xl.t("Workspace contains folder '{0}' not on the local file system.",l):xl.t("Workspace contains an absolute folder path '{0}'.",l):xl.t("Workspace contains a folder that defines neither a path nor a URI.")}if(!ice(e,c,n))return xl.t("Folder '{0}' is not a subfolder of shared root folder '{1}'.",c,n)}return}return xl.t("Workspace does not define any folders")}catch(n){return xl.t("Problems loading workspace file {0}: {1}",t.workspaceOrFolderPath,n&&(n.message||n.toString()))}}function ice(e,t,n){return t===n?!0:!t||!n||n.length>t.length||t.length>n.length&&t.charAt(n.length)!==e.path.sep?!1:sce(e.platform,n,t.substr(0,n.length))}function sce(e,t,n){return e==="linux"?t===n:t.toLowerCase()===n.toLowerCase()}var ar=G(require("path")),fb=G(yC()),BR=G(require("crypto")),ub=G(tx()),$V=require("string_decoder");var qR=G(Ar());var vm=G(require("path"));async function fY(e,t){let n=await Lce(e),r=n["agent-socket"];if(!r){t.write("gpg-agent: No agent-socket found in container.");return}let o=n.homedir;try{let{stdout:a}=await e.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim()){t.write("gpg-agent: Private keys found in container, not forwarding.");return}}catch{}let i=!1,s=n["keyboxd-socket"];if(s)try{await e.exec(`grep -e '^s*use-keyboxds*$' '${o}/common.conf' 2>/dev/null`),i=!0}catch{}return{homedir:o,gpgSocket:r,keyboxdSocket:s,useKeyboxd:i}}async function pY(e,t,n,r){let o=await Nce(e,r),i=o["agent-extra-socket"];if(!i){r.write(`gpg-agent: No agent-extra-socket found on ${e.type} host.`);return}let s=o.homedir,a=!1,c=o["keyboxd-socket"];if(c)try{let x=(await e.readFile(e.path.join(s,"common.conf"))).toString();a=/^\s*use-keyboxd\s*$/m.test(x)}catch{}let l=vm.posix.join(n.homedir,"pubring.kbx"),u=await Za(t,l);u&&r.write(`GPG forwarding: ${l} exists in container.`);let d=vm.posix.join(n.homedir,"pubring.gpg"),p=await Za(t,d);p&&r.write(`GPG forwarding: ${d} exists in container.`);let f=vm.posix.join(n.homedir,"trustdb.gpg"),m=await Za(t,f);m&&r.write(`GPG forwarding: ${f} exists in container.`);let h=a&&n.keyboxdSocket&&!n.useKeyboxd&&!u&&!p,v=a&&(n.useKeyboxd||h),g=[],w=(async()=>{if(await t.exec(`mkdir -p -m 700 '${vm.posix.dirname(n.gpgSocket)}'`),v)h&&await t.exec(`mkdir -p -m 700 '${n.homedir}' && echo '
use-keyboxd' >> '${vm.posix.join(n.homedir,"common.conf")}'`);else if(a||n.useKeyboxd){if(!n.useKeyboxd&&!u&&!p||n.useKeyboxd&&(await t.exec("gpg --export --export-options backup")).stdout.trim().length===0){try{let x=await se({exec:e.exec,cmd:"gpg",args:["--export","--export-options","backup"],output:r});x.stdout.byteLength&&g.push(async()=>{try{await t.exec(`${Wd(x.stdout.byteLength)} | gpg --import --import-options restore`,{stdin:x.stdout})}catch(y){r.write(`GPG forwarding: Failed to import public keys: ${y==null?void 0:y.message}`)}})}catch(x){r.write(`GPG forwarding: Failed to export public keys: ${x==null?void 0:x.message}`)}try{let x=await se({exec:e.exec,cmd:"gpgsm",args:["--export","--armor"],output:r});x.stdout.byteLength&&g.push(async()=>{try{await t.exec(`${Wd(x.stdout.byteLength)} | gpgsm --import`,{stdin:x.stdout})}catch(y){r.write(`GPG forwarding: Failed to import certificates: ${y==null?void 0:y.message}`)}})}catch(x){r.write(`GPG forwarding: Failed to export certificates: ${x==null?void 0:x.message}`)}}}else u||await wl(e,t,e.path.join(s,"pubring.kbx"),l,"gpg"),p||await wl(e,t,e.path.join(s,"pubring.gpg"),d,"gpg"),m||await wl(e,t,e.path.join(s,"trustdb.gpg"),f,"gpg");if((a||n.useKeyboxd)&&!m)try{let x=await se({exec:e.exec,cmd:"gpg",args:["--export-ownertrust"],output:r});x.stdout.byteLength&&g.push(async()=>{try{await t.exec(`${Wd(x.stdout.byteLength)} | gpg --import-ownertrust`,{stdin:x.stdout})}catch(y){r.write(`GPG forwarding: Failed to import ownertrust: ${y==null?void 0:y.message}`)}})}catch(x){r.write(`GPG forwarding: Failed to export ownertrust: ${x==null?void 0:x.message}`)}await Ace(e,r)})();return{cliHost:e,remoteGpgSocket:n.gpgSocket,localGpgSocket:i,remoteKeyboxdSocket:v?n.keyboxdSocket:void 0,localKeyboxdSocket:v?c:void 0,importTasks:async()=>{await w;for(let x of g)await x()}}}async function Nce(e,t){try{let{stdout:n}=await se({exec:e.exec,cmd:"gpgconf",args:["--list-dirs"],output:t,print:!0});return n.toString().trim().split(/\r?\n/).reduce((r,o)=>{let i=o.indexOf(":");if(i!==-1){let s=decodeURIComponent(o.substring(i+1));e.platform==="win32"&&/^\/.\//.test(s)&&(s=`${s.charAt(1)}:${s.substring(2).replace(/\//g,"\\")}`),r[o.substring(0,i)]=s}return r},{})}catch{return{}}}async function Lce(e){try{let{stdout:t}=await e.exec("gpgconf --list-dirs");return t.trim().split(`
`).reduce((n,r)=>{let o=r.indexOf(":");return o!==-1&&(n[r.substring(0,o)]=decodeURIComponent(r.substring(o+1))),n},{})}catch{return{}}}async function Ace(e,t){try{await se({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}var wR=G(require("path"));async function nx(e,t,n){if(!("exec"in e)){for(let r=t,o="";r!==o;o=r,r=e.path.dirname(r))if(await e.isFile(e.path.join(r,".git","config")))return r;return}try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:n}),o=r.toString().trim();return e.path.resolve(t,o)}catch{return}}async function yR(e,t,n,r){try{return await se({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",env:n,output:r,print:"onerror"}),!0}catch(o){return(o==null?void 0:o.code)==="ENOENT"?void 0:!1}}async function gY(e,t,n,r,o){let i=r[1],s={get:"fill",store:"approve",erase:"reject"}[i];if(s===void 0)throw new Error(`Expected get, store or erase, got: ${i}`);let a=await mY(n?e:t,s,o).catch(c=>{if(n)throw c});if(!n&&(a==="ENOENT"||(a==null?void 0:a.code)!==0)){let c=await mY(e,s,o);c!=="ENOENT"&&(a=c,c.code===0&&(n=!0))}return a==="ENOENT"?{result:{stdout:"",stderr:"",code:127},preferLocalCLIHost:n}:{result:a,preferLocalCLIHost:n}}async function mY({exec:e},t,n){try{let{stdout:r,stderr:o}=await se({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(n),output:je});return{stdout:r.toString(),stderr:o.toString(),code:0}}catch(r){if((r==null?void 0:r.code)==="ENOENT"||(r==null?void 0:r.code)==="EPIPE")return"ENOENT";if(!(r&&r.stdout&&r.stderr))throw r;let{stdout:o,stderr:i,code:s}=r;return{stdout:o.toString(),stderr:i.toString(),code:s||0}}}async function vY(e,t,n){let r=await ER(e,t,n);if(!r)return;r.startsWith("refs/")&&(r=r.substr(5)),r.startsWith("remotes/")&&(r=r.substr(8));let o=r.indexOf("/");if(o===-1)return;let i=r.substr(0,o),s=r.substr(o+1);try{let{stdout:a}=await se({exec:e.exec,cmd:"git",args:["remote","get-url",i],cwd:t.rootFolderPath,output:n}),c=a.toString().trim();if(c.endsWith(".git")&&(c=c.substr(0,c.length-4)),c.startsWith("https://github.com/")){let l=await Mce(e,t,i,n);if(l&&s!==l)return`${c}/tree/${s}`}return c}catch{return}}async function KC(e,t,n){if(!("exec"in e)){let o=await nx(e,t.rootFolderPath,n);if(!o)return;try{return(await e.readFile(e.path.join(o,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(i){if((i==null?void 0:i.code)!=="ENOENT")throw i;return[]}}let r;try{let{stdout:o}=await se({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:n});r=o.toString()}catch{return}return Array.from(new Set(Fce(/^[^\s]+\s+([^\s]+)/gm,r,1)))}function Fce(e,t,n){return{[Symbol.iterator]:function*(){let r;for(;r=e.exec(t);)yield r[n],e.lastIndex===r.index&&e.lastIndex++}}}async function xY(e,t,n){return await Oce(e,t,n)||Uce(e,t,n)}async function Oce(e,t,n){try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:n});return!!r.toString().trim()}catch{return}}async function Uce(e,t,n){let r=await ER(e,t,n);if(r)try{let{stdout:o}=await se({exec:e.exec,cmd:"git",args:["log",`${r}..HEAD`],cwd:t.rootFolderPath,output:n});return!!o.toString().trim()}catch{return}}async function wY(e,t,n,r){let o=await ER(e,t,r);if(!o)return!1;try{let i=e.platform==="win32"?n.replace(/\\/g,"/"):n;return await se({exec:e.exec,cmd:"git",args:["cat-file","-e",`${o}:${i}`],cwd:t.rootFolderPath,output:r}),!0}catch{return!1}}async function ER(e,t,n){try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:n});return r.toString().trim()}catch{return}}async function Mce(e,t,n,r){try{let{stdout:o}=await se({exec:e.exec,cmd:"git",args:["remote","show",n],cwd:t.rootFolderPath,output:r});return(o.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function yY(e,t,n,r,o,i){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(n,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(n);let a=r.tokenEnvVar?{...r.env,GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[r.tokenEnvVar]}:r.env,c=[];if(r.fullClone||c.push("--depth","1"),r.branch&&c.push("--branch",r.branch),r.recurseSubmodules&&c.push("--recurse-submodules"),t.type==="container"&&r.url.startsWith("file:")){let d=t.path.join(Se.parse(r.url).path,".git");await Ws({ptyExec:t.ptyExec,cmd:"git",args:["config","--global","--add","safe.directory",d],cwd:n,env:a,output:Pn(o,3)})}let l=Ws({ptyExec:t.ptyExec,cmd:"git",args:["clone",...c,r.url,"."],cwd:n,env:a,output:Pn(o,3)}),u=r.fullClone?l:(async()=>(await l,await Ws({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:n,env:a,output:i}),Ws({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:n,env:a,output:i})))();return{gitClone:l,gitUnshallow:u}}async function JC(e,t,n){let r=await rx(e,t,[".gitconfig"],"git"," && grep -e '^\\[' ~/.gitconfig | grep -v -E '^\\[(filter|safe)([[:blank:]]+|\\])'"),o=await $ce(e,t,n);(r||o)&&(await jce(e,t.shellServer),Hce(e,t).catch(i=>{e.output.write(`Error copying allowed signers: ${(i==null?void 0:i.stack)||(i==null?void 0:i.message)||i}`,5)}))}var EY=["git","config"];async function $ce(e,t,n){let{cliHost:r}=e,o=await hY(r);if(!await r.isFile(o)&&(r.type==="local"||(r=await Hr(process.cwd(),e.loadNativeModule,e.output),o=await hY(r),!await r.isFile(o))))return!1;let i=(async()=>{let s=await n,a=s.XDG_CONFIG_HOME?[s.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return wR.posix.join(...a,...EY)})();return wl(r,t.shellServer,o,i,"git")}async function hY(e){let{env:t}=e,n=t.XDG_CONFIG_HOME?[t.XDG_CONFIG_HOME]:[await e.homedir(),".config"];return e.path.join(...n,...EY)}async function jce(e,t){await t.exec(`# Cleaning up git config
for key in core.editor core.sshCommand gpg.program
do
	value="$(git config --global --get $key)"
	executable="\${value%% *}"
	([ -z "$executable" ] || [ "$executable" = "${e.product.applicationName}" ]) && continue
	command -v "$executable" >/dev/null 2>&1 || (echo "Removing Git config key: $key = $value" && git config --global --unset $key)
done
git config --global --unset http.sslBackend || true`)}async function Hce(e,t){let{cliHost:n,output:r}=e,{homeFolder:o,shellServer:i}=t,s=await Bce(n,"gpg.ssh.allowedSignersFile",r);if(!s)return;let a=await n.homedir(),c=/^~[/\\]/.test(s)?n.path.join(a,s.substring(2)):s,l=n.path.resolve(a,c);r.write(`Copying allowed signers file: ${l}`);let u=n.path.relative(a,l),d=n.platform==="win32"?u.replace(/\\/g,"/"):u,p=wR.posix.resolve(o,d);await wl(n,i,l,p,"ssh")&&await i.exec(`git config --global gpg.ssh.allowedSignersFile '${p}'`)}async function Bce(e,t,n){try{let{stdout:r}=await se({exec:e.exec,cmd:"git",args:["config","--global","--get",t],output:n}),o=r.toString();return e.platform==="win32"&&o.endsWith(`\r
`)?o.substring(0,o.length-2):o.endsWith(`
`)?o.substring(0,o.length-1):o}catch{return}}var El=require("stream");async function CY(e,t){let{stdout:n}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return n.split("\0").map(r=>{let o=r.indexOf("=");return o!==-1?[r.slice(0,o),r.slice(o+1)]:[]}).reduce((r,[o,i])=>(o&&(r[o]=i),r),{})}async function CR(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:n}=await e.exec(t,{logOutput:!1}),r=6,o=n.split(`
---
`),i=o.pop().trim();return{processes:o.map(a=>a.split(`
`)).filter(a=>a.length>=r).map(([a,c,l,u,d,p])=>{let f=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:f[1],pgrp:f[2],cwd:c,mntNS:l,cmd:p.replace(/\0/g," "),env:d.split("\0").reduce((m,h)=>{let v=h.indexOf("=");return v!==-1&&(m[h.substr(0,v)]=h.substr(v+1)),m},{})}}),mntNS:i}}function bY(e){let t={};return e.forEach(n=>t[n.pid]={process:n,childProcesses:[]}),e.filter(n=>n.ppid).forEach(n=>{var r;return(r=t[n.ppid])==null?void 0:r.childProcesses.push(t[n.pid])}),t}function bR(e,t="  ",n="  "){return`${n}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(r=>bR(r,t,n+t))}`}var ki=G(require("path")),PY=G(require("fs"));async function ti(e,t=process.cwd(),n=process.env){if(process.platform!=="win32")return e;if(ki.isAbsolute(e))return await SR(e)||e;if(/[/\\]/.test(e)){let s=ki.join(t,e);return await SR(s)||s}let r,o;if(n){for(let s of Object.keys(n))if(s.toLowerCase()==="path"){let a=n[s];typeof a=="string"&&(r=a,o=a.split(ki.delimiter).filter(Boolean),o.push(ki.join(n.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){let s=new Error(`No PATH to look up executable '${e}'.`);throw s.code="ENOENT",s}for(let s of o){let a;ki.isAbsolute(s)?a=ki.join(s,e):a=ki.join(t,s,e);let c=await SR(a);if(c)return c}let i=new Error(`Exectuable '${e}' not found on PATH '${r}'.`);throw i.code="ENOENT",i}var SY=process.env.PATHEXT,_Y=SY?SY.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function SR(e){if(_Y.indexOf(ki.extname(e))!==-1)return await DY(e)?e:void 0;for(let t of _Y){let n=e+t;if(await DY(n))return n}}function DY(e){return new Promise(t=>PY.stat(e,(n,r)=>t(!n&&r.isFile())))}var _R="dev-containers-",IY="credentials not found in native keychain";async function RY(e,t,n,r,o,i){let s=await TY(n?e:t,r,o,i).catch(a=>{if(n)throw a});return!n&&(s==null?void 0:s.code)!==0&&(s=await TY(e,r,o,i),s.code===0&&(n=!0)),{result:s,preferLocalCLIHost:n}}async function TY(e,t,n,r){let o,i=t[1];try{let s=i==="store"?JSON.parse(n).ServerURL:n.trim(),a=await qce(e,s,r);if(!a)return{stdout:i==="get"?IY:"Docker credential helper not found.",stderr:"",code:1};if("identitytoken"in a)return i!=="get"?{stdout:`Docker credential command not supported without credential helper: ${i}.`,stderr:"",code:1}:{stdout:JSON.stringify({ServerURL:s,Username:"<token>",Secret:a.identitytoken}),stderr:"",code:0};if("auth"in a){if(i!=="get")return{stdout:`Docker credential command not supported without credential helper: ${i}.`,stderr:"",code:1};let[u,d]=Buffer.from(a.auth,"base64").toString().split(":");return{stdout:JSON.stringify({ServerURL:s,Username:u,Secret:d}),stderr:"",code:0}}o=`docker-credential-${a.helper}`;let{stdout:c,stderr:l}=await se({exec:e.exec,cmd:o,args:t.slice(1),stdin:Buffer.from(n),output:je});return{stdout:c.toString(),stderr:l.toString(),code:0}}catch(s){if(o&&((s==null?void 0:s.code)==="ENOENT"||(s==null?void 0:s.code)==="EPIPE"))return{stdout:i==="get"?IY:`Docker credential helper '${o}' not found: ${(s==null?void 0:s.message)||String(s)}.`,stderr:"",code:1};if(!(s&&s.stdout&&s.stderr))throw s;let{stdout:a,stderr:c,code:l}=s;return{stdout:a.toString(),stderr:c.toString(),code:l||0}}}async function qce(e,t,n){var o,i,s,a,c;n.write(`Looking up Docker credential helper for '${t}'.`);try{let l=Be((await e.readFile(e.path.join(await e.homedir(),".docker","config.json"))).toString()),u=Se.parse(t).authority||t,d=(o=l==null?void 0:l.credHelpers)==null?void 0:o[u];if(d)return{helper:d};let p=(s=(i=l==null?void 0:l.auths)==null?void 0:i[t])==null?void 0:s.identitytoken;if(p)return{identitytoken:p};let f=(c=(a=l==null?void 0:l.auths)==null?void 0:a[t])==null?void 0:c.auth;if(f)return{auth:f};if(l!=null&&l.credsStore)return{helper:l.credsStore}}catch(l){(l==null?void 0:l.code)!=="ENOENT"&&n.write(`Error reading Docker config: ${(l==null?void 0:l.message)||String(l)}.`)}let r=await NY(e);return r?{helper:r}:void 0}async function DR(e,t){let n=e.path.join(await e.homedir(),".docker","config.json");try{let r=await e.readFile(n),o=Be(r.toString());return!!(o!=null&&o.credsStore)||Object.keys((o==null?void 0:o.credHelpers)||{}).some(i=>{var s;return(s=o==null?void 0:o.credHelpers)==null?void 0:s[i]})||Object.keys((o==null?void 0:o.auths)||{}).some(i=>{var s,a;return(a=(s=o==null?void 0:o.auths)==null?void 0:s[i])==null?void 0:a.auth})||kY(e)}catch(r){return(r==null?void 0:r.code)!=="ENOENT"?(t.write(`Error reading Docker config (${n}): ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||String(r)}.`),!1):kY(e)}}async function kY(e){let t=await NY(e);return!!t&&await Wce(e,`docker-credential-${t}`)}async function NY(e){if(e.platform==="darwin")return"osxkeychain";if(e.platform==="win32")return"wincred";if(e.platform==="linux")try{return await se({exec:e.exec,cmd:"/bin/sh",args:["-c","command -v docker-credential-pass >/dev/null 2>&1"],output:je}),"pass"}catch{return"secretservice"}}async function Wce(e,t){try{return e.platform==="win32"?!!await ti(t,e.cwd,e.env):(await se({exec:e.exec,cmd:"/bin/sh",args:["-c",`command -v '${t}' >/dev/null 2>&1`],output:je}),!0)}catch{return!1}}function yl(e){return`remote.containers.${e}`}function os(e){return`dev.containers.${e}`}var IR=G(require("path"));var Yce=G(require("http")),Vce=G(require("https"));function PR(e,t={}){return new Promise((n,r)=>{let o=e.startsWith("https:")?Vce:Yce,i;if(Object.keys(t).length>0){let a=new URL(e);i={headers:t,host:a.host,path:a.pathname}}o.get(i??e,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&n(PR(l,t))}r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",r);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>n(Buffer.concat(l)))}}).on("error",r)})}async function br(e){let t=await lt(IR.join(e,"package.json"),"utf8");return JSON.parse(t)}async function ox(e){let t=await lt(IR.join(e,"product.json"),"utf8"),n=JSON.parse(t);return n.commit||(n.commit=await xm(n.quality)),n.serverDataFolderName||(n.serverDataFolderName=".vscode-server-oss"),n}async function xm(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,n=await PR(t);return JSON.parse(n.toString()).version}function XC(e){return["bin",e.serverApplicationName]}var Lle=TV(),UV=sb(),HR=AV(),Ale=OV();async function pb(e,t,n){var A,L,T,$,Y,j;let{cliHost:r,wslCLIHost:o,output:i}=e,{shellServer:s,launchRootShellServer:a}=t,c="Launching Dev Containers helper.",l=i.start(c);if(Cl)return i.stop(c,l),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let u=[r];r.type!=="local"&&u.push(await Hr(process.cwd(),e.loadNativeModule,i)),r.type!=="wsl"&&o&&u.push(o);let d=BR.randomUUID(),p={},f=await MV(u,J=>qle(J,i)),m=f?ar.posix.join(((A=t.env)==null?void 0:A.TMPDIR)||"/tmp",`vscode-ssh-auth-${d}.sock`):void 0;f&&(p[m]=f,i.write(`ssh-agent: SSH_AUTH_SOCK in container (${m}) forwarded to ${f.cliHost.type} host (${f.unparsed}).`));let h=(L=t.env)!=null&&L.DISPLAY?void 0:Fle(u,J=>Wle(J,i)),v=-1,g;if(h)do g=ar.posix.join(((T=t.env)==null?void 0:T.TMPDIR)||"/tmp",".X11-unix",`X${++v}`);while(await Ule(s,g));let w=h?`:${v}`:void 0;h&&(await s.exec(`mkdir -p '${ar.posix.dirname(g)}'`),p[g]=h,i.write(`X11 forwarding: DISPLAY in container (${w}) forwarded to ${h.cliHost.type} host (${h.unparsed}).`));let x=await fY(t.shellServer,i),y=x?await MV(u,J=>pY(J,t.shellServer,x,i)):void 0;y&&(p[y.remoteGpgSocket]={name:"gpg-agent",unparsed:y.localGpgSocket,cliHost:y.cliHost,connectTo:{socketPath:y.localGpgSocket}},i.write(`gpg-agent: Socket in container (${y.remoteGpgSocket}) forwarded to ${y.cliHost.type} host (${y.localGpgSocket}).`),y.localKeyboxdSocket&&y.remoteKeyboxdSocket&&(p[y.remoteKeyboxdSocket]={name:"keyboxd",unparsed:y.localKeyboxdSocket,cliHost:y.cliHost,connectTo:{socketPath:y.localKeyboxdSocket}},i.write(`GPG keyboxd: Socket in container (${y.remoteKeyboxdSocket}) forwarded to ${y.cliHost.type} host (${y.localKeyboxdSocket}).`)));let E=ar.posix.join((($=t.env)==null?void 0:$.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${d}.sock`),P=ar.posix.join(((Y=t.env)==null?void 0:Y.TMPDIR)||"/tmp",`vscode-remote-containers-server-${d}.js`),D=ar.posix.join(((j=t.env)==null?void 0:j.TMPDIR)||"/tmp",`vscode-remote-containers-${d}.js`),N=((n==null?void 0:n.getNewConfiguration("dockerCredentialHelper"))??e.isDockerCredentialHelperEnabled)&&a&&await Ole(s,"docker")?ar.posix.join("/usr/local/bin",`docker-credential-${_R}${d}`):void 0,k=u.find(J=>J.type==="local"),C=jV(e,t,"Container",void 0,!1,!1,P,D,N,p,E,k),S=C.then(async J=>{await J.ready,await(y==null?void 0:y.importTasks())}),b=C.then(J=>J.mrpcExec),_=C.then(J=>J.mrpcPtyExec);return S.catch(console.error),e.onAdoptProcess(J=>Yle(t.shellServer,E,m,g,J).catch(console.error)),i.stop(c,l),{remoteContainersCLI:D,remoteEnv:{REMOTE_CONTAINERS_IPC:E,...m?{SSH_AUTH_SOCK:m}:void 0,...w?{DISPLAY:w}:void 0,...g?{REMOTE_CONTAINERS_DISPLAY_SOCK:g}:void 0},mrpcExec:b,mrpcPtyExec:_,ready:S,reconnect:()=>C.then(J=>J.reconnect())}}function Fle(e,t){for(let n of e){let r=t(n);if(r)return r}}async function MV(e,t){for(let n of e){let r=await t(n);if(r)return r}}async function Ole(e,t){try{return await e.exec(`command -v ${t} >/dev/null 2>&1`),!0}catch{return!1}}async function Ule(e,t){try{return await e.exec(`test -e ${t}`),!0}catch{return!1}}async function lx(e,t,n,r,o){let{passwdUser:i,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:d,reconnect:p,terminate:f}=await jV(e,{remoteExec:t,platform:o},"Host",n,!0,r,void 0);return{passwdUser:i,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:d,reconnect:p,terminate:f}}async function jV(e,t,n,r,o,i,s,a,c,l,u,d){let{cliHost:p,product:f,output:m}=e,{remoteExec:h,platform:v,nodeExecutable:g,launchRootShellServer:w}=t,x=a&&lt(ar.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),y=lt(ar.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),E=await zt(h,m,void 0,v,n),P=o?await Vd(E,await bl(E)):void 0,D=(await E.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],R=!0;if(!g||!s){let S=E.path.join(D,".vscode-remote-containers");g||(g=await Vle(e,E,S,D,f,i)),s||(s=E.path.join(S,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await Za(E,s)?R=!1:await E.exec(`mkdir -p '${E.path.dirname(s)}'`))}if(a){let S=`EOF-${a}`;await E.exec(`cat <<'${S}' >${a}
${await x}
${S}
`)}if(c&&w&&((p==null?void 0:p.type)!=="local"&&d&&await DR(d,m)||p&&await DR(p,m))){let S=(await E.exec(`cat ~/.docker/config.json || echo "{
}"`)).stdout,b=Be(S);if(!(b!=null&&b.credsStore)||b.credsStore.startsWith(_R)){let _=await w(),A=`EOF-${c}`;await _.exec(`mkdir -p ${ar.posix.dirname(c)} && cat <<'${A}' >${c}
#!/bin/sh
${g} ${a} docker-credential-helper $@
${A}
`),await _.exec(`chmod +x ${c}`);let L=Dn(S,["credsStore"],ar.posix.basename(c).substring(18),{formattingOptions:{}}),T=Eo(S,L);await E.exec(`mkdir -p ~/.docker && cat <<'${A}' >~/.docker/config.json
${T}
${A}
`)}}if(R){let S=`EOF-${s}`,b=`${s}_${Date.now()}`;await E.exec(`cat <<'${S}' >${b}
${await y}
${S}
mv ${b} ${s}`)}let N=()=>Mle(e,n,E,g,s,l,u,d),k=await N(),C;return{ready:k.ready,passwdUser:P,nodeExecutable:g,homeFolder:D,mrpcExec:jle(()=>k.mrpc,n,r||D),mrpcPtyExec:Hle(()=>k.mrpc,n,r||D),mrpcExecToEnd:Ble(()=>k.mrpc,n,r||D),setBaseEnv:S=>new Promise((b,_)=>{C=S,k.mrpc.setBaseEnv(S,A=>A?_(A):b())}),connect:k.mrpc.connect,reconnect:async()=>{let S=`${n}: Reconnecting exec server`,b=m.start(S);await k.process.terminate().catch(()=>{}),E=await zt(h,m,void 0,void 0,n),k=await N(),C&&await new Promise((_,A)=>{k.mrpc.setBaseEnv(C,L=>L?A(L):_())}),m.stop(S,b)},terminate:()=>k.process.terminate()}}async function Mle(e,t,n,r,o,i,s,a){let{cliHost:c,output:l}=e,u=Object.keys(i||{}),d={...u.reduce((D,R)=>(D[R]="duplex",D),{}),rpc:"async",connected:"async",ready:"async"},p={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},f=n.process,m=`set -e ; echo -n ${ni} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${r}' '${o}'
`;f.stdin.write(m);let h,v=new Promise(D=>h=D),g=new $V.StringDecoder;f.stderr.on("data",D=>{let R=g.write(D).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(h){let N=R.indexOf(ni);N!==-1&&(h(),h=void 0,R=R.substr(0,N)+R.substr(N+1))}R&&l.write(at(`${t} server: ${R}`))}),f.exit.then(({code:D,signal:R})=>{l.write(`${t} server terminated (code: ${D}, signal: ${R}).`)},D=>{l.write(`${t} server did not launch or terminated: ${(D==null?void 0:D.stack)||(D==null?void 0:D.message)||String(D)}`)});let w=(c==null?void 0:c.type)==="local",x={git:w,docker:w},y,E=new Promise(D=>y=D),P=Lle(p,d)({...u.reduce((D,R)=>{let N=i[R];return D[R]=$le(e,N),D},{}),rpc:async(D,R)=>{try{let{args:N,stdin:k}=JSON.parse(D);if(N[0]==="git-credential-helper"){let C=await gY(a,c,x.git,N,k);x.git=C.preferLocalCLIHost,R(void 0,JSON.stringify(C.result))}else if(N[0]==="docker-credential-helper"){let C=await RY(a,c,x.docker,N,k,l);x.docker=C.preferLocalCLIHost,R(void 0,JSON.stringify(C.result))}}catch(N){console.error(N),R(N)}},connected:D=>{D()},ready:D=>{y(),D()}});return(0,ub.default)(UV.source(f.stdout),P.createStream(),UV.sink(f.stdin)),await Promise.race([v,f.exit.then(({code:D,signal:R})=>{throw new Error(`${t} server terminated (code: ${D}, signal: ${R}).`)})]),{ready:E,mrpc:P,process:f}}function $le(e,t){let{sendTelemetryEvent:n,output:r}=e,o=!1;function i(s){if(!o&&s instanceof Error&&s.code==="ENOENT"&&(o=!0,r.event({type:"notification",message:qR.t("Could not connect to {0} on {1} host ({2}). Make sure the service is running.",t.name,t.cliHost.type,t.unparsed)}),n)){let a={serviceName:t.name,hostType:t.cliHost.type,hostPlatform:t.cliHost.platform},c=t.cliHost.authority;if(c){let l=c.indexOf("+");l!==-1&&(a.hostAuthority=c.substring(0,l))}n("serviceConnectionFailure",a)}}return()=>{let s=t.cliHost.connect(t.connectTo);return{sink:a=>{s.sink((c,l)=>{i(c),a(c,l)})},source:(a,c)=>{s.source(a,(l,u)=>{i(l),c(l,u)})}}}}function jle(e,t,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${t}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e(),p=await new Promise((f,m)=>{d.exec({cmd:o,args:i,cwd:s||n,env:a},(h,v)=>{h?m(h):f(v)})});return{stdin:HR.sink(d.stdin(p,f=>{f&&f.message!=="unexpected end of parent stream"&&console.error(f)})),stdout:HR.source(d.stdout(p)),stderr:HR.source(d.stderr(p)),exit:new Promise((f,m)=>{d.exit(p,(h,v)=>{var g;c.stop(l,u),h?((g=h.message)!=null&&g.endsWith("ENOENT")&&!h.code&&(h.code="ENOENT"),m(h)):f(v)})}),terminate:async()=>new Promise((f,m)=>{d.terminate(p,h=>{h?m(h):f()})})}}}function Hle(e,t,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${t}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e(),p=await new Promise((v,g)=>{var w,x;d.ptyExec({cmd:o,args:i,cwd:s||n,env:a,rows:(w=c.dimensions)==null?void 0:w.rows,cols:(x=c.dimensions)==null?void 0:x.columns},(y,E)=>{y?g(y):v(E)})}),f=[c.onDidChangeDimensions&&c.onDidChangeDimensions(v=>d.ptyResize(p,v.columns,v.rows))],m=Ale();(0,ub.default)(m,d.ptyIn(p,v=>{v&&v.message!=="unexpected end of parent stream"&&console.error(v)}));let h=new As;return(0,ub.default)(d.ptyOut(p),v=>{v(null,function g(w,x){if(w!==!0){if(w)throw w;h.fire(x),v(null,g)}})}),{write:v=>m.push(v),onData:h.event,resize:(v,g)=>d.ptyResize(p,v,g),exit:new Promise((v,g)=>{d.ptyExit(p,(w,x)=>{f.forEach(y=>y==null?void 0:y.dispose()),c.stop(l,u),w?g(w):v(x)})}),terminate:async()=>new Promise((v,g)=>{d.ptyTerminate(p,w=>{w?g(w):v()})})}}}function Ble(e,t,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${t}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e();return new Promise((p,f)=>{d.execToEnd({cmd:o,args:i,cwd:s||n,env:a},(m,h)=>{if(c.stop(l,u),m||!h)f({stdin:new El.Writable,stdout:El.Readable.from([]),stderr:El.Readable.from([]),exit:Promise.reject(m),terminate:async()=>{}});else{let v=El.Readable.from([Buffer.from(h.stdout.data)]),g=new Promise(y=>v.on("end",y)),w=El.Readable.from([Buffer.from(h.stderr.data)]),x=new Promise(y=>w.on("end",y));p({stdin:new El.Writable,stdout:v,stderr:w,exit:Promise.all([g,x]).then(()=>({code:h.code,signal:h.signal})),terminate:async()=>{}})}})})}}var ax="\\\\.\\pipe\\openssh-ssh-agent";async function WR(e){return e.platform==="win32"&&e.isFile(ax)}async function qle(e,t){let n=e.env.SSH_AUTH_SOCK;if(n)return{name:"ssh-agent",unparsed:n,cliHost:e,connectTo:{socketPath:n}};if(t.write(`ssh-agent: SSH_AUTH_SOCK not set on ${e.type} host.`),await WR(e))return{name:"ssh-agent",unparsed:ax,cliHost:e,connectTo:{socketPath:ax}}}function Wle(e,t){let n=e.env.DISPLAY,r=n==null?void 0:n.match(/^(?<hostOrPath>[^:]+)?:(?<display>\d+)(?:\.(?<screen>\d+))?$/);if(r!=null&&r.groups){let{hostOrPath:o,display:i}=r.groups,s=qR.t("X11 display");return!o||o==="localhost/unix"?{name:s,unparsed:n,cliHost:e,connectTo:{socketPath:`/tmp/.X11-unix/X${i}`}}:o.startsWith("/")?{name:s,unparsed:n,cliHost:e,connectTo:{socketPath:`${o}:${i}`}}:{name:s,unparsed:n,cliHost:e,connectTo:{host:o,port:6e3+parseInt(i,10)}}}n?t.write(`X11 forwarding: DISPLAY value on ${e.type} host not supported (${n}).`):t.write(`X11 forwarding: DISPLAY not set on ${e.type} host.`)}async function YR(e){let t=e.env.WAYLAND_DISPLAY,n=e.env.XDG_RUNTIME_DIR,r=t&&e.path.isAbsolute(t)?t:t&&n&&e.path.join(n,t),o=n&&e.path.join(n,"wayland-0"),i=r||o;if(i&&await e.isSocket(i))return i}async function HV(e){let t=BR.randomUUID();return ar.posix.join((e==null?void 0:e.TMPDIR)||"/tmp",`vscode-wayland-${t}.sock`)}async function BV(e,t){let{shellServer:n,remoteWaylandSocket:r}=e;if(!r||t.WAYLAND_DISPLAY)return{};let o=t.XDG_RUNTIME_DIR;o||(o=(await n.exec('umask 077 && XRD="/tmp/user/$(id -u)" && mkdir -p $XRD && echo $XRD')).stdout.trim());let i=ar.posix.basename(r);return await n.exec(`test -e ${o}/${i} || ln -sf ${r} ${o}/${i}`),o===t.XDG_RUNTIME_DIR?{WAYLAND_DISPLAY:i}:{XDG_RUNTIME_DIR:o,WAYLAND_DISPLAY:i}}var ym=new Set;async function Yle(e,t,n,r,o){let i=await o.processId;if(i&&i>0){let s=await CY(e,i),a=s.REMOTE_CONTAINERS_IPC;a&&a!==t&&!ym.has(a)&&a.indexOf("vscode-remote-containers-ipc")!==-1&&(ym.add(a),await e.exec(`rm '${a}' && ln -s '${t}' '${a}'`));let c=s.SSH_AUTH_SOCK;c&&n&&c!==n&&!ym.has(c)&&c.indexOf("vscode-ssh-auth")!==-1&&(ym.add(c),await e.exec(`rm '${c}' && ln -s '${n}' '${c}'`));let l=s.REMOTE_CONTAINERS_DISPLAY_SOCK;l&&r&&l!==r&&!ym.has(l)&&(ym.add(l),await e.exec(`rm '${l}' && ln -s '${r}' '${l}'`))}}async function Vle(e,t,n,r,o,i){let s=o.commit||await xm(o.quality),a=o.commit?o.quality||"insider":"stable",c=ar.posix,l=`${a.substring(0,1).toUpperCase()}${a.substring(1)}${a==="insider"?"s":""}-${s}`,u=P=>Za(t,P),d=c.join(Cm(c,r,o),"cli","servers",l,"server");if(await lb(d,u))return Em(d);let p=c.join(VR(c,r,o),"cli","servers",l,"server");if(await lb(p,u))return Em(p);let f=c.join(Cm(c,r,o),"bin",s);if(await lb(f,u))return Em(f);let m=c.join(n,"bin",s);if(await lb(m,u))return Em(m);let{localCacheFolder:h,output:v,alternateDownload:g}=e,w;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")w=(await t.exec("uname -m")).stdout.trim()==="arm64"?db.arm64:db.x64;else{let P=await zR(t);w=mb(P,!1)}let y={localCacheFolder:h,build:w,commit:s,quality:a,web:!1,output:v,alternateDownload:g,legacy:!1},E=Sm(y);if(await wr(E)||await ux(y),w.id==="darwin")await cx({output:v},t,E,m,i);else{let P=[];await fb.t({file:E,filter:R=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(R),onentry:R=>{new fb.WriteEntry.Tar(R).on("data",k=>P.push(k))}});let D=Buffer.concat(P);await cx({output:v},t,D,m,i,!1)}return Em(m)}async function lb(e,t){let n=Em(e),r=ar.posix.join(e,"node_modules","node-pty","package.json");return await t(n)&&await t(r)}function Em(e){return ar.posix.join(e,"node")}var dx=G(require("net"));var fx=sb(),GR=e=>{if("port"in e)return fx.duplex(dx.connect(e.port,e.host));let t=e.socketPath;if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return fx.duplex(dx.connect(t));let n=new dx.Socket;return Kle(n,t)};function zle(e){let t=[];return e.split("-").map(n=>{let r=n.match(/.{2}/g);r!==null&&r.reverse().map(o=>{t.push(parseInt(o,16))})}),Buffer.from(t)}function Gle(e,t,n){return t||n===void 0?{headerSize:e,err:t}:e===0?{headerSize:e,data:n}:n.length>e?(n=n.slice(e,n.length),e=0,{headerSize:e,data:n}):(e=e-n.length,{headerSize:e})}function Kle(e,t){let n=0,r=[],o=[],i,s=u=>{u instanceof Error&&console.error(u),e.destroy();for(let d of r)d.cb(u,void 0);r=[];for(let d of o)d(u,(p,f)=>{});o=[]};function a(u,d){i.source(u,function(p,f){let m=Gle(n,p,f);n=m.headerSize,m.err||m.data?d(m.err||null,m.data):a(u,d)})}return(async()=>{let u=await lt(t),p=u.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),f,m;if(p!==null){let h=p[1],v=p[3];f=parseInt(h,10);let g=zle(v),w=Buffer.alloc(12);w.writeUInt32LE(process.pid,0),m=Buffer.concat([g,w]),n=16+3*4}else{let h=u.indexOf(10);f=parseInt(u.slice(0,h).toString(),10),m=u.slice(h+1),n=0}e.on("error",h=>{s(h)}),e.connect(f,"127.0.0.1",()=>{e.write(m,h=>{if(!h){i=fx.duplex(e);for(let v of r)a(v.abort,v.cb);r=[];for(let v of o)i.sink(v);o=[]}})})})().catch(u=>{s(u)}),{source:function(u,d){i!==void 0?a(u,d):r.push({abort:u,cb:d})},sink:function(u){i!==void 0?i.sink(u):o.push(u)}}}function qV(e,t,n){return r=>{let o=(async()=>{let i="port"in r?`{ host: '${r.host}', port: ${r.port} }`:`{ path: '${r.socketPath}' }`,s=await t({cmd:e,args:["-e",`// Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host.
const net = require('net');
const fs = require('fs');
process.stdin.pause();
const client = net.createConnection(${i}, () => {
	console.error('Connection established');
	client.pipe(process.stdout);
	process.stdin.pipe(client);
});
client.on('close', function (hadError) {
	console.error(hadError ? 'Remote close with error' : 'Remote close');
	process.exit(hadError ? 1 : 0);
});
client.on('error', function (err) {
	process.stderr.write(err && (err.stack || err.message) || String(err));
});
process.stdin.on('close', function (hadError) {
	console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
	process.exit(hadError ? 1 : 0);
});
process.on('uncaughtException', function (err) {
	fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
});
`],output:Pn(n,1)});return s.exit.then(({code:a,signal:c})=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with code ${a} and signal ${c}.`,1)},a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with error: ${a&&a.message||String(a)}`)}),s.stderr.on("data",a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host stderr: ${a.toString("utf8")}`,1)}),{sink:fx.sink(s.stdin),source:fx.source(s.stdout)}})();return{sink:i=>{o.then(s=>s.sink(i),s=>i(s,()=>{})).catch(s=>n.write(`Connection forwarding to sink error: ${(s==null?void 0:s.stack)||(s==null?void 0:s.message)||String(s)}`))},source:(i,s)=>{o.then(a=>a.source(i,s),a=>s(a)).catch(a=>n.write(`Connection forwarding to source error: ${(a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a)}`))}}}}var hb=!1;function _m(e,t,n){return hb?function(o){return Jle(e(o),`${t} ${JSON.stringify(o)}`,n)}:e}function Jle(e,t,n){return hb?{source:WV(e.source,`${t} Source`,n),sink:Xle(e.sink,`${t} Sink`,n)}:e}function WV(e,t,n){return hb?function(o,i){n.write(`${t} end in (${typeof o}${o&&typeof o=="object"?`: ${Object.keys(o)}`:""}): ${o&&typeof o=="object"&&o.stack||o}`),e(o,function(a,c){n.write(`${t} end out (${typeof a}${a&&typeof a=="object"?`: ${Object.keys(a)}`:""}): ${a&&typeof a=="object"&&a.stack||a}`),n.write(`${t} data: ${c==null?void 0:c.toString("hex")}`),i(a,c)})}:e}function Xle(e,t,n){return hb?function(o){e(WV(o,t,n))}:e}var KR=G(Ar()),zV=/^\\\\wsl(\.localhost|\$)?\\/;function Sr(e){return zV.test(e.toLowerCase())}function zd(e){let t=e.toLowerCase(),n=zV.exec(t);if(!n)return"";let r=t.indexOf("\\",n[0].length);return e.substring(n[0].length,r)}async function px(e){let{stdout:t}=await se({exec:ec(void 0),cmd:"wsl",args:["-l","-v"],output:e}),n=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(n)||[])[1]}async function Sl(e,t,n){let{stdout:r}=await se({exec:ec(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:n});return r.toString().trim()}async function Zle(e,t){let{stdout:n}=await se({exec:ec(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return n.toString().trim()}async function GV(e,t,n){let{stdout:r}=await se({exec:e.exec,cmd:"wslpath",args:["-w",t],output:n});return r.toString().trim()}async function Dm(e,t){let n=zd(e),r=await Sl(n,e,t);return Se.parse(`vscode-remote://wsl+${n}${r}`)}function Pm(e){if(e.scheme==="vscode-remote"){let t=gb(e.authority);if(t){let n=e.path;return ex(n)&&(n=YV.posix.dirname(n)),{wslDistro:t,wslPath:n}}}}function gb(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function vb(e,t,n,r,o,i,s,a){var m;let{distro:c,cwd:l}=await JR(e,t,s);VV.ok(!c.startsWith("-"),KR.t("Distro must not start with a dash: {0}",c));let u=Gd("wsl",["-d",c,"-e"],l),d=await lx({extensionPath:n,localCacheFolder:r,package:await br(n),product:o,loadNativeModule:i,output:s,alternateDownload:a},u,l,!1),p=await Kd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((m=d.passwdUser)==null?void 0:m.shell)||"/bin/sh",remoteExec:d.exec});delete p.WSL_INTEROP,await d.setBaseEnv(p);let f=ri("wsl",l,p,d.exec,d.ptyExec,_m(d.connect,"WSL",s),d.nodeExecutable,s);return f.toCommonURI=async h=>{try{return Se.file((await se({exec:d.exec,cmd:"wslpath",args:["-w",h],output:s})).stdout.toString().trim())}catch{return}},f.reconnect=()=>d.reconnect(),f.terminate=()=>d.terminate(),f}async function JR(e,{defaultDistro:t},n){let r,o;return typeof e=="object"?(r=e.wslDistro,o=e.wslPath):e&&Sr(e)?(r=zd(e),o=await Sl(r,e,n)):(r=t||await px(n)||(()=>{throw new be({description:KR.t("No default WSL distro found.")})})(),o=e?await Sl(r,e,n):await Zle(r,n)),{distro:r,cwd:o}}function Jd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}async function KV(e,t,n,r,o){try{return(await zn(t,{posix:se({exec:e,cmd:"cat",args:[r],output:o}),win32:se({exec:e,cmd:n,args:["-e",`require('fs').createReadStream('${r.replace(/\\/g,"\\\\")}').pipe(process.stdout)`],output:o})})).stdout}catch(i){let s=new Error(`Could not read file: ${r}`);throw s.originalError=i,s.code="ENOENT",s}}async function JV(e,t,n,r,o,i){await zn(t,{posix:se({exec:e,cmd:"dd",args:[`of=${r}`],stdin:o,output:i}),win32:se({exec:e,cmd:n,args:["-e",`process.stdin.pipe(require('fs').createWriteStream('${r.replace(/\\/g,"\\\\")}'))`],stdin:o,output:i})})}async function xb(e,t,n,r,o){await zn(t,{posix:()=>se({exec:e,cmd:"mv",args:["-n",n,r],output:o}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`Move-Item -Path '${n}' -Destination '${r}'`],output:o})})()}async function wb(e,t,n,r,o){let{recursive:i,force:s}=r;await zn(t,{posix:()=>se({exec:e,cmd:"rm",args:[i&&"-r",s&&"-f",n].filter(Boolean),output:o}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`Remove-Item${i?" -Recurse":""}${s?" -Force":""} '${n}'`],output:o})})()}async function yb(e,t,n,r){await zn(t,{posix:()=>se({exec:e,cmd:"mkdir",args:["-p",n],output:r}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`New-Item -ItemType Directory '${n}'`],output:r})})()}async function XV(e,t,n,r){return(await zn(t,{posix:()=>se({exec:e,cmd:"ls",args:["-a",n],output:r}),win32:()=>se({exec:e,cmd:"powershell",args:["-NoProfile","-Command",`(Get-ChildItem '${n}').Name`],output:r})})()).stdout.toString().trim().split(/\r?\n/).filter(i=>i!=="."&&i!=="..")}var ZR=G(require("path")),bb=G(require("os")),Sb=G(require("crypto"));var ZV=G(require("os")),Eb=G(require("assert")),Cb=G(Ar());async function QV(e,t,n,r,o,i,s,a,c,l){var g;let u=e.substr(6),d=u.indexOf(":"),p=[(l==null?void 0:l.settings.executablePath)||"ssh"];if(l!=null&&l.settings.executableArgs&&p.push(...l.settings.executableArgs),l!=null&&l.settings.configFilePath&&p.push("-F",Qle(l==null?void 0:l.settings.configFilePath)),d!==-1){let w=u.substr(d+1);Eb.ok(!w.startsWith("-"),Cb.t("Port number must not start with a dash: {0}",w));let x=u.substr(0,d);Eb.ok(!x.startsWith("-"),Cb.t("Hostname must not start with a dash: {0}",x)),p.push("-p",w,x)}else Eb.ok(!u.startsWith("-"),Cb.t("Hostname must not start with a dash: {0}",u)),p.push(u);let f=Gd(p[0],p.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),m=await lx({extensionPath:r,localCacheFolder:o,package:await br(r),product:i,loadNativeModule:s,output:a,alternateDownload:c},f,t,!1),h=await Kd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((g=m.passwdUser)==null?void 0:g.shell)||"/bin/sh",remoteExec:m.exec});await m.setBaseEnv(h);let v=ri("remote",t||m.homeFolder,h,m.exec,m.ptyExec,m.connect,m.nodeExecutable,a);return v.toCommonURI=()=>Promise.resolve(void 0),v.reconnect=()=>m.reconnect(),v.terminate=()=>m.terminate(),v}function Qle(e){return e.replace(/^~($|\/|\\)/,`${ZV.homedir()}$1`)}function mx(e,t){let n=eue(e);if(n)return Se.parse(`vscode-remote://${XR(n)}${t}`)}function XR(e){let t=e.hostName;if(e.user||e.hostName.toLowerCase()!==e.hostName||e.port||e.hostName.match(/[\/\\\+]/)){let n=JSON.stringify(e);t=Buffer.from(n,"utf8").toString("hex")}return`ssh-remote+${t}`}function eue(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6);return ez(t)}function ez(e){let t=e.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(t){let[,n,r,o]=t;return{hostName:r,user:n,port:o?parseInt(o,10):void 0}}return{hostName:e}}function _l(e){var t;return!!(e&&"host"in e&&((t=e.host)!=null&&t.startsWith("ssh://")))}function Dl(e){return!!(e!=null&&e.startsWith("ssh-remote+"))}function hx(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let n=t[1];try{let r=JSON.parse(Buffer.from(n,"hex").toString("utf8"));if(r&&r.hostName)return r}catch{}return ez(n)}async function QR(e,t,n,r,o,i,s,a,c,l){return e!=null&&e.startsWith("ssh://")&&!(l!=null&&l.localDocker)?QV(e,t,r,o,i,s,n,a,c,l):typeof t=="object"||r.executeInWSL==="forWSLPath"&&t&&Sr(t)||r.executeInWSL==="always"?vb(t,r,o,i,s,n,a,c):Hr(t||process.cwd(),n,a)}async function Hr(e,t,n=je){let r=ec(e),o=await tz(e,t);return tue(e,r,o,n?_m(GR,"Local",n):GR,t,n)}function ri(e,t,n,r,o,i,s,a){let c,l,u;return{type:e,platform:"linux",exec:r,ptyExec:o,cwd:t,env:n,path:ZR.posix,async homedir(){if(typeof l>"u"){let p=(await se({exec:r,cmd:"id",args:["-u"],output:je})).stdout.toString().trim(),f=await zt(r,je,void 0,"linux","Host"),m=await Vd(f,p);l=this.env.HOME||(m==null?void 0:m.home)||"/"}return l},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async d=>{try{return await se({exec:r,cmd:"test",args:["-f",d],output:je}),!0}catch(p){if((p==null?void 0:p.code)!==1)throw p;return!1}},isFolder:async d=>{try{return await se({exec:r,cmd:"test",args:["-d",d],output:je}),!0}catch(p){if((p==null?void 0:p.code)!==1)throw p;return!1}},isSocket:async d=>{try{return await se({exec:r,cmd:"test",args:["-S",d],output:je}),!0}catch(p){if((p==null?void 0:p.code)!==1)throw p;return!1}},readFile:async d=>{try{return(await se({exec:r,cmd:"cat",args:[d],output:je})).stdout}catch(p){let f=new Error(`Could not read file: ${d}`);throw f.originalError=p,f.code="ENOENT",f}},writeFile:async(d,p)=>{await se({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${d}'`],stdin:p,output:je})},rename:async(d,p)=>{await se({exec:r,cmd:"mv",args:[d,p],output:je})},rm:async(d,{recursive:p,force:f}={})=>{await se({exec:r,cmd:"rm",args:[...p?["-r"]:[],...f?["-f"]:[],d],output:je})},mkdirp:async d=>{await se({exec:r,cmd:"mkdir",args:["-p",d],output:je})},readDir:async d=>(await se({exec:r,cmd:"ls",args:["-a",d],output:je})).stdout.toString().trim().split(`
`).filter(p=>p!=="."&&p!==".."),readDirWithTypes:async d=>{let p={f:1,"*":1,"/":2,"@":64};return(await se({exec:r,cmd:"ls",args:["-aF",d],output:je})).stdout.toString().trim().split(`
`).map(f=>"/*@=%|>".indexOf(f[f.length-1])!==-1?[f.substr(0,f.length-1),f[f.length-1]]:[f,"f"]).filter(([f])=>f!=="."&&f!=="..").map(([f,m])=>[f,p[m]||0])},getUsername:async()=>(c===void 0&&(c=(await se({exec:r,cmd:"id",args:["-u","-n"],output:je})).stdout.toString().trim()),c),toCommonURI:()=>Promise.resolve(void 0),connect:i,locateCertificatesFile:function(){return u||(u=_b(this,void 0,a))},nodeExecutable:s}}function tue(e,t,n,r,o,i){let s;return{type:"local",platform:process.platform,exec:t,ptyExec:n,cwd:e,env:process.env,path:ZR,homedir:async()=>bb.homedir(),tmpdir:async()=>bb.tmpdir(),isFile:wr,isFolder:EM,isSocket:CM,readFile:lt,writeFile:iv,rename:Xc,rm:Qc,mkdirp:async a=>{await Zi(a)},readDir:Zc,getUsername:Db,toCommonURI:async a=>Se.file(a),connect:r,locateCertificatesFile:function(){return s||(s=_b(this,o,i))}}}var nue=["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt","/etc/ssl/ca-bundle.pem"];async function _b(e,t,n){if(e.env.NODE_EXTRA_CA_CERTS&&await e.isFile(e.env.NODE_EXTRA_CA_CERTS))return e.env.NODE_EXTRA_CA_CERTS;if(e.platform==="linux"){for(let c of nue)if(await e.isFile(c))return c;return}if(e.type!=="local")return;let r=await(t==null?void 0:t("@vscode/proxy-agent"));if(!(r!=null&&r.loadSystemCertificates))return;let o=await r.loadSystemCertificates({log:{trace(c,...l){n.write(c,1)},debug(c,...l){n.write(c,2)},info(c,...l){n.write(c,3)},warn(c,...l){n.write(c,4)},error(c,...l){n.write(typeof c=="string"?c:String(c),5)}}});if(!o.length)return;let i=Buffer.from(o.join(e.platform==="win32"?`\r
`:`
`)),s=Sb.createHash("sha256").update(i).digest("hex"),a=e.path.join(await gx(e),`certificates-${s}.pem`);if(!await e.isFile(a)){await e.mkdirp(e.path.dirname(a));let c=`${a}-${Sb.randomUUID()}`;await e.writeFile(c,i),await e.rename(c,a)}return a}var rue=Pb.join(__dirname,"..","..","node_modules",".bin","ts-node"),Cl=Pb.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function se(e){let{exec:t,cmd:n,args:r,cwd:o,env:i,stdin:s,output:a,print:c}=e,l=await t({cmd:n,args:r,cwd:o,env:i,output:a});return new Promise((u,d)=>{let p=[],f=[],m=c==="continuous"?new vx.StringDecoder:void 0;l.stdout.on("data",g=>{p.push(g),c==="continuous"&&a.write(m.write(g))}),l.stdout.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let h=c==="continuous"?new vx.StringDecoder:void 0;l.stderr.on("data",g=>{f.push(g),c==="continuous"&&a.write(at(h.write(g)))}),l.stderr.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let v=[];l.exit.then(({code:g})=>{try{v.forEach(y=>y.dispose());let w=Buffer.concat(p),x=Buffer.concat(f);(c===!0||g&&c==="onerror")&&(a.write(w.toString().replace(/\r?\n/g,`\r
`)),a.write(at(x.toString()))),c&&g&&a.write(`Exit code ${g}`),g?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,stdout:w,stderr:x,code:g}):u({stdout:w,stderr:x})}catch(w){d(w)}},g=>{c&&(g!=null&&g.message)&&a.write(at(g==null?void 0:g.message)),d(g)}),s instanceof Buffer?(l.stdin.write(s,g=>{g&&d(g)}),l.stdin.end()):s instanceof nz.Readable?s.pipe(l.stdin):typeof s=="function"&&v.push(s(g=>l.stdin.write(g)))})}async function Ws(e){let{ptyExec:t,cmd:n,args:r,cwd:o,env:i,output:s,resolveOn:a,onDidInput:c}=e,l=await t({cmd:n,args:r,cwd:o,env:i,output:s});return new Promise((u,d)=>{let p="",f=[c&&c(m=>l.write(m))];l.onData(m=>{p+=m,s.raw(m),a&&a.exec(p)&&u({cmdOutput:p})}),l.exit.then(({code:m,signal:h})=>{try{f.forEach(v=>v==null?void 0:v.dispose()),m||h?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,cmdOutput:p,code:m,signal:h}):u({cmdOutput:p})}catch(v){d(v)}},m=>{m!=null&&m.message&&s.write(at(m==null?void 0:m.message)),f.forEach(h=>h==null?void 0:h.dispose()),d(m)})})}var oue={SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:7,SIGEMT:void 0,SIGFPE:8,SIGKILL:9,SIGUSR1:10,SIGSEGV:11,SIGUSR2:12,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGSTKFLT:16,SIGCHLD:17,SIGCLD:void 0,SIGCONT:18,SIGSTOP:19,SIGTSTP:20,SIGTTIN:21,SIGTTOU:22,SIGURG:23,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:29,SIGPOLL:29,SIGPWR:30,SIGINFO:void 0,SIGLOST:void 0,SIGSYS:31,SIGUNUSED:31};function ec(e){return async function(t){let{cmd:n,args:r,output:o}=t,i=`Run: ${n} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,s=o.start(i),a=t.cwd||e,c=t.env?{...process.env,...t.env}:process.env,l=await ti(n,a,c),u=Im.spawn(l,r,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((d,p)=>{u.once("error",f=>{o.stop(i,s),p(f)}),u.once("close",(f,m)=>{o.stop(i,s),d({code:f,signal:m})})}),async terminate(){u.kill("SIGKILL")}}}}async function tz(e,t){let n=await t("node-pty");if(!n)throw new Error("Missing node-pty");return async function(r){var h,v;let{cmd:o,args:i,output:s}=r,a=`Run: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=r.cwd||e,d=r.env?{...process.env,...r.env}:process.env,p=await ti(o,u,d),f=n.spawn(p,i||[],{cwd:u,env:d,cols:(h=s.dimensions)==null?void 0:h.columns,rows:(v=s.dimensions)==null?void 0:v.rows,useConpty:l}),m=[s.onDidChangeDimensions&&s.onDidChangeDimensions(g=>f.resize(g.columns,g.rows))];return{onData:f.onData.bind(f),write:f.write.bind(f),resize:f.resize.bind(f),exit:new Promise(g=>{f.onExit(({exitCode:w,signal:x})=>{if(m.forEach(y=>y==null?void 0:y.dispose()),s.stop(a,c),g({code:w,signal:x}),process.platform==="win32")try{f.kill()}catch{}})}),async terminate(){f.kill("SIGKILL")}}}}function oz(e){let t=async function(n){let r=await e(n),o=new As;if(r.stdout){let i=new vx.StringDecoder;r.stdout.on("data",s=>o.fire(i.write(s))),r.stdout.on("close",()=>{let s=i.end();s&&o.fire(s)})}if(r.stderr){let i=new vx.StringDecoder;r.stderr.on("data",s=>o.fire(i.write(s))),r.stderr.on("close",()=>{let s=i.end();s&&o.fire(s)})}return{onData:o.event,write:r.stdin.write.bind(r.stdin),resize:()=>{},exit:r.exit.then(({code:i,signal:s})=>({code:typeof i=="number"?i:void 0,signal:typeof s=="string"?oue[s]:void 0})),terminate:r.terminate.bind(r)}};return t.isTTY=!1,t}function Gd(e,t,n,r){return async function(o){let{env:i,cmd:s,args:a,output:c}=o,l=o.cwd||n,u=l?`cd '${l}' && `:"",d=Object.keys(i||{}).map(y=>i[y]===void 0?"":`${y}='${i[y]}' `).join(""),p=(a||[]).map(y=>` '${y.replace(/'/g,`'"'"'`)}'`).join(""),f=`${u}${d}${s}${p}`,m=f!==s?["/bin/sh","-c",f]:[f],h=[...t,...m],v=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,g=c.start(v),w=await ti(e,process.cwd(),process.env),x=Im.spawn(w,h,{windowsHide:!0,env:r?{...process.env,...r}:void 0});return{stdin:x.stdin,stdout:x.stdout,stderr:x.stderr,exit:new Promise((y,E)=>{x.once("error",P=>{c.stop(v,g),E(P)}),x.once("close",(P,D)=>{c.stop(v,g),y({code:P,signal:D})})}),async terminate(){x.kill("SIGKILL")}}}}function Ib(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(t)return t[1].split(".").map(n=>parseInt(n,10))}function Tb(e,t){for(let n=0,r=Math.max(e.length,t.length);n<r;n++){let o=e[n]||0,i=t[n]||0;if(o!==i)return o<i}return!1}var iz=Cl?(e,t,n)=>Im.spawn(rue,[e,...t||[]],{...n,windowsHide:!0}):Im.fork;async function Xd(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules.asar/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules/${e}`)}catch{}}function sz(e){let{output:t}=e,n=[];return{output:Pn({...t,get dimensions(){return t.dimensions},event:o=>n?n.push(o):t.event(o)}),flush:()=>{n&&(n.forEach(o=>t.event(o)),n=void 0)}}}function az(e,t,n){return Pn({...e,get dimensions(){return e.dimensions},event:o=>{o.channel===t&&e.event(o),n.event(o)}})}function zn(e,t){return t&&typeof t=="object"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function Za(e,t){return zn(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var eN;async function Db(){return eN===void 0&&(eN=(async()=>{try{return rz.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await se({exec:ec(void 0),cmd:"id",args:["-u","-n"],output:je})).stdout.toString().trim()}})()),eN}function cz(e){let t=e.replace(/['\\]/g,"\\$&"),n=Jd(e).replaceAll("'","\\'");return` (command -v getent >/dev/null 2>&1 && getent passwd '${t}' || grep -E '^${n}|^[^:]*:[^:]*:${n}:' /etc/passwd || true)`}async function lz(e,t,n,r,o,i){let s="Extracting tarball",a=i.start(s),c=`${r}_${Date.now()}`;try{await yb(e,t,c,i);let l=n instanceof Buffer?n:await(async()=>{let u=[];for await(let d of n)u.push(d);return Buffer.concat(u)})();await se({exec:e,cmd:"tar",args:["--no-same-owner",`-x${o?"z":""}`,"--strip-components","1","-C",c],stdin:l,output:i,print:"continuous"}),await xb(e,t,c,r,i)}catch(l){try{await wb(e,t,c,{recursive:!0,force:!0},i)}catch{}throw l}finally{i.stop(s,a)}}async function gx(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function kb(e,t){let{output:n}=e,r=await zt(t.remoteExec,n);try{for(let i=0;i<3;i++){let s=Date.now();await r.exec("echo ping!"),n.write(`Roundtrip ${i+1} to container took ${Date.now()-s} ms`)}}finally{r.process.terminate()}let o=await zt(e.cliHost.exec,n);try{for(let i=0;i<3;i++){let s=Date.now();await o.exec("echo ping!"),n.write(`Roundtrip ${i+1} to host took ${Date.now()-s} ms`)}}finally{o.process.terminate()}}var ni="\u2404";async function zt(e,t,n,r="linux",o="Container"){let i=typeof e=="function",s=r==="win32",a=i?await e({env:n?{VSCODE_REMOTE_CONTAINERS_SESSION:n}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!i){let p=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${ni}; /bin/sh'
`;a.stdin.write(p),await new Promise(m=>{let h="",v=new tN.StringDecoder;a.stdout.on("data",function g(w){h+=v.write(w),h.includes(p)&&(a.stdout.off("data",g),m())})})}let c=sue(a),l;async function u(p,f){let m=l=(async()=>{try{await l}catch{}return d(zn(r,p),f)})();try{return await Promise.race([m,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===m&&(l=void 0)}}async function d(p,f){let m=`Run in ${o.toLowerCase()}: ${p.replace(/\n.*/g,"")}`,h;if((f==null?void 0:f.logOutput)!=="silent"&&(h=t.start(m,f==null?void 0:f.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:D,signal:R}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${D}, signal: ${R})`,code:D,signal:R})}r==="win32"?a.stdin.write(`[Console]::Write('${ni}'); ( ${p} ); [Console]::Write("${ni}$LastExitCode ${ni}"); [Console]::Error.Write('${ni}')
`):a.stdin.write(`echo -n ${ni}; ( ${p} ); echo -n ${ni}$?${ni}; echo -n ${ni} >&2
`);let[v,g]=uz(a.stdout,[1,2],(f==null?void 0:f.logOutput)==="continuous"?(D,R,N)=>{R===1&&N===0&&t.write(D,f==null?void 0:f.logLevel)}:()=>{}),w=uz(a.stderr,[1],(f==null?void 0:f.logOutput)==="continuous"?(D,R,N)=>{R===0&&N===0&&t.write(D,f==null?void 0:f.logLevel)}:()=>{})[0];f!=null&&f.stdin&&(await v,a.stdin.write(f==null?void 0:f.stdin));let[x,y]=await g,[E]=await w,P=parseInt(y,10)||0;return((f==null?void 0:f.logOutput)===void 0||(f==null?void 0:f.logOutput)===!0)&&(t.write(x,f==null?void 0:f.logLevel),t.write(E,f==null?void 0:f.logLevel),P&&t.write(`Exit code ${P}`,f==null?void 0:f.logLevel)),(f==null?void 0:f.logOutput)==="continuous"&&P&&t.write(`Exit code ${P}`,f==null?void 0:f.logLevel),(f==null?void 0:f.logOutput)!=="silent"&&t.stop(m,h,f==null?void 0:f.logLevel),P?Promise.reject({message:`Command in ${o.toLowerCase()} failed: ${p}`,code:P,stdout:x,stderr:E}):{stdout:x,stderr:E}}return{exec:u,process:a,platform:r,path:zn(r,iue)}}function uz(e,t,n){let r=t.map(()=>{let u;return{promise:new Promise((p,f)=>u={resolve:p,reject:f}),...u}}),o=new tN.StringDecoder("utf8"),i=[],s=0,a=[];function c(u){let d=o.write(u);l(d)}function l(u){let d=u.indexOf(ni);if(d!==-1){let p=u.substr(0,d);i.push(p),n(p,s,a.length),a.push(i.join("")),i.length=0,a.length===t[s]&&(r[s].resolve(a),s++,a=[],s===t.length&&e.off("data",c)),d+1<u.length&&l(u.substr(d+1))}else i.push(u),n(u,s,a.length)}return e.on("data",c),r.map(u=>u.promise)}function sue(e){let t,n=new Promise((c,l)=>t=l),r=[],o=[],i=c=>r.push(c),s=c=>o.push(c);return e.stdout.on("data",i),e.stderr.on("data",s),e.exit.then(({code:c,signal:l})=>{t(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(r).toString()}
${Buffer.concat(o).toString()}`)},c=>{t(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:n,disposeStdioListeners:()=>{e.stdout.off("data",i),e.stderr.off("data",s),r.length=0,o.length=0}}}var _z=G(require("net")),Dz=G(Sz());async function Pz({forwardedPorts:e,output:t,getLogLevel:n},r,o,i){t.write(`Port forwarding for container port ${o} starts listening on local port.`,2);let s=i?{VSCODE_REMOTE_CONTAINERS_SESSION:i}:void 0;return new Promise((a,c)=>{let l=new Set,u=_z.createServer({pauseOnConnect:!0},d=>{let p=d.remotePort,f=u.address().port;t.write(`Port forwarding connection from ${p} > ${f} > ${o} in the container.`),n()===1&&(async()=>{let m=await(0,Dz.default)("port",p);t.write(`Port forwarding process for ${p} > ${f} > ${o} in the container:
${JSON.stringify(m,void 0,"  ")}`)})().catch(console.error),mue(t,r,[r.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${o} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(m=>{let h;m.exit.then(({code:v,signal:g})=>{h||(l.delete(d),d.end()),t.write(`Port forwarding ${p} > ${f} > ${o} terminated${h?` by extension (${h})`:""} with code ${v} and signal ${g}.`)},v=>{l.delete(d),d.end(),t.write(`Port forwarding ${p} > ${f} > ${o} terminated with error: ${v&&v.message||String(v)}`)}),m.stderr.on("data",v=>{t.write(`Port forwarding ${p} > ${f} > ${o} stderr: ${v.toString("utf8")}`,2)}),d.on("close",v=>{t.write(`Port forwarding ${p} > ${f} > ${o}: Local close${v?" with error":""}`,2),l.delete(d),h="closed",m.stdin.end(),setTimeout(()=>{h="killed",m.terminate().catch(console.error)},5e3)}),m.stdout.pipe(d),d.pipe(m.stdin),l.add(d)}).catch(console.error)});u.on("listening",()=>{let d={targetPort:o,server:u,connections:l};u.on("close",()=>{e.delete(d)}),e.add(d),t.write(`Port forwarding local port ${u.address().port} to container port ${o}`),a(u)}),u.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(d)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(o,"127.0.0.1")})}async function mue(e,t,n,r){return t.remoteExec({env:r,cmd:n[0],args:n.slice(1),output:e})}function Iz(e,t){return[...e].find(n=>n.server.address().port===t)}var Tm=G(require("path"));var aN=G(Ar());function Ab(e,t){let n,r=e.platform==="win32",o={...e,get env(){return n||(n=kz(r,e.env))}},i=vue.bind(void 0,r,o);return e.containerWorkspaceFolder&&(o.containerWorkspaceFolder=Rz(i,e.containerWorkspaceFolder)),Lb(i,t)}function Tz(e,t,n,r){let o=e==="win32";return Lb(xue.bind(void 0,o,t,kz(o,n)),r)}function Lb(e,t){if(typeof t=="string")return Rz(e,t);if(Array.isArray(t))return t.map(n=>Lb(e,n));if(t&&typeof t=="object"){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r]=Lb(e,t[r])}),n}return t}var hue=/\$\{(.*?)\}/g;function kz(e,t){if(e){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r.toLowerCase()]=t[r]}),n}return t}function Rz(e,t){return t.replace(hue,gue.bind(void 0,e))}function gue(e,t,n){let r,o=n.split(":");return o.length>1&&(n=o[0],r=o[1]),e(t,n,r)}function vue(e,t,n,r,o){switch(r){case"env":case"localEnv":return Nz(e,t.env,o,n,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:n;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?Tm.win32:Tm.posix).basename(t.localWorkspaceFolder):n;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:n;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?Tm.posix.basename(t.containerWorkspaceFolder):n;default:return n}}function xue(e,t,n,r,o,i){switch(o){case"containerEnv":return Nz(e,n,i,r,t);default:return r}}function Nz(e,t,n,r,o){if(n){e&&(n=n.toLowerCase());let i=t[n];return typeof i=="string"?i:""}throw new be({description:o?aN.t("'{0}' in {1} can not be resolved because no environment variable name is given.",r,Tm.posix.basename(o.path)):aN.t("'{0}' can not be resolved because no environment variable name is given.",r)})}async function ln(e){return new Promise(t=>setTimeout(t,e))}var Fb=G(require("path"));var wue=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function Lz(e,t,n,r,o){let{repository:i,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(i=o.getDotfileConfiguration("dotfiles.repository")||i,s=o.getDotfileConfiguration("dotfiles.installCommand")||s,a=o.getDotfileConfiguration("dotfiles.targetPath")||a,!i)return;await r;let c=await n;i.indexOf(":")===-1&&!/^\.{0,2}\//.test(i)&&(i=`https://github.com/${i}.git`);let l=t.shellServer,u=Az(t),d=Object.keys(c).filter(p=>!(p.startsWith("BASH_FUNC_")&&p.endsWith("%%"))).reduce((p,f)=>`${p}${f}=${yue(c[f])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Ob(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${i} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await l.exec(`# Clone & install dotfiles
${Ob(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${i} ${a} || exit $?
cd ${a}
for f in ${wue.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function yue(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function Az(e){return Fb.posix.join(Ys(e),".dotfilesMarker")}async function Fz(e){let t=Az(e),n=Fb.posix.resolve(e.homeFolder,".devcontainer",".dotfilesMarker");try{await e.shellServer.exec(`test -f '${t}' && test ! -e '${n}' && mkdir -p '${Fb.posix.dirname(n)}' && cp '${t}' '${n}'`)}catch{}}var Rl=0,Oz=/Extension host agent listening on (\d+)/;var Eue="updateContentCommand";async function Hb(e){let{params:t,createdAt:n,startedAt:r,sharedDataFolder:o,sharedDataFolderIsLocalCacheFolder:i,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:p,rootShellServer:f,remoteWaylandSocket:m}=e,h;if(f&&a==="root"?h=f:h=await zt(u,t.output,t.sessionId),!l){let _=(await h.exec("echo $PATH")).stdout.trim();l=_?{PATH:_}:{}}a||(a=await bl(h)),!p&&a==="root"&&(p=u);let v=await zR(h),g=await Vd(h,a);g||t.output.write(sI(`User ${a} not found with 'getent passwd'.`));let w=await bue(l,g),x=await Cue(l,g),y=Cm(De.posix,x,t.product),{commit:E,quality:P}=t.product,D=!1,R=E&&await _ue(y,E,P||"insider",t.web,D),N=mb(v,P==="stable"),k=E&&o&&await Wz(De.posix,o,N,E,P||"insider",t.web,D),C=R&&Il("linux",R),S;f?S=Promise.resolve(f):a==="root"&&(S=Promise.resolve(h));let b={createdAt:n,startedAt:r,osRelease:v,build:N,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:w,homeFolder:x,userDataFolder:y,sharedDataFolderIsLocalCacheFolder:i,sharedDataFolder:o,legacy:D,installFolder:R,sharedInstallFolder:k,remoteWorkspaceFolder:s,nodeExecutable:C,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:p,shellServer:h,remoteWaylandSocket:m};return(S||p)&&(b.launchRootShellServer=()=>S||(S=zt(p,t.output))),b}async function bl(e){return(await e.exec("id -un")).stdout.trim()}async function Cue(e,t){return e.HOME||t&&t.home||"/root"}async function bue(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function Vd(e,t){let{stdout:n}=await e.exec(cz(t),{logOutput:!1});if(n.trim())return Sue(n)}function Sue(e){let t=e.replace(/\n$/,"").split(":");return{name:t[0],uid:t[2],gid:t[3],home:t[5],shell:t[6]}}async function _ue(e,t,n,r,o){return De.posix.join(e,"bin",`${t}${n==="stable"?"":`-${n}`}${r?"-web":""}${o?"-legacy":""}`)}async function Wz(e,t,n,r,o,i,s){return e.join(t,"bin",n.id,`${r}${o==="stable"?"":`-${o}`}${i?"-web":""}${s?"-legacy":""}`)}function Yz(e){return De.posix.join(e.userDataFolder,"extensions")}function Ys(e){return De.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function Bb(e){return De.posix.join(e.userDataFolder,"data/Machine/settings.json")}function Due(e){return De.posix.join(e,".vscode-remote")}function Cm(e,t,n){return e.join(t,n.serverDataFolderName)}function VR(e,t,n){return e.join(t,n.dataFolderName)}function qb(e){return De.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}function Il(e,t){return zn(e,{posix:()=>De.posix.join(t,"node"),win32:()=>De.win32.join(t,"node.exe")})()}var xx=class{constructor(t){this.settings=t}getConfiguration(t){return this.settings[os(t)]||this.settings[yl(t)]}getNewConfiguration(t){return this.settings[os(t)]}getDotfileConfiguration(t){return this.settings[yl(t)]||this.settings[t]}};async function Nl(e,t,n,r,o=Rl,i,s){await Pue(e,t);let a=await Iue(e,t,r),{serverDownloaded:c,didCheckRequirements:l}=await Nue(e,t),u,d,p=Promise.resolve(),f;if(t.nodeExecutable){let y=await pb(e,t,a);u=y.remoteContainersCLI,d=y.remoteEnv,p=y.ready;let E=i;i=E&&(async(...D)=>(await y.ready,E(...D))),f=y.mrpcExec;let P=e.cliHost.reconnect;P&&(e.cliHost.reconnect=async D=>{await P(D),y.reconnect().catch(R=>e.output.write(at(R&&(R.stack||R.message)||String(R))))})}let h=e.computeExtensionHostEnv||e.postCreate.enabled?Kd(e,t,r,f).then(async y=>({...y,...d,...await BV(t,y),REMOTE_CONTAINERS:"true",...Tz(e.cliHost.platform,n.configFilePath,t.env,r.remoteEnv||{})})):Promise.resolve({}),v=a.getConfiguration("gitCredentialHelperConfigLocation")??e.credentialHelperConfigLocation;t.nodeExecutable&&(await rx(e,t,[".ssh","known_hosts"],"ssh"),v!=="none"&&await Mb(t,u,e.output,"system"));let g,w,x;if(t.installFolder){let E=await Gue(e,t,o,f,async()=>Fue(e,t,r,!1),void 0,!0,!1,l),P=E.serverPort;x=E.connectionToken,g=P,e.forwardServerPort&&t.nodeExecutable&&(w=await Pz(e,t,P,e.sessionId),g=w.address().port,e.backgroundTasks.push(async()=>Zue(e,t,r)))}if(e.postCreate.enabled){let y,E=new Promise(D=>y=()=>{D()}),P=(async()=>{let D={...d,REMOTE_CONTAINERS:"true"},R=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],N=R.reduce((k,C)=>(k[C]=(r[`${C}s`]||[]).length>0,k),{});if(e.prebuild){let k=R.indexOf("updateContentCommand");if((!R.slice(0,k+1).some(b=>N[b])||!i?"prebuild":await i(!1,!1,!0,a,D))!=="prebuild")throw new Error('"prebuild" expected')}else{let k=!0,C=!0,S=r.waitFor||Eue,b=R.indexOf(S),_=R.indexOf("postCreateCommand"),A=b<=_&&!R.slice(0,b+1).some(Y=>N[Y]),L=a.getDotfileConfiguration("dotfiles.repository")||e.dotfilesConfiguration.repository,T=!R.slice(0,_+1).some(Y=>N[Y])&&!L,$=A?"skipNonBlocking":T||!i?"stopForPersonalization":await i(k,C,!1,a,D);if($==="skipNonBlocking"){if(y(),e.postCreate.skipNonBlocking)return;k=!1,$=!R.slice(b+1,_+1).some(j=>N[j])&&!L||!i?"stopForPersonalization":await i(k,C,!1,a,D)}if($==="stopForPersonalization"){i||await Lz(e,t,h,p,a),t.nodeExecutable&&((a.getConfiguration("copyGitConfig")??e.isCopyGitConfigEnabled)&&await JC(e,t,h.then(J=>({...t.env,...J}))),await Mb(t,u,e.output,v)),await(s==null?void 0:s()),C=!1;let Y=b>_&&!R.slice(_+1,b+1).some(J=>N[J]),j=!R.slice(_+1).some(J=>N[J]);$=Y?"skipNonBlocking":j||!i?"done":await i(k,C,!1,a,D)}if($==="skipNonBlocking"){if(y(),e.postCreate.skipNonBlocking)return;k=!1,$=!R.slice(b+1).some(j=>N[j])||!i?"done":await i(k,C,!1,a,D)}if($!=="done")throw new Error('"done" expected')}})();P.then(()=>{e.postCreate.done()},D=>{e.postCreate.done(D)}),e.backgroundTasks.push(P),await Promise.race([E,P])}return{hostOrContainerPort:g,hostPortServer:w,connectionToken:x,remoteEnv:e.computeExtensionHostEnv?await h:{},serverDownloaded:c}}async function Pue(e,t){let n=Due(t.homeFolder);!await $b(t.shellServer,t.userDataFolder)&&await $b(t.shellServer,n)&&await tc(e,t,["/bin/sh","-c",`cp -r '${n}' '${t.userDataFolder}'`])}async function Iue(e,t,n){var s;let r=Ys(t),o=De.posix.join(r,".writeMachineSettingsMarker"),i=Bb(t);if(await Jz(t.shellServer,o)){let a=(s=n.customizations)==null?void 0:s.vscode,c=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(l=>l.settings));if(Tue(c,n.portsAttributes),kue(c,n.otherPortsAttributes),Object.keys(c).length)return await t.shellServer.exec(`mkdir -p '${De.posix.dirname(i)}' && cat >'${i}' <<'settingsJSON'
${JSON.stringify(c,null,"	")}
settingsJSON
`),new xx(c)}try{let{stdout:a}=await t.shellServer.exec(`cat ${i}`);return new xx(Be(a)||{})}catch{return new xx({})}}function Tue(e,t){if(!e||!t||!Object.keys(t).length)return;let n="remote.portsAttributes";if(!e[n]){e[n]=t;return}for(let r in t)e[n][r]||(e[n][r]=t[r])}function kue(e,t){if(!e||!t)return;let n="remote.otherPortsAttributes";e[n]||(e[n]=t)}async function Wb(e,t,n,r){let o=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,i=await t();if((await i.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let c=De.posix.dirname(n);c!=="/"&&await i.exec(`chown ${o} ${c}`),n!=="/"&&await i.exec(`chown -R ${o} ${n}`)}else if(r&&(await i.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let u=De.posix.dirname(r);u!=="/"&&await i.exec(`chown -R ${o} ${u}`)}}async function Mb(e,t,n,r){if(t||Cl)if(r==="none")n.write("Git credential helper not enabled.");else{let o=r==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;o?await o.exec(`command -v git >/dev/null 2>&1 && git config --${r} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} git-credential-helper $*; }; f' || true`):n.write("Cannot configure system wide Git credential helper without root access.")}}async function rx(e,t,n,r,o){let{cliHost:i}=e,s=i.path.join(await i.homedir(),...n);if(!await i.isFile(s)&&(i.type==="local"||(i=await Hr(process.cwd(),e.loadNativeModule,e.output),s=i.path.join(await i.homedir(),...n),!await i.isFile(s))))return!1;let a=De.posix.join(t.homeFolder,...n);return wl(i,t.shellServer,s,a,r,o)}async function wl(e,t,n,r,o,i=""){let s=await Rue(e,n);if(s)try{let a=await r,c=De.posix.dirname(a);return await t.exec(`# Test for ${a} and ${o}
[ -e '${a}' ] ${i}&& echo '${a}' exists && exit 1
command -v ${o} >/dev/null 2>&1 || (echo ${o} not found && exit 1) || exit 1
mkdir -p '${c}'
[ -w '${c}' ] || (echo '${c}' not writable && exit 1) || exit 1`),await t.exec(`# Copy ${n} to ${a}
${Wd(s.byteLength)} >>'${a}'`,{stdin:s}),!0}catch(a){if(a&&a.code!==1)throw a}return!1}async function Rue(e,t){try{return await e.readFile(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="EISDIR"))return;throw n}}async function Nue(e,t){let n=await Uz(e,t,t.legacy);if(n!=="retryWithLegacyServer")return n;let r=await Uz(e,t,!0);return t.legacy=!0,t.installFolder=r.installFolder,t.sharedInstallFolder=r.sharedInstallFolder,t.nodeExecutable=r.installFolder&&Il("linux",r.installFolder),r}async function Uz(e,t,n){let r=await Lue(e,t,n),o=!1;if(r.installFolder){let i=De.posix.join(r.installFolder,"bin","helpers","check-requirements.sh");if(o=await zue(t.shellServer,i),o)try{await t.shellServer.exec(`'${i}'`)}catch(s){if((s==null?void 0:s.code)===100){if(!n)return"retryWithLegacyServer"}else throw(s==null?void 0:s.code)===99?new be({description:Tl.t("The container does not meet all the requirements of the VS Code Server."),detail:s==null?void 0:s.stdout.toString().trim(),step:"checkRequirements",data:{reload:!1,learnMoreUrl:"https://aka.ms/vscode-remote/faq/old-linux"},originalError:s}):s}}return{...r,didCheckRequirements:o}}async function Lue(e,t,n){let{commit:r}=e.product,{shellServer:o,launchRootShellServer:i,build:s}=t;if(!(r&&t.installFolder))return{serverDownloaded:void 0,installFolder:void 0,sharedInstallFolder:void 0};let a=n?`${t.installFolder}-legacy`:t.installFolder,c=n&&t.sharedInstallFolder?`${t.sharedInstallFolder}-legacy`:t.sharedInstallFolder;Aue(t.osRelease,s),s.preview&&e.output.write(`\r
\x1B[1mSupport for ${s.label} is in preview.\x1B[22m\r
\r
`);let l=await $b(o,a),u;if(l||s===Kz[s.arch]&&(i?u=(await i()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):u=o.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`)),c&&await $b(o,c))return l||await o.exec(`mkdir -p '${De.posix.dirname(a)}' && ln -snf '${c}' '${a}'`),i&&(async()=>{await(await i()).exec(`touch '${c}'`)})().catch(console.error),await u,{serverDownloaded:!1,installFolder:a,sharedInstallFolder:c};if(l)return{serverDownloaded:!1,installFolder:a,sharedInstallFolder:c};e.progress(4),e.output.write(`Installing VS Code Server for commit ${r}\r
`);let d=!!(c&&i),p=d?c:a,f=d?await i():o,m={localCacheFolder:e.localCacheFolder,build:s,commit:r,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload,legacy:n},h=Sm(m),v=await wr(h);v||await ux(m);try{if(t.sharedDataFolderIsLocalCacheFolder)await Mz(m);else{let g=cx(e,f,h,p);e.cliHost.type!=="local"&&await Promise.race([g,ln(2e4).then(()=>!0)])&&kb(e,t).catch(w=>e.output.write(`Error testing connection: ${(w==null?void 0:w.stack)||(w==null?void 0:w.message)||w}`)),await g}}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await ux(m),t.sharedDataFolderIsLocalCacheFolder?await Mz(m):await cx(e,f,h,p);else throw g}return d&&(await o.exec(`mkdir -p '${De.posix.dirname(a)}' && ln -snf '${c}' '${a}'`),(async()=>{await f.exec(`touch '${c}' && cd '${De.posix.dirname(c)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await u,{serverDownloaded:!v,installFolder:a,sharedInstallFolder:c}}function Aue(e,t){let n=e.version;if(t.minVersion&&n){let r=Ib(n.trim());if(r&&Tb(r,t.minVersion)){let o=Tl.t("{0} {1} or later required.",t.label,t.minVersion.join("."));throw new be({description:o,data:{reload:!1}})}}}async function ux(e){let{build:t,commit:n,quality:r,web:o,legacy:i,output:s}=e,a="Downloading VS Code Server",c=s.start(a);s.write(`${n} ${t.id} ${r}${o?" web":""}${i?" legacy":""}`);let l=Sm(e);await Zi(De.dirname(l));let u=`https://update.code.visualstudio.com/commit:${n}/server-${i?t.id.replace("linux-","linux-legacy-"):t.id}${o?"-web":""}/${r}`,d,p;try{p=`${l}_${Date.now()}`,await new Promise((f,m)=>{let h=jb.createWriteStream(p);s.write("Starting download.",1),jz.https.get(u,{trackRedirects:!0},g=>{var y;if(g.statusCode<200||g.statusCode>299){s.write(`Download failed: ${g.statusCode} ${g.statusMessage}.`,1),m(new be({description:Tl.t("Downloading the VS Code Server failed. Please try again later."),originalError:`Failed to download VS Code Server (${u}): HTTP ${g.statusCode} - ${g.statusMessage}`}));return}let x=(y=[...g.redirects,g].find(E=>E.headers["x-sha256"]))==null?void 0:y.headers["x-sha256"];d=Array.isArray(x)?x[0]:x,s.write("Downloading data.",1),g.on("error",m),g.pipe(h),g.on("end",f)}).on("error",m)})}catch(f){if(s.write("Downloading failed.",1),s.write((f==null?void 0:f.stack)||(f==null?void 0:f.message)||String(f),1),e.alternateDownload)s.write(f&&(f.originalError||f.message)),s.write("Retrying to download VS Code Server."),p=`${l}_${Date.now()}`,await e.alternateDownload(u,p);else throw f||new be({description:Tl.t("Downloading the VS Code Server failed. Please try again later.")})}finally{s.stop(a,c)}if(d){let f=km.createHash("sha256"),m=await lt(p);f.update(m);let h=f.digest("hex");if(h!==d)throw s.write(`Failed to download VS Code Server (${u}): SHA mismatch, actual ${h} != expected ${d}`),new be({description:Tl.t("Downloading the VS Code Server failed. Please try again later.")})}await Xc(p,l)}async function cx(e,t,n,r,o,i=!0){let s="Installing VS Code Server",a=e.output.start(s),c=`${r}_${Date.now()}`;try{if(await t.exec(`mkdir -p ${c}`),o)typeof n=="string"&&n.endsWith(".zip")?await t.exec(`unzip ${n} -d ${c}`):await t.exec(`cat ${n} | tar --no-same-owner -x${i?"z":""} -C ${c}`);else{let l=typeof n=="string"?await lt(n):n;await t.exec(`${Wd(l.byteLength,!0)} | tar --no-same-owner -x${i?"z":""} -C ${c}`,{stdin:l,logOutput:"continuous"})}await t.exec(`mv -n ${De.posix.join(c,"*",".")} ${r} && rmdir ${c}`)}catch(l){try{await t.exec(`rm -rf ${c}`)}catch{}throw l}finally{e.output.stop(s,a)}}async function Mz(e){let{localCacheFolder:t,build:n,commit:r,quality:o,web:i,legacy:s,output:a}=e,c="Unpacking VS Code Server",l=a.start(c);a.write(`${r} ${n.id} ${o} ${i?"web":""} ${s?"legacy":""}`);let u=await Wz(De,t,n,r,o,i,s),d=`${u}_${Date.now()}`;try{await Zi(d);let p=Sm(e);await(await ec(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",p,"--strip-components","1","-C",d],cwd:process.cwd(),output:a})).exit,await Qc(u,{recursive:!0,force:!0}),await Xc(d,u)}catch(p){try{await Qc(d,{recursive:!0,force:!0})}catch{}throw p}finally{a.stop(c,l)}}function Sm(e){let{localCacheFolder:t,build:n,commit:r,quality:o,web:i,legacy:s}=e,a=De.join(t,"serverCache",r),c=`vscode-server-${n.id}${o==="stable"?"":`-${o}`}${i?"-web":""}${s?"-legacy":""}${n.archiveExt||".tar.gz"}`;return De.join(a,c)}async function Vz(e,t){let n=await Xz(t),r={},{stdout:o}=await tc(e,t,[De.posix.join(t.installFolder,...XC(n)),...Zz(t.userDataFolder),...Qz(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:r});return o.toString().split(`
`).filter(i=>!!i)}async function Fue(e,t,n,r){let o="Preparing Extensions",i=e.output.start(o),{sharedDataFolder:s}=t,a=s?Bue(s):void 0,c=zz(t),l=Ys(t),u=De.posix.join(l,".installExtensionsMarker"),d=!await Jz(t.shellServer,u),p=Uue(e,d,n);if(t.sharedDataFolderIsLocalCacheFolder)t.launchRootShellServer&&await(await t.launchRootShellServer()).exec(`mkdir -p '${a}' && chown -R ${t.user} ${a}`),await t.shellServer.exec(`mkdir -p '${a}' && ln -s -T '${a}' '${c}' || true`);else{let m=Hue(e.localCacheFolder),h=await Mue(e,t,m,a,c,[...p.builtinExtensions,...p.extensions]);$ue(e,t,m,a,c,h).catch(console.error)}p.extensions=p.extensions.filter(m=>!p.builtinExtensions.includes(m)),e.product.version&&Hz.lte("1.77.0",e.product.version.split("-")[0])&&(e.output.write(`Optimizing extensions for quality: ${e.product.quality}`),p.builtinExtensions=await Oue(e,t,c,p.builtinExtensions));let f=[].concat(...p.builtinExtensions.map(m=>["--install-builtin-extension",m]),...p.extensions.map(m=>["--install-extension",m]));return r&&f.length&&f.push("--do-not-sync"),e.output.stop(o,i),{...p,args:f}}async function Oue(e,t,n,r){if(r.length===0)return r;let{shellServer:o}=t,i=(await o.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(a=>!!a&&a.endsWith("vsix"));e.output.write(`Available vsix: ${i.join(", ")||"None"}`);let s=r.map(a=>{let c=i.find(l=>l.startsWith(a.toLocaleLowerCase()));return c?`${n}/${c}`:a});return e.output.write(`Optimized extensions to install: ${s.join(", ")||"None"}`),s}function Uue(e,t,n){var a,c;let r=t?[]:e.installBuiltinExtensions||[],o=e.getAdditionalExtensionsToInstall(t),i=[...t?[]:(((a=n.customizations)==null?void 0:a.vscode)||[]).map(l=>l.extensions||[]),o],s=[];for(let l of i.flat()){let u=(c=/^(?<removal>-)?(?<idAndVersion>(?<id>[^@ ]*)[^ ]*)$/.exec(l))==null?void 0:c.groups;if(u){let d=s.findIndex(p=>p.id===u.id);d!==-1&&s.splice(d,1),u.removal||s.push(u)}}return{builtinExtensions:r,extensions:s.map(l=>l.idAndVersion)}}async function Mue(e,t,n,r,o,i){e.output.write(`Extensions cache, install extensions: ${i.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${o} && ls ${o} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(r){let c=(await s.exec(`test -d ${r} && ls ${r} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>i.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${o}' && ln -s '${r}'/* '${o}' || true`);let{launchRootShellServer:u}=t;u&&(async()=>{await(await u()).exec(`cd ${r} && touch ${l.map(p=>`'${p}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await Zi(n);let c=await Zc(n),l=c.filter(u=>i.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=De.basename(n),d=kl.c({cwd:De.dirname(n)},l.map(m=>De.join(u,m))),p=De.posix.join(o,`tmp-${Date.now()}`),f=await new Promise(m=>{let h=[];d.on("data",v=>h.push(v)),d.on("end",()=>m(Buffer.concat(h)))});await s.exec(`# Copy extensions to remote
mkdir -p ${p}
${Wd(f.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${p}
mv ${p}/* ${o} && rmdir ${p}`,{stdin:f})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function $ue(e,t,n,r,o,i){if(r&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await ln(s);;)i=await jue(e,t,n,r,o,i),await ln(a)}async function jue(e,t,n,r,o,{remoteExtensions:i,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=t,u=(await a.exec(`ls ${o} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(p=>!!p);if(!r){let p=i.filter(f=>u.indexOf(f)===-1);e.output.write(`Extensions cache, remote removals: ${p.join(", ")||"None"}`);for(let f of p)try{await bM(De.join(n,f))}catch(m){if(!(m&&m.code==="ENOENT"))throw m}}let d=u.filter(p=>i.indexOf(p)===-1&&s.indexOf(p)===-1);if(e.output.write(`Extensions cache, copy to ${r?"shared cache":"local"}: ${d.join(", ")||"None"}`,1),d.length)if(r){let p=await c();await p.exec(`mkdir -p '${r}' && cd '${o}' && cp ${d.map(f=>`'${f}'`).join(" ")} '${r}'`),await p.exec(`cd '${r}' && ls -t | tail -n +50 | xargs rm -f`)}else{let p=De.posix.basename(o),f=await l({cmd:"tar",cwd:De.posix.dirname(o),args:["c",...d.map(g=>De.posix.join(p,g))],output:e.output}),m=De.join(De.dirname(n),`${De.basename(n)}-${Date.now()}`);await Zi(m);let h=kl.x({cwd:m,strip:1}),v=new Promise((g,w)=>{h.on("error",w),h.on("finish",g)});f.stdout.pipe(h),await v;for(let g of await Zc(m))await Xc(De.join(m,g),De.join(n,g));await SM(m)}return{remoteExtensions:u,cachedExtensions:s}}var uN="extensionsCache";function Hue(e){return De.join(e,uN)}function Bue(e){return De.posix.join(e,uN)}function zz(e){return De.posix.join(e.userDataFolder,uN)}var Gz={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},Kz={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},db={x64:{label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Mac ARM",id:"darwin-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},que={x64:{label:"Windows",id:"win32-x64",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Windows ARM",id:"win32-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},Wue={linux:Gz,alpine:Kz,darwin:db,win32:que},Yue={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function mb(e,t){var o;let n=Yue[e.hardware],r=n&&(((o=Wue[e.id])==null?void 0:o[n])||Gz[n]);if(!r||t&&!r.stable)throw new be({description:e.id==="alpine"?Tl.t("Alpine Linux is not supported on the hardware architecture '{0}' of the container.",e.hardware):Tl.t("The hardware architecture '{0}' of the container is not supported.",e.hardware),data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function zR(e){let t="unknown",n="unknown",r="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:o}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");n=(o.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",r=(o.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(o){console.error(o)}return{hardware:t,id:n,version:r}}async function Vue(e,t,n,r){let o=await zn(n,{async win32(){var a;return{amd64:"x86_64",arm64:"arm64"}[((a=t.PROCESSOR_ARCHITECTURE)==null?void 0:a.toLowerCase())||""]||"unknown"},async posix(){return(await se({exec:e,cmd:"uname",args:["-m"],output:r})).stdout.toString().trim()}})(),i=n,s="unknown";if(n==="linux")try{let a=(await se({exec:e,cmd:"/bin/sh",args:["(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null"],output:r})).stdout.toString();i=(a.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",s=(a.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(a){console.error(a)}return{hardware:o,id:i,version:s}}async function Jz(e,t){try{return await e.exec(Ob(t)),!0}catch{return!1}}function Ob(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${De.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function $b(e,t){try{return await e.exec(`test -d '${t}'`),!0}catch{return!1}}async function zue(e,t){try{return await e.exec(`test -x '${t}'`),!0}catch{return!1}}async function Gue(e,t,n,r,o,i,s,a,c){let{installFolder:l,sharedInstallFolder:u,shellServer:d}=t,{processes:p,mntNS:f}=await CR(d),m=await Xz(t),h=`(${De.posix.join(...XC(m))})`.replace(".","\\."),v=new RegExp(`${De.posix.join(De.posix.dirname(l).replace(".","\\."),"[^/]*",h)}`),g=p.filter(j=>j.mntNS===f&&v.test(j.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(g,void 0,"  ")}`,1);let{current:w,others:x}=g.reduce((j,J)=>(j[(J.cwd===l||J.cwd===u)&&v.test(J.cmd)?"current":"others"].push(J),j),{current:[],others:[]});if(s&&x.length){e.output.write(`Terminating old extension host agent.\r
`);try{await d.exec(`kill -9 ${x.map(j=>j.pgrp?`-${j.pgrp}`:j.pid).join(" ")}`)}catch{}}let{commit:y,quality:E}=e.product,P=De.posix.join(Ys(t),`.connection-token-${y}${E==="stable"?"":`-${E}`}${e.web?"-web":""}${t.legacy?"-legacy":""}`),D=De.posix.join(Ys(t),`.devport-${y}${E==="stable"?"":`-${E}`}${e.web?"-web":""}${t.legacy?"-legacy":""}`);if(w.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:j}=await d.exec(`cat '${D}' 2>/dev/null`),J=j.toString().trim(),fe=parseInt(J,10),Ne=new RegExp(" '?--connection-token-file'? ").test(w[0].cmd)?(await d.exec(`cat '${P}'`)).stdout.toString().trim():void 0;return{serverPort:fe,connectionToken:Ne}}catch(j){console.error(j),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await d.exec(`kill -9 ${w.map(J=>J.pgrp?`-${J.pgrp}`:J.pid).join(" ")}`)}catch{}}}let R="isLocalContainer"in e&&e.isLocalContainer,N=`${P}-${km.randomUUID()}`,{stdout:k}=await d.exec(`cat '${P}' 2>/dev/null || (umask 377 && echo '${km.randomUUID()}' >'${N}' && mv -n '${N}' '${P}' && rm -f '${N}' && cat '${P}')`),C=k.toString().trim();e.progress(5);let S="Starting VS Code Server",b=e.output.start(S),_=[De.posix.join(l,...XC(m)),"--log",ro(e.getLogLevel()),"--force-disable-user-env",...Zz(t.userDataFolder),...Kue(R),...Qz(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(n),"--connection-token-file",P,"--extensions-download-dir",zz(t),...(await o()).args,"--start-server",...R?["--disable-websocket-compression"]:[""],...a?["--enable-remote-auto-shutdown"]:[],...c?["--skip-requirements-check"]:[]],A={SHELL:t.shell,...await i};delete A.NODE_OPTIONS;let T=(await tc(e,{remoteExec:t.remoteExec},_,l,{remoteEnv:A,resolveOn:Oz,print:"continuous"})).cmdOutput;e.output.stop(S,b);let $=(Oz.exec(T)||[])[1];if(!$)throw new Error("Port not found");return await d.exec(`echo ${$} >'${D}'`),{serverPort:parseInt($,10),connectionToken:C}}async function Xz({shellServer:e,installFolder:t}){return JSON.parse((await e.exec(`cat '${De.posix.join(t,"product.json")}'`,{logOutput:!1})).stdout.toString().trim())}function Zz(e){return["--server-data-dir",e]}function Kue(e){return e?["--use-host-proxy"]:[]}function Qz(e){return e?["--telemetry-level",e]:[]}var Jue=/^([a-z0-9\-]+):(\d{1,5})$/;function Xue(e){let t=e.match(Jue);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function Zue(e,t,n){let r=(n.forwardPorts||[]).map(i=>typeof i=="number"?`localhost:${i}`:i).map(Xue).filter(Boolean),o=await e.getTunnels();await Promise.all(r.filter(i=>!o.find(s=>s.remoteAddress.host===i.host&&s.remoteAddress.port===i.port)).map(async({host:i,port:s})=>e.openTunnel(t,s,i)))}async function tc(e,{remoteExec:t},n,r,o={}){let i=o.print||(o.silent?"off":"end"),s=await t({env:o.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:o.silent?je:e.output}),a=[],c=[],l=new lN.StringDecoder,u=new lN.StringDecoder,d="",p="",f,m,h=new Promise((y,E)=>{f=y,m=E});s.stdout.on("data",y=>{a.push(y);let E=l.write(y);i==="continuous"&&e.output.write(E.replace(/\r?\n/g,`\r
`)),d+=E,o.resolveOn&&o.resolveOn.exec(d)&&f()}),s.stderr.on("data",y=>{c.push(y);let E=u.write(y);i==="continuous"&&e.output.write(E.replace(/\r?\n/g,`\r
`)),p+=E}),o.stdin instanceof Buffer?(s.stdin.write(o.stdin,y=>{y&&m(y)}),s.stdin.end()):o.stdin instanceof jb.ReadStream&&o.stdin.pipe(s.stdin),i!=="off"&&s.exit.catch(y=>{y!=null&&y.message&&e.output.write(at(y==null?void 0:y.message))});let v=await Promise.race([s.exit,h]),g=Buffer.concat(a),w=Buffer.concat(c);i==="end"&&(e.output.write(d.replace(/\r?\n/g,`\r
`)),e.output.write(at(p)));let x=`${d}
${p}`;return v&&(v.code||v.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:x,stdout:g,stderr:w,code:v.code,signal:v.signal}):{cmdOutput:x,stdout:g,stderr:w}}function Wd(e,t=!1){let r=e%8192;return`(dd iflag=fullblock bs=8192 count=${(e-r)/8192}${t?"":" 2>/dev/null"}; dd iflag=fullblock bs=${r} count=1${t?"":" 2>/dev/null"})`}async function Kd(e,t,n,r){let o=tde(n,e);if(!o||o==="none")return{};let i=await Que(o,e,t.shellServer);return i||(e.output.write("userEnvProbe: not found in cache"),i=await $z(o,e,t,r,"cat /proc/self/environ","\0"),i||(e.output.write("userEnvProbe: falling back to printenv"),i=await $z(o,e,t,r,"printenv",`
`)),i&&await ede(i,o,e,t.shellServer),i||{})}async function Que(e,t,n){if(!n||!t.containerSessionDataFolder)return;let r=eG(e,t.containerSessionDataFolder);try{if(await Za(n,r)){let{stdout:o}=await n.exec(`cat '${r}'`);return JSON.parse(o)}}catch(o){t.output.write(`Failed to read/parse user env cache: ${o}`,5)}}async function ede(e,t,n,r){if(!r||!n.containerSessionDataFolder)return;let o=eG(t,n.containerSessionDataFolder);try{await r.exec(`mkdir -p '${De.posix.dirname(o)}' && cat > '${o}' << 'envJSON'
${JSON.stringify(e,null,"	")}
envJSON
`)}catch(i){n.output.write(`Failed to cache user env: ${i}`,5)}}function eG(e,t){return De.posix.join(t,`env-${e}.json`)}async function $z(e,t,n,r,o,i){var s;if(e==="none")return{};try{let a=km.randomUUID(),c=new RegExp(a+"([^]*)"+a),l=n.shell;t.output.write(`userEnvProbe shell: ${l}`);let u=De.posix.basename(l),d=`echo -n ${a}; ${o}; echo -n ${a}`,p;/^pwsh(-preview)?$/.test(u)?p=e==="loginInteractiveShell"||e==="loginShell"?["-Login","-Command"]:["-Command"]:p=[e==="loginInteractiveShell"?"-lic":e==="loginShell"?"-lc":e==="interactiveShell"?"-ic":"-c"];let f=Pn(t.output,1),m=tc({output:f},{remoteExec:await r||n.remoteExec},[l,...p,d],n.installFolder);Promise.race([m,ln(2e3)]).then(async D=>{if(!D){let R,N=n.shellServer||await zt(n.remoteExec,t.output);try{({processes:R}=await CR(N))}finally{n.shellServer||await N.process.terminate()}let k=R.find(C=>C.cmd.startsWith(l)&&C.cmd.indexOf(a)!==-1);if(k){let S=bY(R)[k.pid];t.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${bR(S)}`)}else t.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(D=>t.output.write(at(D&&(D.stack||D.message)||"Error reading process tree.")));let h=await Promise.race([m,ln(1e4)]);if(!h)return t.output.write(at("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let v=h.stdout.toString(),g=c.exec(v),w=g?g[1]:"";if(!w||w.trim()==="-n")return;let x=w.split(i).reduce((D,R)=>{let N=R.indexOf("=");return N!==-1&&(D[R.substring(0,N)]=R.substring(N+1)),D},{});t.output.write(`userEnvProbe parsed: ${JSON.stringify(x,void 0,"  ")}`,1),delete x.PWD;let y=x.PATH,E=(s=n.env)==null?void 0:s.PATH,P=!(t.allowSystemConfigChange&&n.launchRootShellServer)&&y&&E;if(P){let D=n.user;x.PATH=nde(y,E,D==="root"||D==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof y=="string"?`'${y}'`:"None"}
Container: ${typeof E=="string"?`'${E}'`:"None"}${P?`
Merged:    ${typeof x.PATH=="string"?`'${x.PATH}'`:"None"}`:""}`),x}catch(a){return t.output.write(at("Error reading shell environment.")),t.output.write(at((a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a))),{}}}function tde(e,t){let n=e==null?void 0:e.userEnvProbe;return t.output.write(`userEnvProbe: ${n||t.defaultUserEnvProbe}${n?"":" (default)"}`),n||(n=t.defaultUserEnvProbe),n}function nde(e,t,n){let r=e.split(":"),o=0;for(let i of t.split(":")){let s=r.indexOf(i);s===-1?(n||!/\/sbin(\/|$)/.test(i))&&r.splice(o++,0,i):o=s+1}return r.join(":")}async function dN(e){for(let t of e)await(typeof t=="function"?t():t)}async function tG(e){let{localCacheFolder:t,output:n,alternateDownload:r,exec:o,env:i,isFile:s,userDataFolder:a,homeFolder:c,product:l,platform:u}=e,d=l.commit||await xm(l.quality),p=l.commit?l.quality||"insider":"stable",f=u==="win32"?De.win32:De.posix,m=`${p.substring(0,1).toUpperCase()}${p.substring(1)}${p==="insider"?"s":""}-${d}`,h=f.join(Cm(f,c,l),"cli","servers",m,"server");if(await Ub(u,h,s))return Il(u,h);let v=f.join(VR(f,c,l),"cli","servers",m,"server");if(await Ub(u,v,s))return Il(u,v);let g=f.join(Cm(f,c,l),"bin",d);if(await Ub(u,g,s))return Il(u,g);let w=f.join(a,"bin",d);if(await Ub(u,w,s))return Il(u,w);let x=await Vue(o,i,u,n),y=mb(x,!1),E={localCacheFolder:t,build:y,commit:d,quality:p,web:!1,output:n,alternateDownload:r,legacy:!1},P=Sm(E);await wr(P)||await ux(E);let D=P.endsWith(".zip")?await ode(P):await rde(P);return await lz(o,u,D,w,!1,n),Il(u,w)}async function Ub(e,t,n){let r=Il(e,t),i=(e==="win32"?De.win32:De.posix).join(t,"node_modules","node-pty","package.json");return await n(r)&&await n(i)}async function rde(e){let t=[];return await kl.t({file:e,filter:n=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(n),onentry:n=>{new kl.WriteEntry.Tar(n).on("data",o=>t.push(o))}}),Buffer.concat(t)}async function ode(e){let n=new Bz.default(e).getEntries().filter(o=>/^[^/]*\/(LICENSE$|node(\.exe)?$|node_modules\/node-pty\/.*[^/]$)/.test(o.entryName)),r=qz.pack();for(let o of n){let i=await new Promise((s,a)=>{o.getDataAsync((c,l)=>{l?a(l):s(c)})});r.entry({name:o.entryName,mode:o.attr>>>16&4095},i)}return r.finalize(),r}var JG=G(require("crypto")),Rx=G(require("path"));function vG(e){return typeof e>"u"||e===null}function ide(e){return typeof e=="object"&&e!==null}function sde(e){return Array.isArray(e)?e:vG(e)?[]:[e]}function ade(e,t){var n,r,o,i;if(t)for(i=Object.keys(t),n=0,r=i.length;n<r;n+=1)o=i[n],e[o]=t[o];return e}function cde(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function lde(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var ude=vG,dde=ide,fde=sde,pde=cde,mde=lde,hde=ade,Gn={isNothing:ude,isObject:dde,toArray:fde,repeat:pde,isNegativeZero:mde,extend:hde};function xG(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function yx(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=xG(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}yx.prototype=Object.create(Error.prototype);yx.prototype.constructor=yx;yx.prototype.toString=function(t){return this.name+": "+xG(this,t)};var Po=yx;function fN(e,t,n,r,o){var i="",s="",a=Math.floor(o/2)-1;return r-t>a&&(i=" ... ",t=r-a+i.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:i+e.slice(t,n).replace(/\t/g,"\u2192")+s,pos:r-t+i.length}}function pN(e,t){return Gn.repeat(" ",t-e.length)+e}function gde(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],o=[],i,s=-1;i=n.exec(e.buffer);)o.push(i.index),r.push(i.index+i[0].length),e.position<=i.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,o.length).toString().length,d=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=fN(e.buffer,r[s-c],o[s-c],e.position-(r[s]-r[s-c]),d),a=Gn.repeat(" ",t.indent)+pN((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=fN(e.buffer,r[s],o[s],e.position,d),a+=Gn.repeat(" ",t.indent)+pN((e.line+1).toString(),u)+" | "+l.str+`
`,a+=Gn.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=o.length);c++)l=fN(e.buffer,r[s+c],o[s+c],e.position-(r[s]-r[s+c]),d),a+=Gn.repeat(" ",t.indent)+pN((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var vde=gde,xde=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],wde=["scalar","sequence","mapping"];function yde(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function Ede(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(xde.indexOf(n)===-1)throw new Po('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=yde(t.styleAliases||null),wde.indexOf(this.kind)===-1)throw new Po('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Br=Ede;function nG(e,t){var n=[];return e[t].forEach(function(r){var o=n.length;n.forEach(function(i,s){i.tag===r.tag&&i.kind===r.kind&&i.multi===r.multi&&(o=s)}),n[o]=r}),n}function Cde(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(o){o.multi?(e.multi[o.kind].push(o),e.multi.fallback.push(o)):e[o.kind][o.tag]=e.fallback[o.tag]=o}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function hN(e){return this.extend(e)}hN.prototype.extend=function(t){var n=[],r=[];if(t instanceof Br)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Po("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(i){if(!(i instanceof Br))throw new Po("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Po("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Po("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof Br))throw new Po("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(hN.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(r),o.compiledImplicit=nG(o,"implicit"),o.compiledExplicit=nG(o,"explicit"),o.compiledTypeMap=Cde(o.compiledImplicit,o.compiledExplicit),o};var bde=hN,Sde=new Br("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),_de=new Br("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Dde=new Br("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Pde=new bde({explicit:[Sde,_de,Dde]});function Ide(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Tde(){return null}function kde(e){return e===null}var Rde=new Br("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ide,construct:Tde,predicate:kde,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Nde(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Lde(e){return e==="true"||e==="True"||e==="TRUE"}function Ade(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Fde=new Br("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Nde,construct:Lde,predicate:Ade,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Ode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ude(e){return 48<=e&&e<=55}function Mde(e){return 48<=e&&e<=57}function $de(e){if(e===null)return!1;var t=e.length,n=0,r=!1,o;if(!t)return!1;if(o=e[n],(o==="-"||o==="+")&&(o=e[++n]),o==="0"){if(n+1===t)return!0;if(o=e[++n],o==="b"){for(n++;n<t;n++)if(o=e[n],o!=="_"){if(o!=="0"&&o!=="1")return!1;r=!0}return r&&o!=="_"}if(o==="x"){for(n++;n<t;n++)if(o=e[n],o!=="_"){if(!Ode(e.charCodeAt(n)))return!1;r=!0}return r&&o!=="_"}if(o==="o"){for(n++;n<t;n++)if(o=e[n],o!=="_"){if(!Ude(e.charCodeAt(n)))return!1;r=!0}return r&&o!=="_"}}if(o==="_")return!1;for(;n<t;n++)if(o=e[n],o!=="_"){if(!Mde(e.charCodeAt(n)))return!1;r=!0}return!(!r||o==="_")}function jde(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Hde(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Gn.isNegativeZero(e)}var Bde=new Br("tag:yaml.org,2002:int",{kind:"scalar",resolve:$de,construct:jde,predicate:Hde,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),qde=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Wde(e){return!(e===null||!qde.test(e)||e[e.length-1]==="_")}function Yde(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var Vde=/^[-+]?[0-9]+e/;function zde(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gn.isNegativeZero(e))return"-0.0";return n=e.toString(10),Vde.test(n)?n.replace("e",".e"):n}function Gde(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Gn.isNegativeZero(e))}var Kde=new Br("tag:yaml.org,2002:float",{kind:"scalar",resolve:Wde,construct:Yde,predicate:Gde,represent:zde,defaultStyle:"lowercase"}),Jde=Pde.extend({implicit:[Rde,Fde,Bde,Kde]}),Xde=Jde,wG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),yG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Zde(e){return e===null?!1:wG.exec(e)!==null||yG.exec(e)!==null}function Qde(e){var t,n,r,o,i,s,a,c=0,l=null,u,d,p;if(t=wG.exec(e),t===null&&(t=yG.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(n,r,o));if(i=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),p=new Date(Date.UTC(n,r,o,i,s,a,c)),l&&p.setTime(p.getTime()-l),p}function efe(e){return e.toISOString()}var tfe=new Br("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Zde,construct:Qde,instanceOf:Date,represent:efe});function nfe(e){return e==="<<"||e===null}var rfe=new Br("tag:yaml.org,2002:merge",{kind:"scalar",resolve:nfe}),yN=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ofe(e){if(e===null)return!1;var t,n,r=0,o=e.length,i=yN;for(n=0;n<o;n++)if(t=i.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function ife(e){var t,n,r=e.replace(/[\r\n=]/g,""),o=r.length,i=yN,s=0,a=[];for(t=0;t<o;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|i.indexOf(r.charAt(t));return n=o%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function sfe(e){var t="",n=0,r,o,i=e.length,s=yN;for(r=0;r<i;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return o=i%3,o===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):o===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):o===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function afe(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var cfe=new Br("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ofe,construct:ife,predicate:afe,represent:sfe}),lfe=Object.prototype.hasOwnProperty,ufe=Object.prototype.toString;function dfe(e){if(e===null)return!0;var t=[],n,r,o,i,s,a=e;for(n=0,r=a.length;n<r;n+=1){if(o=a[n],s=!1,ufe.call(o)!=="[object Object]")return!1;for(i in o)if(lfe.call(o,i))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}function ffe(e){return e!==null?e:[]}var pfe=new Br("tag:yaml.org,2002:omap",{kind:"sequence",resolve:dfe,construct:ffe}),mfe=Object.prototype.toString;function hfe(e){if(e===null)return!0;var t,n,r,o,i,s=e;for(i=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],mfe.call(r)!=="[object Object]"||(o=Object.keys(r),o.length!==1))return!1;i[t]=[o[0],r[o[0]]]}return!0}function gfe(e){if(e===null)return[];var t,n,r,o,i,s=e;for(i=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],o=Object.keys(r),i[t]=[o[0],r[o[0]]];return i}var vfe=new Br("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:hfe,construct:gfe}),xfe=Object.prototype.hasOwnProperty;function wfe(e){if(e===null)return!0;var t,n=e;for(t in n)if(xfe.call(n,t)&&n[t]!==null)return!1;return!0}function yfe(e){return e!==null?e:{}}var Efe=new Br("tag:yaml.org,2002:set",{kind:"mapping",resolve:wfe,construct:yfe}),EG=Xde.extend({implicit:[tfe,rfe],explicit:[cfe,pfe,vfe,Efe]}),Al=Object.prototype.hasOwnProperty,Yb=1,CG=2,bG=3,Vb=4,mN=1,Cfe=2,rG=3,bfe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Sfe=/[\x85\u2028\u2029]/,_fe=/[,\[\]\{\}]/,SG=/^(?:!|!!|![a-z\-]+!)$/i,_G=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function oG(e){return Object.prototype.toString.call(e)}function Vs(e){return e===10||e===13}function Qd(e){return e===9||e===32}function Io(e){return e===9||e===32||e===10||e===13}function Nm(e){return e===44||e===91||e===93||e===123||e===125}function Dfe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Pfe(e){return e===120?2:e===117?4:e===85?8:0}function Ife(e){return 48<=e&&e<=57?e-48:-1}function iG(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Tfe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var DG=new Array(256),PG=new Array(256);for(Zd=0;Zd<256;Zd++)DG[Zd]=iG(Zd)?1:0,PG[Zd]=iG(Zd);var Zd;function kfe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||EG,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function IG(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=vde(n),new Po(t,n)}function Ie(e,t){throw IG(e,t)}function zb(e,t){e.onWarning&&e.onWarning.call(null,IG(e,t))}var sG={YAML:function(t,n,r){var o,i,s;t.version!==null&&Ie(t,"duplication of %YAML directive"),r.length!==1&&Ie(t,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),o===null&&Ie(t,"ill-formed argument of the YAML directive"),i=parseInt(o[1],10),s=parseInt(o[2],10),i!==1&&Ie(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&zb(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var o,i;r.length!==2&&Ie(t,"TAG directive accepts exactly two arguments"),o=r[0],i=r[1],SG.test(o)||Ie(t,"ill-formed tag handle (first argument) of the TAG directive"),Al.call(t.tagMap,o)&&Ie(t,'there is a previously declared suffix for "'+o+'" tag handle'),_G.test(i)||Ie(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Ie(t,"tag prefix is malformed: "+i)}t.tagMap[o]=i}};function Ll(e,t,n,r){var o,i,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(o=0,i=a.length;o<i;o+=1)s=a.charCodeAt(o),s===9||32<=s&&s<=1114111||Ie(e,"expected valid JSON character");else bfe.test(a)&&Ie(e,"the stream contains non-printable characters");e.result+=a}}function aG(e,t,n,r){var o,i,s,a;for(Gn.isObject(n)||Ie(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),s=0,a=o.length;s<a;s+=1)i=o[s],Al.call(t,i)||(t[i]=n[i],r[i]=!0)}function Lm(e,t,n,r,o,i,s,a,c){var l,u;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),l=0,u=o.length;l<u;l+=1)Array.isArray(o[l])&&Ie(e,"nested arrays are not supported inside keys"),typeof o=="object"&&oG(o[l])==="[object Object]"&&(o[l]="[object Object]");if(typeof o=="object"&&oG(o)==="[object Object]"&&(o="[object Object]"),o=String(o),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)aG(e,t,i[l],n);else aG(e,t,i,n);else!e.json&&!Al.call(n,o)&&Al.call(t,o)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Ie(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete n[o];return t}function EN(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ie(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Rn(e,t,n){for(var r=0,o=e.input.charCodeAt(e.position);o!==0;){for(;Qd(o);)o===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&o===35)do o=e.input.charCodeAt(++e.position);while(o!==10&&o!==13&&o!==0);if(Vs(o))for(EN(e),o=e.input.charCodeAt(e.position),r++,e.lineIndent=0;o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&zb(e,"deficient indentation"),r}function Jb(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Io(n)))}function CN(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gn.repeat(`
`,t-1))}function Rfe(e,t,n){var r,o,i,s,a,c,l,u,d=e.kind,p=e.result,f;if(f=e.input.charCodeAt(e.position),Io(f)||Nm(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(o=e.input.charCodeAt(e.position+1),Io(o)||n&&Nm(o)))return!1;for(e.kind="scalar",e.result="",i=s=e.position,a=!1;f!==0;){if(f===58){if(o=e.input.charCodeAt(e.position+1),Io(o)||n&&Nm(o))break}else if(f===35){if(r=e.input.charCodeAt(e.position-1),Io(r))break}else{if(e.position===e.lineStart&&Jb(e)||n&&Nm(f))break;if(Vs(f))if(c=e.line,l=e.lineStart,u=e.lineIndent,Rn(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(Ll(e,i,s,!1),CN(e,e.line-c),i=s=e.position,a=!1),Qd(f)||(s=e.position+1),f=e.input.charCodeAt(++e.position)}return Ll(e,i,s,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function Nfe(e,t){var n,r,o;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Ll(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,o=e.position;else return!0;else Vs(n)?(Ll(e,r,o,!0),CN(e,Rn(e,!1,t)),r=o=e.position):e.position===e.lineStart&&Jb(e)?Ie(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);Ie(e,"unexpected end of the stream within a single quoted scalar")}function Lfe(e,t){var n,r,o,i,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Ll(e,n,e.position,!0),e.position++,!0;if(a===92){if(Ll(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),Vs(a))Rn(e,!1,t);else if(a<256&&DG[a])e.result+=PG[a],e.position++;else if((s=Pfe(a))>0){for(o=s,i=0;o>0;o--)a=e.input.charCodeAt(++e.position),(s=Dfe(a))>=0?i=(i<<4)+s:Ie(e,"expected hexadecimal character");e.result+=Tfe(i),e.position++}else Ie(e,"unknown escape sequence");n=r=e.position}else Vs(a)?(Ll(e,n,r,!0),CN(e,Rn(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Jb(e)?Ie(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Ie(e,"unexpected end of the stream within a double quoted scalar")}function Afe(e,t){var n=!0,r,o,i,s=e.tag,a,c=e.anchor,l,u,d,p,f,m=Object.create(null),h,v,g,w;if(w=e.input.charCodeAt(e.position),w===91)u=93,f=!1,a=[];else if(w===123)u=125,f=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),w=e.input.charCodeAt(++e.position);w!==0;){if(Rn(e,!0,t),w=e.input.charCodeAt(e.position),w===u)return e.position++,e.tag=s,e.anchor=c,e.kind=f?"mapping":"sequence",e.result=a,!0;n?w===44&&Ie(e,"expected the node content, but found ','"):Ie(e,"missed comma between flow collection entries"),v=h=g=null,d=p=!1,w===63&&(l=e.input.charCodeAt(e.position+1),Io(l)&&(d=p=!0,e.position++,Rn(e,!0,t))),r=e.line,o=e.lineStart,i=e.position,Am(e,t,Yb,!1,!0),v=e.tag,h=e.result,Rn(e,!0,t),w=e.input.charCodeAt(e.position),(p||e.line===r)&&w===58&&(d=!0,w=e.input.charCodeAt(++e.position),Rn(e,!0,t),Am(e,t,Yb,!1,!0),g=e.result),f?Lm(e,a,m,v,h,g,r,o,i):d?a.push(Lm(e,null,m,v,h,g,r,o,i)):a.push(h),Rn(e,!0,t),w=e.input.charCodeAt(e.position),w===44?(n=!0,w=e.input.charCodeAt(++e.position)):n=!1}Ie(e,"unexpected end of the stream within a flow collection")}function Ffe(e,t){var n,r,o=mN,i=!1,s=!1,a=t,c=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)mN===o?o=d===43?rG:Cfe:Ie(e,"repeat of a chomping mode identifier");else if((u=Ife(d))>=0)u===0?Ie(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Ie(e,"repeat of an indentation width identifier"):(a=t+u-1,s=!0);else break;if(Qd(d)){do d=e.input.charCodeAt(++e.position);while(Qd(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!Vs(d)&&d!==0)}for(;d!==0;){for(EN(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),Vs(d)){c++;continue}if(e.lineIndent<a){o===rG?e.result+=Gn.repeat(`
`,i?1+c:c):o===mN&&i&&(e.result+=`
`);break}for(r?Qd(d)?(l=!0,e.result+=Gn.repeat(`
`,i?1+c:c)):l?(l=!1,e.result+=Gn.repeat(`
`,c+1)):c===0?i&&(e.result+=" "):e.result+=Gn.repeat(`
`,c):e.result+=Gn.repeat(`
`,i?1+c:c),i=!0,s=!0,c=0,n=e.position;!Vs(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Ll(e,n,e.position,!1)}return!0}function cG(e,t){var n,r=e.tag,o=e.anchor,i=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ie(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!Io(s))));){if(a=!0,e.position++,Rn(e,!0,-1)&&e.lineIndent<=t){i.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,Am(e,t,bG,!1,!0),i.push(e.result),Rn(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)Ie(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=r,e.anchor=o,e.kind="sequence",e.result=i,!0):!1}function Ofe(e,t,n){var r,o,i,s,a,c,l=e.tag,u=e.anchor,d={},p=Object.create(null),f=null,m=null,h=null,v=!1,g=!1,w;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),w=e.input.charCodeAt(e.position);w!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ie(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,(w===63||w===58)&&Io(r))w===63?(v&&(Lm(e,d,p,f,m,null,s,a,c),f=m=h=null),g=!0,v=!0,o=!0):v?(v=!1,o=!0):Ie(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,w=r;else{if(s=e.line,a=e.lineStart,c=e.position,!Am(e,n,CG,!1,!0))break;if(e.line===i){for(w=e.input.charCodeAt(e.position);Qd(w);)w=e.input.charCodeAt(++e.position);if(w===58)w=e.input.charCodeAt(++e.position),Io(w)||Ie(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Lm(e,d,p,f,m,null,s,a,c),f=m=h=null),g=!0,v=!1,o=!1,f=e.tag,m=e.result;else if(g)Ie(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(g)Ie(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===i||e.lineIndent>t)&&(v&&(s=e.line,a=e.lineStart,c=e.position),Am(e,t,Vb,!0,o)&&(v?m=e.result:h=e.result),v||(Lm(e,d,p,f,m,h,s,a,c),f=m=h=null),Rn(e,!0,-1),w=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&w!==0)Ie(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Lm(e,d,p,f,m,null,s,a,c),g&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),g}function Ufe(e){var t,n=!1,r=!1,o,i,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Ie(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,o="!!",s=e.input.charCodeAt(++e.position)):o="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(i=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Ie(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Io(s);)s===33&&(r?Ie(e,"tag suffix cannot contain exclamation marks"):(o=e.input.slice(t-1,e.position+1),SG.test(o)||Ie(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),_fe.test(i)&&Ie(e,"tag suffix cannot contain flow indicator characters")}i&&!_G.test(i)&&Ie(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{Ie(e,"tag name is malformed: "+i)}return n?e.tag=i:Al.call(e.tagMap,o)?e.tag=e.tagMap[o]+i:o==="!"?e.tag="!"+i:o==="!!"?e.tag="tag:yaml.org,2002:"+i:Ie(e,'undeclared tag handle "'+o+'"'),!0}function Mfe(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Ie(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Io(n)&&!Nm(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ie(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function $fe(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Io(r)&&!Nm(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ie(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Al.call(e.anchorMap,n)||Ie(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Rn(e,!0,-1),!0}function Am(e,t,n,r,o){var i,s,a,c=1,l=!1,u=!1,d,p,f,m,h,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=s=a=Vb===n||bG===n,r&&Rn(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Ufe(e)||Mfe(e);)Rn(e,!0,-1)?(l=!0,a=i,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||o),(c===1||Vb===n)&&(Yb===n||CG===n?h=t:h=t+1,v=e.position-e.lineStart,c===1?a&&(cG(e,v)||Ofe(e,v,h))||Afe(e,h)?u=!0:(s&&Ffe(e,h)||Nfe(e,h)||Lfe(e,h)?u=!0:$fe(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Ie(e,"alias node should not have any properties")):Rfe(e,h,Yb===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&cG(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ie(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Al.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,f=e.typeMap.multi[e.kind||"fallback"],d=0,p=f.length;d<p;d+=1)if(e.tag.slice(0,f[d].tag.length)===f[d].tag){m=f[d];break}m||Ie(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&Ie(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ie(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function jfe(e){var t=e.position,n,r,o,i=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Rn(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(i=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Io(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),o=[],r.length<1&&Ie(e,"directive name must not be less than one character in length");s!==0;){for(;Qd(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Vs(s));break}if(Vs(s))break;for(n=e.position;s!==0&&!Io(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(n,e.position))}s!==0&&EN(e),Al.call(sG,r)?sG[r](e,r,o):zb(e,'unknown document directive "'+r+'"')}if(Rn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Rn(e,!0,-1)):i&&Ie(e,"directives end mark is expected"),Am(e,e.lineIndent-1,Vb,!1,!0),Rn(e,!0,-1),e.checkLineBreaks&&Sfe.test(e.input.slice(t,e.position))&&zb(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Jb(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Rn(e,!0,-1));return}if(e.position<e.length-1)Ie(e,"end of the stream or a document separator is expected");else return}function TG(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new kfe(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,Ie(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)jfe(n);return n.documents}function Hfe(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=TG(e,n);if(typeof t!="function")return r;for(var o=0,i=r.length;o<i;o+=1)t(r[o])}function Bfe(e,t){var n=TG(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Po("expected a single document in the stream, but found more")}}var qfe=Hfe,Wfe=Bfe,kG={loadAll:qfe,load:Wfe},RG=Object.prototype.toString,NG=Object.prototype.hasOwnProperty,bN=65279,Yfe=9,Ex=10,Vfe=13,zfe=32,Gfe=33,Kfe=34,gN=35,Jfe=37,Xfe=38,Zfe=39,Qfe=42,LG=44,epe=45,Gb=58,tpe=61,npe=62,rpe=63,ope=64,AG=91,FG=93,ipe=96,OG=123,spe=124,UG=125,qr={};qr[0]="\\0";qr[7]="\\a";qr[8]="\\b";qr[9]="\\t";qr[10]="\\n";qr[11]="\\v";qr[12]="\\f";qr[13]="\\r";qr[27]="\\e";qr[34]='\\"';qr[92]="\\\\";qr[133]="\\N";qr[160]="\\_";qr[8232]="\\L";qr[8233]="\\P";var ape=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],cpe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function lpe(e,t){var n,r,o,i,s,a,c;if(t===null)return{};for(n={},r=Object.keys(t),o=0,i=r.length;o<i;o+=1)s=r[o],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&NG.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[s]=a;return n}function upe(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Po("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Gn.repeat("0",r-t.length)+t}var dpe=1,Cx=2;function fpe(e){this.schema=e.schema||EG,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gn.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=lpe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Cx:dpe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function lG(e,t){for(var n=Gn.repeat(" ",t),r=0,o=-1,i="",s,a=e.length;r<a;)o=e.indexOf(`
`,r),o===-1?(s=e.slice(r),r=a):(s=e.slice(r,o+1),r=o+1),s.length&&s!==`
`&&(i+=n),i+=s;return i}function vN(e,t){return`
`+Gn.repeat(" ",e.indent*t)}function ppe(e,t){var n,r,o;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(o=e.implicitTypes[n],o.resolve(t))return!0;return!1}function Kb(e){return e===zfe||e===Yfe}function bx(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==bN||65536<=e&&e<=1114111}function uG(e){return bx(e)&&e!==bN&&e!==Vfe&&e!==Ex}function dG(e,t,n){var r=uG(e),o=r&&!Kb(e);return(n?r:r&&e!==LG&&e!==AG&&e!==FG&&e!==OG&&e!==UG)&&e!==gN&&!(t===Gb&&!o)||uG(t)&&!Kb(t)&&e===gN||t===Gb&&o}function mpe(e){return bx(e)&&e!==bN&&!Kb(e)&&e!==epe&&e!==rpe&&e!==Gb&&e!==LG&&e!==AG&&e!==FG&&e!==OG&&e!==UG&&e!==gN&&e!==Xfe&&e!==Qfe&&e!==Gfe&&e!==spe&&e!==tpe&&e!==npe&&e!==Zfe&&e!==Kfe&&e!==Jfe&&e!==ope&&e!==ipe}function hpe(e){return!Kb(e)&&e!==Gb}function wx(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function MG(e){var t=/^\n* /;return t.test(e)}var $G=1,xN=2,jG=3,HG=4,Rm=5;function gpe(e,t,n,r,o,i,s,a){var c,l=0,u=null,d=!1,p=!1,f=r!==-1,m=-1,h=mpe(wx(e,0))&&hpe(wx(e,e.length-1));if(t||s)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=wx(e,c),!bx(l))return Rm;h=h&&dG(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=wx(e,c),l===Ex)d=!0,f&&(p=p||c-m-1>r&&e[m+1]!==" ",m=c);else if(!bx(l))return Rm;h=h&&dG(l,u,a),u=l}p=p||f&&c-m-1>r&&e[m+1]!==" "}return!d&&!p?h&&!s&&!o(e)?$G:i===Cx?Rm:xN:n>9&&MG(e)?Rm:s?i===Cx?Rm:xN:p?HG:jG}function vpe(e,t,n,r,o){e.dump=function(){if(t.length===0)return e.quotingType===Cx?'""':"''";if(!e.noCompatMode&&(ape.indexOf(t)!==-1||cpe.test(t)))return e.quotingType===Cx?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=r||e.flowLevel>-1&&n>=e.flowLevel;function c(l){return ppe(e,l)}switch(gpe(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!r,o)){case $G:return t;case xN:return"'"+t.replace(/'/g,"''")+"'";case jG:return"|"+fG(t,e.indent)+pG(lG(t,i));case HG:return">"+fG(t,e.indent)+pG(lG(xpe(t,s),i));case Rm:return'"'+wpe(t)+'"';default:throw new Po("impossible error: invalid scalar style")}}()}function fG(e,t){var n=MG(e)?String(t):"",r=e[e.length-1]===`
`,o=r&&(e[e.length-2]===`
`||e===`
`),i=o?"+":r?"":"-";return n+i+`
`}function pG(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function xpe(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,n.lastIndex=l,mG(e.slice(0,l),t)}(),o=e[0]===`
`||e[0]===" ",i,s;s=n.exec(e);){var a=s[1],c=s[2];i=c[0]===" ",r+=a+(!o&&!i&&c!==""?`
`:"")+mG(c,t),o=i}return r}function mG(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,o=0,i,s=0,a=0,c="";r=n.exec(e);)a=r.index,a-o>t&&(i=s>o?s:a,c+=`
`+e.slice(o,i),o=i+1),s=a;return c+=`
`,e.length-o>t&&s>o?c+=e.slice(o,s)+`
`+e.slice(s+1):c+=e.slice(o),c.slice(1)}function wpe(e){for(var t="",n=0,r,o=0;o<e.length;n>=65536?o+=2:o++)n=wx(e,o),r=qr[n],!r&&bx(n)?(t+=e[o],n>=65536&&(t+=e[o+1])):t+=r||upe(n);return t}function ype(e,t,n){var r="",o=e.tag,i,s,a;for(i=0,s=n.length;i<s;i+=1)a=n[i],e.replacer&&(a=e.replacer.call(n,String(i),a)),(nc(e,t,a,!1,!1)||typeof a>"u"&&nc(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=o,e.dump="["+r+"]"}function hG(e,t,n,r){var o="",i=e.tag,s,a,c;for(s=0,a=n.length;s<a;s+=1)c=n[s],e.replacer&&(c=e.replacer.call(n,String(s),c)),(nc(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&nc(e,t+1,null,!0,!0,!1,!0))&&((!r||o!=="")&&(o+=vN(e,t)),e.dump&&Ex===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=i,e.dump=o||"[]"}function Epe(e,t,n){var r="",o=e.tag,i=Object.keys(n),s,a,c,l,u;for(s=0,a=i.length;s<a;s+=1)u="",r!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=i[s],l=n[c],e.replacer&&(l=e.replacer.call(n,c,l)),nc(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),nc(e,t,l,!1,!1)&&(u+=e.dump,r+=u));e.tag=o,e.dump="{"+r+"}"}function Cpe(e,t,n,r){var o="",i=e.tag,s=Object.keys(n),a,c,l,u,d,p;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Po("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)p="",(!r||o!=="")&&(p+=vN(e,t)),l=s[a],u=n[l],e.replacer&&(u=e.replacer.call(n,l,u)),nc(e,t+1,l,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&Ex===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=vN(e,t)),nc(e,t+1,u,!0,d)&&(e.dump&&Ex===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,o+=p));e.tag=i,e.dump=o||"{}"}function gG(e,t,n){var r,o,i,s,a,c;for(o=n?e.explicitTypes:e.implicitTypes,i=0,s=o.length;i<s;i+=1)if(a=o[i],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,RG.call(a.represent)==="[object Function]")r=a.represent(t,c);else if(NG.call(a.represent,c))r=a.represent[c](t,c);else throw new Po("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=r}return!0}return!1}function nc(e,t,n,r,o,i,s){e.tag=null,e.dump=n,gG(e,n,!1)||gG(e,n,!0);var a=RG.call(e.dump),c=r,l;r&&(r=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",d,p;if(u&&(d=e.duplicates.indexOf(n),p=d!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(o=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(u&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(e.dump).length!==0?(Cpe(e,t,e.dump,o),p&&(e.dump="&ref_"+d+e.dump)):(Epe(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?hG(e,t-1,e.dump,o):hG(e,t,e.dump,o),p&&(e.dump="&ref_"+d+e.dump)):(ype(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&vpe(e,e.dump,t,i,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Po("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function bpe(e,t){var n=[],r=[],o,i;for(wN(e,n,r),o=0,i=r.length;o<i;o+=1)t.duplicates.push(n[r[o]]);t.usedDuplicates=new Array(i)}function wN(e,t,n){var r,o,i;if(e!==null&&typeof e=="object")if(o=t.indexOf(e),o!==-1)n.indexOf(o)===-1&&n.push(o);else if(t.push(e),Array.isArray(e))for(o=0,i=e.length;o<i;o+=1)wN(e[o],t,n);else for(r=Object.keys(e),o=0,i=r.length;o<i;o+=1)wN(e[r[o]],t,n)}function Spe(e,t){t=t||{};var n=new fpe(t);n.noRefs||bpe(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),nc(n,0,r,!0,!0)?n.dump+`
`:""}var _pe=Spe,Dpe={dump:_pe};function SN(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Sx=kG.load,dTe=kG.loadAll,fTe=Dpe.dump;var pTe=SN("safeLoad","load"),mTe=SN("safeLoadAll","loadAll"),hTe=SN("safeDump","dump");var as=G(require("path")),zG=G(require("os")),GG=G(require("crypto")),KG=G(yC());var _x=G(require("path")),WG=G(require("os"));var qG=G(require("crypto"));var ss={async readDocument(e){switch(e.scheme){case"file":try{return(await lt(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,n){switch(e.scheme){case"file":let r=Eo(n,t);await iv(e.fsPath,r);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},et=class e{constructor(t,n=e.scheme){this.fileHost=t;this.scheme=n}static scheme="vscode-fileHost";async readDocument(t){switch(t.scheme){case this.scheme:try{return(await this.fileHost.readFile(Pe(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case this.scheme:let o=Eo(r,n);await this.fileHost.writeFile(Pe(t,this.fileHost.platform),Buffer.from(o));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},ao=class e{constructor(t){this.shellServer=t}static scheme="vscode-remote";static nonce;async readDocument(t){switch(t.scheme){case e.scheme:try{let{stdout:n}=await this.shellServer.exec(`cat ${t.path}`);return n}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case e.scheme:try{e.nonce||(e.nonce=qG.randomUUID());let o=Eo(r,n),i=`EOF-${e.nonce}`;await this.shellServer.exec(`cat <<'${i}' >${t.path}
${o}
${i}
`)}catch(o){console.log(o)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},DN=class{constructor(t){this.documents=t}async readDocument(t){let n=this.documents[t.scheme];if(!n)throw new Error(`Unsupported scheme: ${t.toString()}`);return n.readDocument(t)}async applyEdits(t,n,r){let o=this.documents[t.scheme];if(!o)throw new Error(`Unsupported scheme: ${t.toString()}`);return o.applyEdits(t,n,r)}};function cr(e,t){let n={file:ss,[et.scheme]:new et(e)};return t&&(n[ao.scheme]="readFile"in t?new et(t,ao.scheme):new ao(t)),new DN(n)}var _N=new Map;async function PN(e,t){let n=e.toString(),r=_N.get(n);if(r||_N.set(n,r=[]),r.push(t),r.length===1){for(;r.length;)await r[0](),r.shift();_N.delete(n)}}function Pe(e,t){let n;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===et.scheme)?n=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?n=e.path[1].toLowerCase()+e.path.substr(2):n=e.path,t==="win32"&&(n=n.replace(/\//g,"\\"),n[0]==="\\"&&n[1]!=="\\"&&(n=`C:${n}`)),n}function Nn(e,t,n){let r=e==="win32"?"/"+n.replace(/\\/g,"/"):n;return t.with({path:r})}function Fl(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}function Dx(e,t){let n=e.normalize(t);return Fl(e,"").includes(n)}async function ef(e,t){let n=Fl(e.path,t);for(let r of n)if(await e.isFile(r))return Se.file(r).with({scheme:et.scheme})}async function YG(e){let t=Fl(_x,e);for(let n of t)if(await wr(n))return n}var rc=`{${WG.EOL}}`;async function Li(e,t,n,r){t.scheme==="file"&&await Zi(_x.dirname(t.fsPath)),await e.applyEdits(t,n,r)}function tf(e){let t=_x.posix.dirname(e.path);return e.with({path:t})}var Px=require("string_decoder");function Ix(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t={...e},n=t.customizations||(t.customizations={}),r=n.vscode||(n.vscode={});return t.extensions&&(r.extensions=(r.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(r.settings={...t.settings,...r.settings||{}},delete t.settings),t.devPort!==void 0&&r.devPort===void 0&&(r.devPort=t.devPort,delete t.devPort),t}function IN(e,t,n){return Xb(e,t.configFilePath,n)}function Xb(e,t,n){let r=tf(t);return t.with({path:as.posix.resolve(r.path,e.platform==="win32"&&t.scheme!==ao.scheme?(as.win32.isAbsolute(n)?"/":"")+n.replace(/\\/g,"/"):n)})}function To(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function Zb(e){return e&&(To(e)||"image"in e||"dockerComposeFile"in e)}function nf(e,t){return IN(e,t,Ipe(t))}function Ipe(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function Ol(e,t,n,r){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(o=>Pe(IN(e,t,o),e.platform))}else if(typeof t.dockerComposeFile=="string")return[Pe(IN(e,t,t.dockerComposeFile),e.platform)];if(r){let o=n==null?void 0:n.COMPOSE_FILE;if(o)return o.split(e.path.delimiter).map(a=>e.path.resolve(r,a));try{let a=e.path.join(r,".env"),c=await e.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(e.path.delimiter).map(d=>e.path.resolve(r,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let i=[e.path.resolve(r,"docker-compose.yml")],s=e.path.resolve(r,"docker-compose.override.yml");return await e.isFile(s)&&i.push(s),i}return[]}async function oi(e,t){let{cliHost:n,postCreate:r,output:o}=e;o.write(`Running Dev Containers CLI:   ${t.join(" ")}
`);let i=await Tpe(e),s=Tx(n),a;try{await kpe({exec:n.exec,cwd:e.cwd||i.cwd,cmd:s.cmd,args:[...s.args,i.script,...t],env:await TN(e,s.cmd),stdin:r==null?void 0:r.onDidInput,output:o,stdoutData:c=>a=c,stderrData:c=>o.event(c)}),o.write(a?JSON.stringify(a,void 0,4):"(No dev container CLI standard out)",1),o.write("Dev Containers CLI completed",1)}catch(c){throw c.data=a,c}return a}async function Tpe(e){let{cliHost:t,extensionPath:n,output:r}=e,o=as.join(n,"dist","spec-node","devContainersSpecCLI.js"),i=t.type==="local"?n:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?o:t.path.join(i,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","remote"].indexOf(t.type)!==-1){let a="Checking for Dev Containers CLI",c=r.start(a),l=await t.isFile(s);if(r.stop(a,c),!l){let u="Copying Dev Containers CLI",d=r.start(u),p=`${i}-${GG.randomUUID()}`,f=t.path.join(p,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(f)),await Promise.all([VG(as.join(n,"package.json"),t,t.path.join(p,"package.json")),VG(o,t,f),kx(as.join(n,"scripts"),t,t.path.join(p,"scripts"),r)]),await t.rename(p,i),r.stop(u,d)}}return{cwd:i,script:s}}function Tx(e){if(e.type==="local")return Cl?{cmd:process.argv[0],args:[]}:{cmd:process.argv[0],args:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}async function kpe(e){let{exec:t,cmd:n,args:r,cwd:o,env:i,stdin:s,output:a,stdoutData:c,stderrData:l}=e,u=await t({cmd:n,args:r,cwd:o,env:i,output:a});return new Promise((d,p)=>{let f=new Px.StringDecoder,m="";u.stdout.on("data",w=>{m+=f.write(w);let x=m.split(`
`);m=x.pop();for(let y of x)if(y.trim())try{c(JSON.parse(y))}catch{a.write(y)}}),u.stdout.on("error",w=>{if((w==null?void 0:w.code)!=="ENOTCONN")throw w});let h=new Px.StringDecoder,v="";u.stderr.on("data",w=>{v+=h.write(w);let x=v.split(`
`);v=x.pop();for(let y of x)if(y.trim())try{l(JSON.parse(y))}catch{a.write(y)}}),u.stderr.on("error",w=>{if((w==null?void 0:w.code)!=="ENOTCONN")throw w});let g=[];u.exit.then(({code:w})=>{try{g.forEach(x=>x.dispose()),w?(a.write(`Exit code ${w}`),p({message:`Command failed: ${n} ${(r||[]).join(" ")}`,code:w})):d()}catch(x){p(x)}},p),typeof s=="function"&&g.push(s(w=>u.stdin.write(w)))})}async function TN(e,t){let{cliHost:n,env:r,appRoot:o}=e,i=await n.locateCertificatesFile();return{...r,...n.type==="local"?o?{NODE_PATH:`${n.path.join(o,"node_modules.asar")}${as.delimiter}${n.path.join(o,"node_modules")}`}:void 0:n.type==="container"?void 0:{NODE_PATH:n.path.join(n.path.dirname(t),"node_modules")},...i?{NODE_EXTRA_CA_CERTS:i}:{},...Cl?{TS_NODE_PROJECT:void 0}:{}}}async function VG(e,t,n){await t.writeFile(n,await lt(e))}async function kx(e,t,n,r){await t.mkdirp(n);let o=KG.c({cwd:e,filter:l=>(console.log(l),!0)},["."]),i=new Promise((l,u)=>{o.on("error",u),o.on("finish",l)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:n,output:r}),a=new Px.StringDecoder;s.stdout.on("data",l=>{r.write(a.write(l))});let c=new Px.StringDecoder;s.stderr.on("data",l=>{r.write(at(c.write(l)))}),o.pipe(s.stdin),await Promise.all([s.exit,i])}async function co(){return as.join(zG.tmpdir(),process.platform==="linux"?`vsch-${await Db()}`:"vsch")}function Rpe(){return{contentHashes:{}}}async function eS(e,t,n,r){let o=e.getConfigurationState();if(o){let i=o.contentHashes,s=Object.keys(i),c=(await kN(t,n,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(f=>u.delete(f));let d=new Set(s);l.forEach(f=>d.delete(f));let p=[];for(let f of s)f in c&&c[f]!==i[f]&&p.push(f);if(u.size||d.size||p.length){let f=await kN(t,n,r);(async()=>{await e.containerOutdated([...u,...d,...p].sort())==="ignore"&&await e.updateConfigurationState(f)})().catch(console.error)}}else await XG(e,t,n,r)}async function tS(e,t,n,r,o){let i="Updating configuration state",s=o.start(i);await XG(e,t,n,r),o.stop(i,s)}async function XG(e,t,n,r){let o=await kN(t,n,r);await e.updateConfigurationState(o)}async function kN(e,t,n){let r=Rpe();Qb(r,Rx.posix.basename(n.configFilePath.path),JSON.stringify({...n,forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0}));let o=tf(n.configFilePath).path;if(To(n)){let i=nf(e,n),s=await t.readDocument(i);s!==void 0&&Qb(r,Rx.posix.relative(o,i.path),s)}if("dockerComposeFile"in n){let i=await Ol(e,n,e.env,e.cwd),s=await Promise.all(i.map(async a=>{let c=Se.file(a).with({scheme:et.scheme});return{uri:c,content:await t.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&Qb(r,Rx.posix.relative(o,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=Npe(l),d=u&&u.services,p=d&&d[n.service],f=p&&p.build,m=f&&(typeof f=="string"?f:f.context);if(m){let h=Xb(e,c,m),v=ZG(h,f.dockerfile||"Dockerfile"),g=await t.readDocument(v);g!==void 0&&Qb(r,Rx.posix.relative(o,v.path),g)}if(p&&(p.image||p.build))break}}}return r}function Npe(e){try{return Sx(e)}catch{return{}}}function Qb(e,t,n){let r=JG.createHash("sha256").update(n).digest("hex");e.contentHashes[t]=r}var ds=G(require("path")),Js=G(require("crypto"));var Bl=G(Ar());var Wr=G(require("path")),$N=G(require("crypto"));var of=G(Ar());var r3=G(require("net")),FN=G(require("path"));var RN=G(require("path")),LN=G(require("http")),QG=G(require("os")),e3=G(require("crypto"));async function t3(e,t){let n=await AN(e),r=new NN(n,t);return r.listen(),r}var NN=class{constructor(t,n){this.ipcHandlePath=t;this.server=LN.createServer((r,o)=>{Promise.resolve(n(r,o)).catch(i=>console.error(i&&i.message||i))}),this.server.on("error",r=>console.error(r))}server;listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function n3(e){return new Promise((t,n)=>{let r=[];e.setEncoding("utf8"),e.on("data",o=>r.push(o)),e.on("error",o=>n(o)),e.on("end",()=>{let o=JSON.parse(r.join(""));t(o)})})}async function AN(e){let t=e3.randomUUID(),n=`${e}-${t}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?RN.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):RN.join(QG.tmpdir(),`${n}.sock`)}var nS=class{messages=[];dequeueRequest;push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let n=this.messages;return this.messages=[],n}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((n,r)=>{this.dequeueRequest={resolve:n,reject:r},typeof t=="number"&&setTimeout(r,t)})}};async function Ul(e,t,n){if(process.env.SSH_ASKPASS)return{};let r=await AN("ssh-askpass");return await new Promise((o,i)=>{r3.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{n.write(`SSH askpass request: ${a}`,1);let l=await t(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{i(s)}).listen(r,()=>{o()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:FN.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_MAIN:FN.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var Lpe=0;function lr(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++Lpe)}:{}}async function ii(e,t){return(await cs(e,[t]))[0]}async function cs(e,t){let n=await oS(e,"container",t);for(let r of n){r.Ports=[];let o=r.NetworkSettings.Ports;for(let i in o){let[s,a]=i.split("/");for(let c of o[i]||[]){let{HostIp:l,HostPort:u}=c;r.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return n}async function o3(e,t){return(await oS(e,"image",[t]))[0]}async function rS(e,t){return(await oS(e,"volume",[t]))[0]}async function rf(e,t){return oS(e,"volume",t)}async function oS(e,t,n){if(!n.length)return[];let r=Fi(e),o=await se({...r,args:(r.args||[]).concat(["inspect","--type",t,...n])});try{return JSON.parse(o.stdout.toString())}catch(i){throw console.error({stdout:o.stdout.toString(),stderr:o.stderr.toString()}),i}}async function Ml(e,t=!1,n=[]){let r=[];t&&r.push("-a");for(let i of n)r.push("--filter",`label=${i}`);return(await it(e,"ps","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function ko(e,t=[]){let n=[];for(let o of t)n.push("--filter",`label=${o}`);return(await it(e,"volume","ls","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function $l(e,t=[]){return(await it(e,"volume","ls","-q","-f","dangling=true",...t.map(r=>["-f",`label=${r}`]).flat())).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function Fm(e,t,n){let r=[];for(let o of n||[])r.push("--label",o);await it(e,"volume","create",...r,t)}async function Ai(e,t){var o;let n,r;try{for(let i=0,s=4;i<s;i++)try{return await it(e,"rm","-f",t)}catch(a){let c=((o=a==null?void 0:a.stderr)==null?void 0:o.toString().toLowerCase())||"";if(i===s-1||!c.includes("already in progress"))throw a;r||(n=await iS(e,{container:[t],event:["destroy"]}),r=new Promise(l=>{n.stdout.on("data",()=>{l(),n.terminate(),r=new Promise(()=>{})})})),await Promise.race([r,ln(1e3)])}}finally{n&&n.terminate()}throw new Error("Unreachable")}async function iS(e,t){let{exec:n,cmd:r,args:o,env:i,output:s}=Fi(e),a=[];for(let p in t)for(let f of t[p])a.push("--filter",`${p}=${f}`);let c="isPodman"in e&&e.isPodman?"json":"{{json .}}",l=(o||[]).concat(["events","--format",c,...a]),u=await n({cmd:r,args:l,env:i,output:s}),d=[];return u.stderr.on("data",p=>d.push(p)),u.exit.then(({code:p,signal:f})=>{d.length&&s.write(at(Buffer.concat(d).toString())),(p||f&&f!=="SIGKILL")&&s.write(at(`Docker events terminated (code: ${p}, signal: ${f}).`))},p=>{s.write(at(p&&(p.stack||p.message)))}),u}async function it(e,...t){let n=Fi(e);return se({...n,args:(n.args||[]).concat(t)})}async function ON(e){var t;try{let{stdout:n}=await it(e,"context","ls","--format","{{json .}}"),r=`[${n.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(r).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function i3(e){try{let{stdout:t}=await it(e,"-v");return t.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function s3(e,...t){let n=l3(e);return Ws({...n,args:(n.args||[]).concat(t)})}async function Nx(e,...t){let n=Fi(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return se({...n,args:(n.args||[]).concat(t)})}function ls(e,t,n){return async function(r){let{exec:o,cmd:i,args:s,env:a}=Fi(e),{argsPrefix:c,args:l}=c3(t,n,r,!1);return o({cmd:i,args:(s||[]).concat(l),env:a,output:a3(r.output,i,c)})}}async function zs(e,t,n,r){if(!await r("node-pty"))throw new Error("Missing node-pty");return async function(i){let{ptyExec:s,cmd:a,args:c,env:l}=l3(e),{argsPrefix:u,args:d}=c3(t,n,i,s.isTTY!==!1);return s({cmd:a,args:(c||[]).concat(d),env:l,output:a3(i.output,a,u)})}}function a3(e,t,n){return Ape(e,`Run: ${t} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function Ape(e,t,n){let r=new RegExp(Jd(t),"g");return Pn({...e,get dimensions(){return e.dimensions},event:i=>e.event("text"in i?{...i,text:i.text.replace(r,n)}:i)})}function c3(e,t,n,r){let{env:o,cwd:i,cmd:s,args:a}=n,c=["exec","-i"];r&&c.push("-t"),t&&c.push("-u",t),o&&Object.keys(o).forEach(u=>c.push("-e",`${u}=${o[u]}`)),i&&c.push("-w",i),c.push(e);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function Fi(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...lr(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...lr(e.env)},output:e.output}:{...e,env:{...e.env,...lr(e.env)}}}function l3(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...lr(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...lr(e.env)},output:e.output}:{...e,env:{...e.env,...lr(e.env)}}}var u3=G(Ar()),Fpe="com.docker.compose.project";async function d3(e,t,n,r,o,i,s,a,c,l,u,d,p,f){var g,w;let{common:m}=e,{cliHost:h}=t,v;try{let x=await Ol(h,n,h.env,h.cwd),y=h.path.join(h.cwd,".env"),E=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await h.isFile(y)?y:void 0,P=!c,D=r.remoteUser,R=Ope(n);v=await Um(e,s.Id,R,D),u&&c&&v.user!=="root"&&(v.launchRootShellServer?await Wb(v,v.launchRootShellServer,R,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let N=await aS(m,c,s,R,v),k=cr(h,v.shellServer);P||await tS(e.configurationTracking,h,k,n,m.output);let C=r.shutdownAction;C==="stopContainer"&&(C="stopCompose");let S={cwd:o,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:m.env,containerId:s.Id,user:v.user,sessionId:m.sessionId,shutdownAction:C,projectName:Lx(s),composeFiles:x,envFile:E,buildContainerRunArgs:l,service:n.service,runServices:n.runServices,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:b,doneWithDocuments:_}=await sS(e,h,k,"dockerCompose",S,P?n:void 0);m.backgroundTasks.push(_);let A=((w=(((g=r.customizations)==null?void 0:g.vscode)||[]).slice().reverse().find(J=>typeof J.devPort=="number"))==null?void 0:w.devPort)||Rl,{hostOrContainerPort:L,hostPortServer:T,connectionToken:$,remoteEnv:Y,serverDownloaded:j}=await Nl(m,v,n,r,A,Mm(e,t,v,i,d,s.Id,a,p,f),N);return b.hostPortServer=T,{params:m,properties:v,config:n,resolvedAuthority:{host:oc,port:L,connectionToken:$,extensionHostEnv:Y},tunnelInformation:m.isLocalContainer?Om(s):{},dockerParams:e,dockerContainerId:s.Id,serverDownloaded:j}}catch(x){let y=x instanceof be?x:new be({description:u3.t("An error occurred setting up the container."),originalError:x});throw s&&(y.manageContainer=!0,y.params=e.common,y.containerId=s.Id,y.dockerParams=e),v&&(y.containerProperties=v),y.config=n,y}}function Ope(e){return e.workspaceFolder||"/"}function Lx(e){let t=(e.Config.Labels||{})[Fpe];return t||void 0}function us(e,t,n){let r;return()=>r||(r=(async()=>{let o=!0,i;try{i=(await Nx({...e,cmd:t},"compose","version","--short")).stdout}catch{i=(await Nx({...e,cmd:n},"version","--short")).stdout,o=!1}let s=i.toString().trim();return e.output.write(`Docker Compose version: ${s}`),{version:s,cmd:o?t:n,args:o?["compose"]:[]}})())}var Ax=G(Ar());var cS=G(pv()),f3=G(require("url"));function lS(e,t){return new Promise((n,r)=>{let o=new f3.URL(e.url),i={hostname:o.hostname,port:o.port,path:o.pathname+o.search,method:e.type,headers:e.headers},s=(o.protocol==="https:"?cS.https:cS.http).request(i,a=>{if(a.statusCode<200||a.statusCode>299)r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,5);else{a.on("error",r);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>n(Buffer.concat(c)))}});s.on("error",r),e.data&&s.write(e.data),s.end()})}async function $m(e,t,n,r){var c;let o=await $pe(t,e.output),i=Object.keys(n.features||{}).map(l=>{let u=Upe(o,l);return u?{configFeatureId:l,disallowedFeatureEntry:u}:void 0}).filter(Boolean);if(!i.length)return;let s=!1;if(r){let l=await jl(e,r);((c=l==null?void 0:l.State)==null?void 0:c.Status)==="running"&&(await it(e,"stop","-t","0",l.Id),s=!0)}let a=i[0];throw UN(a.configFeatureId,a.disallowedFeatureEntry.documentationURL,s)}function UN(e,t,n){return new be({description:n?Ax.t("Cannot use the '{0}' feature since it was reported to be problematic. The existing dev container was stopped.",e):Ax.t("Cannot use the '{0}' feature since it was reported to be problematic.",e),detail:Ax.t("Please remove this feature from your devcontainer.json and rebuild the dev container before continuing."),data:{learnMoreUrl:t,reload:!1}})}function Upe(e,t){return e.disallowedFeatures.find(n=>t.startsWith(n.featureIdPrefix)&&(t.length===n.featureIdPrefix.length||"/:@".indexOf(t[n.featureIdPrefix.length])!==-1))}var p3="devcontainers.controlManifest",Mpe=5*60*1e3;async function $pe(e,t){let n=e.get(p3);return n&&Date.parse(n.timestamp)+Mpe>Date.now()?n.manifest:jpe(e,n==null?void 0:n.manifest,t)}async function jpe(e,t,n){let r;try{r=await Hpe()}catch(o){n.write(Ax.t("Failed to fetch control manifest: {0}",o.message)),r=t||{disallowedFeatures:[]}}return e.update(p3,{timestamp:new Date().toISOString(),manifest:r}),r}async function Hpe(){let e=await lS({type:"GET",url:"https://containers.dev/static/devcontainer-control-manifest.json",headers:{"user-agent":"devcontainers-vscode",accept:"application/json"}}),t=Be(e.toString())||{};return Array.isArray(t.disallowedFeatures)?t.disallowedFeatures=t.disallowedFeatures.filter(n=>typeof n.featureIdPrefix=="string"):t.disallowedFeatures=[],t}async function jN(e,t,n,r){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${Pe(t,e.common.cliHost.platform)}).`);let o=e.parsedAuthority;if(!o||un(o))return Bpe(e,o,t,n,r);if(ci(o))return o.inspectVolume?MN(e,o):qpe(e,o,t);if(cf(o))return o.inspectVolume?MN(e,o):Wpe(e,o,t);if(Mx(o))return MN(e,o);throw new Error(`Unexpected authority: ${JSON.stringify(o)}`)}async function Bpe(e,t,n,r,o){let{common:i,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=e,{cliHost:l,env:u,output:d}=i,p=l.cwd,f=e.originalCwd||p,m=t&&Tt(l.path,ex(t.hostPath)?l.path.join(p,Wr.basename(t.hostPath)):p);t!=null&&t.configFile&&!n&&(n=t.configFile,l.type==="wsl"&&n.scheme==="file"&&(n=Se.from({scheme:et.scheme,path:await hS(n,l)})));let h={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:d},v=o?void 0:HN(f),g=o||[`${Ux}=${f}`,`${mS}=${i.product.quality}`];return BN(e,h,v,g,f,p,n,r,void 0,m,t==null?void 0:t.settings,[],"on")}function HN(e,t){let n=[`${Ox}=${e}`];if(t){let{buildCLIHost:r,configFile:o}=t,i;o.scheme===et.scheme||o.scheme==="file"&&r.type==="local"?i=Pe(o,r.platform):i=o.toString(),n.push(`${sf}=${i}`)}return n}async function qpe(e,t,n){let{repositoryPath:r,volumeName:o,folder:i}=t,s=ai(r);o=await y3(e,s,o);let{labels:a,remoteWorkspaceFolder:c}=E3(s,r,i,o),l=[...a],u=[...a,`${mS}=${e.common.product.quality}`],{containerId:d,shellServer:p,remoteContainersEnv:f,config:m,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(e,t,s,o,n),v=i?s.workspaceFolder(i):s.fullRepositoryName,g=YN(s,o,i,e.dockerSocketPath);return m3(e,t,n,m,h,d,p,f,o,v,c,l,u,g)}async function Wpe(e,t,n){let{common:r}=e,{extensionPath:o,appRoot:i,loadNativeModule:s,output:a}=r,{volumeName:c,folder:l}=t,u=[`${fS}=${c}`,`${x3}=${l}`],d=u;await zN(e);let p=VN(c,af(),e.dockerSocketPath),{stdout:f}=await it(e,...p),m=f.toString().trim(),h=ls(e,m,"root"),v=await zt(h,a),g=[],w=Fx(l),x=w,y=await zs(e,m,"root",s),E=ri("container",w,{},h,y,()=>{throw new Error("not implemented")},"node",a),{configuration:P}=await uS({cliHost:E,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:o,appRoot:i,package:r.package,output:a},w,n,e.common.getLogLevel(),u);return m3(e,t,n,P,g,m,v,{},c,w,x,u,d,p)}async function m3(e,t,n,r,o,i,s,a,c,l,u,d,p,f){var R,N,k;let m=Tt(Wr.posix,l),h=[`type=volume,source=${c},target=${Wr.posix.dirname(m.rootFolderPath)},external=true`],v=await C3(e,i,a,u),g={},{HOME:w,USERPROFILE:x}=e.common.env;w!=null&&w.startsWith("/")&&(g.HOME=w,await s.exec(`test -e "${w}" || (mkdir -p "$(dirname "${w}")" && ln -s ~ "${w}")`)),x!==void 0&&(g.USERPROFILE=x);let y=v.cliHost,E,P,D=To(r)||"image"in r;if(D||"dockerComposeFile"in r&&r.workspaceFolder||o.length){let C=o.length?{...r.customizations,vscode:{...(R=r.customizations)==null?void 0:R.vscode,extensions:[...((k=(N=r.customizations)==null?void 0:N.vscode)==null?void 0:k.extensions)||[],...o]}}:r.customizations;P=D?A=>({...A,workspaceFolder:void 0,workspaceMount:"",customizations:C}):A=>({...A,workspaceFolder:m.rootFolderPath,customizations:C});let S=y.path.join(await y.tmpdir(),`devcontainer-${$N.randomUUID()}.json`),b=`EOF-${S}`,_=`${S}_${Date.now()}`;await s.exec(`cat <<'${b}' >${_}
${JSON.stringify({...P(r),configFilePath:void 0})}
${b}
mv ${_} ${S}`),E=Se.from({scheme:et.scheme,path:S})}try{return await BN(e,v,d,p,e.common.cliHost.cwd,y.cwd,n,E,P,m,t.settings,h,"off",f,!0,void 0,g)}finally{Promise.all(e.common.backgroundTasks.filter(C=>typeof C!="function").map(C=>C.catch(()=>{}))).then(()=>Ai(e,i))}}async function MN(e,t){let{common:n,dockerCLI:r,dockerComposeCLI:o,dockerComposePath:i}=e,{cliHost:s,env:a,output:c}=n,{volumeName:l}=t,u,d,p=Mx(t);p?(u=pS,d="Inspect Volume"):(u=ai(t.repositoryPath).volumeDestination,d="Recovery Container");let f=[`${jm}=${l}`],m=[`${jm}=${l}`,`${mS}=${n.product.quality}`],h=await w3(e),v=[`type=volume,source=${l},target=${u},external=true`],g={cliHost:s,dockerCLI:r,dockerComposeCLI:o,dockerComposePath:i,env:a,output:c},w=Tt(s.path,h);return BN(e,g,f,m,h,h,void 0,void 0,void 0,w,t.settings,v,"never",void 0,!p,d)}async function BN(e,t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v){var he,Ee,Ce,Ze;let{common:g,userRepositoryConfigurationPaths:w}=e,{output:x,extensionPath:y,appRoot:E,postCreate:P,localWaylandSocket:D}=g,{cliHost:R}=t,N=[...d];if(e.cacheMount==="bind"&&(await Zi(g.localCacheFolder),N.push(`type=bind,source=${g.localCacheFolder},target=/vscode`)),e.cacheMount==="volume"){let le="vscode";(await ko(t)).indexOf(le)===-1&&await Fm(t,le),N.push("type=volume,source=vscode,target=/vscode,external=true")}if(D){let le=await HV(void 0);N.push(`type=bind,source=${D},target=${le}`)}let k=s?{uri:s,type:Ype(R,l,s),fileHost:R}:l?await g3(R,l,w,e.common.loadNativeModule,!a,x):void 0,C=k==null?void 0:k.uri;if((C==null?void 0:C.scheme)==="file"&&R.type!=="local"){let le=Wr.dirname(C.fsPath),Le=Wr.basename(C.fsPath),ft=Le===".devcontainer.json"?le:Wr.dirname(le),Lt=R.path.join(await R.tmpdir(),`devcontainer-config-${$N.randomUUID()}`);await kx(ft,R,Lt,x),C=Se.from({scheme:et.scheme,path:R.path.join(Lt,...Le===".devcontainer.json"?[Le]:[Wr.basename(le),Le])})}typeof e.removeOnStartup=="string"&&await si(e,e.removeOnStartup)&&await Ai(e,e.removeOnStartup);let S=await jl(t,r);S&&e.removeOnStartup===!0&&n&&(await Ai(e,S.Id),S=void 0);let b=!!S||!n,_=b?r:await Vpe(e,t,k,n),A=!1,L=e.removeOnStartup!==!0?S||n&&await jl(t,n):void 0;((he=L==null?void 0:L.State)==null?void 0:he.Status)==="running"&&(A=!0,it({...Fi(e),print:"continuous"},"exec","-i","-u","root",L.Id,"/bin/sh","-c",`echo "Container already running. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${e.common.sessionId} ; /bin/sh`).catch(()=>{A=!1,x.write("Keep-alive process ended.")}));let T="",$=g.postCreate.output,Y=Pn({...$,get dimensions(){return $.dimensions},event:le=>{(le.type==="text"||le.type==="raw")&&(T+=le.text),$.event(le)}}),j={...v,...t.env,...lr(t.env)},J={cliHost:R,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:j,extensionPath:y,appRoot:E,package:g.package,postCreate:P,output:Y},fe=g.postCreate.output.dimensions||g.output.dimensions,Ne=g.additionalFeaturesToInstall,ke;try{ke=await oi(J,["up",...t.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...g.containerSessionDataFolder?["--container-session-data-folder",g.containerSessionDataFolder]:[],...b?["--container-data-folder",Ys(e.common.product.serverDataFolderName)]:[],...b?["--container-system-data-folder",qb(e.common.product.serverDataFolderName)]:[],"--workspace-folder",i,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],"--gpu-availability",e.gpuAvailability,...[].concat(..._.map(le=>["--id-label",le])),"--log-level",ro(g.getLogLevel()),"--log-format","json",...C?["--config",Pe(C,R.platform)]:[],...a?["--override-config",Pe(a,R.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer||!e.common.hostConfig.canRebuildContainer?["--expect-existing-container"]:[],...e.useExperimentalLockfile?["--experimental-lockfile"]:[],...[].concat(...N.map(le=>["--mount",le])),"--skip-post-create","--update-remote-user-uid-default",p,"--mount-workspace-git-root",...fe?["--terminal-columns",String(fe.columns),"--terminal-rows",String(fe.rows)]:[],...Object.keys(Ne).length>0?["--additional-features",JSON.stringify(Ne)]:[],"--include-configuration","--include-merged-configuration"])}catch(le){let Le;if((Ee=le==null?void 0:le.data)!=null&&Ee.disallowedFeatureId){let{disallowedFeatureId:ft,didStopContainer:Lt,learnMoreUrl:Nr}=le.data;Le=UN(ft,Nr,Lt),Le.originalError=le}else Le=le instanceof be?le:new be({description:of.t("An error occurred setting up the container."),originalError:le});throw le&&!(le instanceof be)&&(le.cmdOutput=T),(Ce=le==null?void 0:le.data)!=null&&Ce.containerId&&(Le.manageContainer=!0,Le.params=e.common,Le.containerId=(Ze=le==null?void 0:le.data)==null?void 0:Ze.containerId,Le.dockerParams=e),Le.step="devContainersCLIUP",Le}if((ke==null?void 0:ke.outcome)!=="success")throw new be({description:of.t("devcontainer command failed: {0}",JSON.stringify(ke)),step:"devContainersCLIUP"});ke.configuration.configFilePath=ke.mergedConfiguration.configFilePath=ke.configuration.configFilePath&&Se.revive(ke.configuration.configFilePath).with({scheme:R.type==="local"?"file":et.scheme});let Xe=await si(e,ke.containerId);if(!Xe)return GN(g.output,"Dev container not found.");A||(A=!0,it({...Fi(e),print:"continuous"},"exec","-i","-u","root",Xe.Id,"/bin/sh","-c",`echo "New container started. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${e.common.sessionId} ; /bin/sh`).catch(()=>{A=!1,x.write("Keep-alive process ended.")}));let{configuration:Ke,mergedConfiguration:Ct,remoteWorkspaceFolder:Je}=ke,ct=Hm(g.cliHost.authority,u),K=h||(Ke.name?of.t("Dev Container: {0}{1}",Ke.name,ct):of.t("Dev Container{0}",ct));g.setWorkspaceName(K);let ae;try{if(To(Ke)||"image"in Ke)ae=await b3(e,t,Ke,Ct,Je,o,i,Xe,b,!L,m,_,C,a);else if("dockerComposeFile"in Ke)ae=await d3(e,t,Ke,Ct,o,i,Xe,b,!L,f,m,_,C,a);else throw new be({description:of.t('Dev container config ({0}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.',Ke.configFilePath.toString())})}catch(le){let Le=le instanceof be?le:new be({description:of.t("An error occurred setting up the container."),originalError:le});throw Le.step||(Le.step="setupDevContainer"),Le}if(zpe(e,J,Ke,a,c,Xe,f,i,C,_,ae.properties),ae.configLocationType=k==null?void 0:k.type,(k==null?void 0:k.type)==="workspace")if(R.type==="container")ae.configWorkspaceURI=k.uri.with({scheme:ao.scheme,authority:g.authority});else{let le=Pe(k.uri,R.platform),Le=Xe.Mounts.find(ft=>wd(R.path,ft.Source,le));if(Le){let ft=R.path.relative(Le.Source,le),Lt=R.platform==="win32"?ft.replace(/\\/g,"/"):ft;ae.configWorkspaceURI=Se.from({scheme:ao.scheme,authority:g.authority,path:Wr.posix.join(Le.Destination,Lt)})}}return ae}function Ype(e,t,n){return t&&(n.scheme===et.scheme||n.scheme==="file"&&e.type==="local")&&wd(Wr,t.rootFolderPath,Pe(n,e.platform))?"workspace":n.scheme==="file"?"repositoryConfig":"unknown"}async function Vpe(e,t,n,r){var s;let{cliHost:o}=t,i;if(n){let{uri:a}=n,c;a.scheme===et.scheme||a.scheme==="file"&&o.type==="local"?c=Pe(a,o.platform):c=a.toString();let l=[...r,`${sf}=${c}`];if(await jl(t,l))i=l;else{let u=await jl(t,r);u&&!((s=u.Config.Labels)!=null&&s[sf])?e.removeOnStartup===!0?(await Ai(t,u.Id),i=l):i=r:i=l}}else i=r;return i}function zpe(e,t,n,r,o,i,s,a,c,l,u){let{common:d}=e,{output:p,extensionPath:f,appRoot:m}=d,{cliHost:h}=t;if(d.hostConfig.canRebuildContainer&&e.watch){let v,g=n.configFilePath;if(g.scheme===et.scheme)if(h.type==="local")v=g.with({scheme:"file"});else if(h.type==="container")v=g.with({scheme:ao.scheme,authority:d.authority});else{let w=Pe(g,h.platform),x=i.Mounts.find(y=>wd(h.path,y.Source,w));if(x){let y=h.path.relative(x.Source,w),E=h.platform==="win32"?y.replace(/\\/g,"/"):y;v=Se.from({scheme:ao.scheme,authority:d.authority,path:Wr.posix.join(x.Destination,E)})}}else(g.scheme==="file"||g.scheme===ao.scheme)&&(v=g);if(v){let P=function(){w||(y=x().finally(async()=>{await ln(h.type==="container"?5e3:1e3),y=void 0,E&&(E=!1,P())}))},w=!1;async function x(){let R=t,N;try{if(h.type==="container"){let{stdout:S}=await it(e,...s);N=S.toString().trim();let b=ls(e,N,"root");if(r&&o){let L=r.path,T=`EOF-${L}`,$=`${L}_${Date.now()}`,Y=await zt(b,p),j=Be((await Y.exec(`cat '${g.path}'`)).stdout);await Y.exec(`cat <<'${T}' >${$}
${JSON.stringify({...o(j),configFilePath:void 0})}
${T}
mv ${$} ${L}`)}let _=await zs(e,N,"root",d.loadNativeModule);R={cliHost:ri("container",a,{},b,_,()=>{throw new Error("not implemented")},"node",p),dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:f,appRoot:m,package:d.package,output:p}}let k=await uS(R,a,c,d.getLogLevel(),l,i.Id,r),C=cr(R.cliHost,u.shellServer);await eS({...e.configurationTracking,containerOutdated:async S=>{w=!0;let b=await e.configurationTracking.containerOutdated(S);return b==="ignore"&&(w=!1),b}},R.cliHost,C,k.configuration)}finally{N&&await Ai(e,N)}}let y,E=!1,D=e.watch(v,()=>{y?E=!0:P()});e.common.shutdowns.push(async()=>(await D).dispose())}}}async function jl(e,t){let n=await Ml(e,!0,t);return(await cs(e,n)).filter(o=>o.State.Status!=="removing")[0]}async function uS(e,t,n,r,o,i,s){let{cliHost:a,output:c}=e,l=await oi(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(o||[]).map(u=>["--id-label",u]).flat(),...i?["--container-id",i]:[],"--log-level",ro(r),"--log-format","json",...n?["--config",Pe(n,a.platform)]:[],...s?["--override-config",Pe(s,a.platform)]:[],"--mount-workspace-git-root",...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=Se.revive(l.configuration.configFilePath).with({scheme:a.type==="local"?"file":et.scheme}),l}async function h3(e,t,n,r,o,i){let s=await g3(e,t,n,r,o,i);return s==null?void 0:s.uri}async function g3(e,t,n,r,o,i){let s=await KC(e,t,je),a=s&&await qN(s,n);if(a)return{uri:a,type:"repositoryConfig",fileHost:await Hr(process.cwd(),r,i)};let c=await ef(e,t.configFolderPath);if(c)return{uri:c,type:"workspace",fileHost:e};o&&i&&(s!=null&&s.length?i.write(`No dev container config found. Additional locations checked:
${dS(s,n).map(l=>`- ${Wr.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function qN(e,t){let n=dS(e,t);for(let r of n){let o=await YG(r);if(o)return Se.file(o)}}function dS(e,t){let n=[],r=new Set(e.map(Gpe).filter(o=>!!o));for(let o of r)for(let i of t){let s=Wr.join(i,o);n.push(s)}return n}function v3(e,t,n){let r=e.path.relative(t.rootFolderPath,Pe(n,e.platform));return r&&!r.startsWith("..")&&!e.path.isAbsolute(r)}function Gpe(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let n=/[^@:]+@([^:]+):(.+)/.exec(e);if(n)t=`${n[1]}/${n[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}var fS="vsc.devcontainer.volume.name",x3="vsc.devcontainer.volume.folder";function WN(e){return e?`${e.volumeName}:${e.folder}`:void 0}function Hl(e){let t=(e.Config.Labels||{})[fS],n=(e.Config.Labels||{})[x3];return t&&n?{volumeName:t,folder:n}:void 0}var Gs=G(require("url")),S3=G(require("https"));var _3=G(Ar());function Ks(e){return e.toLowerCase().indexOf("github.com")>=0?Qpe(e):e.toLowerCase().indexOf("visualstudio.com")>=0?Xpe(e):e.toLowerCase().indexOf("dev.azure.com")>=0?Jpe(e):e.toLowerCase().indexOf("gitlab.com")>=0?Zpe(e):Kpe(e)}function ic(e){let t="owner",n="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Kpe(e){var s;let t="unknown-owner",n,r=e,o;o=(s=Gs.parse(e))==null?void 0:s.path;let i=o==null?void 0:o.split("/");return!i||i.length<1?ic(e):(n=i[i.length-1],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"unknown",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`})}function Jpe(e){var i,s;let t,n,r=e,o;if(vS(e)){let a=`http://${e}`;o=(i=Gs.parse(a))==null?void 0:i.path;let c=o==null?void 0:o.split("/");if(!c||c.length<5)return ic(e);t=c[3],n=c[4]}else{o=(s=Gs.parse(e))==null?void 0:s.path;let a=o==null?void 0:o.split("/");if(!a||a.length<5)return ic(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Xpe(e){var i,s;let t,n,r=e,o;if(vS(e)){let a=`http://${e}`;o=(i=Gs.parse(a))==null?void 0:i.path;let c=o==null?void 0:o.split("/");if(!c||c.length<5)return ic(e);t=c[3],n=c[4]}else{o=(s=Gs.parse(e))==null?void 0:s.path;let a=o==null?void 0:o.split("/");if(!a||a.length<5)return ic(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Zpe(e){var s,a;let t,n,r,o=e,i;if(vS(e)){let c=`http://${e}`;i=(s=Gs.parse(c))==null?void 0:s.path,i&&(i=i.replace("/:","/"));let l=i==null?void 0:i.split("/");if(!l||l.length<3)return ic(e);t=l[1],n=l.slice(2,l.length-1).join("/")||void 0,r=l[l.length-1]}else{i=(a=Gs.parse(e))==null?void 0:a.path;let c=i==null?void 0:i.split("/");if(!c||c.length<3)return ic(e);t=c[1],n=c.slice(2,c.length-1).join("/")||void 0,r=c[c.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:o,ref:void 0,commit:!1,repositoryOwner:t,repositoryProject:n,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}${n?`/${n}`:""}/${r}`}}function Qpe(e){var c,l;let t,n,r=e,o,i,s;if(vS(e)){let u=`http://${e}`;s=(c=Gs.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=Gs.parse(e))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return ic(e);if(t=a[1],n=a[2],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=e.match(/\/tree\/|\/commit\//);u&&u.index&&(r=e.substring(0,u.index),o=e.substring(u.index+u[0].length))}if(a[3]==="pull"){i=a[4];let u=e.match(/\/pull\//);u&&u.index&&(r=e.substring(0,u.index))}}return{repository:"github",repositoryUrl:r,ref:o,commit:a[3]==="commit",repositoryOwner:t,repositoryName:n,pullRequestId:i,fullRepositoryName:`${t}/${n}`}}function vS(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var $x=class extends Error{description;code;constructor(t,n){super(),this.code=t,this.description=n}},jx=class{inputUrl;gitUrlInfo;constructor(t){this.inputUrl=t,this.gitUrlInfo=Ks(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,n,r,o){}installExtension(){return null}},KN=class extends jx{constructor(t){super(t)}async parseUrl(t){var i,s,a;let n=(i=this.gitUrlInfo)==null?void 0:i.repositoryOwner,r=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,o=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,n,r,o)}async getPullRequestInfo(t,n,r,o){var u,d,p,f,m,h,v,g,w,x,y;let i=await this.fetchPullRequestInfo(t,n,r,o),s=(d=(u=i.head)==null?void 0:u.repo)==null?void 0:d.clone_url,a=(f=(p=i.base)==null?void 0:p.repo)==null?void 0:f.clone_url;if(!a)throw new $x(2,_3.t("Cannot access the head repository of the Pull Request."));let c=(m=i.head)==null?void 0:m.ref,l=((g=(v=(h=i.head)==null?void 0:h.repo)==null?void 0:v.owner)==null?void 0:g.login)===n?null:(y=(x=(w=i.head)==null?void 0:w.repo)==null?void 0:x.owner)==null?void 0:y.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(t,n,r,o){let i=`/repos/${n}/${r}/pulls/${o}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:i,method:"GET",headers:s};return new Promise((c,l)=>{let u="",d=S3.request(a,p=>{if(p.statusCode<200||p.statusCode>=300)return l(new Error(`Status Code: ${p.statusCode}`));p.on("data",f=>{u+=f}),p.on("end",()=>{let f=JSON.parse(u.toString());c(f)})});d.on("error",l),d.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,n,r,o){if(t.sourceOwner){let l=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await se({exec:n.exec,cmd:"git",args:["remote","add",t.sourceOwner,l],cwd:r,output:o}),await se({exec:n.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:r,output:o});try{await se({exec:n.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:r,output:o})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw u}await se({exec:n.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:r,output:o})}else await se({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:o});let i=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${i}#${s}#${a}`;await se({exec:n.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,c],cwd:r,output:o})}installExtension(){return"GitHub.vscode-pull-request-github"}},JN=class extends jx{constructor(t){super(t)}async parseUrl(t){var n,r;return{urlToClone:(n=this.gitUrlInfo)==null?void 0:n.repositoryUrl,ref:(r=this.gitUrlInfo)==null?void 0:r.ref}}cloneOptions(t){let n=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!n&&t.ref||void 0,fullClone:n}}async postClone(t,n,r,o){this.gitUrlInfo.commit&&await se({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:o})}},gS=class extends jx{constructor(n,r){super(n);this.branch=r}async parseUrl(n){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(n){return{url:n.urlToClone,branch:n.ref||void 0}}};function xS(e,t){if(t)return new gS(e,t);let n=Ks(e);if(n.repository==="github"){if(n.pullRequestId)return new KN(e);if(n.ref)return new JN(e)}return new gS(e)}var QN="vsch.local.repository",wS="dev.container.volume";function ai(e){return{repositoryPath:e,fullRepositoryName:eL(e),repositoryName:tL(e),workspaceFolder:Fx,volumeDestination:af(),oldVolumeName:tme(e),alreadyCloned:!1,uniqueVolumeName:nme(e),legacyUniqueVolumeName:rme(e),getOldWorkspacePath:T3,cloneAndInitializeRepository:ome,gitUrlHandler:xS(e),gitUrlInfo:Ks(e)}}function eL(e){let t=Ks(e);return t==null?void 0:t.fullRepositoryName}function tL(e){let t=Ks(e);return t==null?void 0:t.repositoryName}function af(){return"/workspaces"}function tme(e){let t=eL(e);return`vsc-${ds.posix.basename(t)}-${P3(e)}`}function nme(e){let t=D3(e),n=Js.createHash("sha256").update(e).digest("hex");return`${t}-${n}`}function rme(e){let t=D3(e),n=P3(e);return`${t}-${n}`}function D3(e){let t=Ks(e),n="";return t&&t.repositoryName&&(n=t.repositoryName,t.ref?n=`${n}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(n=`${n}-pull-${t.pullRequestId}`)),n}function P3(e){return Js.createHash("md5").update(e).digest("hex")}function Fx(e){return ds.posix.join(`${af()}`,`${e}`)}async function ome(e,{folder:t,cloneInfo:n},r,o,i){var d;await zN(e);let{containerId:s,shellServer:a,remoteContainersEnv:c}=await ime(e,r,o,t,i,e.configProvider,n),{config:l}=await sme(e,r,t,i,a),u=(d=r.gitUrlHandler)==null?void 0:d.installExtension();return{repository:r,volumeName:o,containerId:s,shellServer:a,remoteContainersEnv:c,config:l,preInstalledExtensions:u?[u]:[]}}async function ime(e,t,n,r,o,i,s){let{common:a}=e,{output:c,loadNativeModule:l}=a,u=t.fullRepositoryName,d,p,f,m;e.common.progress(1);let h=YN(t,n,r,e.dockerSocketPath,e.buildContainerRunArgs);r?(c.write(`Cloning Github repository: ${u} into ${t.workspaceFolder(r)}
\r`),d=`fatal: destination path '${t.workspaceFolder(r)}' already exists`,m=t.workspaceFolder(r),f=`Repository '${u}' was already cloned into '${t.workspaceFolder(r)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${n}
\r`),d=`fatal: destination path '${u}' already exists`,m=`${u}`,f=`Repository '${u}' was already cloned into volume.`);let v=t.gitUrlHandler;if(!v)throw new be({description:Bl.t("Could not analyze the URL.")});s?p=v.cloneOptions(s):p={url:t.repositoryPath};let{stdout:g}=await it(e,...h),w=g.toString().trim(),x=ls(e,w,"root"),y=await zt(x,c),E=await pb(a,{remoteExec:x,user:"root",nodeExecutable:"node",shellServer:y,launchRootShellServer:async()=>y}),P=E.remoteContainersCLI,D=E.remoteEnv,R=E.ready,N=E.mrpcExec,k=await zs(e,w,"root",l),C=ri("container",m,{},await N||x,k,()=>{throw new Error("not implemented")},void 0,c);try{e.common.isCopyGitConfigEnabled&&await JC(e.common,{homeFolder:"/root",shellServer:y},{}),await Mb({shellServer:y,nodeExecutable:"node"},P,c,"global"),await rx(e.common,{homeFolder:"/root",shellServer:y},[".ssh","known_hosts"],"ssh"),await R;let b=sz(a),_=await yY(a,C,m,{...p,env:{...D,...p.env}},c,b.output);if(await _.gitClone,_.gitUnshallow&&(a.backgroundTasks.push(_.gitUnshallow.then(()=>{})),_.gitUnshallow.then(b.flush,b.flush)),_.gitClone&&s)try{await v.postClone(s,C,m,c)}catch{return XN(e,w,Bl.t("Failed to checkout the repository {0}.",s.urlToClone))}}catch(b){let _=b&&(b.cmdOutput||b.stack||b.message)||String(b);if(_=_.replace(Fs,""),_.replace(/[\r\n]+/gm,"").includes(d))c.write(f),t.alreadyCloned=!0;else return XN(e,w,Bl.t("Git clone failed. {0}",_))}let{configRaw:S}=await I3(e,t,r,o,y);if(!Zb(S)&&i){c.write(`Repository ${u} has no dev container files.
\r`);let b=!0;for(;b;){let _=await i.createConfiguration(m,C);if(_)b=!1;else{let A=Bl.t("Select Configuration");if(_=await i.showError(Bl.t("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started."),A),_!==A)return XN(e,w,Bl.t("Cancelled container configuration selection."),{closeRemote:!0})}}}return{containerId:w,shellServer:y,remoteContainersEnv:D}}function YN(e,t,n,r,o=[]){let i=n?e.volumeDestination:e.fullRepositoryName;return VN(t,i,r,o)}function VN(e,t,n,r=[]){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,"-v",`${n}:/var/run/docker.sock`,...r,`${k3}`,"sleep","infinity"]}function XN(e,t,n,r){throw t&&Ai(e,t),new be({description:n,data:r})}async function I3(e,t,n,r,o){let i,s;if(n?s=t.workspaceFolder(n):s=`${T3(t.repositoryPath)}`,r)return i=(await o.exec(`cat ${r.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:i&&Be(i),configFile:r,workspaceFolder:s};if(r=await qN([t.repositoryPath],e.userRepositoryConfigurationPaths),r&&(i=(await lt(r.fsPath)).toString()),!r)for(let a of Fl(ds.posix,s))try{i=(await o.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,r=Se.from({scheme:"vscode-remote",path:a});break}catch{}return{configRaw:i&&Be(i),configFile:r,workspaceFolder:s}}async function sme(e,t,n,r,o){let{configRaw:i,configFile:s,workspaceFolder:a}=await I3(e,t,n,r,o);if(!s||!i)throw new be({description:Bl.t("The repository does not have a 'devcontainer.json' configuration file.")});let{common:c,configUpdater:l}=e,{cliHost:u,output:d}=c,p=Ix({...i}),f=p;l&&(p.configFilePath=s,f=l(p),delete f.configFilePath);let m=Ab({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},f);return m.configFilePath=s,("workspaceMount"in m||"workspaceFolder"in m)&&d.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:m}}function T3(e){return`/workspaces/${ds.posix.basename(eL(e))}`}var k3="vsc-volume-bootstrap",ZN="bootstrap.Dockerfile",ame="volume.Dockerfile";async function zN(e,t,n,r){let{cliHost:o,output:i}="cliHost"in e?e:e.common;"cliHost"in e||(t=e.common.extensionPath,n=e.common.package.version,r=e.development);let s=o.path.join(await gx(o),"bootstrap-image",r?`${n}-dev-${Date.now()}`:n),a=o.path.join(s,ZN),c=o.path.join(s,".vscode-remote-containers","dist",`dev-containers-cli-${n}`),l=o.path.join(c,"dist","spec-node","devContainersSpecCLI.js"),u=!await o.isFolder(s);if(!u&&!(await o.isFile(a)&&await o.isFile(l))){let h="Removing incomplete bootstrap-image folder.",v=i.start(h),g=`${s}-${Js.randomUUID()}`;await o.rename(s,g),await o.rm(g,{recursive:!0,force:!0}),u=!await o.isFolder(s),i.stop(h,v)}if(u){let h=`${s}-${Js.randomUUID()}`,v=o.path.join(h,".vscode-remote-containers","dist",`dev-containers-cli-${n}`);await o.mkdirp(o.path.join(v,"dist","spec-node")),await o.writeFile(o.path.join(h,ZN),await lt(ds.join(t,"scripts",ZN))),await o.writeFile(o.path.join(v,"package.json"),await lt(ds.join(t,"package.json"))),await o.writeFile(o.path.join(v,"dist","spec-node","devContainersSpecCLI.js"),await lt(ds.join(t,"dist","spec-node","devContainersSpecCLI.js"))),await o.mkdirp(o.path.join(v,"scripts")),await o.writeFile(o.path.join(v,"scripts","updateUID.Dockerfile"),await lt(ds.join(t,"scripts","updateUID.Dockerfile"))),await o.rename(h,s)}let d=["build","-f",a,"-t",k3,s],p=await o.locateCertificatesFile(),f=o.path.join(s,"host-ca-certificates.crt"),m=`${f}-${Js.randomUUID()}`;await o.writeFile(m,p?await o.readFile(p):Buffer.from("")),await o.rename(m,f),await s3(e,...d)}async function w3(e){let{common:t}=e,{cliHost:n,output:r}=t,o=await cme(e),i=n.path.join(o,ame),s=!await n.isFolder(o);if(!s&&!await n.isFile(i)){let u="Removing incomplete inspect-volume folder.",d=r.start(u),p=`${o}-${Js.randomUUID()}`;await n.rename(o,p),await n.rm(p,{recursive:!0,force:!0}),s=!await n.isFolder(o),r.stop(u,d)}if(s){let u=`${o}-${Js.randomUUID()}`;await kx(ds.join(t.extensionPath,"scripts","inspect-volume"),n,u,r),await n.rename(u,o)}let a=await n.locateCertificatesFile(),c=n.path.join(o,"host-ca-certificates.crt"),l=`${c}-${Js.randomUUID()}`;return await n.writeFile(l,a?await n.readFile(a):Buffer.from("")),await n.rename(l,c),o}async function cme(e){let{common:t,development:n}=e,{cliHost:r}=t,o=t.package.version;return r.path.join(await gx(r),"inspect-volume",n?`${o}-dev-${Date.now()}`:o)}async function y3(e,t,n){let r=[`${QN}=${t.repositoryPath}`];!n||n===Oi?r.push("vsch.local.repository.unique=true"):r.push("vsch.local.repository.unique=false"),t.gitUrlInfo.ref&&r.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&r.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`);let o=await ko(e),i=nL(t,n,o);return o.indexOf(i)===-1&&await Fm(e,i,r),i}function nL(e,t,n){return t?t===Oi&&(n.indexOf(e.uniqueVolumeName)!==-1||n.indexOf(e.legacyUniqueVolumeName)===-1?t=e.uniqueVolumeName:t=e.legacyUniqueVolumeName):n.indexOf(e.uniqueVolumeName)!==-1||n.indexOf(e.oldVolumeName)===-1?t=e.uniqueVolumeName:t=e.oldVolumeName,t}var Bm="vsch.local.repository",rL="vsch.local.repository.volume",oL="vsch.local.repository.folder";function E3(e,t,n,r){return n?{labels:[`${Bm}=${t}`,`${rL}=${r}`,`${oL}=${n}`],remoteWorkspaceFolder:e.workspaceFolder(n)}:{labels:[`${Bm}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function C3(e,t,n,r){let{loadNativeModule:o,output:i}=e.common,s=ls(e,t,"root"),a=await zs(e,t,"root",o),c=ri("container",r,n,s,a,()=>{throw new Error("not implemented")},"node",i);return{cliHost:c,dockerCLI:"docker",dockerComposeCLI:us({exec:c.exec,env:n,output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:n,output:i}}var R3=G(Ar()),Ox="devcontainer.local_folder",sf="devcontainer.config_file",jm="vsch.local.volume",pS="/volume",mS="vsch.quality",Ux="vsch.local.folder";async function b3(e,t,n,r,o,i,s,a,c,l,u,d,p,f){let{common:m}=e,h;try{let v=!l,g=r.remoteUser;h=await Um(e,a.Id,o,g),u&&l&&o&&h.user!=="root"&&(h.launchRootShellServer?await Wb(h,h.launchRootShellServer,o,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let w=await aS(m,l,a,o,h);return await ume(a,c,e,t,h,n,r,v,i,s,d,p,f,w)}catch(v){throw lme(v,a,e,h,n)}}function lme(e,t,n,r,o){let i=e instanceof be?e:new be({description:R3.t("An error occurred setting up the container."),originalError:e});return t&&(i.manageContainer=!0,i.params=n.common,i.containerId=t.Id,i.dockerParams=n),r&&(i.containerProperties=r),o&&(i.config=o),i}async function ume(e,t,n,r,o,i,s,a,c,l,u,d,p,f){var k,C;let{common:m}=n,h=cr(r.cliHost,o.shellServer);a||await tS(n.configurationTracking,r.cliHost,h,i,m.output);let v=s.shutdownAction;v==="stopCompose"&&(v="stopContainer");let g={cwd:c,dockerCLI:n.dockerCLI,env:m.env,containerId:e.Id,user:o.user,sessionId:m.sessionId,shutdownAction:v,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:w,doneWithDocuments:x}=await sS(n,r.cliHost,h,"singleContainer",g,a?i:void 0);m.backgroundTasks.push(x);let y=((C=(((k=s.customizations)==null?void 0:k.vscode)||[]).slice().reverse().find(S=>typeof S.devPort=="number"))==null?void 0:C.devPort)||Rl,{hostOrContainerPort:E,hostPortServer:P,connectionToken:D,remoteEnv:R,serverDownloaded:N}=await Nl(m,o,i,s,y,Mm(n,r,o,l,u,e.Id,t,d,p),f);return w.hostPortServer=P,{params:m,properties:o,config:i,resolvedAuthority:{host:oc,port:E,connectionToken:D,extensionHostEnv:R},tunnelInformation:m.isLocalContainer?Om(e):{},dockerParams:n,dockerContainerId:e.Id,serverDownloaded:N}}function ql(e){let t=e.Config.Labels||{},n=t[Ox]||t[Ux];return n||void 0}function N3(e){return(e.Config.Labels||{})[sf]||void 0}function sc(e){let t=(e.Config.Labels||{})[Bm];return t||void 0}function yS(e){let t=(e.Config.Labels||{})[rL];return t||void 0}function L3(e){let t=(e.Config.Labels||{})[jm];return t||void 0}function A3(e){let t=(e.Config.Labels||{})[oL];return t||void 0}function GN(e,t){throw e.write(at(t)),new Error(t)}function ac(e){return!!(e!=null&&e.startsWith("tunnel+"))}function F3(e){let t=/^tunnel\+(.*)$/.exec(e);return t?{tunnelName:t[1]}:void 0}var O3=G(require("path"));async function U3(e,t,n,r,o,i){let s,a=new Promise(m=>s=m),c=new nS,l=[],u=await t3("vscode-remote-containers",async(m,h)=>{let v=await n3(m),g=[];if(v.type==="poll")try{g=await c.dequeue(6e4)}catch{}else if(v.type==="reply"){let w=l[v.sequence];w&&(w(v.reply),delete l[v.sequence])}else v.type==="done"&&s?s():v.type==="log"&&r.event(v.event);h.write(JSON.stringify(g)),h.end()});u.server.unref();let d=O3.join(n,"dist","shutdown","shutdownMonitorProcess"),p=[u.ipcHandlePath,e,nr[t],o||"",i.getTime().toString()];r.write(`Forking shutdown monitor: ${d} ${p.join(" ")}\r
`);let f=iz(d,p,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return f.on("error",m=>{console.error(m)}),f.unref(),{queue:c,sequence:0,replies:l,done:a}}async function ES(e,t,n){let r=e.sequence++,o=new Promise(s=>e.replies[r]=s);return e.queue.push({type:"configure",sequence:r,options:t}),await o}async function M3({queue:e,done:t}){e.push({type:"cleanup"}),await t}var j3=require("util");var Oi="__UNIQUE__",oc="127.0.0.1";async function hS(e,t){if(e.scheme==="file"&&t.type==="wsl"){let{stdout:n}=await se({exec:t.exec,cmd:"wslpath",args:["-u",e.fsPath],output:je});return n.toString().trim()}return Pe(e,t.platform)}async function lf(e,t){let n=!e.env.SSH_AUTH_SOCK&&await WR(e)?ax:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,r={DOCKER_CONTEXT:"default"};return t&&("context"in t?r.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="remote"?r.VSCODE_DOCKER_HOST=t.host:r.DOCKER_HOST=t.host),t.certPath&&(r.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(r.DOCKER_TLS_VERIFY=t.tlsVerify))),n&&(r.SSH_AUTH_SOCK=n),r}function ur(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let n=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;n&&(t.host=n),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function CS(e,{parentAuthority:t,settings:n}){t&&e.write(`Host authority: ${t}\r
`),n&&("context"in n&&n.context&&e.write(`Context: ${n.context}\r
`),"host"in n&&n.host&&e.write(`Host: ${n.host}\r
`),"certPath"in n&&n.certPath&&e.write(`CertPath: ${n.certPath}\r
`),"tlsVerify"in n&&n.tlsVerify&&e.write(`TLSVerify: ${n.tlsVerify}\r
`))}function Wm(e,t){return(!e||e.startsWith("wsl+"))&&!t.VSCODE_DOCKER_HOST&&!t.DOCKER_HOST&&(!t.DOCKER_CONTEXT||t.DOCKER_CONTEXT==="default"||t.DOCKER_CONTEXT==="desktop-linux")}function Hm(e,t){var r,o;let n;return ac(e)?n=(r=F3(e))==null?void 0:r.tunnelName:Dl(e)?n=(o=hx(e))==null?void 0:o.hostName:t&&("context"in t||t.host)&&(n="context"in t?t.context:t.host),n?` @ ${n}`:""}function cc(e){let{Name:t}=e;return t[0]==="/"?t.substring(1):t}async function si(e,t){try{return await ii(e,t)}catch{return}}async function bS(e,t=!0){let{common:n}=e,{output:r}=n,o="Check Docker is running",i=r.start(o);try{let{stdout:s}=await iL(e,e.common.loadNativeModule,t,"version"),a=s.toString();if(a.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(a)}catch(s){console.error(s);let a=qm.t("Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed."),c=s&&(s.stderr?s.stderr.toString().toLowerCase():s.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a=qm.t("Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction."):a=qm.t("Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group."):c.indexOf("ENOENT")!==-1&&(a=qm.t("The 'docker' command was not found. Make sure Docker is installed.")),new be({description:a,originalError:`Docker returned an error code ${s.code}, message: ${s.message}`})}finally{r.stop(o,i)}}async function iL(e,t,n,...r){let o={...Fi(e),print:"continuous"};try{return await it(o,...r)}catch(i){if(!$3(i)||!n)throw i;let s="cliHost"in e?e.cliHost:e.common.cliHost,a="output"in e?e.output:e.common.output;if(s.type==="wsl"&&(s=await Hr(process.cwd(),t,a)),s.platform==="linux")throw i;if(s.platform==="darwin"&&await s.isFolder("/Applications/Docker.app"))await se({exec:s.exec,cmd:"open",args:["-g","-a","Docker"],env:{ELECTRON_RUN_AS_NODE:""},output:a,print:"continuous"});else{let c=dme(s);if(s.platform==="win32"&&await s.isFile(c))await se({exec:s.exec,cmd:c,env:{ELECTRON_RUN_AS_NODE:""},output:"output"in e?e.output:e.common.output,print:"continuous"});else throw i}for(let c=6;c>0;c--){await ln(5e3);try{return await it(o,...r)}catch(l){if(c===1||!$3(l))throw l}}throw i}}function dme(e){return e.path.join(e.env.ProgramW6432||"C:\\Program Files","Docker\\Docker\\Docker Desktop.exe")}function $3(e){let t=Buffer.concat([e==null?void 0:e.stdout,e==null?void 0:e.stderr].filter(Boolean)).toString().toLowerCase();return t.includes("cannot connect to the docker daemon")||t.includes("docker daemon is not running")||t.includes("internal server error for api route and version")||t.includes("activate the wsl integration")}function un(e){return e.hostPath!==void 0}function ci(e){return e.repositoryPath!==void 0}function cf(e){return!ci(e)&&!!e.folder}function Mx(e){return!ci(e)&&!cf(e)&&e.volumeName!==void 0}function lo(e){let t=B3("dev-container",e);if(t)return"unparsedConfig"in t?{parentAuthority:t.parentAuthority,hostPath:t.unparsedConfig}:"repositoryPath"in t?t.dockerHost?{parentAuthority:t.parentAuthority,repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},cloneInfo:t.cloneInfo}:t:("hostPath"in t&&t.configFile&&(t.configFile=Se.revive(t.configFile)),"hostPath"in t&&t.dockerHost?{parentAuthority:t.parentAuthority,hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t)}function Hx(e,t,n,r,o,i){e=Bx(e);let s=r||i?JSON.stringify({hostPath:t,localDocker:o,settings:r,configFile:i}):t;return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${e?`@${e}`:""}${n}`}function fs(e,t,n,r,o,i,s){if(e=Bx(e),t){let c=ai(t);if(!n){let u=JSON.stringify({repositoryPath:t,settings:i,cloneInfo:s,inspectVolume:o});return`vscode-remote://dev-container+${Buffer.from(u,"utf8").toString("hex")}${e?`@${e}`:""}${c.getOldWorkspacePath(t)}`}let l=JSON.stringify({repositoryPath:t,volumeName:n,folder:r,settings:i,cloneInfo:s,inspectVolume:o});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${e?`@${e}`:""}${c.workspaceFolder(r)}`}if(r){let c={volumeName:n,folder:r,settings:i};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(c),"utf8").toString("hex")}${e?`@${e}`:""}${Fx(r)}`}let a=JSON.stringify({volumeName:n,settings:i});return`vscode-remote://dev-container+${Buffer.from(a,"utf8").toString("hex")}${e?`@${e}`:""}${pS}`}function uf(e){let t=B3("attached-container",e);if(t)return"unparsedConfig"in t?{parentAuthority:t.parentAuthority,containerId:t.unparsedConfig}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function H3(e,t,n,r){e=Bx(e);let o=JSON.stringify({containerName:t,settings:n,cwd:r});return`attached-container+${Buffer.from(o,"utf8").toString("hex")}${e?`@${e}`:""}`}function B3(e,t){try{let n=Ym(t);if(!n)return;let{name:r,config:o,parentAuthority:i}=n,s=r===e&&o?Buffer.from(o,"hex").toString("utf8"):void 0;if(!s)return;if(!s.startsWith("{"))return{parentAuthority:i,unparsedConfig:s};let a=JSON.parse(s);return a.parentAuthority=i,a}catch(n){console.warn(n);return}}function Ym(e){let t=e==null?void 0:e.match(/^(?<name>[^@+]+)\+(?<config>[^@]+)(?:@(?<parentAuthority>.*))?$/);if(!t)return;let{name:n,config:r,parentAuthority:o}=t.groups;return{name:n,config:r,parentAuthority:o}}function Yl(e,t){return Nn(t.startsWith("/")?"linux":"win32",Se.parse(`vscode-remote://${e}`),t)}function Bx(e){if(e){if(Dl(e)){let t=e.indexOf("@");if(t!==-1&&e.indexOf("+",t)===-1){let r=hx(e);return XR(r)}return e}if(ac(e))return e}}async function q3(e,t,n){return await nx(e,t,n)||t}function W3(e,t,n){let r=e.path.relative(e.path.dirname(t),n);return`/workspaces/${e.platform==="win32"?r.replace(/\\/g,"/"):r}`}function ZG(e,t){return e.with({path:Wl.posix.resolve(e.path,t)})}async function sS(e,t,n,r,o,i){let{common:s,onRemoveOnShutdownChanged:a}=e,c=s.output.start("Setup shutdown monitor"),l=await U3(r,s.getLogLevel(),s.extensionPath,s.output,s.logFilePath?Wl.dirname(s.logFilePath):void 0,s.sessionStart);ES(l,o,s.output).catch(f=>console.error(f)),a&&a(async f=>{o.rebuild=!!f,o.delay=0,await ES(l,o,s.output)}),s.onDidChangeLogLevel(async f=>{o.logLevel=f,await ES(l,o,s.output)});let u={},d=async()=>{let f=M3(l);u.hostPortServer&&await(0,j3.promisify)(u.hostPortServer.close.bind(u.hostPortServer))(),await f};s.shutdowns.push(d);let p=e.common.hostConfig.canRebuildContainer&&i?eS(e.configurationTracking,t,n,i).catch(console.error):Promise.resolve();return s.output.stop("Setup shutdown monitor",c),{monitor:l,shutdownArgs:u,doneWithDocuments:p}}function Om(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function Um(e,t,n,r,o){var y;let{common:i}=e,s="Inspecting container",a=i.output.start(s),c=await ii(e,t);i.output.stop(s,a);let l=r||c.Config.User||"root",[,u,,d]=/([^:]*)(:(.*))?/.exec(l),p=fme(c.Config.Env),f=ls(e,t,l),m=await zs(e,t,l,i.loadNativeModule),h=ls(e,t,"root"),v=c.Mounts.find(E=>E.Type==="volume"&&E.Name==="vscode"),g=c.Mounts.find(E=>E.Type==="bind"&&E.Source===i.localCacheFolder),w=v&&Wl.posix.join(v.Destination,/^\.*(.*)$/.exec(i.product.serverDataFolderName)[1])||(g==null?void 0:g.Destination),x=(y=c.Mounts.find(E=>E.Type==="bind"&&E.Destination.startsWith("/tmp/vscode-wayland-")))==null?void 0:y.Destination;return Hb({params:i,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:w,sharedDataFolderIsLocalCacheFolder:!v&&!!g,remoteWorkspaceFolder:n,containerUser:u==="0"?"root":u,containerGroup:d,containerEnv:p,remoteExec:f,remotePtyExec:m,remoteExecAsRoot:h,rootShellServer:o,remoteWaylandSocket:x})}function fme(e){return(e||[]).reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substr(0,r)]=n.substr(r+1)),t},{})}async function Y3(e){let{common:t,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:o,dockerEnv:i}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:o,env:i,output:a}}async function V3(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}function Mm(e,t,n,r,o,i,s,a,c){let l=!s;return async(u,d,p,f,m)=>{let{common:h}=e,{cliHost:v}=t,{dotfilesConfiguration:g}=h,w=f.getDotfileConfiguration("dotfiles.repository")||g.repository,x=f.getDotfileConfiguration("dotfiles.installCommand")||g.installCommand,y=f.getDotfileConfiguration("dotfiles.targetPath")||g.targetPath;l&&w&&(l=!1,await Fz(n));let E={...t.env,...lr(t.env)},P={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:E,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,postCreate:h.postCreate,output:h.postCreate.output},D=h.postCreate.output.dimensions||h.output.dimensions,R=await oi(P,["run-user-commands",...t.cliHost.type==="local"&&h.persistedFolder?["--user-data-folder",h.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...h.containerSessionDataFolder?["--container-session-data-folder",h.containerSessionDataFolder]:[],...s?["--container-data-folder",Ys(e.common.product.serverDataFolderName)]:[],...s?["--container-system-data-folder",qb(e.common.product.serverDataFolderName)]:[],...r?["--workspace-folder",r]:[],...(o||[]).map(N=>["--id-label",N]).flat(),"--container-id",i,"--log-level",ro(h.getLogLevel()),"--log-format","json",...a?["--config",Pe(a,v.platform)]:[],...c?["--override-config",Pe(c,v.platform)]:[],"--default-user-env-probe",h.defaultUserEnvProbe,"--skip-non-blocking-commands",String(u),...h.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(p),"--stop-for-personalization",String(d),...[].concat(...Object.keys(m).map(N=>["--remote-env",`${N}=${m[N]}`])),"--mount-workspace-git-root",...D?["--terminal-columns",String(D.columns),"--terminal-rows",String(D.rows)]:[],...w?["--dotfiles-repository",w]:[],...x?["--dotfiles-install-command",x]:[],...y?["--dotfiles-target-path",y]:[]]);if((R==null?void 0:R.outcome)!=="success")throw new be({description:qm.t("devcontainer command failed: {0}",JSON.stringify(R))});return R.result}}async function z3(e,t,n,r,o,i,s,a){let{cliHost:c,output:l}=e,u=await oi(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...t?["--workspace-folder",t]:[],...(i||[]).map(d=>["--id-label",d]).flat(),...s?["--container-id",s]:[],"--log-level",ro(r),"--log-format","json",...n?["--config",Pe(n,c.platform)]:[],...a?["--override-config",Pe(a,c.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[],...Object.keys(o).length>0?["--additional-features",JSON.stringify(o)]:[]]);return u.configuration.configFilePath=u.configuration.configFilePath&&Se.revive(u.configuration.configFilePath).with({scheme:c.type==="local"?"file":et.scheme}),u}async function aS(e,t,n,r,o){if(t&&r)try{let i=n.Mounts.find(s=>wd(Wl.posix,s.Destination,r,!0));if((i==null?void 0:i.Type)==="bind"){let s;try{let{stdout:l}=await o.shellServer.exec(`command -v git >/dev/null 2>&1 && ROOT_FOLDER="$(git -C '${r}' rev-parse --show-toplevel)" && test "$(stat -c %u "$ROOT_FOLDER")" != "$(id -u)" && echo -n "$ROOT_FOLDER"`);s=l.trim()}catch(l){s=l!=null&&l.stderr?(/dubious ownership in repository at '([^']+)'/.exec(l.stderr)||[])[1]:void 0}if(!s||!wd(Wl.posix,i.Destination,s,!0))return;let a=Wl.posix.relative(i.Destination,s),c=e.cliHost.path.join(i.Source,e.cliHost.platform==="win32"?a.replace(/\//g,"\\"):a);return e.cliHost.platform==="win32"?await se({exec:e.cliHost.exec,cmd:"powershell",args:["-NoProfile","-NonInteractive","-Command",'if (-not (Get-Acl . | foreach { $_.Owner }).Equals("$env:UserDomain\\$env:UserName")) { exit 1 }'],cwd:c,output:e.output}):await se({exec:e.cliHost.exec,cmd:"/bin/sh",args:["-c",`cd '${c}' && test "$(stat -${e.cliHost.platform==="darwin"?"f":"c"} %u .)" = "$(id -u)"`],output:e.output}),async()=>{await o.shellServer.exec(`git config --global --add safe.directory '${i.Destination}'`)}}}catch{}}var Yt=G(require("vscode")),yi=require("vscode");var Z=G(require("vscode")),pp=G(require("path"));var Vm=G(require("vscode")),SS=G(require("path")),J3=require("stream");var pme=sb();async function Ro(e,t,n,r,o,i,s,a,c,l,u){return e?mme(e,n,s,a,c,l):QR(t,n,r,o,i,s,a,c,l,u)}async function mme({server:e,authority:t},n,r,o,i,s){var R,N,k,C,S,b,_,A;let a="Loading environment from ExecServer",c=i.start(a),l=await e.env();i.stop(a,c),i.write(`Host OS: ${l.osPlatform}${l.osRelease?` ${l.osRelease}`:""}`),i.write(`Host CWD: ${n}`);let u=hme(()=>e,void 0),d=l.osPlatform,{homeFolder:p,localEnv:f}=await zn(d,{posix:async()=>{let L=await zt(u,i,void 0,d,"Host"),T=d==="darwin"?(await se({exec:u,cmd:"/bin/sh",args:["-c","echo ~"],output:i})).stdout.toString().trim():(await L.exec("echo ~")).stdout.trim(),$=d==="darwin"?(await se({exec:u,cmd:"/bin/sh",args:["-c","id -un"],output:i})).stdout.toString().trim():await bl(L),Y=await Vd(L,$),j=(Y==null?void 0:Y.shell)||"/bin/sh",J=await Kd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:i},{shell:j,remoteExec:u});return L.process.terminate(),{homeFolder:T,localEnv:J}},win32:async()=>(i.write(`USERPROFILE: ${l.env.USERPROFILE}`),i.write(`PATH: ${l.env.PATH}`),{homeFolder:l.env.USERPROFILE,localEnv:l.env})})(),m=async L=>u({...L,env:{...f,...L.env}}),h=async L=>{if(!e.fs){let T=await e.fsStat(L);return T.exists&&T.type==="file"}try{return(await e.fs.stat(L)).type===Vm.FileType.File}catch(T){if((T==null?void 0:T.code)==="FileNotFound"||(T==null?void 0:T.code)==="FileNotADirectory"||T!=null&&T.message.toLowerCase().includes("file not found"))return!1;throw T}},v=l.osPlatform==="win32",g=v?SS.win32:SS.posix,w=g.join(p,".vscode-remote-containers"),x=await tG({localCacheFolder:r,output:i,alternateDownload:s,exec:m,env:f,isFile:h,userDataFolder:w,homeFolder:p,product:o,platform:d}),y=qV(x,m,i),E=n||p,P,D;return{type:"remote",authority:t,platform:d,exec:m,ptyExec:oz(m),cwd:E,env:f,path:g,async homedir(){return p},tmpdir:zn(d,{posix:async()=>f.TMPDIR||"/tmp",win32:async()=>f.TEMP}),isFile:h,isFolder:async L=>{if(!e.fs){let T=await e.fsStat(L);return T.exists&&T.type==="dir"}try{return(await e.fs.stat(L)).type===Vm.FileType.Directory}catch(T){if((T==null?void 0:T.code)==="FileNotFound"||(T==null?void 0:T.code)==="FileNotADirectory"||T!=null&&T.message.toLowerCase().includes("file not found"))return!1;throw T}},isSocket:async L=>{if(v)return!1;try{return await se({exec:m,cmd:"test",args:["-S",L],output:je}),!0}catch(T){if((T==null?void 0:T.code)!==1)throw T;return!1}},readFile:(R=e.fs)!=null&&R.read?async L=>{let T=await e.fs.read(L),$=[];return T.onDidReceiveMessage(Y=>$.push(Y)),await T.onEnd,Buffer.concat($)}:L=>KV(m,d,x,L,je),writeFile:(N=e.fs)!=null&&N.write?async(L,T)=>{let{stream:$,done:Y}=await e.fs.write(L);$.write(T),$.end(),await Y}:(L,T)=>JV(m,d,x,L,T,je),rename:(k=e.fs)!=null&&k.rename?async(L,T)=>e.fs.rename(L,T):(L,T)=>xb(m,d,L,T,je),rm:(C=e.fs)!=null&&C.rm?async L=>e.fs.rm(L):(L,T)=>wb(m,d,L,T||{},je),mkdirp:(S=e.fs)!=null&&S.mkdirp?async L=>e.fs.mkdirp(L):L=>yb(m,d,L,je),readDir:(b=e.fs)!=null&&b.readdir?async L=>(await e.fs.readdir(L)).map($=>$.name):L=>XV(m,d,L,je),readDirWithTypes:(_=e.fs)!=null&&_.readdir?async L=>(await e.fs.readdir(L)).map($=>{let Y=0;return $.type&Vm.FileType.File&&(Y|=1),$.type&Vm.FileType.Directory&&(Y|=2),$.type&Vm.FileType.SymbolicLink&&(Y|=64),[$.name,Y]}):zn(d,{posix:async L=>{let T={f:1,"*":1,"/":2,"@":64};return(await se({exec:m,cmd:"ls",args:["-aF",L],output:je})).stdout.toString().trim().split(`
`).map($=>"/*@=%|>".indexOf($[$.length-1])!==-1?[$.substr(0,$.length-1),$[$.length-1]]:[$,"f"]).filter(([$])=>$!=="."&&$!=="..").map(([$,Y])=>[$,T[Y]||0])},win32:void 0}),getUsername:async()=>(P===void 0&&(P=await zn(d,{posix:async()=>(await se({exec:m,cmd:"id",args:["-u","-n"],output:je})).stdout.toString().trim(),win32:async()=>f.USERNAME})()),P),toCommonURI:()=>Promise.resolve(void 0),connect:_m((A=e.fs)!=null&&A.connect?L=>{if("port"in L&&!e.tcpConnect)return y(L);let T=(async()=>{let{stream:$}=await("port"in L?e.tcpConnect(L.host,L.port):e.fs.connect(L.socketPath));return pme.duplex(sL($,$))})();return{sink:$=>{T.then(Y=>Y.sink($),Y=>$(Y,()=>{})).catch(Y=>i.write(`Connection forwarding to sink error: ${(Y==null?void 0:Y.stack)||(Y==null?void 0:Y.message)||String(Y)}`))},source:($,Y)=>{T.then(j=>j.source($,Y),j=>Y(j)).catch(j=>i.write(`Connection forwarding to source error: ${(j==null?void 0:j.stack)||(j==null?void 0:j.message)||String(j)}`))}}}:y,"Exec Server",i),locateCertificatesFile:function(){return D||(D=_b(this,void 0,i))},nodeExecutable:x,reconnect:async L=>{L?L!==e?(i.write("Updating to new ExecServer to reconnect."),e=L):i.write("New ExecServer to reconnect same as old."):i.write("No new ExecServer to reconnect.")}}}function hme(e,t){return async function(n){let{cmd:r,args:o,output:i}=n,s=e(),a=`Run: ${r} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=i.start(a),l=n.cwd||t,u=await s.env(),d=n.env?{...u.env,...n.env}:u.env,p=await s.spawn(r,o||[],{cwd:l,env:d});return{stdin:gme(p.stdin),stdout:G3(p.stdout),stderr:G3(p.stderr),exit:Promise.all([p.onExit,p.stdout.onEnd,p.stderr.onEnd]).then(([{status:f}])=>(i.stop(a,c),{code:f,signal:null})).catch(f=>{throw i.stop(a,c),f!=null&&f.message.includes("NotFound")&&(f.code="ENOENT"),f}),async terminate(){}}}}function G3(e){return sL(void 0,e)}function gme(e){return sL(e,void 0)}function sL(e,t){let n=new J3.Stream,r=!1;if(e&&(n.writable=!0,n.write=function(o,i,s){s=Array.from(arguments).find(c=>typeof c=="function");let a;try{e.write(o)}catch(c){a=c,setImmediate(()=>n.emit("error",c))}return s&&s(a),!0},n.end=function(o,i,s){s=Array.from(arguments).find(a=>typeof a=="function"),typeof o=="function"&&(o=void 0);try{o&&e.write(o),r=!0,e.end()}catch(a){setImmediate(()=>n.emit("error",a))}return s&&s(),this}),t){let c=function(){for(;i.length&&!n.paused;)n.emit("data",i.shift());!n.paused&&o&&n.emit("end")},o=!1;n.readable=!0,n.paused=!0;let i=[];(t.onDidReceiveMessage||t.onData)(l=>{let u=Buffer.from(l);n.paused?i.push(u):n.emit("data",u)}),t.onEnd.then(()=>{o=!0,n.paused||n.emit("end")});let s=n.on.bind(n);n.on=(l,u)=>{let d=s(l,u);return l==="data"&&n.paused&&setImmediate(n.resume.bind(n)),d};let a=n.pipe.bind(n);n.pipe=function(l,u){let d=a(l,u);return n.paused&&n.resume(),d},n.pause=function(){return n.paused=!0,n},n.resume=function(){return n.paused=!1,c(),n}}return n.destroy=function(o){return e&&!r&&(r=!0,n.end()),o&&n.emit("error",o),n.emit("close"),this},n}var BJ=G(O7()),ad=G(TJ());var kJ=G(require("vscode"));function Wt(e){let t=kJ.workspace.getConfiguration(),n=os(e),r=t.get(n),o=yl(e),i=t.get(o);if(i!=null&&i!==r){let s=t.inspect(n);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return i}return r}function G1(e,t){return e.affectsConfiguration(os(t))||e.affectsConfiguration(yl(t))}var sd=G(require("path"));var RJ=G(require("os")),Rt=G(require("vscode")),up=require("vscode");async function oP(){await Rt.window.showInformationMessage(up.l10n.t("You need to first save your workspace in a folder containing all its workspace folders."),{modal:!0})}async function Yc(e){var r;let t=e?[e]:(r=Rt.workspace.workspaceFolders)==null?void 0:r.map(o=>o.uri);if(!t)return[];let n=await Promise.all([...t.map(o=>(async()=>{try{let i=o.with({path:sd.posix.join(o.path,".devcontainer.json")});if((await Rt.workspace.fs.stat(i)).type===Rt.FileType.File)return[i]}catch(i){if((i==null?void 0:i.code)!=="FileNotFound")throw i}return[]})()),...t.map(o=>Rt.workspace.findFiles(new Rt.RelativePattern(o.with({path:sd.posix.join(o.path,".devcontainer")}),"{devcontainer.json,*/devcontainer.json}")))]);return[].concat(...n)}async function dp(e,t){let n;if(e.length>1){let r=Rt.window.createQuickPick();r.placeholder=up.l10n.t("Select a devcontainer.json file."),r.busy=!0,r.enabled=!1,r.show(),r.items=(await Promise.all(e.map(async i=>{let s=i.uri,a=i.fileHost.path,c=i.fileHost.platform,l=Pe(s,c),u=Be((await i.fileHost.readFile(l)).toString())||{},d,p,f=a.dirname(l),m=a.dirname(f);a.basename(f)===".devcontainer"?(d=up.l10n.t("Main"),p=m):a.basename(m)===".devcontainer"?(d=a.basename(f),p=a.dirname(m)):(d=up.l10n.t("Project Root"),p=f);let h=u.name||d,v=i.type==="repositoryConfig"||i.type==="userData"?_y(c,l,RJ.homedir()):a.relative(p,l);return{label:h,description:v+(s.toString()===(t==null?void 0:t.toString())?` ${up.l10n.t(" (Current)")}`:""),uri:s,buttons:[{iconPath:new Rt.ThemeIcon("go-to-file"),tooltip:up.l10n.t("Open File")}]}}))).sort((i,s)=>{let a=sd.posix.dirname(i.uri.path),c=sd.posix.dirname(s.uri.path);return a!==c?a.localeCompare(c):i.label.localeCompare(s.label)}),r.busy=!1,r.enabled=!0;let o=await new Promise(i=>{r.onDidAccept(()=>i(r.selectedItems[0])),r.onDidHide(()=>i(void 0)),r.onDidTriggerItemButton(({item:s})=>{Rt.commands.executeCommand("vscode.open",s.uri),i(void 0)})});r.dispose(),n=o?Se.from(o.uri):"cancelled"}else e.length===1&&(n=e[0].uri);return n}function _y(e,t,n){if(e==="win32")return t;let r=`${Iye(n,"/")}/`;return(e==="linux"?t.startsWith(r):t.toLowerCase().startsWith(r.toLowerCase()))&&(t=`~/${t.substr(r.length)}`),t}function Iye(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function Ta(e,t){let n=Rt.workspace.fs;return{platform:e,path:e==="win32"?sd.win32:sd.posix,async isFile(r){try{return((await n.stat(Nn(e,t,r))).type&Rt.FileType.File)!==0}catch(o){if((o==null?void 0:o.code)==="FileNotFound"||(o==null?void 0:o.code)==="FileNotADirectory")return!1;throw o}},async isFolder(r){try{return((await n.stat(Nn(e,t,r))).type&Rt.FileType.Directory)!==0}catch(o){if((o==null?void 0:o.code)==="FileNotFound"||(o==null?void 0:o.code)==="FileNotADirectory")return!1;throw o}},async readFile(r){try{let o=await n.readFile(Nn(e,t,r));return Buffer.from(o)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let i=new Error(`Could not read file: ${r}`);throw i.originalError=o,i.code="ENOENT",i}throw o}},async rename(r,o){try{let i=Nn(e,t,r),s=Nn(e,t,o);await n.rename(i,s)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let s=new Error(`Could not rename  ${r} -> ${o}`);throw s.originalError=i,s.code="ENOENT",s}throw i}},async rm(r,o){try{let i=Nn(e,t,r);await n.delete(i,{recursive:o.recursive})}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let s=new Error(`Could not remove ${r}`);throw s.originalError=i,s.code="ENOENT",s}throw i}},async writeFile(r,o){await n.writeFile(Nn(e,t,r),o)},async readDir(r){return(await n.readDirectory(Nn(e,t,r))).map(i=>i[0])},async readDirWithTypes(r){return n.readDirectory(Nn(e,t,r))},async mkdirp(r){await n.createDirectory(Nn(e,t,r))},async toCommonURI(r){return Nn(e,t,r)}}}var Sy=class{async readDocument(t){try{let n=Rt.workspace.textDocuments.find(o=>o.uri.toString()===t.toString());if(n)return n.getText();let r=await Rt.workspace.fs.readFile(t);return Buffer.from(r).toString()}catch{return}}async applyEdits(t,n,r){let o=Rt.workspace.textDocuments.find(s=>s.uri.toString()===t.toString());if(o){let s=new Rt.WorkspaceEdit;for(let a of n){let c=o.positionAt(a.offset),l=o.positionAt(a.offset+a.length);s.replace(t,new Rt.Range(c,l),a.content)}if(await Rt.workspace.applyEdit(s))return}let i=Eo(r,n);await Rt.workspace.fs.writeFile(t,Buffer.from(i))}};function Dy(e){var o,i;let t=((o=/\r?\n/.exec(e))==null?void 0:o[0])||`
`,n=((i=/^\t|^ +/m.exec(e))==null?void 0:i[0])||"	",r=n[0]===" ";return{eol:t,insertSpaces:r,tabSize:r?n.length:void 0}}function Py(){let e=Wt("logLevel")||"debug";return cE(e)}var We=require("vscode");var NJ=G(require("crypto"));async function iP(e,t,n){let r=await K1(e,t,n);return r?Yc(await e.toCommonURI(r)):[]}var sP=".devcontainer-internal.json";async function K1(e,t,n){let r=J1(e,t,n),o=e.path.basename(r),i=e.path.dirname(r),s=await e.isFolder(i)?await e.readDir(i):[];for(let a of s)if(a===o||a.startsWith(`${o}-`)&&!isNaN(Number(a.substring(o.length+1)))){let c=e.path.join(i,a),l=e.path.join(c,sP);if(await e.isFile(l)){let u=Be((await e.readFile(l)).toString());if((u==null?void 0:u.rootFolder)===t.rootFolderPath)return c}}}function LJ(e,t,n){return`${J1(e,t,n)}-${NJ.randomUUID()}`}async function AJ(e,t,n,r){let o=`// Maintained by the Dev Container extension
${JSON.stringify({rootFolder:t.rootFolderPath},void 0,"	")}`;await e.writeFile(e.path.join(r,sP),Buffer.from(o));let i=J1(e,t,n),s;for(let a=1;;a++)if(s=a>1?`${i}-${a}`:i,!await e.isFolder(s)){await e.rename(r,s);break}return s}function J1(e,t,n){return e.path.join(n,"configs",e.path.basename(t.rootFolderPath))}async function FJ(e,t){await e.rm(t,{recursive:!0})}process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";process.env.APPLICATIONINSIGHTS_CONFIGURATION_CONTENT="{}";function OJ(e){return e.serverDataFolderName?e.serverDataFolderName:e.quality?e.quality==="stable"?".vscode-server":e.quality==="insider"?".vscode-server-insiders":`.vscode-server-${e.quality}`:".vscode-server-oss"}var Et="remote-containers.revealLogTerminal",rU="remote-containers.revealPostCreateTerminal",mp="remote-containers.openDevContainerFile",qJ="remote-containers.openRepositoryInVolume",cP="remote-containers.openRepositoryInUniqueVolume",WJ="remote-containers.openRepositoryFromRemoteHubWithEditSession",YJ="remote-containers.openRepositoryFromGitWithEditSession",VJ="remote-containers.openPullRequestInVolume",UJ=new sE,to={onRemoveOnShutdownChangedEmitter:UJ,onRemoveOnShutdownChanged:UJ.event,results:new Map},fp,Wn=e=>Xd(e,Z.env.appRoot);function lP(e,t,n,r,o,i){return async(s,a)=>{r(),Z.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0);let c=Z.env.remoteAuthority;if(a.resolveAttempt>1){let l=n.get(c);if(!l)throw new Error("Reconnect attempt without old result.");let u=We.l10n.t("Reconnection attempt {0}",a.resolveAttempt-1),d=e.log.start(u),{cliHost:p}=l.params;if(p.reconnect){let v=`Reconnecting CLIHost ${a.execServer?"with":"without"} ExecServer.`,g=e.log.start(v);try{await p.reconnect(a.execServer)}catch(w){throw e.log.write(at(String(w&&(w.stack||w.message)||w))),Z.RemoteAuthorityResolverError.TemporarilyNotAvailable(We.l10n.t("Cannot reconnect to remote host."))}finally{e.log.stop(v,g)}}else e.log.write("CLIHost does not need reconnection.");if((await ky(p,e.log)).pauseResolver&&await zJ(p,e.log),l.dockerContainerId){let v=await si(l.dockerParams,l.dockerContainerId);if(!v)throw Z.RemoteAuthorityResolverError.NotAvailable(We.l10n.t("Container no longer exists."));if(v.State.Status==="paused")throw Z.RemoteAuthorityResolverError.TemporarilyNotAvailable(We.l10n.t("Container is paused."));if(v.State.Status!=="running")throw Z.RemoteAuthorityResolverError.NotAvailable(We.l10n.t("Container is no longer running."))}let m=l.resolvedAuthority.port,h=Iz(l.params.forwardedPorts,m);if(h){if(h.connections.size){e.log.write(`Destroying ${h.connections.size} leftover connections to forwarded port ${m}.`);for(let v of h.connections)v.destroy()}}else e.log.write(`Forwarded port ${m} not found.`);return e.log.stop(u,d),{...l.resolvedAuthority,isTrusted:l.isTrusted}}else{let l=We.l10n.t("Resolving Remote"),u=e.log.start(l),d=await i(c,a,e,t);return Tye(d.params,d.properties).catch(p=>{}),n.set(c,d),o(),e.log.stop(l,u),Z.window.withProgress({location:Z.ProgressLocation.Window,title:Jye,cancellable:!1},async p=>{await dN(d.params.backgroundTasks)}).then(void 0,p=>{e.log.write(at(String(p&&(p.stack||p.message)||p)))}),{...d.resolvedAuthority,...d.tunnelInformation,isTrusted:d.isTrusted}}}}async function ky(e,t){let n=e.path.join(await e.homedir(),".vscode-remote-containers","config.json");try{let r=Be((await e.readFile(n)).toString())||{},o=r.canConnectToContainer!==!1,i=r.canRebuildContainer!==!1&&o;return await Z.commands.executeCommand("setContext","hideConnectCommands",!o),await Z.commands.executeCommand("setContext","hideRebuildCommands",!i),{canConnectToContainer:o,canRebuildContainer:i,pauseResolver:!!r.pauseResolver}}catch(r){return r.code!=="ENOENT"&&t.write(`Error reading ${n}: ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||r}`),{canConnectToContainer:!0,canRebuildContainer:!0,pauseResolver:!1}}}async function zJ(e,t){let n=We.l10n.t("Pausing resolver"),r=t.start(n),o=Tx(e),i=`
const fs = require('fs');
const path = require('path');
const os = require('os');

const filepath = path.join(os.homedir(), '.vscode-remote-containers', 'config.json');

fs.watch(path.dirname(filepath), (event, filename) => {
	if (filename === path.basename(filepath)) {
		console.log(\`config.json file event: \${event}\`);
		rereadConfig(true);
	}
});
rereadConfig();
setInterval(() => {
	rereadConfig();
}, 5000);
function rereadConfig(event = false) {
	try {
		const text = fs.readFileSync(filepath, 'utf8');
		const config = JSON.parse(text);
		if (!config.pauseResolver) {
			console.log(\`config.json: Continuing... (\${event ? 'event' : 'poll'})\`);
			process.exit();
		}
		if (event) {
			console.log('config.json: Still paused.');
		}
	} catch (err) {
		console.log('config.json: Not a JSON file.');
	}
}
`;try{await se({exec:e.exec,cmd:o.cmd,args:[...o.args,"-e",i],output:Pn(t,1),print:"continuous"})}catch(s){t.write(at((s==null?void 0:s.message)||String(s)))}t.stop(n,r)}async function Tye(e,t){if(!t.nodeExecutable)return;let n=await lt(pp.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:r}=await tc(e,t,[t.nodeExecutable,"-e",n],void 0,{silent:!0}),o=r.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:o})}var X1;async function uP(e){return X1||(X1=Ul(pp.join(__dirname,"..",".."),hp,e)),X1}var Iy={};async function hp(e,t=!0){var n;if(e.counter&&((n=Iy[e.prompt])==null?void 0:n.from)===e.counter&&delete Iy[e.prompt],!Iy[e.prompt]){if(!t)return"";Iy[e.prompt]={result:Promise.resolve(Z.window.showInputBox({prompt:e.prompt||We.l10n.t("Enter password"),password:!0,ignoreFocusOut:!0}).then(r=>r||"")),from:e.counter}}return Iy[e.prompt].result}async function st(e,t,n,r=!0,o=uP(t),i=!0){var w;let s=!n;if(s){if(to.results.size){let x=[...to.results.values()].filter(y=>y.dockerParams)[0];return Y3(x.dockerParams)}if(fp)return fp}yP()&&(t.write(We.l10n.t("Getting Docker parameters for own remote.")),gp()===1&&t.write(new Error().stack,1)),n&&typeof n!="string"&&"scheme"in n&&(n.scheme==="file"?n=n.fsPath:n=Pm(n));let a,c;if(!n){let x=(Z.workspace.workspaceFolders||[])[0];if(Z.env.remoteName==="wsl")x?n=Pm(x.uri):n={wslDistro:gb(Z.env.remoteAuthority),wslPath:"/"};else if(Z.env.remoteName==="ssh-remote"){if(c=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority),!c){let y=hx(Z.env.remoteAuthority);if(y){let{user:E,hostName:P,port:D}=y;a={host:`ssh://${E?`${E}@`:""}${P}${D?`:${D}`:""}`}}}(c||a)&&(x?n=x.uri.path:n="/")}else Z.env.remoteName==="tunnel"?(c=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority),x?n=x.uri.path:n="/"):Z.env.remoteName==="attached-container"?a=(w=uf(Z.env.remoteAuthority))==null?void 0:w.settings:(x==null?void 0:x.uri.scheme)==="file"&&(n=x.uri.fsPath);n||(n=process.cwd())}let l=a&&"host"in a&&a.host||void 0,u=r?Ra():{executeInWSL:"never",defaultDistro:void 0},d=await ox(Z.env.appRoot),p=Ro(c?{server:c,authority:Z.env.remoteAuthority}:void 0,l,n,Wn,u,e.extensionPath,await co(),d,t,Ns,{sshAskpassEnv:o,settings:Pg()});i&&!await Promise.race([p,ln(1e3)])&&await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:`[${We.l10n.t("Setting up Dev Containers (show log)")}](command:${Et} "${We.l10n.t("Show details in terminal")}")`,cancellable:!1},async()=>{await p});let f=await p,m=Rs(),h=ka();if(!a){let x=Z.workspace.getConfiguration("docker"),y=x.get("environment")||{},E=y.DOCKER_CONTEXT||x.get("context")||f.env.DOCKER_CONTEXT;if(!E){let P={cliHost:f,dockerCLI:m,dockerComposeCLI:us({exec:f.exec,env:{},output:je},m,h),dockerComposePath:h,env:{},output:je};E=await ON(P)||"default"}E&&E!=="default"?a={context:E}:(a={...ur(f.env),...["host","certPath","tlsVerify"].reduce((P,D)=>kye(P,x,D),{}),...ur(y)},Object.keys(a).length||(a=void 0))}let v={...f.type==="local"?await o:void 0,...await lf(f,a)},g={cliHost:f,dockerCLI:m,dockerComposeCLI:us({exec:f.exec,env:v,output:t},m,h),dockerComposePath:h,env:v,output:t};return s&&(fp=g,oU(e,d),await ky(g.cliHost,t)),g}async function GJ(){if(!Z.env.remoteName||Z.env.remoteName==="test")return process.platform;if(Z.env.remoteName==="ssh-remote"||Z.env.remoteName==="tunnel"){let e=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority);if(e)return(await e.env()).osPlatform}return"linux"}var aP;function oU(e,t){if(aP)return aP;let n=Lye(e,t);return e.subscriptions.push(n),e.subscriptions.push(n.event(()=>{let r=fp==null?void 0:fp.cliHost;fp=void 0,r!=null&&r.terminate&&r.terminate()})),aP=n.event,aP}function kye(e,t,n){let r=t.get(n);return r&&(e[n]=r),e}var Rye=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],Nye=["dockerPath","dockerComposePath","executeInWSL","executeInWSLDistro"];function Lye(e,t){let n=new Z.EventEmitter,r=Z.workspace.onDidChangeConfiguration(async l=>{(Rye.some(u=>l.affectsConfiguration(u))||Nye.some(u=>G1(l,u)))&&n.fire()}),o,i,s,a=()=>{(async()=>{i||(i=await Ro(void 0,void 0,process.cwd(),Wn,Ra(),e.extensionPath,await co(),t,je,Ns));let l={cliHost:i,dockerCLI:Rs(),dockerComposeCLI:us({exec:i.exec,env:{},output:je},Rs(),ka()),dockerComposePath:ka(),env:{},output:je},u=await ON(l);u===void 0?s=setTimeout(a,2*60*1e3):(u!==o&&(o!==void 0&&n.fire(),o=u),s=setTimeout(a,2*1e3))})().catch(console.error)};a();let c=n.dispose;return n.dispose=()=>{r.dispose(),s&&clearTimeout(s),c.call(n)},n}function cd(){let e=Z.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return iU(t)}return null}function iU(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let n=lo(e.authority);if(un(n))return null;if(ci(n)&&n.inspectVolume&&n.inspectVolume===!0)return n}return null}function dP(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:Aye}}async function Aye(e){let t="Rebuild",n="Ignore",r=await Z.window.showInformationMessage(We.l10n.t("Configuration file(s) changed: {0}. The container might need to be rebuilt to apply the changes.",e.join(", ")),t,n);if(r===t)return Z.commands.executeCommand("remote-containers.rebuildContainer");if(r===n)return"ignore"}var KJ="localExtensions";async function JJ(e){if(Z.env.remoteName)return;let t=new Set(Wt("defaultExtensionsIfInstalledLocally")||XJ),n=await Promise.all(Z.extensions.all.filter(r=>!r.packageJSON.isBuiltin).map(async r=>{var o;if(!t.has(r.id))return r.id;try{let i=Be((await Z.workspace.fs.readFile(Z.Uri.joinPath(r.extensionUri,"package.json"))).toString());if((o=i==null?void 0:i.__metadata)==null?void 0:o.isPreReleaseVersion)return{id:r.id,version:"prerelease"}}catch{}return r.id}));await e.globalState.update(KJ,n)}var XJ=["GitHub.copilot","GitHub.copilot-chat","GitHub.vscode-pull-request-github"];function Fye(e,t){if(t)return MJ();let n=e.globalState.get(KJ)||[],r=new Map(n.map(i=>typeof i=="string"?[i,void 0]:[i.id,i.version])),o=(Wt("defaultExtensionsIfInstalledLocally")||XJ).filter(i=>r.has(i));return Array.from(new Set([...o.map(i=>r.get(i)?`${i}@${r.get(i)}`:i),...Wt("defaultExtensions")||[],...MJ()]))}function ZJ(){return cd()?{}:Wt("defaultFeatures")||{}}function MJ(){let e=Z.env.language,t=e.indexOf("-"),n=$J(e)||(t!==-1?$J(e.substr(0,t)):void 0);return n?[n]:[]}function $J(e){let t=e.toLowerCase();return Z.extensions.all.filter(n=>{var o;let r=n.packageJSON&&n.packageJSON.contributes;return(o=r==null?void 0:r.localizations)!=null&&o.length?!!r.localizations.find(i=>{var s;return((s=i==null?void 0:i.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(n=>n.id)[0]}function jJ(){return!!Z.workspace.getConfiguration().get("workbench.enableExperiments")}function Oye(){return!!Wt("enableWebAccess")}function fP(){return Wt("workspaceMountConsistency")||"cached"}async function pP(e,t,n){if(e.type!=="local")try{let r=e.path.join(await e.homedir(),OJ(t),"data","Machine","settings.json"),o=await e.readFile(r),i=Be(o.toString());return(i==null?void 0:i["dev.containers.gpuAvailability"])||"detect"}catch(r){return(r==null?void 0:r.code)!=="ENOENT"&&n.write(at(String(r&&(r.stack||r.message)||r))),"detect"}return Wt("gpuAvailability")||"detect"}function mP(){return Wt("cacheVolume")??!0}function Uye(){let e=Wt("copyGitConfig");return typeof e=="boolean"?e:!0}function Mye(){return Wt("gitCredentialHelperConfigLocation")||"global"}function $ye(){let e=Wt("dockerCredentialHelper");return typeof e=="boolean"?e:!0}function jye(){let e=Wt("mountWaylandSocket");return typeof e=="boolean"?e:!0}function Rs(){return Wt("dockerPath")||"docker"}function hP(){return Wt("dockerSocketPath")||"/var/run/docker.sock"}function Ra(){return{executeInWSL:sU(),defaultDistro:gP()}}function sU(){return process.platform!=="win32"?"never":Wt("executeInWSL")?"always":"forWSLPath"}function gP(){if(process.platform==="win32")return Wt("executeInWSLDistro")||void 0}function Hye(){return process.platform==="win32"&&Wt("forwardWSLServices")!==!1}function ka(){return Wt("dockerComposePath")||"docker-compose"}function vP(){return Wt("experimentalLockfile")||!1}function aU(){let e=Wt("optimisticallyLaunchDocker");return typeof e=="boolean"?e:!0}function gp(){let e=Wt("logLevel")||"debug";return cE(e)}var Bye=e=>Z.workspace.onDidChangeConfiguration(t=>{G1(t,"logLevel")&&e(gp())});function qye(){let e=Z.workspace.getConfiguration(),t=n=>(e.get(yl(n),"")||e.get(n,"")).trim();return{repository:t("dotfiles.repository")||void 0,installCommand:t("dotfiles.installCommand")||void 0,targetPath:t("dotfiles.targetPath")||"~/dotfiles"}}function Pg(){let e=Z.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),executableArgs:gp()===1?["-v"]:void 0,configFilePath:e.get("remote.SSH.configFile")}}function Vc(e,t,n,r,o,i,s,a,c){var p,f;let l={resolver:t,outcome:n};if(o){l.hostType=o.cliHost.type;let m=o.cliHost.authority;if(m){let h=m.indexOf("+");h!==-1&&(l.hostAuthority=m.substring(0,h))}}i&&(l.configProperties=JSON.stringify(Object.keys(i)),l.configExtensions=JSON.stringify(((f=(p=i.customizations)==null?void 0:p.vscode)==null?void 0:f.extensions)||[]),l.configFeatures=JSON.stringify(Object.keys(i.features||{}).map(m=>yd(m))),"image"in i?l.configType="image":To(i)?l.configType="dockerfile":"dockerComposeFile"in i&&(l.configType="dockerCompose")),s&&(l.configLocation=s),a&&(l.hardwareId=a.osRelease.hardware,l.osReleaseId=a.osRelease.id,l.osReleaseVersion=a.osRelease.version);let u=c&&c.originalError,d=u&&(u.stack||u.message||String(u))||c&&c.description;d&&(l.errorMessage=d),c!=null&&c.step&&(l.step=c.step),e.sendTelemetryEvent("resolver",l,{sessionTimeInMs:Date.now()-r.getTime()})}var Z1=class{constructor(t){this.onClose=t}writeEmitter=new Z.EventEmitter;onDidWrite=this.writeEmitter.event;inputEmitter=new Z.EventEmitter;onDidInput=this.inputEmitter.event;queue=[];ready=!1;open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},Ty=class{constructor(t,n,r=void 0){this.sessionStart=n;let o=i=>{this.outputTerminal.write(i),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?pp.join(t,`remoteContainers-${n.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=Wye(o,gp,this.logFilePath,n,r),Object.defineProperty(this.log,"dimensions",{get:()=>{var i;return(i=this._terminal)==null?void 0:i.dimensions}}),this.log.onDidChangeDimensions=i=>Z.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&i(s.dimensions)})}_terminal;outputTerminal=new Z1(()=>this._terminal=void 0);onDidInput=this.outputTerminal.onDidInput;_name=We.l10n.t("Dev Containers");_revealOnNextOutput=!1;log;logFilePath;get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=Z.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function Wye(e,t,n,r,o=void 0){let i=[];return n&&i.push(oI(n,()=>Math.min(2,t()))),i.push(iI(e,t,r)),i.push(Yye()),Pn(rI(i,o))}function Yye(){return{event(e){e.type==="notification"&&Z.window.showInformationMessage(e.message,We.l10n.t("Dismiss"))}}}async function cU(e,t){let n=await si(e,t.Id);if(n&&n.State.Status==="running")try{await it(e,"stop",n.Id)}catch(r){Z.window.showErrorMessage(We.l10n.t("Error stopping container: {0}",r.message))}}async function xP(e,t){let n=await si(e,t.Id);if(n&&n.State.Status!=="running")try{await it(e,"start",n.Id)}catch(r){Z.window.showErrorMessage(We.l10n.t("Error starting container: {0}",r.message))}}async function QJ(e,t){try{await it(e,"rm",t)}catch(n){Z.window.showErrorMessage(We.l10n.t("Error removing container: {0}",n.message))}}async function lU(e,t){try{await it(e,"volume","rm","--force",t)}catch(n){Z.window.showErrorMessage(We.l10n.t("Error removing volume: {0}",n.message))}}function Vye(){return Z.env.sessionId!=="someValue.sessionId"?Z.env.sessionId:`${Z.env.sessionId}_${Date.now()}`}function zye(e,t){let n=Z.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(n.dispose.bind(n))}async function eX(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let n=e.workspaceState.get("removeOnStartup",!1);return n&&await e.workspaceState.update("removeOnStartup",null),n}async function tX(e,t){await e.workspaceState.update("removeOnStartup",t)}async function uU(e,t){await e.globalState.update("removeOnStartup",t)}async function nX(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function Ry(e,t){await e.globalState.update("buildNoCache",t)}async function Ig(e,t,n,r,o){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:n==null?void 0:n.toString(),logFile:r,openLog:o})}async function rX(e){var n;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let r=(n=Z.workspace.workspaceFolders)==null?void 0:n.some(i=>i.uri.fsPath===t.workspaceFolder||i.uri.path===t.workspaceFolder),o=await cd();if(r||o&&o.repositoryPath===t.workspaceFolder&&(r=!0),r){let i=t.fileWithError?Se.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await HJ(i),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?Z.ViewColumn.Beside:Z.ViewColumn.One,preserveFocus:!0},a=await Z.window.showTextDocument(Z.Uri.file(t.logFile),s),c=new Z.Position(a.document.lineCount-1,0);a.selection=new Z.Selection(c,c),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await HJ(i),!0}}return!1}function oX(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function HJ(e){return e?Z.commands.executeCommand("vscode.open",Z.Uri.parse(e.toString()),{viewColumn:Z.ViewColumn.One}):Z.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:Z.ViewColumn.One})}async function wP(e,t,n,r){return!r&&to.results.size?[...to.results.values()].filter(o=>o.config).map(o=>({type:o.configLocationType||"unknown",uri:o.configWorkspaceURI||o.config.configFilePath,fileHost:e})):(await Promise.all([!r||r==="workspace"?Yc().then(o=>o.map(i=>({type:"workspace",uri:i,fileHost:e}))):[],!r||r==="repositoryConfig"?dU(e,t).then(o=>o.map(i=>({type:"repositoryConfig",uri:i,fileHost:Ta(process.platform,i.with({path:pp.posix.dirname(i.path)}))}))):[],n&&(!r||r==="userData")?iP(e,t,n).then(o=>o.map(i=>({type:"userData",uri:i,fileHost:e}))):[]])).flat()}async function dU(e,t){let n=Ny();if(n.length){let r=await KC(e,t,je);if(r!=null&&r.length){let o=dS(r,n);return(await Promise.all(o.map(s=>Yc(Se.file(s))))).flat()}}return[]}function Ny(){return Wt("repositoryConfigurationPaths")||[]}async function zc(e,t){if(t.type==="local")return e.globalStoragePath}async function Gye(e,t,n="localhost"){await Z.workspace.openTunnel({remoteAddress:{host:n,port:t}})}function iX(e,t){let n=new Ty(void 0,t);n.name=We.l10n.t("Configuring..."),n.revealOnNextOutput=!0;let r=!1;n.onDidInput(()=>{r&&(r=!1,n.dispose())});let o,i={enabled:!0,skipNonBlocking:!1,output:az(n.log,"postCreate",e),onDidInput:n.onDidInput,done:()=>{n.shown&&(n.log.raw(`\x1B[1m${We.l10n.t("Done. Press any key to close the terminal.")}\x1B[0m`),r=!0),o()},promise:new Promise(s=>o=s)};return{channel:n,postCreate:i}}async function Tg(e){let{authority:t,extensionContext:n,sessionStart:r,progress:o,cliHost:i,env:s,cwd:a,wslSettings:c,isLocalContainer:l,telemetry:u,output:d,logFilePath:p,allowSystemConfigChange:f,postCreate:m}=e,h=Oye(),v=Vye(),g=await co(),w;if(i.type!=="wsl"&&Hye())try{w=await vb(void 0,c,n.extensionPath,g,u.product,Wn,d,Ns)}catch(y){d.write("Could not connect to WSL."),d.write((y==null?void 0:y.message)||String(y)),y!=null&&y.stdout&&d.write(y.stdout.toString()),y!=null&&y.stderr&&d.write(y.stderr.toString())}let x={computeExtensionHostEnv:!0,...u,appRoot:Z.env.appRoot,localCacheFolder:g,containerSessionDataFolder:pp.posix.join("/tmp",`devcontainers-${v}`),extensionPath:n.extensionPath,sessionId:v,sessionStart:r,authority:t,cliHost:i,hostConfig:await ky(i,d),env:s,cwd:a,isLocalContainer:l,getAdditionalExtensionsToInstall:Fye.bind(void 0,n),additionalFeaturesToInstall:ZJ(),isCopyGitConfigEnabled:Uye(),credentialHelperConfigLocation:Mye(),isDockerCredentialHelperEnabled:$ye(),dotfilesConfiguration:qye(),progress:Qye(o),output:d,logFilePath:p,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:m,getTelemetryLevel:()=>u.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:gp,onDidChangeLogLevel:Bye,loadNativeModule:Wn,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:y=>zye(x,y),openTunnel:Gye,getTunnels:()=>Promise.resolve(Z.workspace.tunnels),onAdoptProcess:Z.window.onDidOpenTerminal,persistedFolder:await V3(i,n.globalStoragePath),alternateDownload:Ns,skipPostAttach:!1,wslCLIHost:w,localWaylandSocket:l?await Kye(i,w,d):void 0,globalState:n.globalState};return x.hostConfig.pauseResolver&&await zJ(i,d),x}async function Kye(e,t,n){if(!jye())return;let r=await YR(e);if(r)return r;let o=t&&await YR(t);if(o)return GV(t,o,n)}async function Ns(e,t){let n=await Z.commands.executeCommand("_workbench.downloadResource",Z.Uri.parse(e));if(!n)throw new be({description:We.l10n.t("Downloading the VS Code Server failed. Please try again later.")});await Xc(n.fsPath,t)}var kg=`[${We.l10n.t("Connecting to Dev Container (show log)")}](command:${Et} "${We.l10n.t("Show details in terminal")}")`,Jye=`[${We.l10n.t("Configuring Dev Container (show log)")}](command:${rU} "${We.l10n.t("Show details in terminal")}")`,Xye=`[${We.l10n.t("Reading Dev Container Configuration (show log)")}](command:${Et} "${We.l10n.t("Show details in terminal")}")`,Zye={0:"",1:We.l10n.t("Cloning Repository"),2:We.l10n.t("Building image"),3:We.l10n.t("Starting container"),4:We.l10n.t("Installing server"),5:We.l10n.t("Starting server"),6:""};function Qye(e){let t=0;return n=>{let r=6-n,o=(100-t)/(r+1);e.report({message:Zye[n],increment:o}),t+=o}}function sX(e,t,n){let{name:r,publisher:o,version:i,aiKey:s}=t;if(!s)return _M(t,n);let a=o?`${o}.${r}`:r,c=new BJ.default(s);e.subscriptions.push(c);let l=new Q1(c),u=eEe(n),d=jJ()?(0,ad.getExperimentationService)(a,i,u,l,e.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async p=>d&&jJ()?d.isCachedFlightEnabled(p):!1,product:n,package:t,getTelemetryLevel:()=>c.telemetryLevel}}var Q1=class{constructor(t){this.baseReporter=t}sharedProperties={};sendTelemetryEvent(t,n,r){this.baseReporter.sendTelemetryEvent(t,{...this.sharedProperties,...n},r)}setSharedProperty(t,n){this.sharedProperties[t]=n}postEvent(t,n){let r={};for(let[o,i]of n)r[o]=i;this.sendTelemetryEvent(t,r)}};function eEe(e){switch(e.quality){case"stable":return ad.TargetPopulation.Public;case"insider":return ad.TargetPopulation.Insiders;case"exploration":return ad.TargetPopulation.Internal;case void 0:return ad.TargetPopulation.Team;default:return ad.TargetPopulation.Public}}var Ly=We.l10n.t("Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container."),eU="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Ay(e,t){if(t!=null&&t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-")||e.globalState.get(eU))return!0;let n=We.l10n.t("Got It"),r=We.l10n.t("Learn More"),o=await Z.window.showWarningMessage(We.l10n.t("Cloning a repository in a Dev Container may execute arbitrary code."),{modal:!0,detail:We.l10n.t("Only clone a repository in a Dev Container if you trust its authors.")},n,r);return o===n?(await e.globalState.update(eU,!0),!0):(o===r&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var tU="userConfirmedAttachToContainerRequiresTrust";async function ld(e){if(e.globalState.get(tU))return!0;let t=We.l10n.t("Got It"),n=We.l10n.t("Learn More"),r=await Z.window.showWarningMessage(We.l10n.t("Attaching to a container may execute arbitrary code."),{modal:!0,detail:We.l10n.t("Only attach to a container if you trust its origin.")},t,n);return r===t?(await e.globalState.update(tU,!0),!0):(r===n&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function aX(e){e.globalState.setKeysForSync([eU,tU,nU])}function cX(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var nU="updatedToPreRelease2",tEe="2022-01-19T05:14:31.474Z";async function lX(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(tEe)>=0&&!e.globalState.get(nU,!1)&&(await e.globalState.update(nU,!0),await Z.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(n){console.error(n)}}async function Rg(e,t,n,r){try{return await uS(e,t,n,gp(),void 0,void 0,r)}catch{return}}async function fU(e,t,n,r){let o=(async()=>{try{return await z3(e,t,n,gp(),ZJ(),void 0,void 0,r)}catch{return}})(),i=await Promise.race([o,new Promise(s=>setTimeout(()=>s("timeout"),1e3))]);return i!=="timeout"?i:Z.window.withProgress({location:Z.ProgressLocation.Notification,title:Xye,cancellable:!0},async(s,a)=>Promise.race([o,new Promise(c=>{let l=a.onCancellationRequested(()=>{l.dispose(),c("canceled")})})]))}async function vp(e){return Z.commands.executeCommand("_workbench.addToRecentlyOpened",e)}async function uX(e,t,n,r){try{return await $m(t,e.globalState,n,r),!0}catch(o){if(!(o instanceof be))throw o;let i=We.l10n.t("Learn More");return await Z.window.showWarningMessage(o.description,{modal:!0,detail:o.detail},...o.data.learnMoreUrl?[i]:[])===i&&await Z.env.openExternal(Z.Uri.parse(o.data.learnMoreUrl)),!1}}async function dX(e,t){let n="";for(let r=Ym(Z.env.remoteAuthority);r;r=Ym(r.parentAuthority)){let o=r.name==="tunnel"?await Z.extensions.getExtension("ms-vscode.remote-server"):r.name==="ssh-remote"?await Z.extensions.getExtension("ms-vscode-remote.remote-ssh"):void 0;o&&(n+=` over ${o.packageJSON.displayName} ${o.packageJSON.version}`)}return`Dev Containers ${e.version}${n} in VS Code ${Z.version} (${t.commit||"out-of-source"}).`}function fX(e){yP()&&(async()=>await Promise.race([e,new Promise(n=>setTimeout(()=>n("timeout"),1e4))])==="timeout"&&await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:`[${We.l10n.t("Dev Containers waiting for connection request (show log)")}](command:${Et} "${We.l10n.t("Show details in terminal")}")`},async()=>e))()}var nEe=["dev-container","attached-container","k8s-container"];function yP(){return Z.env.remoteName&&nEe.includes(Z.env.remoteName)}var xp={id:"openDocumentation",title:yi.l10n.t("Open Documentation"),isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Yt.env.openExternal(Yt.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},wp={id:"reloadWindow",title:yi.l10n.t("Reload Window"),isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await it(e.dockerParams,"stop","-t","0",e.containerId),await Yt.commands.executeCommand("workbench.action.reloadWindow")}},mX={id:"rebuildContainer",title:yi.l10n.t("Rebuild Container"),isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t&&!(e.params&&"hostConfig"in e.params&&!e.params.hostConfig.canRebuildContainer),execute:async e=>{await Ai(e.dockerParams,e.containerId),await Yt.commands.executeCommand("workbench.action.reloadWindow")}},Ng={id:"openRecent",title:yi.l10n.t("Open Recent..."),isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Yt.commands.executeCommand("workbench.action.openRecent")}},hX={id:"startContainer",title:yi.l10n.t("Start Container"),isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await it(e.dockerParams,"start",e.containerId),await Yt.commands.executeCommand("workbench.action.reloadWindow")}},gX={id:"chooseContainer",title:yi.l10n.t("Choose Container"),isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Yt.commands.executeCommand("remote-containers.attachToRunningContainer")}},ud={id:"closeRemote",title:yi.l10n.t("Close Remote"),isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let n=Yt.workspace.workspaceFile;return!(n&&n.scheme==="untitled"||Yt.workspace.textDocuments.some(o=>o.isDirty))},execute:async e=>{await Yt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Lg=[{id:"retry",title:yi.l10n.t("Retry"),isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:wp.execute},{id:"moreActions",title:yi.l10n.t("More Actions..."),isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:yi.l10n.t("Learn More"),isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Yt.env.openExternal(Yt.Uri.parse(e.data.learnMoreUrl))}}];async function dd(e,t,n,r=!1,o){var f,m,h,v,g,w;let i=e instanceof be?e:new be({description:yi.l10n.t("An error occurred setting up the container."),originalError:e});Yt.commands.executeCommand(Et);let s=i.originalError&&(i.originalError.stack||i.originalError.message)||i.originalError;if(s!==void 0){o.write(at(String(s)));let x=(m=(f=i.originalError)==null?void 0:f.stdout)==null?void 0:m.toString().trim();x&&o.write(x);let y=(v=(h=i.originalError)==null?void 0:h.stderr)==null?void 0:v.toString().trim();y&&o.write(at(y)),(g=i.originalError)!=null&&g.code&&o.write(`Exit code ${(w=i.originalError)==null?void 0:w.code}`)}if(i.data.closeRemote)throw await Yt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Yt.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let a=i.actions;a.length||(a=[xp]);let c=await a.reduce(async(x,y)=>await y.applicable(i,!0)?[...await x,y]:x,Promise.resolve([])),l=await Yt.window.showErrorMessage(i.description,{modal:!0,detail:i.detail},...c);if(l&&(pX(n,t,l.id),await l.execute(i)),l&&l.isLastAction){if(r)throw Yt.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let u=await a.reduce(async(x,y)=>await y.applicable(i,!1)?[...await x,y]:x,Promise.resolve([])),d=u.map(x=>({label:x.title,action:x}));async function p(){let y=await(u.length?Yt.window.showQuickPick(d,{ignoreFocusOut:!0,placeHolder:yi.l10n.t("Pick an action to help resolve the problem.")}):Promise.resolve(void 0));y&&(pX(n,t,y.action.id),y.action.execute(i).catch(console.error),y.action.isLastAction||await p())}if(p().catch(console.error),r)throw Yt.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function pX(e,t,n){e.sendTelemetryEvent("errorAction",{resolver:t,action:n})}var vn=G(require("vscode")),Zt=require("vscode"),Na=G(require("path"));var me=G(require("vscode")),sn=require("vscode");var AX=G(Ik());function vX(e){var t;return(t=e.options)!=null&&t.version?"version":void 0}var $g=G(require("path"));async function fd(e){let r=await lS({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},e),o=Be(r.toString());return o.collections.find(i=>i.templates.length)||e.write("No container templates retrieved from index.",5),o.collections.find(i=>i.features.length)||e.write("No container features retrieved from index.",5),o}var jt=G(require("vscode")),ht=require("vscode"),My=G(require("os"));var Uy=G(require("path"));var _n=G(require("vscode")),gn=require("vscode");var xX=gn.l10n.t("Keep Defaults"),rEe=gn.l10n.t("Configure Options"),Fy={iconPath:new _n.ThemeIcon("check-all"),tooltip:gn.l10n.t("Finish")},pU=["devcontainers","microsoft","github"];async function Ag(e,t,n,r=[],o,i=!0,s=!1){if(!t.length)return{};let a={iconPath:new _n.ThemeIcon("info"),tooltip:gn.l10n.t("Open Documentation")},c=e.quickPick.onDidTriggerItemButton(y=>{let E=y.item.feature.documentationURL;_n.env.openExternal(_n.Uri.parse(E))}),l=await o,u=gn.l10n.t("Suggested by GitHub Copilot"),d=t.map(y=>{let E=r.indexOf(y)!==-1,P;if(E)P=gn.l10n.t("$(lock) Feature is included in base image and cannot be removed");else if(y.owner){let R=y.owner==="devcontainers"?"$(verified)":"";P=`${y.owner||gn.l10n.t("Unknown Publisher")} ${R}`}else P=void 0;let D=l==null?void 0:l.features.includes(y);return{label:D?`$(sparkle) ${y.name}`:y.name,detail:y.description,description:D?P?`${P} ${u}`:u:P,picked:n.indexOf(y)!==-1,buttons:y.documentationURL?[a]:void 0,feature:y,isAlreadyInstalledViaBaseImage:E,kind:_n.QuickPickItemKind.Default}}).sort((y,E)=>{if(y.isAlreadyInstalledViaBaseImage!==E.isAlreadyInstalledViaBaseImage)return y.isAlreadyInstalledViaBaseImage?1:-1;let P=l==null?void 0:l.features.includes(y.feature),D=l==null?void 0:l.features.includes(E.feature);return P!==D?P?-1:1:y.label.localeCompare(E.label)}),p,f=e.quickPick,{matchOnDetail:m}=f;try{f.matchOnDetail=!0;let y=[];s&&y.push(_n.QuickInputButtons.Back),i&&y.push(Fy),p=await xo(f,d,gn.l10n.t("Select additional features to install"),gn.l10n.t("Select Features"),!0,y)}finally{f.matchOnDetail=m}if(c.dispose(),!p)return;if(p.button===_n.QuickInputButtons.Back)return"back";let h=p.pick.filter(y=>!y.isAlreadyInstalledViaBaseImage).map(y=>y.feature),v={};if(!h.length)return v;let g=[];for(let y of t){let E=h.indexOf(y)!==-1;v[y.id]=E?{}:!1,E&&pU.indexOf(y.owner)===-1&&g.push(y)}if(e.askForTrust&&g.length){let y=[...new Set(g.map(C=>C.owner))].sort().map(C=>`@${C}`),E=y.length===1?y[0]:`${y.slice(0,-1).join(", ")} and ${y[y.length-1]}`,P={label:gn.l10n.t("Trust {0}",E),description:gn.l10n.t("from GitHub"),buttons:[{iconPath:new _n.ThemeIcon("info"),tooltip:gn.l10n.t("Open Documentation")}]},D={label:gn.l10n.t("Back")},R={label:gn.l10n.t("Cancel")},N=f.onDidTriggerItemButton(()=>{for(let C of g)_n.env.openExternal(_n.Uri.parse(C.documentationURL))}),k=await xo(f,[P,D,R],gn.l10n.t("Some features are from the {0} GitHub owner/organization(s).",E),void 0,void 0,!0);if(N.dispose(),!k||k===R)return;if(k==="back"||k===D)return Ag(e,t,n,r,o,i,s)}return p.button===Fy||!i||!h.some(y=>{let E=y.options;return E&&Object.keys(E).some(P=>{let D=E[P];return D.type==="boolean"||D.type==="string"&&("enum"in D&&(D.enum||[]).length>1||"proposals"in D&&(D.proposals||[]).length>1)})})||await _n.window.showQuickPick([xX,rEe],{title:gn.l10n.t("Keep Feature defaults or configure options?"),canPickMany:!1})===xX?v:oEe(e,v,h,()=>Ag(e,t,n,r,o))}async function oEe(e,t,n,r){return async function o(i,s,a){if(!s.length)return i;let c=s[0],l=i;if(!(c!=null&&c.options))return o(l,s.slice(1),a);let u,d;return u=await iEe(e,l,c),u&&(d=await sEe(e,u,c,a)),!u||!d?await a():o(d,s.slice(1),a)}(t,n,r)}async function iEe(e,t,n){let r=n==null?void 0:n.options;if(!r)return t;let i=Object.keys(r).filter(l=>{var u;return((u=r[l])==null?void 0:u.type)==="boolean"}).map(l=>{let u=r[l];return{label:l,description:u.description,key:l,value:!0,picked:!!(u!=null&&u.default)}});if(!i.length)return t;let s=n.id,a=n.name||s,c=await xo(e.quickPick,i,gn.l10n.t("Select boolean options for {0}",a),gn.l10n.t("Select boolean options for '{0}'",a),!0,[_n.QuickInputButtons.Back,Fy]);if(!(!c||c.button===_n.QuickInputButtons.Back))return c.pick.reduce((l,u)=>({...l,[s]:{...l==null?void 0:l[s],[u.key]:u.value}}),t)}async function sEe(e,t,n,r){let o=n==null?void 0:n.options;if(!o)return t;let i=n.id,s=n.name||i;return async function a(c,l,u){if(!l.length)return c;let d=l[0],p=o[d],f=("enum"in p&&p.enum||"proposals"in p&&p.proposals||[]).map(v=>({label:String(v),value:v,description:p.default===v?gn.l10n.t("(default)"):void 0,picked:!1}));if(f.length===0)return a(c,l.slice(1),u);let m=f.length===1?{pick:f[0],button:"ok"}:await xo(e.quickPick,f,p.description||gn.l10n.t("Select a value"),gn.l10n.t("Select options for '{0}'",s),void 0,[_n.QuickInputButtons.Back,Fy]);if(!m||m.button===_n.QuickInputButtons.Back)return;let h={...c,[i]:{...c==null?void 0:c[i],[d]:m.pick.value}};return m.button===Fy?h:a(h,l.slice(1),u)}(t,Object.keys(o).filter(a=>{var c;return((c=o[a])==null?void 0:c.type)==="string"}),r)}var aEe=["png","md","json","txt","map"],cEe=["node_modules",".git","bin","out","dist",".vscode-test"],lEe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],wX={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},yX={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},uEe=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile","ghcr.io/devcontainers/templates/codespaces-linux"];function EX(e,t){let n=new Map;for(let r of t)if(r.platforms){if(uEe.indexOf(r.id)>-1)continue;let o=0,i=0,s=r.platforms;if(s[0]==="Any")o+=5;else for(let a of s)if(yX[a]){let c=yX[a];for(let l of c)e.fileTypes.get(l.toLowerCase())&&(o+=10),e.mostPopularFileType===l&&(o+=10)}else if(wX[a]){let c=wX[a],l=!1;for(let u of c)e.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}n.set(r,o+(i<0?-4:i))}return n}async function CX(e,t){return dEe(e,t.rootFolderPath,cEe,aEe)}async function dEe(e,t,n,r){let o=new Map,i=new Map,s=500;function a(f,m,h,v){let g=[];(e.readDirWithTypes||e.readDir)(f).then(x=>{if(h.count>=s)return h.count+=x.length,h.maxReached=!0,v(g);let y=x.length;if(y===0)return v(g);let E=x;h.count+x.length>s&&(h.maxReached=!0,y=s-h.count,E=x.slice(0,y)),h.count+=x.length;for(let P of E){let D=Array.isArray(P)?P[0]:P;(Array.isArray(P)?Promise.resolve((P[1]&1)!==0):e.isFile(e.path.join(f,D))).then(N=>{N?(g.push(D),--y===0&&v(g)):m.indexOf(D)===-1?a(e.path.join(f,D),m,h,k=>{if(g=g.concat(k),--y===0)return v(g)}):--y===0&&v(g)},()=>{if(--y===0)return v(g)})}},()=>v(g))}let c=f=>{o.has(f)?o.set(f,o.get(f)+1):o.set(f,1)},l=f=>{for(let m of lEe)m.pattern.test(f)&&(i.has(m.tag)?i.set(m.tag,i.get(m.tag)+1):i.set(m.tag,1))},u=f=>{if(f.lastIndexOf(".")>=0){let m=f.split(".").pop();m&&!r.includes(m)&&c(m.toLowerCase())}l(f)},d=f=>[...f.entries()].reduce((m,h)=>h[1]>m[1]?h:m,["",0])[0],p={count:0,maxReached:!1};return new Promise((f,m)=>{a(t,n,p,async h=>{h.forEach(u),f({configFiles:i,fileTypes:o,fileCount:p.count,mostPopularFileType:d(o)})})})}var Ei=G(require("vscode")),EP=require("vscode");var Oy={"ghcr.io/devcontainers/templates/anaconda":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/kubernetes-helm":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/kubectl-helm-minikube"],"ghcr.io/devcontainers/templates/alpine":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/docker-outside-of-docker-compose":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/jekyll":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/docker-outside-of-docker":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/docker-in-docker":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/go":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/dotnet-fsharp":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/debian":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/rust-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/rust"],"ghcr.io/devcontainers/templates/universal":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/conda","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/dotnet","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/git-lfs","ghcr.io/devcontainers/features/github-cli","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/hugo","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/kubectl-helm-minikube","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/oryx","ghcr.io/devcontainers/features/php","ghcr.io/devcontainers/features/python","ghcr.io/devcontainers/features/ruby","ghcr.io/devcontainers/features/sshd"],"ghcr.io/devcontainers/templates/python":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/markdown":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/dotnet-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/rust":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/rust"],"ghcr.io/devcontainers/templates/java-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/java":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/anaconda-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/php":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/dotnet":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/powershell":["ghcr.io/devcontainers/features/common-utils"],"ghcr.io/devcontainers/templates/kubernetes-helm-minikube":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/kubectl-helm-minikube"],"ghcr.io/devcontainers/templates/postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/ruby-rails-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/cpp-mariadb":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/cpp":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/dotnet-mssql":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/miniconda-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/typescript-node":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/ubuntu":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/php-mariadb":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/miniconda":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/ruby":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/go-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node-mongo":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"]};async function SX(e,t,n,r,o){var u;let i=await mU(e,t,n);if(i.type==="cancelled")return;if(i.type==="failure"){let d=EP.l10n.t("OK");return await Ei.window.showInformationMessage(Ei.l10n.t("Something went wrong. Please pick a Dev Container configuration yourself."),{modal:!0,detail:i.message},d)===d||void 0}if(!i.template){let d=EP.l10n.t("OK");return await Ei.window.showInformationMessage(Ei.l10n.t("GitHub Copilot did not have enough contextual information. Please pick a Dev Container configuration yourself."),{modal:!0},d)===d||void 0}let s=i.template,a=await hU(e,{id:s,name:s},void 0),c=new Set(Oy[s]||[]);a.features=((u=i.features)==null?void 0:u.filter(d=>!c.has(d)).map(d=>({id:d,copilotSuggested:!0,options:{}})))||[];let l=await Fg(e,t,r,o,a);return l&&zo(e.telemetry,"copilot",a,o),l}var _X="github.copilot.devcontainer.generateDevContainerConfig",bX=6e3;async function mU(e,t,n){var i,s;let r={index:{templates:((i=e.index)==null?void 0:i.collections.filter(a=>a.sourceInformation.repository==="https://github.com/devcontainers/templates").map(a=>a.templates).flat().filter(a=>!Og.includes(a.id)).map(({id:a,name:c,description:l})=>({id:a,name:c,description:l})))||[],features:((s=e.index)==null?void 0:s.collections.filter(a=>a.sourceInformation.repository==="https://github.com/devcontainers/features").map(a=>a.features).flat().filter(a=>!a.deprecated).map(({id:a,name:c,description:l})=>({id:a,name:c,description:l})))||[]},rootUri:Ei.Uri.parse((await t.toCommonURI(n.rootFolderPath)).toString())},o=new Ei.CancellationTokenSource;try{return await Promise.race([Ei.commands.executeCommand(_X,r,o.token),ln(bX).then(()=>(o.cancel(),{type:"failure",message:EP.l10n.t("Timeout after {0} seconds.",bX/1e3)}))])}catch(a){return{type:"failure",message:(a==null?void 0:a.message)||String(a)}}finally{o.dispose()}}async function DX(){return(await Ei.commands.getCommands()).includes(_X)}var gU=Uy.default.join(__dirname,"..",".."),PX=jt.env.appRoot,fEe=e=>Xd(e,PX);async function Mg(e,t){let{fileHost:n,output:r}=e;r.write("Entering createDevContainerConfig_v2");let o=await LX();if(o){let i=Pe(o,n.platform),s=Tt(n.path,i),a=await YC(n,s);if(a){let l=ht.l10n.t("Continue");if(await jt.window.showInformationMessage(ht.l10n.t("The workspace could fail to open in a container: {0}",a),{modal:!0},l)!==l)return!1}let c=await wU(e,s,void 0,void 0,t);if(c){let l=await n.toCommonURI(c);l&&jt.window.showTextDocument(jt.Uri.parse(l.toString()))}return!!c}return!1}async function Fg(e,t,n,r,o,i=(s,a)=>a){return jt.window.withProgress({location:jt.ProgressLocation.Notification,title:ht.l10n.t("Adding Dev Container Configuration Files..."),cancellable:!1},async()=>xU(e,t,n,r,o,i))}async function IX(e){let{output:t}=e,n={executeInWSL:"forWSLPath",defaultDistro:void 0},r=await co(),o=process.cwd();return{cliHost:await Ro(void 0,void 0,o,fEe,n,gU,r,e.telemetry.product,t,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:gU,appRoot:PX,output:t,package:await br(gU)}}async function xU(e,t,n,r,o,i=(s,a)=>a){let{output:s}=e;s.write(`Preparing to apply Template '${o==null?void 0:o.id}'`);let a=Uy.default.join(My.tmpdir(),`tmp-output-dir-${Date.now()}`),c=Uy.default.join(My.tmpdir(),`tmp-dir-${Date.now()}`);e.quickPick.busy=!0,e.quickPick.enabled=!1;let l=await IX(e),u;try{u=await oi(l,["templates","apply","--workspace-folder",a,"--template-id",o.id,"--template-args",o.options?JSON.stringify(o.options):"{}","--features",o.features?JSON.stringify(o.features):"[]","--tmp-dir",c,"--log-level",ro(Py()),"--omit-paths",o.omitPaths?JSON.stringify(o.omitPaths):"[]"])}catch{let f=ht.l10n.t("Show Log");await jt.window.showErrorMessage(ht.l10n.t("Application of the template failed."),{modal:!0},...e.showLogCommandId?[f]:[])===f&&jt.commands.executeCommand(e.showLogCommandId);return}let d=ht.l10n.t("Skip"),p;for(let f of u.files){s.write(`Copying file '${f}'`,1);let m=t.path.join(n,f);if(await t.isFile(m)){let g=r==="userData"?_y(t.platform,m,My.homedir()):f,w=await jt.window.showInformationMessage(ht.l10n.t("File '{0}' already exists, overwrite?",g),{modal:!0},d,ht.l10n.t("Overwrite"));if(!w)return;if(w===d)continue}await t.mkdirp(t.path.dirname(m));let h=await lt(Uy.default.join(a,f)),v=i(f,h);await t.writeFile(m,v),!p&&Dx(t.path,f)&&(p=m)}return s.write("Cleaning up...",1),await Qc(a,{recursive:!0,force:!0}),await Qc(c,{recursive:!0,force:!0}),e.quickPick.busy=!1,e.quickPick.enabled=!0,p}async function wU(e,t,n,r,o){let{fileHost:i,telemetry:s}=e,a=await yU(e,n,!1);if(r){zo(await s,"existsMissingImageInfo");let f=Pe(r,i.platform);if(!await jt.window.showWarningMessage(ht.l10n.t("Dev Container configuration '{0}' file is missing image information. You can add this manually or overwrite with a template.",i.path.relative(t.configFolderPath,f)),{modal:!0},ht.l10n.t("Use Template"))){let h=await i.toCommonURI(f);h&&jt.window.showTextDocument(jt.Uri.parse(h.toString()));return}}let c,l,u="workspace";if(e.userDataFolderForConfigurations){c=await K1(i,t,e.userDataFolderForConfigurations);let f=c&&await ef(i,c),m={label:ht.l10n.t("Add configuration to user data folder"),description:f?ht.l10n.t("Configuration already exists"):void 0,detail:ht.l10n.t("This avoids having outgoing changes in your workspace folder")},h=await ef(i,t.configFolderPath),v={label:ht.l10n.t("Add configuration to workspace"),description:h?ht.l10n.t("Configuration already exists"):void 0,detail:ht.l10n.t("This allows you to share the configuration with others via source control")},g=await xo(a.quickPick,[v,m],ht.l10n.t("Where would you like to create your container configuration?"));if(!g)return;g===m&&(l=c||LJ(i,t,e.userDataFolderForConfigurations),u="userData")}else if(!r){let f=await bP(i,t);if(f){zo(await s,"exists");let m=Pe(f.uri,i.platform);if(!await jt.window.showWarningMessage(ht.l10n.t("Dev Container configuration '{0}' file already exists.",i.path.relative(t.configFolderPath,m)),{modal:!0},ht.l10n.t("Continue"))){let v=await i.toCommonURI(m);v&&jt.window.showTextDocument(jt.Uri.parse(v.toString()));return}}}let d=l||t.configFolderPath,p;if((o==null?void 0:o.picker)==="copilot"){let f=await SX(a,i,t,d,u);f===!0&&(f=await Ug(a,i,t,d,u,void 0)),p=f}else p=await Ug(a,i,t,d,u,void 0);if(p&&l&&!c){let f=await AJ(i,t,e.userDataFolderForConfigurations,l);p=i.path.resolve(f,i.path.relative(l,p))}return a.quickPick.hide(),p}async function yU(e,t,n){let r=jt.window.createQuickPick();r.ignoreFocusOut=!0,t&&(r.title=t);let o=await fd(e.output);return{existingFilesLearnMoreLink:RX,predefinedDefinitionsLearnMoreLink:NX,...e,quickPick:r,replaceExistingConfig:!0,existingConfig:void 0,telemetry:await e.telemetry,index:o,skipOptions:n}}async function TX(e,t,n,r,o,i,s){if(!e.index)return;let c=await CP(e,t,n,i);if(!c)return;if(c==="back")return s?s():void 0;let l=await Fg(e,t,r,o,c);return l&&zo(e.telemetry,"definition",c,o),l}var Og=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile"];async function CP(e,t,n,r){let{index:o}=e,i=((o==null?void 0:o.collections.map(l=>l.templates).flat())||[]).filter(l=>!Og.includes(l.id));if(!(i!=null&&i.length))return;let s=()=>CP(e,t,n,r),a=await pEe(e,t,n,i);if(!(a!=null&&a.length))return vU(e,[],i,r,s);let c=[{label:ht.l10n.t("Show All Templates..."),detail:ht.l10n.t("Show all available predefined container templates."),alwaysShow:!0,type:"showAll"}];return vU(e,c,a,r,s)}async function pEe(e,t,n,r){r=r.filter(a=>a.owner==="devcontainers");let o=e.stats||t&&n&&(e.stats=await CX(t,n));if(!(o!=null&&o.mostPopularFileType.length))return;let i=EX(o,r);return r.filter(a=>(i.get(a)||0)>0).sort(mEe.bind(null,i))}function mEe(e,t,n){let r=e.get(n)||0,o=e.get(t)||0;return r-o}async function vU(e,t,n,r,o){let{index:i,predefinedDefinitionsLearnMoreLink:s,telemetry:a}=e,c={iconPath:new jt.ThemeIcon("info"),tooltip:ht.l10n.t("Open Documentation")},l=e.quickPick.onDidTriggerItemButton(m=>{let h=m.item.template.documentationURL;jt.env.openExternal(jt.Uri.parse(h))}),u=(async()=>{let m=await r,h=n;m!=null&&m.template&&n.indexOf(m.template)===-1&&(h=[m.template,...n]);let v=ht.l10n.t("Suggested by GitHub Copilot"),g=h.map(x=>{let y;if(x.owner){let P=(x==null?void 0:x.owner)==="devcontainers"?"$(verified)":"";y=`${((x==null?void 0:x.owner)==="microsoft"&&x.id.includes("microsoft/vscode-dev-containers")?ht.l10n.t("community"):x==null?void 0:x.owner)||ht.l10n.t("Unknown Publisher")} ${P}`}let E=x===(m==null?void 0:m.template);return{label:E?`$(sparkle) ${x.name}`:x.name,picked:n.indexOf(x)!==-1,detail:x==null?void 0:x.description,description:E?y?`${y} ${v}`:v:y,buttons:[c],template:x}}).sort((x,y)=>x===y?0:x.template===(m==null?void 0:m.template)?-1:y.template===(m==null?void 0:m.template)?1:x.label.localeCompare(y.label));return[...t,...s?[CU]:[],...g]})(),d=m=>{let h=m.trim();if(/^\S+(\/\S+){2,}$/.test(h))return{label:ht.l10n.t("Use '{0}' as template...",h),detail:ht.l10n.t("Apply this custom template instead of one of the listed templates."),templateId:h}},p=ht.l10n.t("Select a container configuration template or enter a custom template id"),f=await xo(e.quickPick,u,p,void 0,void 0,void 0,d);if(l.dispose(),!f){zo(a,"canceled");return}if(f.type==="help"){zo(a,"help"),jt.env.openExternal(s);return}if(f.type==="showAll"){let m=((i==null?void 0:i.collections.map(h=>h.templates).flat())||[]).filter(h=>!Og.includes(h.id));return vU(e,[],m,r,o)}if(f.template)return yp(e,f.template,r.then(m=>{var g,w;if(!m)return;let h=((i==null?void 0:i.collections.map(x=>x.features).flat())||[]).filter(x=>!x.deprecated),v=new Set([...m.features,...m.template&&((g=Oy[m.template.id])==null?void 0:g.map(x=>h.find(y=>y.id===x)).filter(x=>!!x))||[]]);return(((w=Oy[f.template.id])==null?void 0:w.map(x=>h.find(y=>y.id===x)).filter(x=>!!x))||[]).forEach(x=>v.delete(x)),{template:m.template,features:Array.from(v)}}),o);if(f.templateId)return yp(e,{id:f.templateId,name:f.templateId},r,o)}async function hU(e,t,n){if(!t.version){let r=await hEe(e,t.id);r&&(t={...r,id:t.id})}return{id:t.id,options:{},features:[],omitPaths:[],metadata:{template:t,features:[],copilotSuggestion:n}}}async function hEe(e,t){let{output:n}=e;n.write(`Attempting metadata fetch for Template '${t}' from remote manifest`,3);let r=await IX(e);try{return await oi(r,["templates","metadata",t,"--log-level",ro(Py())])}catch{n.write(`Metadata for '${t}' not cached on manifest. Some features will be unavailable.`,1),n.write(`Ask the Template owner to republish '${t}' to populate the data`,1);return}}async function yp(e,t,n,r){let o=await hU(e,t,await n),i={...o.metadata.template};if(e.skipOptions)return o;if(!i.options){let u=await EU(e,o,[],n,r);return u?u==="back"?r():u:void 0}let s=i.options,a=[],c=[];for(let u in s){let d=s[u];d.name=u,d.type==="boolean"?a.push(d):d.type==="string"&&c.push(d)}let l=await vEe(e,c,o,async()=>"back",(u,d)=>kX(e,a,i.name,u,n,d));if(l==="back")return r();if(l)return l}async function gEe(e,t,n,r){var o;if((o=t.optionalPaths)!=null&&o.length){let i=t.optionalPaths.map(l=>({label:l,picked:!1})),s=ht.l10n.t("Optional Files/Directories"),a=ht.l10n.t("Include the following optional files/directories"),c=await xo(e.quickPick,i,a,s,!0,!0);if(c==="back")return r();c&&(n.omitPaths=i.filter(l=>!c.includes(l)).map(l=>l.label))}return n}async function vEe(e,t,n,r,o){let i=t.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0?a=s.enum:s.default&&(a=[s.default]);let c=s.default,l=a.map(d=>({label:d,description:d===c?ht.l10n.t("(default)"):void 0,value:d})),u=l.findIndex(d=>d.value===c);return u!==-1&&l.unshift(...l.splice(u,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:l}});return async function s(a,c,l){if(!a.length)return o(c,l);let u=a[0],d=await xo(e.quickPick,u.items,u.placeholder,void 0,void 0,!0);if(!d)return;if(d==="back")return l();let p={...c.options};return p[u.name]=d.value,c.options={...p},s(a.slice(1),c,()=>s(a,c,l))}(i,n,r)}async function kX(e,t,n,r,o,i){let s=r,a=t.map(u=>{let d=u.default==="true";return{label:u.description||u.name,picked:d,name:u.name,default:d}}),c=a.length?await xo(e.quickPick,a,ht.l10n.t("Select the options for the '{0}' dev container",n),void 0,!0,!0):[];if(!c)return r;if(c==="back")return i();for(let u of a){let d=c.indexOf(u)!==-1,p={...r.options};p[u.name]=d.toString(),r.options={...p}}let l=await EU(e,r,[],o,()=>t.length>0?kX(e,t,n,s,o,i):i());if(l)return l==="back"?i():l}async function EU(e,t,n,r,o){let{quickPick:i,telemetry:s,output:a,index:c,askForTrust:l}=e,u=c==null?void 0:c.collections.reduce((h,v)=>h.concat(v.features),[]).filter(h=>!h.deprecated);if(!(u!=null&&u.length))return t;let p=await Ag({quickPick:i,askForTrust:l,telemetry:s,output:a},u,n,[],r,!0,!0);if(!p)return;if(p==="back")return o();let f=[],m=[];for(let h in p)if(p[h]){let v=u.find(g=>g.id===h);if(v){m.push(v);let g=v.majorVersion||"latest",w={id:`${h}:${g}`,options:p[h]};f.push(w)}}return t.features=f,t.metadata.features=m,await gEe(e,t.metadata.template,t,()=>EU(e,t,m,r,o))}function FX(e){return{provideCompletionItems(t,n,r){let o=yM(t.getText(),t.offsetAt(n)),i=t.getWordRangeAtPosition(n)||new me.Range(n,n);if(o.path[0]==="extensions"||o.path[0]==="vscode"&&o.path[1]==="extensions"){let s=Be(t.getText());return s.configFilePath=t.uri,xEe(s,i)}if(o.path[0]==="features"){let s=Be(t.getText());s.configFilePath=t.uri;try{return wEe(e,s,o,i)}catch(a){console.error(a)}}return[]}}}function xEe(e,t){var r,o;let n=((e==null?void 0:e.extensions)||[]).concat(((o=(r=e==null?void 0:e.customizations)==null?void 0:r.vscode)==null?void 0:o.extensions)||[]);if(Array.isArray(n)){let i=me.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||n.indexOf(s.id)>-1));if(i.length)return i.map(s=>{let a=new me.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=me.CompletionItemKind.Value,a.insertText=c,a.range=t,a.filterText=c,a})}}async function wEe(e,t,n,r){var i;let o=t&&t.features||{};if(typeof o=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t={...t,configFilePath:t.configFilePath.with({scheme:et.scheme,authority:""})};let c=me.env.remoteName&&me.env.remoteName!=="test"?"linux":process.platform,l=((i=(me.workspace.workspaceFolders||[])[0])==null?void 0:i.uri)||Se.file(process.cwd());e={...e,fileHost:await Ta(c,l)}}let s=await fd(e.output),a=(s==null?void 0:s.collections.map(c=>c.features).flat().filter(c=>!c.deprecated))||[];if(n.path.length===2)if(n.isAtPropertyKey){let c=a.filter(l=>!(l.id in o));if(c.length)return c.map(l=>{let u=new me.CompletionItem(l.id),d=`"${l.id}": `;return u.kind=me.CompletionItemKind.Property,u.insertText=d,u.range=r,u.filterText=d,u})}else{let c=n.path[1].toString(),l=a.find(u=>u.id===c||c.startsWith(`${u.id}:`));if(l){let u=vX(l),d=u&&(l.options||{})[u]||{type:"boolean",description:sn.l10n.t("Set to true to install.")},p=(d.type==="string"?("enum"in d&&d.enum||"proposals"in d&&d.proposals||[""]).map(f=>`"${f}"`):["true","false"]).map(f=>({label:f,text:f}));return p.push({label:"{}",text:new me.SnippetString(`{
	$1
}$0`)}),p.map(({label:f,text:m},h)=>{let v=new me.CompletionItem(f);return v.kind=me.CompletionItemKind.Value,v.insertText=m,v.range=r,v.sortText=`${h}_${f}`,v})}}else if(n.path.length===3){let c=n.path[1].toString(),l=a.find(u=>u.id===c||c.startsWith(`${u.id}:`));if(l){let u=l.options||{};if(n.isAtPropertyKey)return Object.keys(u).filter(d=>!(d in(o[c]||{}))).map(d=>{let p=new me.CompletionItem(d),f=`"${d}": `;return p.kind=me.CompletionItemKind.Property,p.insertText=f,p.range=r,p.filterText=f,p.detail=u[d].description,p});{let d=n.path[2],p=u[d];if(p)return(p.type==="string"?("enum"in p&&p.enum||"proposals"in p&&p.proposals||[""]).map(m=>`"${m}"`):["true","false"]).map((m,h)=>{let v=new me.CompletionItem(m),g=m;return v.kind=me.CompletionItemKind.Value,v.insertText=g,v.range=r,v.filterText=g,v.sortText=`${h}_${m}`,v})}}}}}async function OX(e){let t=await SU(e);if((t==null?void 0:t.scheme)===et.scheme){let n=Pe(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(n)}t&&await me.window.showTextDocument(me.Uri.parse(t.toString()))}async function SU(e){let t=await e.findDevContainerFiles();if(!t.length){let r=sn.l10n.t("Add Files...");await me.window.showInformationMessage(sn.l10n.t("No container configuration file found."),{modal:!0},r)===r&&await Mg(e)&&(t=await e.findDevContainerFiles())}let n=await dp(t);return n!=="cancelled"?n:void 0}async function UX(e,t){var r,o,i,s,a,c,l;let n=await SU(e);if(n){let u=cr(e.fileHost);n.scheme==="file"&&!await wr(n.fsPath)?await Li(ss,n,[],rc):(n.scheme==="file"||n.scheme==="vscode-remote")&&(u=new Sy);let d=await u.readDocument(n);if(d){let p=!/\.?devcontainer\.json/.test($g.default.posix.basename(n.path)),f=Be(d),m=!p&&(((o=(r=f.customizations)==null?void 0:r.vscode)==null?void 0:o.extensions)||!f.extensions),h=(m?(s=(i=f.customizations)==null?void 0:i.vscode)==null?void 0:s.extensions:f.extensions)||[],v=e.openConfigurationCommandId?`[${sn.l10n.t("Dev Container configuration")}](command:${e.openConfigurationCommandId})`:sn.l10n.t("Dev Container configuration");if((f.extensions||[]).concat(((c=(a=f.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(t)===-1){h.push(t);let g,w=Dy(d);m?(l=f.customizations)!=null&&l.vscode?g=Dn(d,["customizations","vscode","extensions"],h,{formattingOptions:w}):f.customizations?g=Dn(d,["customizations","vscode"],{extensions:h},{formattingOptions:w}):g=Dn(d,["customizations"],{vscode:{extensions:h}},{formattingOptions:w}):g=Dn(d,["extensions"],h,{formattingOptions:w}),await u.applyEdits(n,g,d),await me.window.showInformationMessage(sn.l10n.t("Extension has been added to the {0}.",v))}else await me.window.showInformationMessage(sn.l10n.t("Extension is already included in the {0}.",v))}}}async function MX(e,t){let n=await me.commands.executeCommand("remote.tunnel.label",t);if(n===void 0)return;let r=n.label,o=n.port,i=await SU(e);if(i){let s=cr(e.fileHost);i.scheme==="file"&&!await wr(i.fsPath)?await Li(ss,i,[],rc):(i.scheme==="file"||i.scheme==="vscode-remote")&&(s=new Sy);let a=await s.readDocument(i);if(a){let l=Be(a).portsAttributes??{},u=l[`${o}`]??{},d=e.openConfigurationCommandId?`[${sn.l10n.t("Dev Container configuration")}](command:${e.openConfigurationCommandId})`:sn.l10n.t("Dev Container configuration");if(l&&u&&u.label===r)await me.window.showInformationMessage(sn.l10n.t("Port attributes are already included in the {0}.",d));else{u.label=r,l[`${o}`]=u;let p=Dy(a),f=Dn(a,["portsAttributes"],l,{formattingOptions:p});await s.applyEdits(i,f,a),await me.window.showInformationMessage(sn.l10n.t("Port attributes have been added to the {0}.",d))}}}}function $X(e,t){let n=me.languages.createDiagnosticCollection("devcontainer"),r=me.window.activeTextEditor;r&&bU(r.document,n,t.output),e.subscriptions.push(me.workspace.onDidChangeTextDocument(async o=>{bU(o.document,n,t.output)})),e.subscriptions.push(me.workspace.onDidOpenTextDocument(async o=>{bU(o,n,t.output)})),e.subscriptions.push(me.workspace.onDidCreateFiles(async o=>{await Promise.all(o.files.filter(i=>/\.?devcontainer\.json/.test($g.default.posix.basename(i.path))).map(i=>me.workspace.openTextDocument(i)))})),e.subscriptions.push(me.workspace.onDidDeleteFiles(o=>{o.files.forEach(i=>n.forEach(s=>{s.toString().startsWith(i.toString())&&n.delete(s)}))})),e.subscriptions.push(me.workspace.onDidRenameFiles(async o=>{o.files.forEach(i=>n.forEach(s=>{s.toString().startsWith(i.oldUri.toString())&&n.delete(s)})),await Promise.all(o.files.filter(i=>/\.?devcontainer\.json/.test($g.default.posix.basename(i.newUri.path))).map(i=>me.workspace.openTextDocument(i.newUri)))})),(async()=>{let o=await Yc().catch(i=>[]);await Promise.all(o.map(i=>me.workspace.openTextDocument(i)))})().catch(o=>{t.output.write(`Error opening dev container configurations: ${(o==null?void 0:o.stack)||(o==null?void 0:o.message)||String(o)}`)}),e.subscriptions.push(n)}function jX(e,t,n){let r=async(s,a,c)=>{let l=$g.default.basename(s.uri.fsPath);if(/\.?devcontainer\.json/.test(l)){let u=xd(s.getText());if(!u)return;if((iE(u)||{}).features){let p=s.getText(s.getWordRangeAtPosition(a,/"[^"]*"/)).replace(/"/g,""),f=EEe(p,t.output,await n());if(f)return{contents:[f],range:s.getWordRangeAtPosition(a,/"[^"]*"/)}}}},o=me.languages.registerHoverProvider({pattern:"**/devcontainer.json"},{provideHover:r}),i=me.languages.registerHoverProvider({pattern:"**/.devcontainer.json"},{provideHover:r});return e.subscriptions.push(o),e.subscriptions.push(i),[o,i]}function bU(e,t,n){let r=$g.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(r)){let o=xd(e.getText());if(!o)return;let i=[...CEe(e,o,n),...bEe(o,e)];t.set(e.uri,i)}}function yEe(e,t){let n=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:sn.l10n.t("Empty feature id")};let r={};if(!e.includes("/")&&!e.includes("\\")&&n.test(e)){let s=["fish","homebrew"].indexOf(e)>-1;return{...r,type:"local-cache",isLegacy:!0,tooltip:s?sn.l10n.t("Legacy feature not supported. Please check https://containers.dev/features for replacements."):void 0,code:s?{target:me.Uri.parse("https://containers.dev/features"),value:"legacy-feature"}:void 0,level:me.DiagnosticSeverity.Error}}if(e.startsWith("http://"))return{...r,type:void 0,tooltip:sn.l10n.t("Direct tarball references must be served over HTTPS."),level:me.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return me.Uri.parse(e,!0).scheme==="https"?{...r,type:"direct-tarball",level:void 0}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("Failed to parse scheme of URI")}}catch{return{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("Invalid URI")}}if(e.startsWith("/"))return{...r,type:void 0,tooltip:sn.l10n.t("Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json."),level:me.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{...r,type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{...r,type:"github-repo",isLegacy:!0,level:me.DiagnosticSeverity.Warning}:{...r,type:void 0,tooltip:sn.l10n.t("GitHub release feature id contains invalid characters"),level:me.DiagnosticSeverity.Error};let i=e.split("/");return e.includes(".")&&i.length>1&&i[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{...r,type:"oci"}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("OCI Feature id contains invalid characters")}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:sn.l10n.t("Failed to parse feature identifier.")}}function EEe(e,t,n){var i;if(!n){t.write("No index found.",5);return}let o=(n==null?void 0:n.collections.map(s=>s.features).flat()).find(s=>e===s.id||e.startsWith(`${s.id}:`));if(o){let s=`${o.name}
`??"",a=o.description?`
${o.description}
`:"",c=o.documentationURL?`
${o.documentationURL}
`:"",l="";if(o.majorVersion){let u=e.split(":");if(u.length===2){let d=u[1];if(d&&d!=="latest")try{let p=(i=AX.parse(d,{loose:!0}))==null?void 0:i.major,f=Number.parseInt(o.majorVersion),m=`
${sn.l10n.t("New major version '{0}' published.",f)}
`;if(p&&p<f)l=m;else{let h=Number.parseInt(d);h!==void 0&&h<f&&(l=m)}}catch{}}}return new me.MarkdownString(`${s}${a}${c}${l}`)}}function CEe(e,t,n){var i;let r=Xi(t,["features"]),o=[];for(let s of(r==null?void 0:r.children)||[])if(s.type==="property"){let a=(i=s.children)==null?void 0:i[0].value,c=yEe(a,n);if(c.hint){let l=e.positionAt(s.offset),u=e.positionAt(s.offset+s.length),d=new me.Diagnostic(new me.Range(l,u),c.hint,me.DiagnosticSeverity.Hint);o.push(d)}if(c.level!==void 0&&c.tooltip){let l=e.positionAt(s.offset),u=e.positionAt(s.offset+s.length),d=new me.Diagnostic(new me.Range(l,u),c.tooltip,c.level);d.code=c.code||{target:me.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"},o.push(d)}}return o}function bEe(e,t){return["extensions","settings","devPort"].filter(n=>Xi(e,[n])&&Xi(e,["vscode",n])).map(n=>{var s,a;let r=(((a=(s=Xi(e,[n]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],o=t.positionAt(r.offset),i=t.positionAt(r.offset+r.length);return new me.Diagnostic(new me.Range(o,i),sn.l10n.t('Legacy "{0}" property when "{0}" property under "vscode" is also present.',n),me.DiagnosticSeverity.Warning)})}var jg=G(require("vscode")),_U=require("vscode");async function HX(e,t){let n=await SEe(e);if(!n)return e.output.write("Failed to find configuration.  Cannot configure container features.",5),!1;let r=await _Ee(e,n,(t==null?void 0:t.preInstalledInBaseImageFeatureIds)||[]);if(!r)return!1;let o=await e.fileHost.toCommonURI(r);return o&&jg.window.showTextDocument(jg.Uri.parse(o.toString())),!!o}async function SEe(e){let t=await e.findDevContainerFiles();if(t.length){let n=await dp(t);if(!n||n==="cancelled")return;let r=n.scheme==="file"?Ta(process.platform,tf(n)):e.fileHost,o=r.path.dirname(Pe(n,r.platform)),i=r.path.basename(o)===".devcontainer"?r.path.dirname(o):o,s=Tt(r.path,i),a=await bP(r,s,n);if(a)return{fileHost:r,workspace:s,config:a}}else{let n=_U.l10n.t("Add Files...");await jg.window.showInformationMessage(_U.l10n.t("No container configuration file found."),{modal:!0},n)===n&&await Mg(e)}}async function _Ee(e,t,n){var f;let{fileHost:r,workspace:o,config:i}=t,s=jg.window.createQuickPick();s.ignoreFocusOut=!0;let a={workspace:o,quickPick:s,telemetry:await e.telemetry,output:e.output},l=(await fd(e.output)).collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated),u=l.filter(m=>n.includes(m.id)),d=[];if(i.object.features&&Object.entries(i.object.features).length>0){let m=Object.keys(i.object.features);d=l.filter(h=>m.some(v=>v.split(":")[0]===h.id))}let p=await Ag(a,l,d,u,Promise.resolve(void 0),!0,!1);if(p)try{let m=i.text,h=i.text,v=Dy(i.text);for(let g of l){let w=[],x=g.majorVersion?`${g.id}:${g.majorVersion}`:g.id,y=["features",x];if(!p[g.id]&&((f=i.object.features)!=null&&f[x]))w=w.concat(Dn(h,y,void 0,{formattingOptions:v}));else if(p[g.id]){let P=p[g.id];w=w.concat(Dn(h,y,P,{formattingOptions:v}))}w.length&&(h=Eo(h,w))}return m!==h&&await cr(r,r).applyEdits(i.uri,[{content:h,offset:0,length:i.text.length}],i.text),s.dispose(),Pe(i.uri,r.platform)}catch(m){e.output.write(`Error in selecting dev container features: ${m}`,5),console.log("Error in selecting dev container features: ",m),s.dispose();return}}var Yn=G(require("vscode")),qX=G(require("crypto")),SP=G(require("path")),DU=require("vscode");var BX={features:{}};function WX(e,t){let n=new Set,r=Promise.resolve(BX),o,i="remote-containers.editDevContainerJSON",s="codespaces.editDevContainerJSON",a=t.codespaces?s:i;e.subscriptions.push(Yn.commands.registerCommand(a,async u=>u()),Yn.languages.registerCodeLensProvider([{pattern:"**/devcontainer.json"},{pattern:"**/.devcontainer.json"}],{async provideCodeLenses(u,d){var m;let p=Object.keys(((m=Be(u.getText()))==null?void 0:m.features)||{}).sort();p.some(h=>!n.has(h))&&(n=new Set(p),r=c(u,p));let f=await r;if(!d.isCancellationRequested)return l(u,f)}}));async function c(u,d){o||(o=await IEe(e,t));let p=u.uri;if(p.scheme!=="file"){let f=o.path.join(await o.tmpdir(),`dev-container-tmp-${qX.randomUUID()}`);await o.mkdirp(f);let m=o.path.join(f,".devcontainer.json");await o.writeFile(m,Buffer.from(JSON.stringify({features:d.reduce((g,w)=>(g[w]={},g),{})})));let h=SP.posix.basename(p.path)===".devcontainer.json",v=p.with({path:SP.posix.join(SP.posix.dirname(p.path),h?".devcontainer-lock.json":"devcontainer-lock.json")});try{let g=await Yn.workspace.fs.readFile(v),w=o.path.join(f,".devcontainer-lock.json");await o.writeFile(w,Buffer.from(g))}catch(g){if((g==null?void 0:g.code)!=="FileNotFound")throw g}p=Yn.Uri.file(m)}try{return TEe(e,o,o.cwd,p,t.output)}catch(f){return t.output.write(`Error fetching version info: ${(f==null?void 0:f.message)||f}`),BX}}function l(u,d){let p=xd(u.getText());if(!p)return;let f=Xi(p,["features"]);if(!(f!=null&&f.children)||f.type!=="object")return;let m=[];for(let h of f.children)if(h.type==="property"&&h.children){let E=function(P,D){return async()=>{let R=v.value.substring(0,w.length)+P;n.add(R),D&&!d.features[R]&&(d.features[R]=D);let N=Yn.window.activeTextEditor;await(N==null?void 0:N.edit(k=>{k.replace(new Yn.Range(N.document.positionAt(x),N.document.positionAt(x+y)),P)}))}},v=h.children[0],g=d.features[v.value],w=PEe(v.value),x=v.offset+1+w.length,y=v.length-2-w.length;if(g!=null&&g.wanted&&g.current!==g.wanted){let P=new Yn.CodeLens(new Yn.Range(u.positionAt(v.offset),u.positionAt(v.offset+v.length)),{title:DU.l10n.t("Update to {0}",g.wanted),command:a,arguments:[E(`:${g.wanted}`,{current:g.wanted,wanted:g.wanted,latest:g.latest})]});m.push(P)}if(g!=null&&g.latest&&g.current!==g.latest){let P=new Yn.CodeLens(new Yn.Range(u.positionAt(v.offset),u.positionAt(v.offset+v.length)),{title:DU.l10n.t("Update to latest {0}",g.latest),command:a,arguments:[E(`:${g.latest}`)]});m.push(P)}}return m}}var DEe=/[:@][^/]*$/;function PEe(e){let t=DEe.exec(e);return t?e.substring(0,t.index):e}async function IEe(e,t){let n={executeInWSL:"forWSLPath",defaultDistro:void 0},r=await co(),o=process.cwd();return Ro(void 0,void 0,o,s=>Xd(s,Yn.env.appRoot),n,e.extensionPath,r,(await t.telemetry).product,t.output,void 0,void 0)}async function TEe(e,t,n,r,o){let i={cliHost:t,dockerPath:"",dockerComposePath:"",extensionPath:e.extensionPath,appRoot:Yn.env.appRoot,output:o,package:await br(e.extensionPath)};return await oi(i,["outdated","--workspace-folder",n,...r?["--config",Pe(r,t.platform)]:[],"--output-format","json","--log-level",ro(Py()),"--log-format","json",...o.dimensions?["--terminal-columns",String(o.dimensions.columns),"--terminal-rows",String(o.dimensions.rows)]:[]])}var RX=vn.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),NX=vn.Uri.parse("https://aka.ms/vscode-dev-containers");function VX(e,t){let{output:n}=t;n.write("Internal initialization of dev container support package...");let r,o=()=>r||(r=fd(t.output));return{async openConfiguration(){return OX(t)},async createConfiguration(i){return Mg(t,i)},async addExtensionToConfiguration(i){return UX(t,i)},async addPortLabelToConfiguration(i){return MX(t,i)},async configureContainerFeatures(i){return HX(t,i)},createCompletionItemProvider(){return FX(t)},startCodeLensProvider(){WX(e,t)},startHoverProvider(){jX(e,t,o)},startDiagnosticsCollection(){$X(e,t)}}}async function LX(){let e=vn.workspace.workspaceFile,t=vn.workspace.workspaceFolders,n;if(e){if(e.scheme==="untitled"){await oP();return}n=e}else if(t&&t.length)if(t.length>1){let r=await vn.window.showWorkspaceFolderPick({placeHolder:Zt.l10n.t("Select a folder to create a container configuration for")});r&&(n=r.uri)}else n=t[0].uri;return n}function xo(e,t,n,r,o,i,s){if(e.value="",e.title=r||e.title||Zt.l10n.t("Add Dev Container Configuration Files"),e.placeholder=n,e.canSelectMany=!!o,Array.isArray(t))if(e.items=t,o)e.selectedItems=t.filter(p=>p.picked);else{let p=t.find(f=>f.picked);p&&(e.activeItems=[p])}e.buttons=i?Array.isArray(i)?i:[vn.QuickInputButtons.Back]:[];let a=[],c=e.items,l=c.filter(p=>p.isAlreadyInstalledViaBaseImage===!0),u={kind:vn.QuickPickItemKind.Separator,label:Zt.l10n.t("pre-installed features")};l.length&&(e.items=e.items.slice(0,c.length-l.length).concat(u).concat(e.items.slice(c.length-l.length)));let d=new Promise((p,f)=>{if(Array.isArray(t)||(e.busy=!0,t.then(m=>{if(e.busy=!1,e.items=m,o)e.selectedItems=m.filter(h=>h.picked);else{let h=m.find(v=>v.picked);h&&(e.activeItems=[h])}},m=>{e.busy=!1,f(m)})),a.push(e.onDidAccept(()=>{let m=o?e.selectedItems.slice():e.selectedItems[0];p(Array.isArray(i)?{pick:m,button:"ok"}:m),a.forEach(h=>h.dispose())})),a.push(e.onDidChangeSelection(m=>{if(!o)return;let h=l.filter(v=>!e.selectedItems.includes(v));h.length&&(e.selectedItems=e.selectedItems.concat(h))})),e.buttons.length&&a.push(e.onDidTriggerButton(m=>{let h=o?e.selectedItems.slice():e.activeItems[0];p(i===!0?"back":{pick:h,button:m}),a.forEach(v=>v.dispose())})),a.push(e.onDidHide(()=>{a.forEach(m=>m.dispose()),e.dispose(),p(void 0)})),s){let m;a.push(e.onDidChangeValue(h=>{let v=s(h);if(v||m){let g=e.items.filter(w=>w!==m);v&&g.push(v),m=v,e.items=g}}))}});return e.show(),d}var CU={label:Zt.l10n.t("Learn More"),description:Zt.l10n.t("Documentation on predefined container templates"),alwaysShow:!0,type:"help"};async function _P(e,t,n,r){return wU(e,t,n,r)}async function Ug(e,t,n,r,o,i){var N;let{telemetry:s,existingFilesLearnMoreLink:a,index:c}=e,u=(o!=="userData"&&await((N=e.findDevContainerFiles)==null?void 0:N.call(e,"userData"))||[]).reduce((k,C)=>k&&k.uri.path.length<C.uri.path.length?k:C,void 0),d=(u==null?void 0:u.uri.scheme)==="file"?[{iconPath:new vn.ThemeIcon("go-to-file"),tooltip:Zt.l10n.t("Open File")}]:[],p=u?{label:Zt.l10n.t("Copy existing configuration to workspace"),detail:Zt.l10n.t("Copy the configuration from your user data folder to the workspace folder"),type:"userDataConfig",buttons:d}:void 0,f=c==null?void 0:c.collections.find(k=>k.sourceInformation.ociReference==="ghcr.io/devcontainers/templates"),m=f==null?void 0:f.templates.find(k=>k.id==="ghcr.io/devcontainers/templates/docker-existing-docker-compose"),h=f==null?void 0:f.templates.find(k=>k.id==="ghcr.io/devcontainers/templates/docker-existing-dockerfile"),v=await t.readDir(n.rootFolderPath),g=m?v.filter(k=>/(docker.*)?compose.*\.ya?ml$/i.test(k)).map(k=>t.path.join(n.rootFolderPath,k)):[],w=h?v.filter(k=>/dockerfile/i.test(k)).map(k=>t.path.join(n.rootFolderPath,k)):[],x=w.map(k=>{let C=t.path.basename(k);return{label:Zt.l10n.t("From '{0}'",C),description:YX(t,k),dockerfile:C,dockerfilePath:k,detail:Zt.l10n.t("Refer to the existing '{0}' in the container configuration",C),type:"dockerfile"}}),y=g.map(k=>{let C=t.path.basename(k);return{label:Zt.l10n.t("From '{0}'",C),description:YX(t,k),dockerComposeFile:C,dockerComposePath:k,detail:Zt.l10n.t("Refer to the existing '{0}' in the container configuration",C),type:"dockerComposeFile"}}),E=p||w.length>0||g.length>0,P={label:Zt.l10n.t("From a predefined container configuration template..."),detail:Zt.l10n.t("Use a base configuration from the container template registry"),alwaysShow:!0,type:"predefined"},D=e.quickPick.onDidTriggerItemButton(async()=>{await vn.commands.executeCommand("vscode.open",u.uri),e.quickPick.hide()}),R=E?await xo(e.quickPick,[P,...p?[p]:[],...x,...y,...a?[CU]:[]],Zt.l10n.t("How would you like to create your container configuration?")):P;if(D.dispose(),!R){zo(s,"canceled");return}if(R.type==="help"){zo(s,"help"),vn.env.openExternal(a);return}if(R.type==="userDataConfig")return kEe(t,n,u);if(i||(i=t&&n&&await DX()?mU(e,t,n).then(k=>{if(k.type!=="success")return;let C=((c==null?void 0:c.collections.map(b=>b.templates).flat())||[]).filter(b=>!Og.includes(b.id)),S=((c==null?void 0:c.collections.map(b=>b.features).flat())||[]).filter(b=>!b.deprecated);return{template:C.find(b=>b.id===k.template),features:(k.features||[]).map(b=>S.find(_=>_.id===b)).filter(b=>!!b)}}):Promise.resolve(void 0)),R.type==="predefined")return TX(e,t,n,r,o,i,()=>Ug(e,t,n,r,o,i));if(R.type==="dockerComposeFile")return NEe(e,t,r,o,R.dockerComposePath,m,i,()=>Ug(e,t,n,r,o,i));if(R.type==="dockerfile")return REe(e,t,r,o,R.dockerfilePath,h,i,()=>Ug(e,t,n,r,o,i))}function YX(e,t){let n=vn.workspace.workspaceFolders||[];if(n.length<2)return;let r=n.find(o=>e.platform==="win32"?t.toLowerCase().startsWith(o.uri.fsPath.toLowerCase()):t.startsWith(o.uri.fsPath));return r&&r.name}async function kEe(e,t,n){let r=Zt.l10n.t("Skip"),o=n.fileHost,i=Pe(n.uri,o.platform),s;if(o.path.basename(i)===".devcontainer.json")s=o.path.dirname(i);else for(let f=i;o.path.basename(f);f=o.path.dirname(f))if(o.path.basename(f)===".devcontainer"){s=o.path.dirname(f);break}if(!s)throw new Error(`Unexpected user config path: ${i}`);let a=o.readDirWithTypes||o.readDir,c=await a(s);for(;c.length;){let f=c.shift();if(f===sP)continue;let m=typeof f=="string"?f:f[0],h=o.path.join(s,m);if(typeof f=="string"?await o.isFile(h):(f[1]&1)!==0){let g=o.path.sep===e.path.sep?m:m.replaceAll(o.path.sep,e.path.sep),w=e.path.join(t.configFolderPath,g);if(await e.isFile(w)){let y=await vn.window.showInformationMessage(Zt.l10n.t("File '{0}' already exists, overwrite?",g),{modal:!0},r,Zt.l10n.t("Overwrite"));if(!y)return;if(y===r)continue}await e.mkdirp(e.path.dirname(w));let x=await o.readFile(h);await e.writeFile(w,x)}else(typeof f=="string"?await o.isFolder(h):(f[1]&2)!==0)&&c.push(...(await a(h)).map(w=>typeof w=="string"?o.path.join(m,w):[o.path.join(m,w[0]),w[1]]))}let l=Zt.l10n.t("Delete");await vn.window.showInformationMessage(Zt.l10n.t("Delete the configuration from the user data folder?"),{modal:!0},Zt.l10n.t("Keep"),l)===l&&await FJ(o,s);let d=o.path.relative(s,i),p=o.path.sep===e.path.sep?d:d.replaceAll(o.path.sep,e.path.sep);return e.path.join(t.configFolderPath,p)}async function REe(e,t,n,r,o,i,s,a){let{telemetry:c}=e,l=await yp(e,i,s,async()=>{});if(!l){zo(c,"canceled");return}if(l==="back")return a();let u=await Fg(e,t,n,r,l,(d,p)=>{if(!Dx(t.path,d))return p;let f=t.path.sep!==Na.sep?d.replace(Na.sep===Na.win32.sep?/\\/g:/\//g,t.path.sep):d,m=t.path.resolve(n,f),h=t.path.relative(t.path.dirname(m),o),v=t.platform==="win32"?h.replace(/\\/g,"/"):h,g=p.toString(),w="dockerFile"in Be(g)?["dockerFile"]:["build","dockerfile"],x=Dn(g,w,v,{formattingOptions:{}}),y=Eo(g,x);return Buffer.from(y)});return u&&zo(c,"dockerFile"),u}async function NEe(e,t,n,r,o,i,s,a){let{telemetry:c}=e,l=(await t.readFile(o)).toString(),u=Sx(l);if(!u){await vn.window.showErrorMessage(Zt.l10n.t("Invalid docker-compose file '{0}'",o),{modal:!0});return}let d=u.version,p=Object.keys(u&&u.services||{}),f=p.length<2?p[0]||"":await xo(e.quickPick,p.map(g=>({label:g,type:"service"})),Zt.l10n.t("Select a service"),void 0,void 0,!0);if(f==="back")return a();if(f===void 0){zo(c,"canceled");return}let m=typeof f=="string"?f:f.label,h=await yp(e,i,s,async()=>{});if(!h)return;if(h==="back")return a();let v=await Fg(e,t,n,r,h,(g,w)=>{if(Dx(t.path,g)){let x=t.path.sep!==Na.sep?g.replace(Na.sep===Na.win32.sep?/\\/g:/\//g,t.path.sep):g,y=t.path.resolve(n,x),E=t.path.relative(t.path.dirname(y),o),P=t.platform==="win32"?E.replace(/\\/g,"/"):E,D=w.toString(),R=Be(D).dockerComposeFile,N=Array.isArray(R)?R.slice(1):[],k=[P,...N],C=Dn(D,["dockerComposeFile"],k,{formattingOptions:{}}),S=Eo(D,C),b=Dn(S,["service"],m,{formattingOptions:{}}),_=Eo(S,b);return Buffer.from(_)}if(/compose.*\.ya?ml$/.test(Na.posix.basename(g))){let x=w.toString(),y=Sx(x);y.version&&d&&y.version!==d&&(x=x.replace(new RegExp(`^(version:.*)(${Jd(y.version)})`,"m"),`$1${d}`));let E=Object.keys(y&&y.services||{});return E.length&&(x=x.replace(new RegExp(`\\b${E[0]}\\b`),m)),Buffer.from(x)}return w});return v&&zo(c,"dockerComposeFile"),v}function zo(e,t,n,r){var i;let o={outcome:t};if(n){o.definitionName=yd(n.metadata.template.id);let s=n.metadata.copilotSuggestion,a=(i=s==null?void 0:s.template)==null?void 0:i.id;a&&(o.copilotSuggested=yd(a)),o.features=n.metadata.features.map(l=>yd(l.id)).join(",");let c=s==null?void 0:s.features.map(l=>yd(l.id)).join(",");c&&(o.copilotFeatures=c),a&&(o.copilotUsed="true")}r&&(o.targetLocation=r),e.sendTelemetryEvent("createConfiguration",o)}async function bP(e,t,n){if(n||(n=await ef(e,t.configFolderPath)),!n)return;let r=await cr(e,e).readDocument(n);if(!r)return;let o=Be(r);return{uri:n,text:r,object:o}}async function zX(e,t,n,r,o,i,s){let a=lo(n);if(un(a)&&!await qe.workspace.requestWorkspaceTrust({message:Ly}))return Sr(a.hostPath)?(await qe.window.showInformationMessage(kr.l10n.t("The WSL folder is currently not trusted."),{modal:!0,detail:kr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen in WSL.")}),await qe.commands.executeCommand("remote-containers.reopenInWSL")):(await qe.window.showInformationMessage(kr.l10n.t("The local folder is currently not trusted."),{modal:!0,detail:kr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen locally.")}),await qe.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let c=ci(a);if(c&&!await Ay(e,a.repositoryPath))return await qe.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{});let l=cf(a);return{...await LEe(a,e,i,s,t,n,r,o),isTrusted:c||l||void 0}}async function LEe(e,t,n,r,o,i,s,a){let{log:c,logFilePath:l}=n,u="hostPath"in e&&Sr(e.hostPath)&&!!qe.extensions.getExtension("ms-vscode-remote.remote-wsl");u&&qe.commands.executeCommand("setContext","canReopenInWSL",!0);let d=e.settings,p="localDocker"in e&&e.localDocker,f=Dl(e.parentAuthority)||_l(d)&&!p,m=f&&(!!qe.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!qe.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));m&&qe.commands.executeCommand("setContext","canReopenInSSH",!0);let h=ac(e.parentAuthority)&&!!qe.extensions.getExtension("ms-vscode.remote-server");h&&qe.commands.executeCommand("setContext","canReopenInTunnel",!0);let v=!f&&!ac(e.parentAuthority);v&&qe.commands.executeCommand("setContext","canReopenLocally",!0);let g;return qe.window.withProgress({location:qe.ProgressLocation.Notification,title:kg,cancellable:!1},async w=>{if(e.parentAuthority&&!s.execServer)throw new Error(`Parent authority found without ExecServer: ${i}`);let x=Ra(),y=Ul(t.extensionPath,hp,c),{cliHost:E,originalCwd:P}=await FEe(s.execServer,e,x,t.extensionPath,await co(),y,o.product,c),D={...E.type==="local"?await y:void 0,...await lf(E,e.settings)},R={...E.env,...D},N=await Tg({authority:i,extensionContext:t,sessionStart:n.sessionStart,progress:w,cliHost:E,env:R,cwd:E.cwd,wslSettings:x,isLocalContainer:Wm(e.parentAuthority,D),telemetry:o,output:c,logFilePath:l,allowSystemConfigChange:!0,postCreate:r}),k={async createConfiguration(C,S){return _P({fileHost:S,userDataFolderForConfigurations:un(e)?await zc(t,E):void 0,telemetry:o,output:c,openConfigurationCommandId:mp,showLogCommandId:Et},Tt($y.posix,C))},async showError(C,...S){return await qe.window.showErrorMessage(C,{modal:!0},...S)}};g={common:N,parsedAuthority:e,dockerCLI:Rs(),dockerComposePath:ka(),dockerComposeCLI:us({exec:N.cliHost.exec,env:{...D,...lr(D)},output:N.output},Rs(),ka()),dockerSocketPath:hP(),dockerEnv:D,workspaceMountConsistencyDefault:fP(),gpuAvailability:await pP(E,o.product,c),cacheMount:mP()?"volume":"none",configurationTracking:dP(t.workspaceState),removeOnStartup:await eX(t,i),buildNoCache:await nX(t,i),onRemoveOnShutdownChanged:a,userRepositoryConfigurationPaths:Ny(),originalCwd:P,configProvider:k,development:t.extensionMode===qe.ExtensionMode.Development,watch:async(C,S)=>{let b=qe.workspace.createFileSystemWatcher(new qe.RelativePattern(C,"*"));return b.onDidChange(S),b.onDidCreate(S),b.onDidDelete(S),b},ensureNoDisallowedFeatures:(C,S,b)=>$m(C,t.globalState,S,b),useExperimentalLockfile:vP()},await bS(g);try{return await jN(g)}catch(C){return AEe(g,C)}}).then(w=>(a(async x=>{await tX(t,x&&w.dockerContainerId||!1),await Ry(t,x==="rebuildNoCache"?i:!1)}),Vc(o,PU(e),"success",n.sessionStart,g==null?void 0:g.common,w.config,w.configLocationType,w.properties),w),w=>{var k;let x=w instanceof be?w:new be({description:kr.l10n.t("An error occurred setting up the container."),originalError:w});ci(e)&&(x.volumeName=e.volumeName,x.repositoryPath=e.repositoryPath,x.folderPath=e.folder),Vc(o,PU(e),"failure",n.sessionStart,g==null?void 0:g.common,x.config,void 0,x.containerProperties,x);let y="onTheSide",E=(k=x.data)==null?void 0:k.fileWithError;!E&&(g!=null&&g.parsedAuthority)&&un(g.parsedAuthority)&&g.parsedAuthority.configFile&&(E=Pe(g.parsedAuthority.configFile,g.common.cliHost.platform));let P=E&&(g==null?void 0:g.common.cliHost.path.basename(E))||"devcontainer.json",D=un(e)?[{id:"openFileWithErrorLocally",title:kr.l10n.t("Edit {0} Locally",P),isLastAction:!0,applicable:async(C,S)=>v&&!(S&&u),async execute(){let C=g==null?void 0:g.common.cliHost,S=E?C.type==="wsl"?await C.toCommonURI(E):Se.file(E):void 0;await Ig(t,e.hostPath,S,l,y);let b=qe.Uri.file(e.hostPath);await qe.commands.executeCommand("vscode.openFolder",b)}},{id:"openFileWithErrorinWSL",title:kr.l10n.t("Edit {0} in WSL",P),isLastAction:!0,applicable:async()=>u,async execute(){let C=qe.Uri.parse((await Dm(e.hostPath,c)).toString()),S=E?Nn(E.startsWith("/")?"linux":"win32",C,E):void 0;await Ig(t,C.path,S,l,y),await qe.commands.executeCommand("vscode.openFolder",C)}},{id:"openFileWithErrorinSSH",title:kr.l10n.t("Edit {0} in SSH",P),isLastAction:!0,applicable:async()=>m,async execute(){let C=e.settings,S=_l(C)?mx(C.host,e.hostPath):Yl(e.parentAuthority,e.hostPath),b=qe.Uri.parse(S.toString()),_=E?Nn(E.startsWith("/")?"linux":"win32",b,E):void 0;await Ig(t,b.path,_,l,y),await qe.commands.executeCommand("vscode.openFolder",b)}},{id:"openFileWithErrorinTunnel",title:kr.l10n.t("Edit {0} in Tunnel",P),isLastAction:!0,applicable:async()=>h,async execute(){let C=qe.Uri.parse(Yl(e.parentAuthority,e.hostPath).toString()),S=E?Nn(E.startsWith("/")?"linux":"win32",C,E):void 0;await Ig(t,C.path,S,l,y),await qe.commands.executeCommand("vscode.openFolder",C)}}]:[],R=ci(e)?e.inspectVolume?[ud]:[{id:"reopenInRecoveryContainer",title:kr.l10n.t("Edit {0} in Recovery Container",P),isLastAction:!0,applicable:(C,S)=>!0,execute:async C=>{await Ig(t,e.repositoryPath,E?Se.file(E).with({scheme:"vscode-remote"}):void 0,l,y);let S=ai(C.repositoryPath),b=await ko(g),_=nL(S,C.volumeName,b);await qe.commands.executeCommand("remote-containers.inspectVolume",_,C.repositoryPath,C.folderPath)}},ud,{id:"openRepository",title:kr.l10n.t("Open Repository"),isLastAction:!1,applicable:(C,S)=>!S,async execute(){qe.env.openExternal(qe.Uri.parse(e.repositoryPath))}}]:[],N=Mx(e)?[ud]:[];return x.actions=[...Lg,wp,mX,...D,...R,...N,Ng,xp],OEe(x),dd(x,PU(e),o,!0,n.log)})}async function AEe(e,t){let{common:n}=e,{output:r}=n,o=((t==null?void 0:t.originalError)&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();if(n.localWaylandSocket&&o.includes(`path does not exist: ${n.localWaylandSocket}`.toLowerCase())){n.localWaylandSocket=void 0;let i=await jN(e);return(async()=>{let s=os("mountWaylandSocket");for(await ln(3e3);qe.workspace.getConfiguration().get(s,!0);){try{await qe.workspace.getConfiguration().update(s,!1,qe.ConfigurationTarget.Global)}catch{}await ln(3e3)}r.write("Wayland socket mount disabled in user settings.")})().catch(s=>{r.write(at(s&&(s.stack||s.message)||String(s)))}),i}throw t}async function FEe(e,t,n,r,o,i,s,a){let{settings:c}=t,l=c&&"host"in c&&c.host||void 0;if(un(t)){let u=Tt($y,t.hostPath),d=u.rootFolderPath,p=await Ro(e?{server:e,authority:t.parentAuthority}:void 0,l,u.rootFolderPath,Wn,n,r,o,s,a,Ns,{sshAskpassEnv:i,settings:Pg(),localDocker:t.localDocker});return p.cwd!==u.rootFolderPath&&(u=Tt(p.path,u.isWorkspaceFile?p.path.join(p.cwd,$y.basename(t.hostPath)):p.cwd)),a.write(`Setting up container for folder or workspace: ${u.workspaceOrFolderPath}\r
`),CS(a,t),t.localDocker&&a.write(`Local Docker: ${t.localDocker}\r
`),{cliHost:p,originalCwd:d}}else{let u=await Ro(e?{server:e,authority:t.parentAuthority}:void 0,l,void 0,Wn,n,r,o,s,a,Ns,{sshAskpassEnv:i,settings:Pg()});return{cliHost:u,originalCwd:await u.homedir()}}}function PU(e){return un(e)?"config":ci(e)?e.inspectVolume?"volume":"repository":"volume"}function OEe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description=kr.l10n.t("The drive of the workspace folder is not shared. Share it in the Docker settings first."):t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description=kr.l10n.t("A port the container is setup to bind to is already in use. See the Dev Containers terminal for details."):t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description=kr.l10n.t("A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running."):t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description=kr.l10n.t("The base image references the obsolete Debian 8 update repository."),e.actions.push({id:"learnMore",title:kr.l10n.t("Learn More"),isLastAction:!1,applicable:(n,r)=>r,async execute(){qe.env.openExternal(qe.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Aa=G(require("vscode")),Hg=require("vscode");var DP=G(Ar());var KX=require("util");var La=G(require("path")),JX=G(require("crypto"));async function XX(e,t,n,r){var m,h;let{dockerCLI:o,dockerComposeCLI:i,dockerComposePath:s,common:a}=e,{cliHost:c,extensionPath:l,appRoot:u,postCreate:d,output:p}=a,f;try{let{commit:v}=a.product;if(!v)throw new be({description:DP.t("Cannot attach without commit id for the remote extension host.")});let g=r?n.configFilePath:void 0;if((g==null?void 0:g.scheme)==="file"&&c.type!=="local"){let L=c.path.join(await c.tmpdir(),`devcontainer-config-${JX.randomUUID()}.json`);await c.writeFile(L,await lt(g.fsPath)),g=Se.from({scheme:et.scheme,path:L})}let w={...a.env,...lr(a.env)},x={cliHost:c,dockerPath:o,dockerComposePath:s,env:w,extensionPath:l,appRoot:u,package:a.package,postCreate:d,output:p},y=a.postCreate.output.dimensions||p.dimensions,E=await oi(x,["set-up","--container-id",t.Id,...c.type==="local"&&a.persistedFolder?["--user-data-folder",a.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...a.containerSessionDataFolder?["--container-session-data-folder",a.containerSessionDataFolder]:[],"--log-level",ro(a.getLogLevel()),"--log-format","json",...g?["--config",Pe(g,c.platform)]:[],"--default-user-env-probe",a.defaultUserEnvProbe,"--skip-post-create",...y?["--terminal-columns",String(y.columns),"--terminal-rows",String(y.rows)]:[],"--include-configuration","--include-merged-configuration"]);if((E==null?void 0:E.outcome)!=="success")throw new be({description:DP.t("devcontainer command failed: {0}",JSON.stringify(E))});E.configuration.configFilePath=E.mergedConfiguration.configFilePath=E.configuration.configFilePath&&Se.revive(E.configuration.configFilePath).with({scheme:c.type==="local"?"file":et.scheme});let P=E.mergedConfiguration,D=P.remoteUser;f=await Um(e,t.Id,P.workspaceFolder,D);let R={cliHost:c,dockerCLI:o,dockerComposeCLI:i,dockerComposePath:s,env:w,output:d.output},N=((h=(((m=P.customizations)==null?void 0:m.vscode)||[]).slice().reverse().find(L=>typeof L.devPort=="number"))==null?void 0:h.devPort)||Rl,{hostOrContainerPort:k,hostPortServer:C,connectionToken:S,remoteEnv:b,serverDownloaded:_}=await Nl(a,f,n,P,N,Mm(e,R,f,void 0,void 0,t.Id,!1,g,void 0)),A=cr(a.cliHost,f.shellServer);if(UEe(a,f,A,n.configFilePath),$Ee(a,f,A,n.configFilePath),C){let L=async()=>{await(0,KX.promisify)(C.close.bind(C))()};a.shutdowns.push(L)}return{params:a,properties:f,config:n,resolvedAuthority:{host:oc,port:k,connectionToken:S,extensionHostEnv:b},tunnelInformation:a.isLocalContainer?Om(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:_}}catch(v){let g=v instanceof be?v:new be({description:DP.t("An error occurred attaching to the container."),originalError:v});throw t&&(g.manageContainer=!1,g.params=e.common,g.containerId=t.Id,g.dockerParams=e),f&&(g.containerProperties=f),g.config=n,g}}function UEe(e,t,n,r){t.installFolder&&ZX(e,t,n,r).catch(console.error)}async function ZX(e,t,n,r){try{await tc(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],Yz(t),{print:"off"});return}catch(o){(o==null?void 0:o.code)===1?await MEe(e,t,n,r):(o==null?void 0:o.code)!==2&&await ln(6e4)}return ZX(e,t,n,r)}async function MEe(e,t,n,r){let o=await Vz(e,t);await PN(r,async()=>{var s,a;let i=await PP(e.cliHost,n,r,t.remoteWorkspaceFolder);if(!HEe(((a=(s=i.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],o)){let c=Dn(i.text,["extensions"],o,{formattingOptions:{}});await Li(n,r,c,i.text)}})}function $Ee(e,t,n,r){QX(e,t,n,r).catch(console.error)}async function QX(e,t,n,r){try{let o=Bb(t),i=La.posix.dirname(o),s=La.posix.basename(o);await tc(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],i,{print:"off"});return}catch(o){(o==null?void 0:o.code)===1?await jEe(e.cliHost,t,n,r):(o==null?void 0:o.code)!==2&&await ln(6e4)}return QX(e,t,n,r)}async function jEe(e,t,n,r){let{stdout:o}=await t.shellServer.exec(`cat ${Bb(t)}`),i=Be(o)||{};await PN(r,async()=>{var a,c;let s=await PP(e,n,r,t.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(i)){let l=Dn(s.text,["settings"],i,{formattingOptions:{}});await Li(n,r,l,s.text)}})}function HEe(e,t){let n=new Set(e),r=new Set(t);return n.size===r.size&&e.every(o=>r.has(o))}async function eZ(e,t){let n=TP(e,t),r=await GX(n);return r||(n=rZ(e,t.Config.Image),r=await GX(n)),r}async function tZ(e,t,n,r,o){let i=Se.file(TP(n,r)),s=await PP(e,t,i,o);return s.exists||(i=Se.file(rZ(n,r.Config.Image)),s=await PP(e,t,i,o)),s}function IP(e){return La.join(e,"nameConfigs")}function TP(e,t){return La.join(IP(e),`${iZ(cc(t))}.json`)}async function nZ(e){try{let t=IP(e);return(await Zc(t)).filter(r=>r.endsWith(".json")).map(r=>({name:sZ(r.substr(0,r.length-5)),uri:Se.file(La.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function kP(e){return La.join(e,"imageConfigs")}function rZ(e,t){return La.join(kP(e),`${iZ(t)}.json`)}async function oZ(e){try{let t=kP(e);return(await Zc(t)).filter(r=>r.endsWith(".json")).map(r=>({image:sZ(r.substr(0,r.length-5)),uri:Se.file(La.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function iZ(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function sZ(e){return e.replace(/%([0-9a-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}async function GX(e){if(!await wr(e))return;let t=await lt(e),n=Be(t.toString())||{},r=Ix(n);return r.configFilePath=Se.file(e),r}async function PP(e,t,n,r){let o=await t.readDocument(n),i=o||rc,s=Be(i)||{},a=Ix(s),c=Ab({platform:e.platform,configFile:n,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:r},a);return c.configFilePath=n,{exists:!!o,text:i,config:c}}async function aZ(e,t,n,r,o,i){return await ld(e)?{...await BEe(e,t,n,r,o,i),isTrusted:!0}:(await Aa.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function BEe(e,t,n,r,o,i){let s,a;return Aa.window.withProgress({location:Aa.ProgressLocation.Notification,title:kg,cancellable:!1},async c=>{var l,u;try{let d=uf(n);if(d.parentAuthority&&!r.execServer)throw new Error(`Parent authority found without ExecServer: ${n}`);let{settings:p}=d,f="containerName"in d?d.containerName:d.containerId;o.log.write(`Setting up container: ${f}\r
`),CS(o.log,d);let m=p&&"host"in p&&p.host||void 0,h=Ra(),v=Ul(e.extensionPath,hp,o.log),g=await Ro(r.execServer?{server:r.execServer,authority:d.parentAuthority}:void 0,m,d.cwd,Wn,h,e.extensionPath,await co(),t.product,o.log,Ns,{sshAskpassEnv:v,settings:Pg()}),w=Rs(),x={...g.type==="local"?await v:void 0,...await lf(g,p)},y=us({exec:g.exec,env:{...x,...lr(x)},output:o.log},Rs(),ka()),E={...g.env,...x},P=await si({cliHost:g,dockerCLI:w,dockerComposeCLI:y,dockerComposePath:ka(),env:E,output:o.log},"containerName"in d?d.containerName:d.containerId);if(!P)throw new be({description:Hg.l10n.t("Cannot attach to the container with name/id {0}, it no longer exists.",f),data:{reload:!1,attach:!0}});let D=(u=(l=(Aa.workspace.workspaceFolders||[void 0])[0])==null?void 0:l.uri)==null?void 0:u.path,R=await tZ(g,ss,e.globalStoragePath,P,D);if(D&&R.config.workspaceFolder!==D){let S=Dn(R.text,["workspaceFolder"],D,{formattingOptions:{}});await Li(ss,R.config.configFilePath,S,R.text)}s={common:await Tg({authority:n,extensionContext:e,sessionStart:o.sessionStart,progress:c,cliHost:g,env:E,cwd:d.cwd||await g.homedir(),wslSettings:h,isLocalContainer:Wm(d.parentAuthority,x),telemetry:t,output:o.log,logFilePath:o.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:d,dockerCLI:w,dockerComposePath:ka(),dockerComposeCLI:y,dockerSocketPath:hP(),dockerEnv:x,workspaceMountConsistencyDefault:fP(),gpuAvailability:await pP(g,t.product,o.log),cacheMount:mP()?"volume":"none",configurationTracking:dP(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===Aa.ExtensionMode.Development,ensureNoDisallowedFeatures:(S,b,_)=>$m(S,e.globalState,b,_),useExperimentalLockfile:vP()},await bS(s);let N=Hm(d.parentAuthority,p),k=cc(P),C=Hg.l10n.t("Container {0} ({1}){2}",P.Config.Image,k,N);if(s.common.setWorkspaceName(C),P.State.Status!=="running")throw new be({description:Hg.l10n.t("Cannot attach to the container {0} ({1}){2}, it is not running.",P.Config.Image,k,N),params:s.common,containerId:P.Id,dockerParams:s,data:{reload:!1,start:!0}});return await XX(s,P,R.config,R.exists)}catch(d){let p=d instanceof be?d:new be({description:Hg.l10n.t("An error occurred attaching to the container."),originalError:d});throw p.actions=[hX,gX,...Lg,wp,ud,Ng,xp],p}}).then(c=>(Vc(t,"attach","success",o.sessionStart,s==null?void 0:s.common,a,void 0,c.properties),c),c=>{let l=c instanceof be?c:new be({description:Hg.l10n.t("An error occurred attaching to the container."),originalError:c});return Vc(t,"attach","failure",o.sessionStart,s==null?void 0:s.common,a,void 0,l.containerProperties,l),dd(l,"attach",t,!0,o.log)})}var dt=G(require("vscode")),Ye=require("vscode");var an=G(require("vscode")),Fa=require("vscode"),lZ=G(require("path")),Ep=G(require("os")),jy=G(require("fs")),uZ=G(require("child_process")),dZ=G(require("crypto")),fZ=G(pv());async function NP(e){YEe()?await new IU().downloadAndInstallDocker(e):pZ()?await new TU().downloadAndInstallDocker(e):await an.env.openExternal(an.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var RP=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let r=Fa.l10n.t("Downloading Docker installer..."),o=Fa.l10n.t("The Docker Desktop installation is started. Complete the installation and then start Docker Desktop."),i;try{i=await an.window.withProgress({location:an.ProgressLocation.Notification,title:r},async()=>this.downloadInstaller())}catch(a){let c=Fa.l10n.t("Downloading the Docker Desktop installer failed. Do you want to manually download and install?"),l=Fa.l10n.t("Download");throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(i);an.window.showInformationMessage(o);try{await this.install(i,s,t)}catch(a){let c=Fa.l10n.t("Docker Desktop installation failed. ({0})",String(a==null?void 0:a.message)),l=Fa.l10n.t("Install Instruction");throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let n=!0;if(await new kU(t).isDockerInstalledRealTimeCheck()){let r=Fa.l10n.t("Docker Desktop is already installed. Would you like to reinstall?"),o=Fa.l10n.t("Reinstall");n=await an.window.showInformationMessage(r,{modal:!0},o)!==void 0}return n}async downloadInstaller(){let t=`${WEe()}.${this.fileExtension}`;return await zEe(this.downloadUrl,t),t}handleError(t,n,r){an.window.showErrorMessage(t,{title:n}).then(o=>{o&&an.env.openExternal(an.Uri.parse(r))})}},IU=class extends RP{downloadUrl="https://aka.ms/download-docker-windows-vscode";fileExtension="exe";getInstallCommand(t){return`"${t}"`}async install(t,n,r){try{r.write(`Executing command ${n}`),await mZ(n,r)}finally{try{await jy.promises.stat(t),await jy.promises.unlink(t)}catch{}}}},TU=class extends RP{downloadUrl=`https://aka.ms/download-docker-mac${process.arch==="arm64"?"-arm64":""}-vscode`;fileExtension="dmg";getInstallCommand(t){return`chmod +x '${t}' && open '${t}'`}async install(t){let n=Fa.l10n.t("Docker Install"),r=this.getInstallCommand(t);await VEe(r,n,{addDockerEnv:!1})}},qEe=0;function WEe(){return lZ.join(Ep.tmpdir(),`${an.env.sessionId}-${qEe++}.tmp`)}function YEe(){return Ep.platform()==="win32"}function pZ(){return Ep.platform()==="darwin"}async function VEe(e,t,n){var a,c;let r;n=n??{},n.addDockerEnv&&(r={});let o=new an.Task({type:"shell"},n.workspaceFolder??an.TaskScope.Workspace,t,"Docker",new an.ShellExecution(e,{cwd:n.cwd||((c=(a=n.workspaceFolder)==null?void 0:a.uri)==null?void 0:c.fsPath)||Ep.homedir(),env:r}),[]);n.alwaysRunNew&&(o.definition.idRandomizer=dZ.randomUUID()),n.focus&&(o.presentationOptions={focus:!0});let i=await an.tasks.executeTask(o);return new Promise((l,u)=>{let d=an.tasks.onDidEndTaskProcess(p=>{p.execution===i&&(d.dispose(),p.exitCode&&n.rejectOnError&&u(p.exitCode),l())})})}var kU=class{constructor(t){this.output=t;this.isDockerInstalledLazy=new NU(async()=>{let n=await this.isDockerInstalledRealTimeCheck();return n&&this.isDockerInstalledLazy.cacheForever(),n},this.maxCacheTime)}maxCacheTime=3e4;isDockerInstalledLazy;async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{let t=await ti("docker");return await mZ(`${t} -v`,this.output),!0}catch{return!1}}};async function zEe(e,t){await new Promise((n,r)=>{let o=jy.createWriteStream(t);fZ.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){r(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",r),s.pipe(o),s.on("end",n)}).on("error",r)})}var cZ=10*1024;async function mZ(e,t,n,r){let o=Buffer.alloc(n&&n.maxBuffer||cZ),i=Buffer.alloc(n&&n.maxBuffer||cZ);return await GEe(e,t,n,r,o,r,i),{stdout:RU(o),stderr:RU(i)}}async function GEe(e,t,n,r,o,i,s,a){return await new Promise((c,l)=>{let u,d=0,p=0;n=n||{},n.shell=!0,KEe(n,t);let f=uZ.spawn(e,n);f.on("error",m=>(u&&(u.dispose(),u=void 0),l(m))),f.on("close",(m,h)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(m){let v=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${m}`;s&&(v+=`
Error: ${RU(s)}`);let g=new Error(v);return g.code=m,g.signal=h,g.stdErrHandled=i!==null,l(g)}return c()}),n!=null&&n.stdin&&(f.stdin.write(n.stdin),f.stdin.end()),(r||o)&&f.stdout.on("data",m=>{let h=m.toString();r&&r(h,f),o&&(d+=o.write(h,d))}),(i||s)&&f.stderr.on("data",m=>{let h=m.toString();i&&i(h,f),s&&(p+=s.write(h,p))}),a&&(u=a.onCancellationRequested(()=>{f.kill()}))})}function KEe(e,t){var n;pZ()&&(/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((n=e==null?void 0:e.env)==null?void 0:n.PATH)||process.env.PATH||"")||(e=e??{},e.env=e.env??{...process.env},t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`))}function RU(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var NU=class{constructor(t,n){this.valueFactory=t;this._valueLifetime=n}_isValueCreated=!1;_value;_valuePromise;get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let n=await this._valuePromise;if(t&&(this._value=n,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let r=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(r)},this._valueLifetime)}return n}};var hZ=G(require("os")),Bg=G(require("crypto")),gZ=G(require("net")),vZ=G(require("path")),Qt=G(require("vscode")),cn=require("vscode");var xZ=require("string_decoder");var wZ="done",LP="devcontainers";async function FP(e,t,n,r){return Qt.commands.executeCommand(Et),Qt.window.withProgress({location:Qt.ProgressLocation.Notification,title:"Installing Docker in WSL"},async o=>{let i={},s={};try{await JEe(e,t,n,o,i,s)}catch(a){i.outcome="error",i.errorMessage=a==null?void 0:a.message,t.write(`Failed with error: ${(a==null?void 0:a.message)||a}`)}finally{r.sendTelemetryEvent("installDockerInWSL",i,s)}return i.outcome===wZ})}async function yZ(e){if(process.platform!=="win32")return!1;let t=CZ();if(e.write(`Windows build number: ${t}`),t<Hy)return e.write(`WSL version 2 is required to run Docker and that is only available since Windows build ${Hy}.`),!1;let n=await Hr(process.cwd(),Wn,e);return!await AP(n,t,e)&&t<EZ?(e.write(`WSL is not installed and can only be installed automatically since Windows build ${Hy}.`),!1):!0}async function JEe(e,t,n,r,o,i){let s=CZ();if(t.write(`Windows build number: ${s}`),s<Hy)return o.outcome="wsl2NotAvailableForWindowsBuild",Qt.window.showInformationMessage(cn.l10n.t("WSL version 2 is required to run Docker and that is only available since Windows build {0}.",Hy),{modal:!0});let a=await Hr(process.cwd(),Wn,t);if(r.report({message:cn.l10n.t("Checking if WSL is installed.")}),!await AP(a,s,t)){if(s<EZ)return o.outcome="wslInstallerNotAvailableWithWindowsBuild",Qt.window.showInformationMessage(cn.l10n.t("WSL is not installed. Please install WSL manually and retry."),{modal:!0});if(r.report({message:cn.l10n.t("Installing WSL.")}),await ZEe(a,e.extensionPath,t,n))return o.outcome="rebootRequiredAfterWSLInstall",Qt.window.showInformationMessage(cn.l10n.t("Please reboot your machine to finalize the WSL setup."),{modal:!0});if(!await AP(a,s,t)&&(await new Promise(D=>setTimeout(D,3e3)),!await AP(a,s,t)))return o.outcome="wslNotFoundAfterInstall",Qt.window.showInformationMessage(cn.l10n.t("WSL not found after install."),{modal:!0})}r.report({message:cn.l10n.t("Checking WSL version.")}),o.wslVersion=await QEe(a,t),r.report({message:cn.l10n.t("Listing installed WSL distributions.")});let l=await LU(a,t);if(!l.length){if(r.report({message:cn.l10n.t("Installing WSL distribution.")}),await tCe(a,t,n))return o.outcome="featureMissingDuringDistroInstall",Qt.window.showInformationMessage(cn.l10n.t("A required feature is missing. Please reboot your machine to finalize the WSL setup if you haven't done so yet."),{modal:!0});if(l=await LU(a,t),!l.length&&(await new Promise(E=>setTimeout(E,3e3)),l=await LU(a,t),!l.length))return o.outcome="noDistroAfterInstall",Qt.window.showInformationMessage(cn.l10n.t("No WSL distro found after install."),{modal:!0})}i.wslDistros=l.length;let u=l.find(y=>y.isDefault);if(!u&&l.length===1&&(u=l[0]),!u)return o.outcome="noDefaultDistro",Qt.window.showInformationMessage(cn.l10n.t("No default WSL distro found."),{modal:!0});if(o.isDefaultDistro=String(u.isDefault),u.version!=="2")return o.outcome="defaultDistroNotVersion2",Qt.window.showInformationMessage(cn.l10n.t("Default distro is not using WSL version 2."),{modal:!0});r.report({message:cn.l10n.t("Reading distribution information.")});let d=Gd("wsl",["-u","root","-e"],void 0),p=await zt(d,t,void 0,"linux","Host"),{stdout:f}=await p.exec("cat /etc/os-release || cat /usr/lib/os-release || true"),m=nCe(f);if(o.distro=m.ID,m.ID!=="debian"&&m.ID!=="ubuntu")return o.outcome="distroNotSupported",Qt.window.showInformationMessage(m.NAME?cn.l10n.t("Unsupported WSL distribution: {0}",m.NAME):cn.l10n.t("Unsupported WSL distribution."),{modal:!0});let h=Gd("wsl",["-e"],void 0),v=await zt(h,t,void 0,"linux","Host"),g=await bl(v);if(g==="root"){try{await p.exec(`id ${LP}`)}catch{await p.exec(`useradd --create-home --shell /usr/bin/bash --user-group --groups adm,dialout,cdrom,floppy,sudo,audio,dip,video,plugdev,netdev --password '${Bg.randomUUID()}' ${LP}`)}if(await p.exec(`cat >>/etc/wsl.conf <<'wslConf'
[user]
default=${LP}
wslConf
`),await se({exec:a.exec,cmd:"wsl",args:["--terminate",u.name],output:t,print:"continuous"}),p=await zt(d,t,void 0,"linux","Host"),v=await zt(h,t,void 0,"linux","Host"),await bl(v)==="root")return o.outcome="failedToSwitchUser",Qt.window.showInformationMessage(cn.l10n.t("Default user in WSL is root, requiring a regular user."),{modal:!0})}let w=await AU(v,"docker")||await AU(p,"docker")||await AU(p,"dockerd");if(w){await p.exec(`usermod -aG docker ${g}`).catch(()=>{});let y=cn.l10n.t("Reinstall");if(await Qt.window.showInformationMessage(cn.l10n.t("Docker is already installed in WSL."),{modal:!0,detail:cn.l10n.t("Path: {0}",w)},y)!==y){o.outcome="dockerAlreadyInstalled";return}}r.report({message:cn.l10n.t("Installing Docker.")}),await p.exec("export DEBIAN_FRONTEND=noninteractive"),await p.exec("apt update && apt -y install --no-install-recommends apt-transport-https ca-certificates curl gnupg2"),await p.exec(`curl -fsSL https://download.docker.com/linux/${m.ID}/gpg | tee /etc/apt/trusted.gpg.d/docker.asc`),await p.exec(`echo "deb [arch=$(dpkg --print-architecture)] https://download.docker.com/linux/${m.ID} ${m.VERSION_CODENAME} stable" | tee /etc/apt/sources.list.d/docker.list`),await p.exec("apt update && apt -y install --no-install-recommends docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin"),await p.exec(`usermod -aG docker ${g}`),r.report({message:cn.l10n.t("Updating Settings.")});let x=Qt.workspace.getConfiguration();await x.update(os("executeInWSL"),!0,Qt.ConfigurationTarget.Global),await x.update(os("executeInWSLDistro"),u.isDefault?void 0:u.name,Qt.ConfigurationTarget.Global),o.outcome=wZ}var Hy=18917,EZ=20262;function CZ(){let e=hZ.release(),t=process.platform==="win32"&&e&&/(\d+)\.(\d+)\.(\d+)/g.exec(e);return t&&t.length===4?parseInt(t[3]):0}async function AP(e,t,n){if(e.platform!=="win32")return!1;if(t>=22e3)try{return await se({exec:e.exec,cmd:"wsl",args:["--status"],output:n,print:"continuous"}),!0}catch{return n.write("WSL feature installed: false (wsl --status failed)"),!1}else{let r=XEe(e);if(r){let o=await e.isFile(r);return n.write(`WSL feature installed: ${o} (dll path: ${r})`),o}return n.write("WSL feature installed: false (no dll path)"),!1}}function XEe(e){let t=e.env.SystemRoot;if(t){let n=e.env.PROCESSOR_ARCHITEW6432;return e.path.join(t,n?"Sysnative":"System32","lxss","LxssManager.dll")}}async function ZEe(e,t,n,r){let{wrappedOutput:o,wrappedInput:i}=bZ(n,r);try{let s=e.path.join(await e.tmpdir(),`wsl-install-${Bg.randomUUID()}.js`);await e.writeFile(s,await lt(vZ.join(t,"dist/extension/runAsMain.js")));let a=`\\\\.\\pipe\\wsl-install-${Bg.randomUUID()}-sock`,c=e.path.join(await e.tmpdir(),`wsl-install-${Bg.randomUUID()}.bat`),l=Tx(e),u=await TN({cliHost:e,env:{RUN_AS_CMD:await ti("wsl"),RUN_AS_ARGS:JSON.stringify(["--install"]),...n.dimensions?{RUN_AS_COLS:String(n.dimensions.columns),RUN_AS_ROWS:String(n.dimensions.rows)}:{},RUN_AS_SOCKET:a,ELECTRON_RUN_AS_NODE:"1"},appRoot:Qt.env.appRoot},l.cmd)||{},d=`@echo off

${Object.keys(u).map(h=>`set ${h}=${u[h]}`).join(`
`)}
"${l.cmd}" ${l.args.map(h=>`"${h}"`).join(" ")} "${s}"
`;await e.writeFile(c,Buffer.from(d.replaceAll(/\r?\n/g,`\r
`)));let p="",f=new gZ.Server(h=>{f.close();let v=new xZ.StringDecoder;h.on("data",g=>{let w=v.write(g);o.raw(w),p+=w}),i.event(g=>h.write(g))});return f.listen(a),await Ws({ptyExec:e.ptyExec,cmd:"powershell.exe",args:["Start-Process","-FilePath",`'${c}'`,"-Verb","RunAs","-WindowStyle","Hidden","-Wait"],output:o,onDidInput:i.event}),p.replace(Fs,"").replaceAll(/\s/g,"").indexOf("untilthesystemisrebooted")!==-1}finally{i.dispose()}}async function QEe(e,t){try{let{stdout:n}=await se({exec:e.exec,cmd:"wsl",args:["--version"],output:t,print:"continuous"});return n.toString("utf16le").match(/^.*$/m)[0]}catch{return"unknown"}}async function LU(e,t){try{let{stdout:n}=await se({exec:e.exec,cmd:"wsl",args:["-l","-v"],output:t,print:"continuous"});return eCe(n.toString("utf16le"))}catch{return[]}}function eCe(e){let t=/\r\n/.test(e)?`\r
`:`
`,n=e.split(t),r=/^(?<default>\*|\s)\s*(?<name>[a-zA-Z0-9\.\-_]+)\s+(?<state>\w+)\s+(?<version>\d)/,o=[];for(let i=1;i<n.length;i++){let s=r.exec(n[i]);if(s!=null&&s.groups){let a=s.groups.name,c=s.groups.version,l=i===1;o.push({name:a,isDefault:l,version:c})}}return o}async function tCe(e,t,n){await se({exec:e.exec,cmd:"wsl",args:["--set-default-version","2"],output:t,print:"continuous"});let{wrappedOutput:r,wrappedInput:o}=bZ(t,n);try{let{cmdOutput:i}=await Ws({ptyExec:e.ptyExec,cmd:"wsl",args:["--install","-d","Ubuntu"],output:r,onDidInput:o.event});return i.replace(Fs,"").replaceAll(/\s/g,"").indexOf("0x80370114")!==-1}finally{o.dispose()}}function bZ(e,t){let n=t(a=>r.fire(a)),r=new As(n),o="",i=Bg.randomUUID();return{wrappedOutput:Pn({...e,get dimensions(){return e.dimensions},event:a=>{if(e.event(a),a.type==="text"||a.type==="raw"){o+=a.text;let c=o.replace(Fs,"");/Enter new UNIX username:\s*$/.test(c)?r.fire(`${LP}\r`):/(New|Retype new) password:\s*$/.test(c)?r.fire(`${i}\r`):/any key to continue\.*\s*$/.test(c)?r.fire("\r"):/Installation successful!/.test(c)&&r.fire("exit\r")}}}),wrappedInput:r}}function nCe(e){return e.split(`
`).reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substring(0,r)]=n.substring(r+1)),t},{})}async function AU(e,t){try{let{stdout:n}=await e.exec(`command -v ${t}`);return n.trim()}catch{return}}var rCe={reopenInContainer:Ye.l10n.t("Do you want to continue with reopening the folder in a container?"),openInContainer:Ye.l10n.t("Do you want to continue with opening a folder in a container?"),cloneInVolume:Ye.l10n.t("Do you want to continue with cloning a repository in a Docker volume?"),attachToContainer:Ye.l10n.t("Do you want to continue with attaching to a container?"),checkoutPRInVolume:Ye.l10n.t("Do you want to continue with checking out a pull-request in a Docker volume?"),createDevContainer:Ye.l10n.t("Do you want to continue with creating a Dev Container?"),inspectVolume:Ye.l10n.t("Do you want to continue with inspecting a Docker volume?"),trySample:Ye.l10n.t("Do you want to continue with trying a sample Dev Container?")},oCe=`[${Ye.l10n.t("Starting Docker (show log)")}](command:${Et} "${Ye.l10n.t("Show details in terminal")}")`;async function no(e,t,n,r,o,i){var d;let s=await st(e,t,i),a=(d=(dt.workspace.workspaceFolders||[])[0])==null?void 0:d.uri;a&&(a.scheme==="file"&&Sr(a.fsPath)||Pm(a))&&(s=await st(e,s.output,a));let c=qy(s,r),l=await Promise.race([c,new Promise(p=>setTimeout(()=>p("timeoutOrCanceled"),2e3))]);if(l==="timeoutOrCanceled"&&(l=await dt.window.withProgress({location:dt.ProgressLocation.Notification,title:oCe,cancellable:!0},async(p,f)=>Promise.race([c,new Promise(m=>{let h=f.onCancellationRequested(()=>{h.dispose(),m("timeoutOrCanceled")})})])),l==="timeoutOrCanceled"))return!1;let u=await c;if(u==="permission")return await dt.window.showErrorMessage(Ye.l10n.t("Current user does not have permission to run 'docker'."),{modal:!0,detail:Ye.l10n.t("Try adding the user to the 'docker' group.")},Ye.l10n.t("Documentation"))&&dt.env.openExternal(dt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(u==="ssh")return await dt.window.showErrorMessage(Ye.l10n.t("Cannot connect to Docker daemon using 'ssh'."),{modal:!0,detail:Ye.l10n.t("Make sure public/private keys are set up for connecting without keyboard interaction.")},Ye.l10n.t("Show Log"))&&dt.commands.executeCommand(Et),!1;if(u==="daemon")return await dt.window.showErrorMessage(Ye.l10n.t("Docker returned an error."),{modal:!0,detail:Ye.l10n.t("Make sure the Docker daemon is running.")},Ye.l10n.t("Show Log"))&&dt.commands.executeCommand(Et),!1;if(u==="cwd")return await dt.window.showErrorMessage(Ye.l10n.t("Workspace folder does not exist.",s.cliHost.cwd),{modal:!0,detail:s.cliHost.cwd},Ye.l10n.t("Show Log"))&&dt.commands.executeCommand(Et),!1;if(u==="command"&&(s.cliHost.type==="local"||s.cliHost.type==="wsl")&&await yZ(s.output)){let p=Ye.l10n.t("Install");if(await dt.window.showInformationMessage(Ye.l10n.t("Dev Containers require Docker to run."),{modal:!0,detail:Ye.l10n.t("Do you want to install Docker in WSL?")},p)===p){if(pd(r,"installInWSL","install"),await FP(e,s.output,n,r)){let h=Ye.l10n.t("Continue");return await dt.window.showInformationMessage(Ye.l10n.t("Docker has been installed. {0}",rCe[o]),h)===h?(pd(r,"continueAfterInstall","continue"),!0):(pd(r,"continueAfterInstall","cancel"),!1)}return!1}return pd(r,"installInWSL","cancel"),!1}if(!u||u==="command"){if(s.cliHost.type==="wsl")await dt.window.showErrorMessage(Ye.l10n.t("Docker Desktop WSL 2 backend required."),{modal:!0},Ye.l10n.t("Read more on docker.com"))&&dt.env.openExternal(dt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let p=Ye.l10n.t("Install"),f=Ye.l10n.t("License"),m=Ye.l10n.t("Ignore"),h=[],v=[];u==="command"&&s.dockerCLI!=="docker"&&v.push(Ye.l10n.t("Command not found: '{0}'.",s.dockerCLI)),s.cliHost.type==="local"&&(h.push(p,f),v.push(Ye.l10n.t("Check the license for details."))),u===!1&&h.push(m);let g=v.join(" "),w=s.cliHost.type==="remote"?Ye.l10n.t("Docker version 17.12.0 or later required on remote host."):Ye.l10n.t("Docker version 17.12.0 or later required."),x=await dt.window.showErrorMessage(w,{modal:!0,detail:g},...h);if(x===p)return NP(s.output).then(console.error),pd(r,"dockerDesktop","install"),!1;if(x===f)return dt.env.openExternal(dt.Uri.parse("https://aka.ms/docker-subscription-service-agreement")),pd(r,"dockerDesktop","license"),!1;if(x===m)return pd(r,"dockerDesktop","ignore"),!0;pd(r,"dockerDesktop","cancel")}return!1}return u==="wsl1"?(await dt.window.showErrorMessage(Ye.l10n.t("WSL 2 distro required."),{modal:!0,detail:Ye.l10n.t("The WSL distro is running with WSL 1.")},Ye.l10n.t("Read more on docker.com"))&&dt.env.openExternal(dt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}function pd(e,t,n){e.sendTelemetryEvent("dockerVersionUserChoice",{dialog:t,choice:n})}async function qy(e,t,n=!0){var a,c,l,u;let r;try{r=(await iL(e,Wn,n,"version","--format","{{json .}}")).stdout.toString()}catch(d){console.error(d);let p=d&&(d.stderr?d.stderr.toString():d.message)||"";By(t,"error",void 0,p);let f=p.toLowerCase();return f.indexOf("permission denied")!==-1?f.indexOf("ssh")!==-1?"ssh":"permission":f.indexOf("enoent")!==-1||f.indexOf("not found")!==-1||f.indexOf("notfound")!==-1?await e.cliHost.isFolder(e.cliHost.cwd)?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):"cwd":e.cliHost.type==="wsl"&&((l=(c=(a=d==null?void 0:d.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let o;try{let d=Be(r);o=(u=d==null?void 0:d.Server)==null?void 0:u.ApiVersion}catch{}let i=o&&Ib(o);if(!i&&r.toLowerCase().indexOf("error during connect")!==-1)return By(t,"error",void 0,r),"daemon";if(!i)return By(t,"unparsed",r),!0;let s=!Tb(i,[1,35]);return!s&&await i3(e)?(By(t,"podman",r),!0):(By(t,s?"success":"failure",r),s)}function By(e,t,n,r){let o={outcome:t};n&&(o.version=n),r&&(o.errorMessage=r),e.sendTelemetryEvent("dockerVersion",o)}async function SZ(e){try{let t=Fi(e,await e.dockerComposeCLI());return await Nx({...t,print:!0},"version","--short"),!0}catch(t){return(t==null?void 0:t.code)==="ENOENT"?await dt.window.showErrorMessage(Ye.l10n.t("Docker Compose required"),{modal:!0,detail:e.dockerComposePath!=="docker-compose"?Ye.l10n.t("Command not found: '{0}'.",e.dockerComposePath):void 0},Ye.l10n.t("Documentation"))&&dt.env.openExternal(dt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")):await dt.window.showErrorMessage(Ye.l10n.t("Docker Compose returned an error."),{modal:!0},Ye.l10n.t("Show Log"))&&dt.commands.executeCommand(Et),!1}}var qg=G(require("vscode"));var OP=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,n){let r=[],o=xd(t.getText());if(!o)return r;let i=iE(o)||{};return i.configFilePath=t.uri,To(i)&&this._linksForDockerfile(r,i,o,t),"dockerComposeFile"in i&&await this._linksForDockerCompose(r,i,o,t),r}_tryAddDocumentLinkToBucket(t,n,r,o,i){let s=t.positionAt(n),a=t.positionAt(r);s.compareTo(a)!==0&&i.push(new qg.DocumentLink(new qg.Range(s,a),o))}_linksForDockerfile(t,n,r,o){let i=Xi(r,["build","dockerfile"])||Xi(r,["dockerFile"]);i&&i.type==="string"&&this._tryAddDocumentLinkToBucket(o,i.offset+1,i.offset+i.length-1,nf(this.fileHost,n),t)}async _linksForDockerCompose(t,n,r,o){let s=(await Ol(this.fileHost,n)).map(c=>qg.Uri.file(c).path),a=Xi(r,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(o,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,o.uri.with({path:s[c]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(o,a.offset+1,a.offset+a.length-1,o.uri.with({path:s[0]}),t)}};var ee=G(require("vscode")),$e=require("vscode"),Vg=G(require("path"));var Wg=require("vscode"),_Z=G(require("path"));function UP(e){let t=ql(e);if(t)return`${_Z.basename(t)}`;{let n=Lx(e);if(n)return n;let r=sc(e);if(r)return tL(r);let o=Hl(e);return o?o.volumeName:e.Config.Image}}function MP(e,t=!1){let n=cc(e);return t?`${n} (${FU(e)})`:n}function FU(e){let t="",n=e.State.Status,r=new Date(e.State.StartedAt),o=new Date(e.State.FinishedAt);if(r.getFullYear()>1&&o.getFullYear()>1){let i=new Date,s=new Date(r>o?e.State.StartedAt:e.State.FinishedAt);t=` ${MU(i,s)}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+t}function $P(e){let t=e.Name;if(e.Labels&&Yg(e)){let r=HP(e);r&&r.gitUrlInfo.repository!=="unknown"&&(t=r.gitUrlInfo.fullRepositoryName)}return t}function jP(e){let t="";if(e.Labels&&Yg(e)){let r=HP(e);if(r&&r.gitUrlInfo.repository!=="unknown"){let o=OU(e),i=UU(e);i?t=`#${i}`:o&&(t=`${o}`)}}return t}function Yg(e){let t=e.Labels;if(t){let n=t["vsch.local.repository.unique"];if(n&&n==="true")return!0}return!1}function OU(e){let t=e.Labels;if(t&&Yg(e)&&t["vsch.local.repository.branch"])return t["vsch.local.repository.branch"]}function UU(e){let t=e.Labels;if(t&&Yg(e)&&t["vsch.local.repository.pullRequestId"])return t["vsch.local.repository.pullRequestId"]}function HP(e){let t=e.Labels;if(t){let n=t["vsch.local.repository.unique"];if(n&&n==="true"){let r=t["vsch.local.repository"];return ai(r)}}}var DZ=1e3,PZ=DZ*60,IZ=PZ*60,TZ=IZ*24,iCe=TZ*365;function MU(e,t){let n,r=e.getTime()-t.getTime();return(n=Math.round(r/iCe))>0?n===1?"1 year":Wg.l10n.t("{0} years",n):(n=Math.round(r/TZ))>0?n===1?"1 day":Wg.l10n.t("{0} days",n):(n=Math.round(r/IZ))>0?n===1?"1 hour":Wg.l10n.t("{0} hours",n):(n=Math.round(r/PZ))>0?n===1?"1 minute":Wg.l10n.t("{0} minutes",n):(n=Math.round(r/DZ),n===1?"1 second":Wg.l10n.t("{0} seconds",n))}var Wy=G(require("vscode")),Yy=require("vscode");async function kZ(e){let t=(await Promise.all([Ox,Ux,Bm,jm,fS].map(async o=>{let{stdout:i}=await it(e,"ps","-a","-q","--filter","status=exited","--filter",`label=${o}`);return i.toString().split(/\r?\n/).filter(s=>!!s)}))).flat(),n;if(t.length){let i=(await cs(e,t)).map(a=>({label:UP(a),description:MP(a,!0),container:a}));i.sort((a,c)=>a.label.localeCompare(c.label));let s=await Wy.window.showQuickPick(i,{canPickMany:!0,placeHolder:Yy.l10n.t("Select stopped dev containers to delete")});if(!s)return;s.length&&(n=new Set(await $l(e)),await it(e,"rm",...s.map(a=>a.container.Id)))}let r=await NZ(e,n);(!t.length||r==="none")&&await Wy.window.showInformationMessage(Yy.l10n.t("There are no stopped dev containers or unused dev volumes to delete."),{modal:!0})}async function RZ(e){await NZ(e)==="none"&&await Wy.window.showInformationMessage(Yy.l10n.t("There are no unused dev volumes to delete."),{modal:!0})}async function NZ(e,t){let n=[...new Set([...t?(await $l(e)).filter(r=>!t.has(r)&&r!=="vscode"):[],...await $l(e,[QN]),...await $l(e,[wS])])];if(n.length){let o=(await rf(e,n)).map(s=>({label:$P(s),description:jP(s),volume:s}));o.sort((s,a)=>s.label.localeCompare(a.label));let i=await Wy.window.showQuickPick(o,{canPickMany:!0,placeHolder:Yy.l10n.t("Select unused dev volumes to delete")});if(!i)return"cancel";i.length&&await it(e,"volume","rm",...i.map(s=>s.volume.Name))}return n.length?"done":"none"}var LZ=$e.l10n.t("Stop Container"),AZ=$e.l10n.t("Reopen Folder locally"),FZ=$e.l10n.t("Close Workspace");var xr=class{static isGroupItem(t){return!!t&&t.type==="Group"}static isContainerItem(t){return!!t&&t.type==="Container"}static isFolderItem(t){return!!t&&t.type==="Folder"}};var BP=class extends xr{constructor(n,r){super();this.label=n;this.groupType=r}type="Group";async asTreeItem(n,r,o,i){return new ee.TreeItem(this.label,ee.TreeItemCollapsibleState.Expanded)}},zg=class extends xr{constructor(n,r=[],o,i=!1){super();this.container=n;this.folders=r;this.parent=o;this.isDevContainer=i}type="Container";async asTreeItem(n,r,o,i){let s=new ee.TreeItem(this.getContainerLabel(),this.getCollapsibleState());s.description=MP(this.container);let a=this.getContextBase();s.iconPath=WP(r,lCe),s.contextValue="exited"+a;let c=!1;return o&&this.container.Id===o.Id?(s.iconPath=WP(r,cCe),s.contextValue="active"+a,c=!0):n&&await this.setTreeItemIconAndContext(n,a,s),s.tooltip=this.getHover(c,s.iconPath instanceof ee.ThemeIcon?s.iconPath:new ee.ThemeIcon("vm"),s.label),this.folders.length===1&&this.isDevContainer&&(s.contextValue+="Folder"),s}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ee.TreeItemCollapsibleState.Expanded:ee.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(n,r,o){switch(this.container.State.Status){case"created":{o.iconPath=new ee.ThemeIcon("vm"),o.contextValue="exited"+r;break}case"paused":{o.iconPath=new ee.ThemeIcon("vm-outline"),o.contextValue="running"+r;break}case"restarting":{o.iconPath=new ee.ThemeIcon("vm-outline"),o.contextValue="exited"+r;break}case"exited":{o.iconPath=new ee.ThemeIcon("vm"),o.contextValue="exited"+r;break}case"running":{o.iconPath=new ee.ThemeIcon("vm-running"),o.contextValue="running"+r;break}}}getTimeElapsed(n){return n?FU(n):""}getContainerLabel(){return UP(this.container)}getHover(n,r,o){let i=new ee.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${o} (${cc(this.container)})  
`),this.repository){let a=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${a} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let s=yS(this.container);return s&&i.appendMarkdown(`$(file-symlink-directory) ${s}  
`),n?i.appendMarkdown($e.l10n.t("$(remote) Connected")):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}_repository;_alreadyCheckedRepository=!1;get repository(){if(!this._alreadyCheckedRepository){let n=sc(this.container);n&&(this._repository=ai(n)),this._alreadyCheckedRepository=!0}return this._repository}inspect(n){return ii(n,this.container.Id)}},Gc=class extends xr{constructor(n,r,o){super();this.container=n;this.folder=r;this.isDevContainer=o}type="Folder";async asTreeItem(n,r,o,i){let s=new ee.TreeItem(Vg.basename(this.folder.path),ee.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=WP(r,dCe),s.contextValue="attachedFolder",this.isDevContainer&&!sc(this.container)&&!Hl(this.container)&&(s.contextValue="devFolder"),o&&this.container.Id===o.Id&&i===this.folder.path&&(s.iconPath=WP(r,uCe),s.tooltip=$e.l10n.t("Active Folder {0}",String(s.label)),s.contextValue=`active${s.contextValue}`),s}};function sCe(e,t,n,r){if(!(!ee.env.remoteName||ee.env.remoteName!=="attached-container"&&ee.env.remoteName!=="dev-container"))return OZ(e,t,n,r)}function OZ(e,t,n,r){ee.commands.executeCommand("setContext","remote-containers:showDetails",!0);let o=new qU(e,t,r,t.output),i=ee.window.createTreeView("detailsContainers",{treeDataProvider:o});return o.setTitle=s=>{i.title=s},e.subscriptions.push(n.onDidChangeActiveContainer(s=>o.refresh(s))),o}function aCe(e,t){let n=[LZ];return e&&e.Id===t.Id&&ee.workspace.workspaceFolders&&ee.workspace.workspaceFolders.length>0&&(n.push(FZ),ee.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&n.push(AZ)),n}var $U=class{constructor(t,n){this.dockerParams=t;this.containerId=n}writeEmitter=new ee.EventEmitter;onDidWrite=this.writeEmitter.event;destroyables=[];open(){let{cliHost:t,env:n,output:r}=this.dockerParams;t.exec({cmd:Rs(),args:["logs","-f",this.containerId],env:n,output:r}).then(o=>{this.destroyables.push(o.stdout.on("data",i=>{this.write(i.toString())})),this.destroyables.push(o.stderr.on("data",i=>{this.write(i.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},qP=class{constructor(t,n,r,o,i,s){this.targetsTreeData=t;this.detailsTreeData=n;this.devVolumesTreeData=r;this.dockerParams=o;this.context=i;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(ee.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(ee.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(ee.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(ee.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(ee.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(ee.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(ee.commands.registerCommand("remote-containers.attachToContainerInCurrentWindow",this.commandAttachToContainerInCurrentWindow,this)),t.push(ee.commands.registerCommand("remote-containers.attachToContainerInNewWindow",this.commandAttachToContainerInNewWindow,this)),t.push(ee.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(ee.commands.registerCommand("remote-containers.openInformationAboutMountPerformance",this.openInformationAboutMountPerformance,this)),t.push(ee.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(ee.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(ee.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(ee.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(ee.commands.registerCommand("remote-containers.openFolderInContainerInCurrentWindow",n=>this.commandStartAndOpenFolder(n,{forceReuseWindow:!0}),this)),t.push(ee.commands.registerCommand("remote-containers.openFolderInContainerInNewWindow",n=>this.commandStartAndOpenFolder(n,{forceNewWindow:!0}),this)),t.push(ee.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!xr.isContainerItem(t))return;let n=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?$e.l10n.t("Stop active container? This will disconnect your current window."):$e.l10n.t("Stop {0}?",t.getContainerLabel()),r=await ee.window.showWarningMessage(n,{modal:!0},...aCe(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(r){case LZ:{await cU(this.dockerParams,t.container),t.container=await ii(this.dockerParams,t.container.Id);break}case FZ:{await ee.commands.executeCommand("workbench.action.closeFolder");break}case AZ:{await ee.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!xr.isContainerItem(t))return;let n=await si(this.dockerParams,t.container.Id);if(!n)return;let r=$e.l10n.t("Remove"),o=await ee.window.showWarningMessage($e.l10n.t("Remove this container?"),{modal:!0,detail:$e.l10n.t("This action is not reversible and deletes the container permanently.")},r);await this.targetsTreeData.withProgress(t.parent,async()=>{o===r&&(await cU(this.dockerParams,t.container),await QJ(this.dockerParams,n.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let n=yS(t);if(n||(n=L3(t)),n){let r=await rS(this.dockerParams,n);if((await $l(this.dockerParams)).indexOf(n)>=0){let s;r!=null&&r.Labels&&r.Labels["vsch.local.repository.unique"]==="true"?s=$e.l10n.t("The container is using a volume with a cloned repository."):s=$e.l10n.t("This is the last container using '{0}'.",n);let a=$e.l10n.t("Remove");await ee.window.showInformationMessage(s,{modal:!0,detail:$e.l10n.t("Do you want to remove the volume and the data it contains?")},a)===a&&await lU(this.dockerParams,n)}}}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){xr.isContainerItem(t)&&await this.targetsTreeData.withProgress(t,async()=>{await xP(this.dockerParams,t.container),t.container=await ii(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){xr.isFolderItem(t)&&(await ee.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){xr.isContainerItem(t)&&(this.detailsTreeData||(this.detailsTreeData=OZ(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t,n){let r,o;xr.isFolderItem(t)?(o=t,r=t.container):zg.isContainerItem(t)&&(o=t.folders[0],r=t.container),r&&(await xP(this.dockerParams,r),o&&uf(o.folder.authority)?await Vy(this.dockerParams,r,this.context,!!(n!=null&&n.forceNewWindow),o.folder.path):await ee.commands.executeCommand("remote-containers.openFolder",o,n))}async commandAttachToContainerInCurrentWindow(t){return this.attachToContainerInternal(t,!1)}async commandAttachToContainerInNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,n){let r;xr.isContainerItem(t)?r=t.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await xP(this.dockerParams,r),await Vy(this.dockerParams,r,this.context,n))}async commandInspectDockerResource(t){let n;(xr.isContainerItem(t)||Kc.isImageItem(t)||Kc.isVolume(t)||Kc.isDevVolume(t))&&(n=await t.inspect(this.dockerParams)),n&&ee.window.showTextDocument(await ee.workspace.openTextDocument({language:"json",content:JSON.stringify(n,null,"	")}))}async openInformationAboutMountPerformance(){await ee.env.openExternal(ee.Uri.parse("https://aka.ms/vscode-remote/containers/open-repo"))}async commandInspectInBasicDevContainer(t){Kc.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){Kc.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){Kc.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}static async commandNewContainer(){var r;let t=[...(r=ee.workspace.workspaceFolders)!=null&&r.length?[{label:$e.l10n.t("Open Current Folder in Container"),command:"remote-containers.reopenInContainer"}]:[],{label:$e.l10n.t("Open Folder in Container..."),command:"remote-containers.openFolder"},{label:$e.l10n.t("Open Workspace in Container..."),command:"remote-containers.openWorkspace"},{label:$e.l10n.t("New Dev Container..."),command:"remote-containers.createDevContainer"},{label:$e.l10n.t("Clone Repository in Container Volume..."),command:"remote-containers.openRepositoryInVolume"},{label:$e.l10n.t("Clone GitHub Pull Request in Container Volume..."),command:"remote-containers.openPullRequestInVolume"},{label:$e.l10n.t("Try a Sample..."),command:"remote-containers.trySample"}],n=await ee.window.showQuickPick(t,{placeHolder:$e.l10n.t("Select an action to create a dev container")});if(n)return ee.commands.executeCommand(n.command)}async commandShowContainerLog(t){if(!xr.isContainerItem(t))return;let n=new $U(this.dockerParams,t.container.Id);ee.window.createTerminal({name:t.container.Config.Image,pty:n}).show()}};function UZ(e,t,n,r){ee.commands.executeCommand("setContext","remote-containers:showDetails",!1);let o=new jU(e,t,s,n,r),i=ee.window.createTreeView("targetsContainers",{treeDataProvider:o});o.setMessage=a=>i.message=a,e.subscriptions.push(ee.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await o.getDockerParams(!0),o.refresh(void 0)))),e.subscriptions.push(ee.commands.registerCommand("remote-containers.newContainer",qP.commandNewContainer)),e.subscriptions.push(ee.commands.registerCommand("remote-containers.pruneVolumes",async()=>{let a=await o.getDockerParams(!0);a&&await RZ(a)}));function s(a){let c=sCe(e,a,o,n),l=new YU(e,n,r),u=ee.window.createTreeView("devVolumes",{treeDataProvider:l});e.subscriptions.push(u);let d=new qP(o,c,l,a,e,n);e.subscriptions.push(...d.registerCommands()),e.subscriptions.push(oU(e,n.product)(async()=>{o.refresh(void 0),l.refresh(void 0);let p=await st(e,r);c&&c.updateDockerParameters(p),d.updateDockerParameters(p)}))}}var jU=class{constructor(t,n,r,o,i){this.context=t;this.resolverResults=n;this.onFirstReveal=r;this.telemetry=o;this.output=i}_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;_onDidChangeActiveContainer=new ee.EventEmitter;onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;dockerParams;refreshDockerParams=!1;needsSSHCredentials=!1;passiveSSHAskpassEnv;eventsProcess;setTreeMessage=()=>{};_currentContainer;currentFolder;devContainers=[];attachContainers=[];otherContainers=[];recentAttachEntries=new Map;recentAttachDevContainerEntries=new Map;recentDevComposeEntries=new Map;containerItems=new Map;action=Promise.resolve();set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=Ul(this.context.extensionPath,async n=>(this.needsSSHCredentials=!0,hp(n,!1)),this.output));try{this.dockerParams=await st(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1);let n=aU();await qy(this.dockerParams,this.telemetry,n)!==!0&&(this.dockerParams=void 0)}catch(n){if(!this.needsSSHCredentials)throw n}}return this.dockerParams}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;let r="exec_create: /root/.vscode-server";if(n.Action==="die"||n.Action==="destroy"||n.Action==="create")this._onDidChangeTreeData.fire();else if(!n.Action.startsWith("exec_create")&&n.Actor&&n.Actor.ID&&this.containerItems.has(n.Actor.ID)){let o=this.containerItems.get(n.Actor.ID);this.dockerParams&&o?(async()=>(o.container=await ii(this.dockerParams,o.container.Id),this._onDidChangeTreeData.fire(o)))():this._onDidChangeTreeData.fire(o);return}else if(n.Action.startsWith(r)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await iS(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}needsDockerStartOrInstallContext=void 0;async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ee.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ee.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}hasContainersContext=void 0;async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let n=ee.workspace.workspaceFolders&&ee.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ee.commands.executeCommand("setContext",n,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let n=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&n.push(new BP($e.l10n.t("Dev Containers"),0)),this.otherContainers.length>0&&n.push(new BP($e.l10n.t("Other Containers"),2)),n}async getChildDevContainer(t,n){let r=await this.getWorkspaceFolderFromContainer(t),o=r?[new Gc(t,r,!0)]:[],i=ql(t);i&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Gc(t,a,!1))):i&&this.recentAttachEntries.has(t.Id)?o.push(...this.recentAttachEntries.get(t.Id).map(a=>new Gc(t,a,!1))):(i=sc(t))&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Gc(t,a,!1))):(i=WN(Hl(t)))&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Gc(t,a,!1))):i===void 0&&this.recentDevComposeEntries.has(t.Id)&&o.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new Gc(t,a,!1)));let s=new zg(t,o,n,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){let n;if(t.groupType===0){let r=this.devContainers.map(async o=>this.getChildDevContainer(o,t));r.push(...this.attachContainers.map(async o=>{let i=new zg(o,this.recentAttachEntries.get(o.Id).map(s=>new Gc(o,s,!1)),t);return this.setContainerItems(i),i})),n=await Promise.all(r)}else n=this.otherContainers.map(r=>{let o=new zg(r,[],t);return this.setContainerItems(o),o});return n.sort((r,o)=>r.getContainerLabel().localeCompare(o.getContainerLabel()))}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let n=await Ml(this.dockerParams,!0);if(await this.setHasContainersContext(n.length>0),n.length===0)return[];let r=await cs(this.dockerParams,n);return this.getChildGroups(r)}else{if(xr.isGroupItem(t))return this.getChildContainers(t);if(xr.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=ee.workspace.workspaceFolders,n;if(this.dockerParams){if(t&&t.length>0){let r=this.resolverResults.get(t[0].uri.authority);r&&r.dockerContainerId&&(n=await si(this.dockerParams,r.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let r=[...this.resolverResults.values()][0].dockerContainerId;r&&(n=await si(this.dockerParams,r))}}n!==this._currentContainer&&(this._currentContainer=n)}addContainerToMap(t){if(ql(t)){this.devContainers.push(t);return}else if(sc(t)){this.devContainers.push(t);return}else if(Hl(t)){this.devContainers.push(t);return}else if(Lx(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(n=>{this.addContainerToMap(n)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t,n){let{cliHost:r,dockerCLI:o,dockerComposePath:i}=this.dockerParams,s=Tt(r.path,t),a=n?Se.from({scheme:et.scheme,path:n}):await h3(r,s,Ny(),Wn),c={cliHost:r,dockerPath:o,dockerComposePath:i,appRoot:ee.env.appRoot,extensionPath:this.context.extensionPath,package:await br(this.context.extensionPath),output:this.output},l=a&&await Rg(c,s.rootFolderPath,a);if(l){let u=ur(this.dockerParams.env);return ee.Uri.parse(Hx(r.authority,t,l.workspace.workspaceFolder,u),!0)}}async getWorkspaceFolderFromContainer(t){let n=ql(t);if(n){let r=N3(t);return this.getWorkspaceFolderFromHostWorkspace(n,r)}else{let r=sc(t),o=yS(t),i=A3(t),s=this.dockerParams;if(r){let c=ur(s.env);return ee.Uri.parse(fs(s.cliHost.authority,r,o,i,!1,c,void 0))}let a=Hl(t);if(a){let c=ur(s.env);return ee.Uri.parse(fs(s.cliHost.authority,void 0,a.volumeName,a.folder,!1,c,void 0))}}}async getWorkspaceFolderFromHostPath(t){let n=this.dockerParams.cliHost,r=await q3(n,t,this.output),o=W3(n,r,t),i=ur(this.dockerParams.env);return ee.Uri.parse(Hx(n.authority,t,o,i),!0)}getWorkspaceFolderFromRepository(t,n,r){let o=this.dockerParams,i=ur(o.env);return ee.Uri.parse(fs(o.cliHost.authority,t,n,r,!1,i,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(t,n){let r=this.dockerParams,o=ur(r.env);return ee.Uri.parse(fs(r.cliHost.authority,void 0,t,n,!1,o,void 0),!0)}async findComposeTargetContainer(t,n){var r;return(r=n.find(o=>ql(o)===t))==null?void 0:r.Id}trySetEntryWithAttachAuthority(t,n,r){let o;if("containerName"in n){let i=r.find(s=>s.Name===n.containerName);i&&(o=i.Id)}else o=n.containerId;o&&(this.recentAttachEntries.has(o)?this.recentAttachEntries.get(o).push(t):this.recentAttachEntries.set(o,[t]))}async trySetEntryWithDevAuthority(t,n,r,o){let i=n.hostPath,s=o[i];if(s||(s=await this.getWorkspaceFolderFromHostPath(n.hostPath),o[i]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(n.hostPath)?this.recentAttachDevContainerEntries.get(n.hostPath).push(t):this.recentAttachDevContainerEntries.set(n.hostPath,[t]);let a=await this.findComposeTargetContainer(n.hostPath,r);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,n){this.getWorkspaceFolderFromRepository(n.repositoryPath,n.volumeName,n.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(n.repositoryPath)?this.recentAttachDevContainerEntries.get(n.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(n.repositoryPath,[t]))}trySetEntryWithDevContainerInVolumeAuthority(t,n){if(this.getWorkspaceFolderFromDevContainerInVolume(n.volumeName,n.folder).path!==t.path){let o=WN(n);this.recentAttachDevContainerEntries.has(o)?this.recentAttachDevContainerEntries.get(o).push(t):this.recentAttachDevContainerEntries.set(o,[t])}}trySetEntryWithVolumeAuthority(t,n){let r=n.volumeName;r&&(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(t):this.recentAttachEntries.set(r,[t]))}async trySetEntry(t,n,r){if(!t||!t.folderUri&&!t.workspace.configPath)return;let o=t.folderUri??t.workspace.configPath,i=uf(o.authority);if(i)this.trySetEntryWithAttachAuthority(o,i,n);else{let s=lo(o.authority);s&&(un(s)?await this.trySetEntryWithDevAuthority(o,s,n,r):ci(s)?this.trySetEntryWithRepoAuthority(o,s):cf(s)?this.trySetEntryWithDevContainerInVolumeAuthority(o,s):this.trySetEntryWithVolumeAuthority(o,s))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let n=await ee.commands.executeCommand("_workbench.getRecentlyOpened");if(n&&n.workspaces){let r={};for(let o of n.workspaces)await this.trySetEntry(o,t,r)}}withProgress(t,n){return this.action=this.action.then(()=>n()),this.refresh(t)}};var Kc=class{constructor(t){this.label=t}detail;context;command;type="Default";static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type==="Image"}static isVolume(t){return!!t&&t.type==="Volume"}static isDevVolume(t){return!!t&&t.type==="DevVolume"}},HU=class{constructor(t){this.detail=t}type="Image";context="image";label=$e.l10n.t("Image");inspect(t){return o3(t,this.detail)}},BU=class{constructor(t,n,r){this.label=t;this.detail=n;this.volumeDetails=r}type="Volume";context="volume";async inspect(t){return rS(t,this.volumeDetails)}},qU=class{constructor(t,n,r,o){this.context=t;this.dockerParams=n;this.telemetry=r;this.output=o}_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;_container;setTreeTitle=()=>{};updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let n=new ee.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?ee.TreeItemCollapsibleState.Expanded:ee.TreeItemCollapsibleState.None);return n.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(n.description=t.detail,n.tooltip+=` ${n.description}`),n.contextValue=t.context,n.command=t.command,n}async getAttributes(t,n,r){let o=[];n&&o.push({label:$e.l10n.t("Workspace"),detail:n});let i=sc(t.container);i&&o.push({label:$e.l10n.t("Repository"),detail:i});let s=Hl(t.container);return s&&(o.push({label:$e.l10n.t("Volume"),detail:s.volumeName}),o.push({label:$e.l10n.t("Folder"),detail:s.folder})),o.push({label:$e.l10n.t("Name"),detail:t.container.Name}),o.push(new HU(t.container.Config.Image)),r&&o.push({label:$e.l10n.t("Configuration"),detail:r,command:{title:$e.l10n.t("Open Dev Container File"),command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),o}async getMounts(t){let n=[];return t&&t.Mounts.forEach(r=>{if(r.Type==="volume"){let o=r.Name,i=new BU($e.l10n.t("Volume"),o,o),s={label:$e.l10n.t("Destination"),detail:r.Destination};n.push({label:$e.l10n.t("Volume mount"),detail:[i,s]})}else if(r.Type==="bind"){let o={label:$e.l10n.t("Source"),detail:r.Source},i={label:$e.l10n.t("Destination"),detail:r.Destination},s=this.dockerParams&&["win32","darwin"].includes(this.dockerParams.cliHost.platform)?[{label:$e.l10n.t("I/O performance"),detail:$e.l10n.t("reduced by bridging OSes"),context:"mountPerformanceInfo",command:{command:"remote-containers.openInformationAboutMountPerformance"}}]:[];n.push({label:$e.l10n.t("Bind mount"),detail:[o,i,...s]})}}),n}async getChildrenFromRoot(t){let n=[],r=ql(t.container),o=(t.container.Config.Labels||{})[sf];n.push({label:$e.l10n.t("Attributes"),detail:await this.getAttributes(t,r,o),type:"Title"});let i;this.dockerParams&&(i=await ii(this.dockerParams,t.container.Id));let s=await this.getMounts(i);return s.length>0&&n.push({label:$e.l10n.t("Mounts"),detail:s,type:"Title"}),n}async testContainer(){let t=!0;try{(this.dockerParams?await ii(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle($e.l10n.t("Details (Containers)"))),t}async getChildren(t){if(this._container===void 0)return[];let n=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),n=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&n.push(...t.detail),n}async refresh(t){this.dockerParams=await st(this.context,this.output),await qy(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},WU=class extends Kc{type="DevVolume";volumeDetails;createdAt;constructor(t){super(t.Name),this.volumeDetails=t,this.createdAt=void 0}async asTreeItem(){let t=this.getLabel(),n=new ee.TreeItem(t,ee.TreeItemCollapsibleState.None);return n.iconPath=this.iconPath,n.description=this.getDescription(),this.isUniqueVolume()?n.contextValue="uniqueDevVolume":n.contextValue="devVolume",n}isUniqueVolume(){return Yg(this.volumeDetails)}getLabel(){return $P(this.volumeDetails)}getDescription(){return jP(this.volumeDetails)}getBranchName(){return OU(this.volumeDetails)}getPullRequestId(){return UU(this.volumeDetails)}getRepository(){return HP(this.volumeDetails)}get iconPath(){return new ee.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let t="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let r=new Date,o=new Date(this.volumeDetails.CreatedAt);t=$e.l10n.t("{0} ago",MU(r,o))}return this.createdAt=t,t}async inspect(t){return rS(t,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ee.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ee.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(t){if(!((await $l(t)).indexOf(this.volumeDetails.Name)>=0)){await ee.window.showInformationMessage($e.l10n.t("Volume '{0}' is in use and cannot be removed.",this.volumeDetails.Name),{modal:!0});return}let o=$e.l10n.t("Remove");await ee.window.showInformationMessage($e.l10n.t("Are you sure you want to remove volume '{0}'?",this.volumeDetails.Name),{modal:!0},o)===o&&await lU(t,this.volumeDetails.Name)}},YU=class{constructor(t,n,r){this.context=t;this.telemetry=n;this.output=r}dockerParams;_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;eventsProcess;async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){if(!this.dockerParams){this.dockerParams=await st(this.context,this.output,void 0,void 0);let t=aU();await qy(this.dockerParams,this.telemetry,t)!==!0&&(this.dockerParams=void 0)}return this.dockerParams}async setHasVolumesContext(t){await ee.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let n=await st(this.context,this.output),r=await ko(n),o=await rf(n,r),i=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=o.filter(i);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new WU(a))}async resolveTreeItem(t,n){let r=await st(this.context,this.output),o=await this.getAssociatedContainers(r,n),i=n.getLabel(),s=n.getRepository(),a=n.getBranchName(),c=n.getPullRequestId(),l=n.getTimeElapsed();return o.length>0?t.tooltip=this.renderMarkdown(i,s,a,c,l,o.join(", ")):t.tooltip=this.renderMarkdown(i,s,a,c,l,$e.l10n.t("None")),t}async getAssociatedContainers(t,n){let r=[],o=await Ml(t,!0),i=await cs(t,o);for(let s of i)for(let a of s.Mounts)a.Type==="volume"&&a.Name===n.volumeDetails.Name&&r.push(cc(s));return r}renderMarkdown(t,n,r,o,i,s){let a=new ee.MarkdownString(void 0,!0);if(n){let c=n.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=n.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=n.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),r&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${r}](${l}/tree/${r})
`):a.appendMarkdown(`$(git-compare) ${r}
`),a.appendMarkdown(`&nbsp;  
`)),o&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${o}](${l}/pull/${o})
`):a.appendMarkdown(`$(git-pull-request-create) #${o}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${i}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${i}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;(n.Action==="die"||n.Action==="destroy"||n.Action==="create"||n.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await iS(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},cCe="vm-active",lCe="vm-default",uCe="folder-active",dCe="folder";function WP(e,t){let n=`${t}.svg`;return{light:ee.Uri.file(e.asAbsolutePath(Vg.join("resources","light",n))),dark:ee.Uri.file(e.asAbsolutePath(Vg.join("resources","dark",n))),highContrast:ee.Uri.file(e.asAbsolutePath(Vg.join("resources","highContrast",n)))}}var nM=require("util");var er=G(require("vscode")),Oa=require("vscode");async function MZ(e,t,n,r={},o={}){let i=await Hb({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:t,remotePtyExec:n,remoteExecAsRoot:void 0,rootShellServer:void 0,remoteWaylandSocket:void 0}),{hostOrContainerPort:s,connectionToken:a,remoteEnv:c,serverDownloaded:l}=await Nl(e,i,r,o);return{params:e,properties:i,config:void 0,resolvedAuthority:{host:oc,port:s,connectionToken:a,extensionHostEnv:c},tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:l}}async function VU(e,t,n){var r,o;try{if(!await ld(e))return;let{cliHost:i,env:s,output:a}=t,c;if(!(n!=null&&n.name)){let m=(await se({exec:i.exec,cmd:"kubectl",args:["get","pods","-o","json"],env:s,output:a})).stdout.toString(),h=JSON.parse(m).items;if(!h.length){await er.window.showInformationMessage(Oa.l10n.t("No pods found."),{modal:!0},Oa.l10n.t("Show Log"))&&er.commands.executeCommand(Et);return}if(c=(r=await er.window.showQuickPick(h.map(v=>({label:v.metadata.name,description:v.metadata.namespace,pod:v})),{placeHolder:Oa.l10n.t("Select pod")}))==null?void 0:r.pod,!c)return}if(!c){let f=["get","pod",n.name,"-o","json"];n.namespace&&f.push("--namespace",n.namespace);let h=(await se({exec:i.exec,cmd:"kubectl",args:f,env:s,output:a})).stdout.toString();c=JSON.parse(h)}let l=c.spec.containers||[];if(!l.length){await er.window.showInformationMessage(Oa.l10n.t("No containers found."),{modal:!0},Oa.l10n.t("Show Log"))&&er.commands.executeCommand(Et);return}let u=l.length>1?(o=await er.window.showQuickPick(l.map(f=>({label:f.name,description:f.image,container:f})),{placeHolder:Oa.l10n.t("Select container")}))==null?void 0:o.container:l[0];if(!u)return;let d=(await se({exec:i.exec,cmd:"kubectl",args:["config","current-context"],env:s,output:a})).stdout.toString().trim(),p={remoteAuthority:hCe(er.env.remoteAuthority,{context:d,podname:c.metadata.name,namespace:c.metadata.namespace,name:u.name,image:u.image})};e.extensionMode===er.ExtensionMode.Development&&(p.reuseWindow=!0),await er.commands.executeCommand("vscode.newWindow",p)}catch(i){t.output.write((i==null?void 0:i.stack)||(i==null?void 0:i.message)||String(i)),er.commands.executeCommand(Et),await er.window.showErrorMessage(Oa.l10n.t("Error while attaching to Kubernetes container."),{detail:i==null?void 0:i.message,modal:!0})}}async function $Z(e,t,n,r,o,i){return await ld(e)?{...await fCe(e,t,n,r,o,i),isTrusted:!0}:(await er.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function fCe(e,t,n,r,o,i){let s;return er.window.withProgress({location:er.ProgressLocation.Notification,title:kg,cancellable:!1},async a=>{try{let c=gCe(n);if(!c)throw new Error(`Invalid authority: ${n}`);let{options:l,parentAuthority:u}=c;if(u&&!r.execServer)throw new Error(`Parent authority found without ExecServer: ${n}`);let d=process.cwd(),p=Ra(),f=await Ro(r.execServer?{server:r.execServer,authority:u}:void 0,void 0,d,Wn,p,e.extensionPath,await co(),t.product,o.log,Ns);s=await Tg({authority:n,extensionContext:e,sessionStart:o.sessionStart,progress:a,cliHost:f,env:f.env,cwd:d,wslSettings:p,isLocalContainer:Wm(u,{}),telemetry:t,output:o.log,logFilePath:o.logFilePath,allowSystemConfigChange:!1,postCreate:i}),s.setWorkspaceName(`${l.name} in ${l.podname} (${l.image})`);let m=pCe(f.exec,l),h=mCe(f.ptyExec,l);return await MZ(s,m,h)}catch(c){let l=c instanceof be?c:new be({description:Oa.l10n.t("An error occurred attaching to the container."),originalError:c});throw l.actions=[...Lg,wp,ud,Ng,xp],l}}).then(a=>(Vc(t,"k8s-container","success",o.sessionStart,s,void 0,void 0,a.properties),a),a=>{let c=a instanceof be?a:new be({description:Oa.l10n.t("An error occurred attaching to the container."),originalError:a});return Vc(t,"k8s-container","failure",o.sessionStart,s,void 0,void 0,c.containerProperties,c),dd(c,"k8s-container",t,!0,o.log)})}function pCe(e,t){return async function(n){return e(jZ(t,n))}}function mCe(e,t){return async function(n){return e(jZ(t,n))}}function jZ(e,t){let n=["exec","-it",e.podname];if(e.context&&n.push("--context",e.context),e.namespace&&n.push("--namespace",e.namespace),n.push("--container",e.name,"--"),t.cwd&&n.push("/bin/sh","-c",'cd "$1" && shift && "$@"',"--",t.cwd),t.env){let r=Object.keys(t.env);if(r.length){n.push("env");for(let o of r)n.push(`${o}=${t.env[o]}`)}}return n.push(t.cmd),t.args&&n.push(...t.args),{cmd:"kubectl",args:n,output:t.output}}function hCe(e,t){return e=Bx(e),`k8s-container+${Buffer.from(JSON.stringify(t),"utf8").toString("hex")}${e?`@${e}`:""}`}function gCe(e){let t=Ym(e);if((t==null?void 0:t.name)!=="k8s-container")return;try{return{parentAuthority:t.parentAuthority,options:JSON.parse(Buffer.from(t.config,"hex").toString("utf8"))}}catch{}let n=t.config.split("+").reduce((r,o)=>{let i=o.indexOf("=");return i!==-1&&(r[o.substring(0,i)]=decodeURIComponent(o.substring(i+1))),r},{});return{parentAuthority:t.parentAuthority,options:n}}var Nt=G(require("vscode")),Ht=require("vscode"),bp=G(require("fs")),Gg=G(require("os")),Cp=G(require("path")),YP=require("child_process"),Kg=require("util");function VP(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function HZ(e,t){let n=e.globalStorageUri,r=ei.joinPath(n,"cli-bin");await Nt.workspace.fs.createDirectory(r);let o="";try{o=(await Nt.workspace.fs.readFile(ei.joinPath(r,"remote-containers-path"))).toString()}catch(l){if((l==null?void 0:l.code)!=="FileNotFound")return}if(o===e.extensionPath)return;let i=ei.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=VP(t),a=`devcontainer${s}`,c=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let l of c)await Nt.workspace.fs.copy(ei.joinPath(i,l.source),ei.joinPath(r,l.destination),{overwrite:!0});process.platform!=="win32"&&await bp.promises.chmod(ei.joinPath(r,a).fsPath,493),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-app-root"),Buffer.from(Nt.env.appRoot,"utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-quality"),Buffer.from(t.quality??"","utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"vscode-machine-id"),Buffer.from(Nt.env.machineId,"utf-8")),await Nt.workspace.fs.writeFile(ei.joinPath(r,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function vCe(e,t){let n=VP(t),r="";try{let o=await ti("powershell.exe");if(r=(await(0,Kg.promisify)(YP.exec)(`"${o}" -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),r.indexOf(e)>=0)return await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI is already in your PATH"),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)}),!0;let s=Ht.l10n.t("Add"),a=Ht.l10n.t("Copy CLI Path");switch(await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI needs to be added to your PATH"),{modal:!0},s,a)){case s:let l=(0,Kg.promisify)(YP.exec)(`"${o}"  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${r};${e}', 'User')`),u=Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI has been added to your PATH"),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});await Promise.all([l,u]);break;case a:await Nt.env.clipboard.writeText(e),await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ht.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});break}return!0}catch{return!1}}async function xCe(e,t){let r=(process.env.PATH??"").split(":"),o=[Cp.join(Gg.homedir(),"bin"),Cp.join(Gg.homedir(),".local/bin")],i="/usr/local/bin";Gg.platform()==="darwin"&&o.push(i);let s=(0,Kg.promisify)(bp.stat);for(let a of o){if(r.findIndex(m=>m===a)<0)continue;try{await s(a)}catch{continue}let c=VP(t),l=Cp.join(a,`devcontainer${c}`);try{let m=await s(l);return console.log(m),await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI is already symlinked in {0}",a),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)}),!0}catch(m){if((m==null?void 0:m.code)!=="ENOENT")return!1}let u=Ht.l10n.t("Create"),d=Ht.l10n.t("Copy CLI Path"),p=await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI needs to be in your PATH"),{detail:Ht.l10n.t("Create a symlink in {0}?",a),modal:!0},u,d),f=Cp.join(e,`devcontainer${c}`);switch(p){case u:if(a===i){if(!await wCe(f,l))break}else await(0,Kg.promisify)(bp.symlink)(f,l);await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI has been symlinked in {0}",a),{modal:!0,detail:Ht.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)});break;case d:await Nt.env.clipboard.writeText(e),await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ht.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)});break}return!0}return!1}async function wCe(e,t){try{return await bp.promises.symlink(e,t),!0}catch(n){if(n.code!=="EACCES"&&n.code!=="ENOENT")throw n;let r=Ht.l10n.t("OK");if(await Nt.window.showInformationMessage(Ht.l10n.t("This will now prompt with 'osascript' for Administrator privileges to install the shell command."),{modal:!0},r)===r){let s=`"${await ti("osascript")}" -e "do shell script \\"mkdir -p ${Cp.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,Kg.promisify)(YP.exec)(s),!0}return!1}}async function BZ(e,t){let n=e.globalStorageUri,r=ei.joinPath(n,"cli-bin").fsPath;switch(Gg.platform()){case"win32":if(await vCe(r,t))return;break;case"darwin":case"linux":if(await xCe(r,t))return;break}let o=Ht.l10n.t("Copy CLI Path");if(await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI needs to be included your PATH"),{modal:!0},o)===o){await Nt.env.clipboard.writeText(r);let s=VP(t);await Nt.window.showInformationMessage(Ht.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ht.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${s}`)})}}var wo=G(require("vscode")),Rr=require("vscode"),zU=G(require("path"));var yCe=Rr.l10n.t("Select Dev Container Configuration"),ECe=Rr.l10n.t('[Creating Dev Container (show log)](command:remote-containers.revealLogTerminal "Show details in terminal")'),qZ="alpine:3.16.3";async function WZ(e,t,n){let r=await CCe(e,t,n);if(!r)return;let{volumeAndFolderName:o}=r,i=ur(t.env),s=wo.Uri.parse(fs(t.cliHost.authority,void 0,o,o,!1,i,void 0));await vp({uri:s,type:"folder",label:Rr.l10n.t("{0} [Dev Container]",o)}),await wo.commands.executeCommand("vscode.openFolder",s)}async function CCe(e,t,n){let{output:r}=t,o=it(t,"pull",qZ),i=await yU({telemetry:n,output:r,openConfigurationCommandId:mp,showLogCommandId:Et},yCe,!0);i.askForTrust=!0;let s=await ko(t),a=async()=>{i.skipOptions=!0;let d=await CP(i,void 0,void 0,Promise.resolve(void 0));if(d==="back"||!d)return;let p=d.metadata.template;if(pU.indexOf(p.owner)===-1){let f=`@${p.owner}`,m={label:Rr.l10n.t("Trust {0}",f),description:Rr.l10n.t("from GitHub"),buttons:[{iconPath:new wo.ThemeIcon("info"),tooltip:Rr.l10n.t("Open Documentation")}]},h={label:Rr.l10n.t("Back")},v={label:Rr.l10n.t("Cancel")},g=i.quickPick.onDidTriggerItemButton(()=>{wo.env.openExternal(wo.Uri.parse(p.documentationURL))}),w=await xo(i.quickPick,[m,h,v],Rr.l10n.t("The {0} is from the {1} GitHub owner/organization.",p.name,f),void 0,void 0,!0);if(g.dispose(),!w||w===v)return;if(w==="back"||w===h)return a()}return YZ(i,d,s,bCe(d.id,s),a)},c=await a();if(!c){i.quickPick.dispose();return}let{selectedTemplate:l,volumeName:u}=c;return wo.window.withProgress({location:wo.ProgressLocation.Notification,title:ECe,cancellable:!1},async()=>{let d;try{await Fm(t,u,[`${wS}=true`]),await o;let{stdout:p}=await it(t,...SCe(u,af()));d=p.toString().trim();let f=zU.posix.join(af(),u),m=ls(t,d,"root"),h=await zs(t,d,"root",Wn),v=ri("container",f,{},m,h,()=>{throw new Error("not implemented")},"node",r);await v.mkdirp(f);let g=Tt(zU.posix,f),w=await xU(i,v,g.configFolderPath,"workspace",l);return i.quickPick.hide(),w?{volumeAndFolderName:u}:void 0}finally{if(d)try{await Ai(t,d)}catch{}}})}function bCe(e,t){let n,r=(/([^/:]+)(:[^/:]+)?$/.exec(e)||[])[1]||"devcontainer",o=0;do n=`${r}${o++?`-${o}`:""}`;while(t.indexOf(n)!==-1);return n}async function YZ(e,t,n,r,o){let{quickPick:i}=e;i.placeholder=Rr.l10n.t("Dev container name"),i.selectedItems=[],i.value=r,i.buttons=[wo.QuickInputButtons.Back];let s={label:Rr.l10n.t("Additional Options..."),alwaysShow:!0},a=!1;function c(){a=!1,i.items=[{label:Rr.l10n.t("Create Dev Container"),description:i.value,alwaysShow:!0},s]}function l(f){a=!0,i.items=[{label:f,alwaysShow:!0}]}c();let u=[],d=await new Promise(f=>{u=[i.onDidAccept(()=>{i.value?a||f({volumeName:i.value,options:i.selectedItems[0]===s}):l(Rr.l10n.t("The name cannot be empty."))}),i.onDidHide(()=>f(void 0)),i.onDidChangeValue(m=>{n.indexOf(m)!==-1?l(Rr.l10n.t("A Docker volume with this name already exists.")):m&&!/^[a-zA-Z0-9]/.test(m)?l(Rr.l10n.t("Only alphanumeric characters are allowed as the first character.")):m&&!/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/.test(m)?l(Rr.l10n.t("Only alphanumeric characters, periods, underscores and hyphens are allowed.")):c()}),i.onDidTriggerButton(()=>f("back"))]});if(u.forEach(f=>f.dispose()),!d)return;if(d==="back")return o();let{volumeName:p}=d;if(d.options){let m=await(async()=>{e.skipOptions=!1;let h=await yp(e,t.metadata.template,Promise.resolve(void 0),async()=>{let v=await YZ(e,t,n,p,o);if(v)return p=v.volumeName,v.selectedTemplate});if(!(h==="back"||!h))return h})();if(!m)return;t=m}return i.busy=!0,i.enabled=!1,{volumeName:p,selectedTemplate:t}}function SCe(e,t){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,qZ,"sleep","infinity"]}var zP=G(require("crypto")),zZ=require("path"),GZ=G(require("vscode")),GU=typeof __non_webpack_require__<"u"?__non_webpack_require__:require,_Ce=["You may install and use any number of copies of the software only with Microsoft Visual Studio,","Visual Studio for Mac, Visual Studio Code, Azure DevOps, Team Foundation Server, and successor Microsoft products","and services (collectively, the \u201CVisual Studio Products and Services\u201D) to develop and test your applications.","The software is licensed, not sold. This agreement only gives you some rights to use the software. Microsoft reserves all other rights.","You may not:","work around any technical limitations in the software that only allow you to use it in certain ways;","reverse engineer, decompile or disassemble the software, or otherwise attempt to derive the source code for the software,","except and to the extent required by third party licensing terms governing use of certain open source components that may be included in the software;","remove, minimize, block, or modify any notices of Microsoft or its suppliers in the software;","use the software in any way that is against the law or to create or propagate malware; or","share, publish, distribute, or lease the software (except for any distributable code, subject to the terms above),","provide the software as a stand-alone offering for others to use, or transfer the software or this agreement to any third party."].join(" "),DCe="aes-192-cbc",KZ="SEE  LICENSE.txt",PCe=zP.scryptSync(_Ce,KZ,24),ICe=Buffer.from(KZ);function JZ(){var e;return VZ(((e=GU.main)==null?void 0:e.paths.map(t=>t+zy("f70715b752c50649525efc24a1d133eb")))??[])||VZ([zZ.posix.join(GZ.env.appRoot,zy("9e4708daf438152c7e63cf9f3b24d92c"))])}function VZ(e){try{let t=GU.resolve(zy("bdf000de72c4f5f5d7cff4fa6dd90b95"),{paths:e}),n=GU(t);return!(!n[zy("0fd50b75eeecb3b44b3932921442f72c")]||!n[zy("80c3ae7905cba507debf9b326fc386ab")])}catch{return!1}}function zy(e){let t=zP.createDecipheriv(DCe,PCe,ICe),n=t.update(e,"hex","utf8");return n+=t.final("utf8"),n}F.l10n.bundle&&tQ.config({contents:F.l10n.bundle});var XU=class{constructor(t,n,r){this.context=t;this.output=n;this.telemetry=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let n=rQ.parse(t.query);if(!n.url){F.window.showErrorMessage(oe.l10n.t("Failed to handle the URI '{0}' expected a 'url' query parameter.",t.toString()),{modal:!0});return}let r;if(Array.isArray(n.url)?r=n.url[0]:r=n.url,!await no(this.context,this.output.log,this.output.onDidInput,this.telemetry,"cloneInVolume"))return;let o=await st(this.context,this.output.log);if(await yR(o.cliHost,r,o.cliHost.type==="local"?await uP(this.output.log):{},this.output.log)===!1){F.commands.executeCommand(Et),await F.window.showErrorMessage(oe.l10n.t("Cannot access the repository '{0}'.",r),{modal:!0});return}await F.commands.executeCommand(cP,n.url)}};async function kCe(e){var k;cX();let t=new Date;aX(e);let n,r=new Promise(C=>n=C);fX(r);let o=await br(e.extensionPath),i=await ox(F.env.appRoot);lX(e,i);let s=sX(e,o,i),a=await dX(o,i),c=new Ty(e.logPath,t,a);if(e.subscriptions.push(F.commands.registerCommand(Et,()=>c.show())),!JZ()){c.log.write("The Dev Containers extension is supported only in Microsoft versions of VS Code");return}let{channel:l,postCreate:u}=iX(c.log,t);e.subscriptions.push(F.commands.registerCommand(rU,()=>l.show()));let d,p=new Promise(C=>d=C);e.subscriptions.push(F.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:lP(c,u,to.results,n,d,async(C,S,b,_)=>zX(e,s,C,S,to.onRemoveOnShutdownChanged,b,_)),async getCanonicalURI(C){let S=lo(C.authority);if(S&&un(S)){let{hostPath:b,settings:_}=S;return Sr(b)?Dm(b,c.log):_l(_)?mx(_.host,b):Dl(S.parentAuthority)?b.startsWith("/")?Yl(S.parentAuthority,b):C:ac(S.parentAuthority)?b.startsWith("/")?Yl(S.parentAuthority,b):C:F.Uri.file(b)}return C}}),F.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:lP(c,u,to.results,n,d,async(C,S,b,_)=>aZ(e,s,C,S,b,_))}),F.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:lP(c,u,to.results,n,d,async(C,S,b,_)=>$Z(e,s,C,S,b,_))}),F.window.registerUriHandler(new XU(e,c,s)));let f=async(C,S,b)=>{if(!await no(e,c.log,c.onDidInput,s,"openInContainer"))return;let _=await st(e,c.log),A;if(xr.isFolderItem(C)?A=C.folder:A=C,A.scheme==="vscode-remote"&&A.authority.startsWith("dev-container+"))return F.commands.executeCommand("vscode.openFolder",A,b);{let L=Tt(_.cliHost.path,Pe(A,_.cliHost.platform));return Gy(e,L,_,c.onDidInput,s,S,b)}};e.subscriptions.push(F.commands.registerCommand("remote-containers.openFolder",async(C,S)=>C?f(C,!1,S):KU(e,!0,s,!1,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand("remote-containers.openWorkspace",async(C,S)=>C?f(C,!1,S):KU(e,!1,s,!1,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand(qJ,async C=>Jg(e,s,c.log,c.onDidInput,C))),e.subscriptions.push(F.commands.registerCommand(cP,async C=>Jg(e,s,c.log,c.onDidInput,C,Oi))),e.subscriptions.push(F.commands.registerCommand(YJ,async()=>{var T,$,Y;let S=(await((T=F.extensions.getExtension("vscode.git"))==null?void 0:T.activate())).getAPI(1);if(S.repositories.length===0)return;let b=S.repositories.reduce((j,J)=>{let fe=J.state.remotes.find(Ne=>{var ke,Xe;return Ne.name===((Xe=(ke=J.state.HEAD)==null?void 0:ke.upstream)==null?void 0:Xe.remote)});return fe!=null&&fe.pushUrl&&j.push({repository:J,label:fe.pushUrl}),j},[]),_=b[0];if(b.length>1){let j=await F.window.showQuickPick(b,{canPickMany:!1,placeHolder:oe.l10n.t("Choose which repository to clone")});if(j===void 0)return;_=j}let A=_.label,L=(Y=($=_.repository.state.HEAD)==null?void 0:$.upstream)==null?void 0:Y.name;return Jg(e,s,c.log,c.onDidInput,{url:A,branch:L},Oi)})),e.subscriptions.push(F.commands.registerCommand(WJ,async()=>{var L;let C=F.workspace.workspaceFolders;if(!C)return;let S=C[0].uri;if(C.length>1){let T=await F.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:oe.l10n.t("Choose a repository to clone in a Container Volume")});S=T==null?void 0:T[0]}let b,_;try{let T=await F.commands.executeCommand("remoteHub.api.getRepositoryContext",S);if(!T)throw new Error("Unable to get active repository context.");b=T.name,_=T.ref}catch{let Y=await(await((L=F.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:L.activate())).getMetadata(S);if(!Y)throw new Error("Unable to get active repository context.");b=`${Y.repo.owner}/${Y.repo.name}`,_=(await Y.getRevision()).name}let A=`https://github.com/${b}`;return _&&(A=`${A}/tree/${_}`),Jg(e,s,c.log,c.onDidInput,A,Oi)})),e.subscriptions.push(F.commands.registerCommand(VJ,async C=>BCe(e,s,c.log,c.onDidInput,C,Oi))),e.subscriptions.push(F.commands.registerCommand("remote-containers.inspectVolume",async(C,S,b)=>aQ(e,C,S,b,s,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async C=>qCe(e,C,s,c.log,c.onDidInput))),e.subscriptions.push(F.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async C=>Jg(e,s,c.log,c.onDidInput,void 0,C))),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInContainer",()=>m(!1))),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>m(!0))),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>m("rebuildNoCache")));let m=async C=>{if(!await F.workspace.requestWorkspaceTrust({message:Ly})||!await no(e,c.log,c.onDidInput,s,"reopenInContainer"))return;let b=await st(e,c.log),_=F.workspace.workspaceFile;if(_&&_.scheme==="untitled"){await oP();return}let A=F.workspace.workspaceFolders;if(!_&&A&&A.length){let T=A.length>1?await F.window.showWorkspaceFolderPick({placeHolder:oe.l10n.t("Pick a folder to reopen in a container.")}):A[0];T&&(_=T.uri)}let L=iU(_);if(L){await Ky(e,L.repositoryPath,L.volumeName,L.folder,b);return}if(_){let T;if(b.cliHost.type==="wsl"&&_.scheme==="file"){let Y=Pe(_,process.platform),j=zd(Y)||gP()||await px(b.output)||(()=>{throw new Error("No default WSL distro found.")})();T=await Sl(j,Y,b.output)}else T=Pe(_,b.cliHost.platform);let $=Tt(b.cliHost.path,T);await Gy(e,$,b,c.onDidInput,s,C,{forceReuseWindow:!0})}else return KU(e,!0,s,C,c.log,c.onDidInput)};e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenLocally",async()=>{let C=F.workspace.workspaceFolders,S=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(S&&S.scheme==="vscode-remote"){let b=lo(S.authority);if(b&&un(b)){let _=F.Uri.file(b.hostPath),A={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",_,A)}else F.window.showInformationMessage(oe.l10n.t("'Reopen Locally' not possible in current context."))}})),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let C=F.workspace.workspaceFolders,S=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(S&&S.scheme==="vscode-remote"){let b=lo(S.authority);if(b&&un(b)&&Sr(b.hostPath)){let _=F.Uri.parse((await Dm(b.hostPath,c.log)).toString()),A={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",_,A)}else F.window.showInformationMessage(oe.l10n.t("'Reopen in WSL' not possible in current context."))}})),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let C=F.workspace.workspaceFolders,S=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(S&&S.scheme==="vscode-remote"){let b=lo(S.authority),_=b==null?void 0:b.settings;if(b&&un(b)&&(Dl(b.parentAuthority)||_l(_))){let A=_l(_)?mx(_.host,b.hostPath):Yl(b.parentAuthority,b.hostPath),L={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",F.Uri.parse(A.toString()),L)}else F.window.showInformationMessage(oe.l10n.t("'Reopen in SSH' not possible in current context."))}})),e.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInTunnel",async()=>{let C=F.workspace.workspaceFolders,S=F.workspace.workspaceFile||C&&C.length&&C[0].uri;if(S&&S.scheme==="vscode-remote"){let b=lo(S.authority);if(b&&un(b)&&ac(b.parentAuthority)){let _=F.Uri.parse(Yl(b.parentAuthority,b.hostPath).toString()),A={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",_,A)}else F.window.showInformationMessage(oe.l10n.t("'Reopen in Tunnel' not possible in current context."))}}));let h=async C=>{var L;if(!await ld(e))return;let S,b=typeof C=="string"?C:(L=C==null?void 0:C.containerDesc)==null?void 0:L.Id;if(b){if(!await no(e,c.log,c.onDidInput,s,"attachToContainer"))return;let T=await st(e,c.log);S=await ii(T,b)}else{let T=no(e,c.log,c.onDidInput,s,"attachToContainer");if(S=await XCe(e,c.log,T),!S)return}let _=await st(e,c.log),A=e.extensionMode===F.ExtensionMode.Development;Vy(_,S,e,!A)};e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToRunningContainer",h)),e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",h)),e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToK8sContainer",async C=>VU(e,await st(e,c.log),C))),e.subscriptions.push(F.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async C=>VU(e,await st(e,c.log),C)));let v=async C=>{var b;if(!await no(e,c.log,c.onDidInput,s,"checkoutPRInVolume"))return;let S=(b=C==null?void 0:C.pullRequestModel)==null?void 0:b.html_url;Jg(e,s,c.log,S,Oi)};e.subscriptions.push(F.commands.registerCommand("remote-containers.checkoutPRInVolume",v)),e.subscriptions.push(F.commands.registerCommand("remote-containers.switchContainer",async()=>{let C=await st(e,c.log),S=Tt(C.cliHost.path,C.cliHost.cwd);if((await iQ(C.cliHost,S,await zc(e,C.cliHost))).length<2){await F.window.showInformationMessage(oe.l10n.t("No other Dev Container configurations found in folder. Did you mean to open another folder in a container?"),{modal:!0},oe.l10n.t("Open Folder in Container..."))&&F.commands.executeCommand("remote-containers.openFolder");return}await Gy(e,S,C,c.onDidInput,s,!1)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let C=cd();if(C){let S=await st(e,c.log);await Ky(e,C.repositoryPath,C.volumeName,C.folder,S,!0);return}return await Promise.all(to.onRemoveOnShutdownChangedEmitter.fire(!0)),F.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let C=cd();if(C){let S=await st(e,c.log);await Ky(e,C.repositoryPath,C.volumeName,C.folder,S,"rebuildNoCache");return}return await Promise.all(to.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),F.commands.executeCommand("workbench.action.reloadWindow")}));let g=GJ(),w=((k=(F.workspace.workspaceFolders||[])[0])==null?void 0:k.uri)||Se.file(process.cwd()),x=g.then(C=>Ta(C,w)),y,E=()=>y||(y=st(e,c.log).then(C=>C.cliHost)),P,D=()=>P||(P=(async()=>{let C=await x,S=await E(),b=F.env.remoteName==="dev-container"&&F.env.remoteAuthority&&lo(F.env.remoteAuthority),A=!b||un(b)?await zc(e,S):void 0;return c.log.write("Initializing configuration support..."),VX(e,{fileHost:C,userDataFolderForConfigurations:A,findDevContainerFiles:async L=>wP(S,Tt(C.path,Pe(w,C.platform)),A,L),telemetry:s,output:c.log,openConfigurationCommandId:mp,showLogCommandId:Et})})());async function R(){var C;return(C=F.workspace.workspaceFolders)!=null&&C.length?!0:(await F.window.showInformationMessage(oe.l10n.t("Open a folder to create the configuration files in first."),{modal:!0},oe.l10n.t("Open Folder"))&&await F.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder"),!1)}e.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{await R()&&await GP(e,await E(),await D(),s,c.log,c.onDidInput)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainerFileWithCopilot",async()=>{await R()&&await GP(e,await E(),await D(),s,c.log,c.onDidInput,{picker:"copilot"})})),e.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainer",async()=>{if(!await no(e,c.log,c.onDidInput,s,"createDevContainer"))return;let C=await st(e,c.log);await WZ(e,C,s)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.openDevContainerFile",async(C,S)=>{let b,_=await st(e,c.log),A;if(typeof C=="string"?b=[{type:"unknown",uri:Se.file(C),fileHost:Ta(process.platform,Se.file(_t.dirname(C)))}]:(A=await wP(_.cliHost,Tt(_.cliHost.path,_.cliHost.cwd),await zc(e,_.cliHost)),b=(await Promise.all(A.map(L=>L.uri.scheme==="file"||L.uri.scheme==="vscode-remote"?L:_.cliHost.toCommonURI(Pe(L.uri,_.cliHost.platform)).then(T=>T&&{type:L.type,uri:T})))).filter(L=>!!L)),b.length){let L=await dp(b);if(!L||L==="cancelled")return;let T=cd();if(T){let $=oX(T.folder);for(let Y of $){try{await F.workspace.openTextDocument(F.Uri.parse(Y.toString()))}catch{continue}await F.commands.executeCommand("vscode.open",F.Uri.parse(Y.toString()),S);return}return}if(L){if(L.scheme==="file"&&await wr(L.fsPath))return await F.commands.executeCommand("vscode.open",F.Uri.parse(L.toString()),S);if(L.scheme==="file"&&to.results.size)return await Li(ss,L,[],rc),await F.commands.executeCommand("vscode.open",F.Uri.parse(L.toString()),S);if(L.scheme==="vscode-remote")return await F.commands.executeCommand("vscode.open",F.Uri.parse(L.toString()),S);if(C===void 0)return await GP(e,await E(),await D(),s,c.log,c.onDidInput)}}else if(C===void 0&&!(A!=null&&A.length))return await GP(e,await E(),await D(),s,c.log,c.onDidInput)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:C,dockerParams:S}=[...to.results.values()][0];if(!C||!S)return F.window.showInformationMessage(oe.l10n.t("Named configurations are only available for Docker containers."),{modal:!0});let b=await ii(S,C),_=TP(e.globalStoragePath,b),A=F.Uri.file(_);return await wr(_)?F.commands.executeCommand("vscode.open",A):(await Li(ss,A,[],rc),F.commands.executeCommand("vscode.open",A))})),e.subscriptions.push(F.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let C=[...(await nZ(e.globalStoragePath)).map(b=>({label:b.name,...b})).sort((b,_)=>b.label.localeCompare(_.label)),...(await oZ(e.globalStoragePath)).map(b=>({label:b.image,...b})).sort((b,_)=>b.label.localeCompare(_.label))],S=await F.window.showQuickPick(C.length?C:[{label:oe.l10n.t("No configuration found.")}],{placeHolder:oe.l10n.t("Choose a configuration file")});if(S&&"uri"in S)return F.commands.executeCommand("vscode.open",F.Uri.parse(S.uri.toString()))})),e.subscriptions.push(F.commands.registerCommand("remote-containers.settings",async()=>F.commands.executeCommand("workbench.action.openSettings",`@ext:${QZ()}`))),e.subscriptions.push(F.commands.registerCommand("remote-containers.getHelp",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(F.commands.registerCommand("remote-containers.getStarted",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(F.commands.registerCommand("remote-containers.reportIssue",async()=>{let C={extensionId:QZ(),issueBody:oe.l10n.t("For bug reports please include the complete log output. (In the VS Code window: `F1` > `Dev Containers: Show Container Log`.)")};return F.commands.executeCommand("vscode.openIssueReporter",C)})),e.subscriptions.push(F.commands.registerCommand("remote-containers.provideFeedback",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),x.then(C=>{e.subscriptions.push(F.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new OP(C)))}),e.subscriptions.push(F.commands.registerCommand("remote-containers.trySample",()=>obe(e,c,s))),e.subscriptions.push(F.commands.registerCommand("remote-containers.openLogFile",()=>ibe(e))),e.subscriptions.push(F.commands.registerCommand("remote-containers.openLastLogFile",()=>sbe(e,"remoteContainers",c.logFilePath))),e.subscriptions.push(F.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>ebe(e))),e.subscriptions.push(F.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>NCe(e))),e.subscriptions.push(F.commands.registerCommand("remote-containers.installDocker",()=>NP(c.log))),e.subscriptions.push(F.commands.registerCommand("remote-containers.installDockerInWSL",()=>FP(e,c.log,c.onDidInput,s))),e.subscriptions.push(F.commands.registerCommand("remote-containers.cleanUpDevContainers",async()=>kZ(await st(e,c.log)))),UZ(e,to.results,s,c.log),HZ(e,i).catch(C=>{c.log.write(`Error ensuring user CLI is configured: ${(C==null?void 0:C.stack)||(C==null?void 0:C.message)||String(C)}`)}),e.subscriptions.push(F.commands.registerCommand("remote-containers.installUserCLI",()=>BZ(e,i))),e.subscriptions.push(F.commands.registerCommand("remote-containers.testConnection",async()=>{await F.commands.executeCommand(Et);let C=[...to.results.values()][0];if(!C){c.log.write("Not connected.");return}let{params:S,properties:b}=C;await kb(S,b)})),(async()=>{yP()&&await p;let C=F.env.remoteName,S=!C||["dev-container","attached-container","wsl","ssh-remote","tunnel","exec","k8s-container"].indexOf(C)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[],b=await D();e.subscriptions.push(F.languages.registerCompletionItemProvider([...S,{pattern:_t.join(kP(e.globalStoragePath),"*.json")},{pattern:_t.join(IP(e.globalStoragePath),"*.json")}],b.createCompletionItemProvider())),C!=="codespaces"&&(b.startCodeLensProvider(),b.startHoverProvider(),b.startDiagnosticsCollection()),await rX(e)||await cQ(e,await E(),s,c.log,c.onDidInput)})().catch(console.error),LCe(e),e.subscriptions.push(F.commands.registerCommand("remote-containers.addExtensionToConfig",async C=>(await D()).addExtensionToConfiguration(C)),F.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>(await D()).configureContainerFeatures()),F.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",async C=>(await D()).addPortLabelToConfiguration(C))),cd()&&F.commands.executeCommand("setContext","isRecoveryContainer",!0),JJ(e).catch(C=>c.log.write(`Error remembering local extensions: ${(C==null?void 0:C.stack)||(C==null?void 0:C.message)||String(C)}`))}var ZZ="showRecoveryContainerNotification",oQ="showReopenInContainerNotificationReset",RCe=5e3;function NCe(e){return e.globalState.update(oQ,Date.now())}async function LCe(e){setTimeout(async()=>{let t=e.globalState.get(oQ);if(tM(e.globalState.get(ZZ),t))return;if(cd()){let r=oe.l10n.t("This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry."),o=oe.l10n.t("Reopen in Container"),i=oe.l10n.t("Don't Show Again"),s=await F.window.showInformationMessage(r,o,i);s===o?F.commands.executeCommand("remote-containers.reopenInContainer"):s===i&&await e.globalState.update(ZZ,Date.now())}},RCe)}async function ACe(){await Promise.all([...to.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(n){console.error(n)}}))))}function QZ(){let{name:e,publisher:t}=XZ();return`${t}.${e}`}async function KU(e,t,n,r,o,i){var p;if(!await no(e,o,i,n,"openInContainer"))return;let s=await st(e,o),a,c=F.workspace.workspaceFolders;if(c&&c[0]){let f=c[0].uri;if(f.scheme==="vscode-remote"){let m=lo(f.authority);if(m&&un(m)){let h=Tt(s.cliHost.path,m.hostPath);a=F.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote|tunnel)\+/.test(f.authority)&&(a=f)}else f.scheme==="file"&&(a=f)}a||((p=F.env.remoteName)!=null&&p.match(/^(wsl|ssh-remote|tunnel)$/)?a=F.Uri.from({scheme:"vscode-remote",authority:F.env.remoteAuthority,path:await s.cliHost.homedir()}):a=F.Uri.file(nQ.homedir()));let l=t?{defaultUri:a,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:oe.l10n.t("Open")}:{defaultUri:a,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{[oe.l10n.t("Code Workspace")]:["code-workspace"]},openLabel:oe.l10n.t("Open")},u=await F.window.showOpenDialog(l),d=u&&u[0];if(d){let f=t?d:d.with({path:_t.posix.dirname(d.path)}),m=await st(e,s.output,f,sU()==="always"),h=Pe(d,m.cliHost.platform),v=Tt(m.cliHost.path,h);await Gy(e,v,m,i,n,r)}}async function Gy(e,t,n,r,o,i,s){try{await FCe(e,t,n,r,o,i,s)}catch(a){await dd(a,"ui",o,!1,n.output)}}async function FCe(e,t,n,r,o,i,s){var R;let{cliHost:a}=n;if(Sr(t.rootFolderPath)){if(!await no(e,n.output,r,o,"openInContainer",t.rootFolderPath))return;n=await st(e,n.output,t.rootFolderPath),a=n.cliHost,t=Tt(a.path,t.isWorkspaceFile?a.path.join(a.cwd,_t.basename(t.workspaceOrFolderPath)):a.cwd)}let c=await YC(a,t);if(c){let N=oe.l10n.t("Continue");if(await F.window.showInformationMessage(oe.l10n.t("The workspace could fail to open in a container: {0}",c),{modal:!0},N)!==N)return}let l=await MCe(e,a,t);if(l==="cancelled")return;let u=l&&(l.scheme==="file"?await lt(l.fsPath):await a.readFile(Pe(l,a.platform))).toString(),d=!!(u&&((R=Be(u))!=null&&R.initializeCommand)),{dockerCLI:p,dockerComposePath:f}=n,m={cliHost:a,dockerPath:p,dockerComposePath:f,appRoot:F.env.appRoot,extensionPath:e.extensionPath,package:await br(e.extensionPath),output:n.output},h=l&&await(d?Rg(m,t.rootFolderPath,l):await fU(m,t.rootFolderPath,l)||Rg(m,t.rootFolderPath,l));if(h==="canceled")return;if(!h&&l){let N=Pe(l,a.platform),k=await a.toCommonURI(N);k&&F.window.showTextDocument(F.Uri.parse(k.toString()));let C=oe.l10n.t("Show Log");await F.window.showErrorMessage(oe.l10n.t("Failed to read Dev Container configuration '{0}' file.",a.path.relative(t.configFolderPath,N)),{modal:!0},C)===C&&F.commands.executeCommand(Et);return}let v=h&&!Zb(h.configuration);if(!h||v){let N=await _P({fileHost:a,userDataFolderForConfigurations:await zc(e,a),telemetry:o,output:n.output,openConfigurationCommandId:mp,showLogCommandId:Et},t,void 0,h==null?void 0:h.configuration.configFilePath);if(!N||(l=Se.file(N).with({scheme:et.scheme}),h=await fU(m,t.rootFolderPath,l),!h||h==="canceled"))return}if(!await uX(e,n,h.configuration)||!await jCe(n,"mergedConfiguration"in h?h.mergedConfiguration:h.configuration))return;let g=h.configuration,w=h.workspace.workspaceFolder,x=a.type==="wsl"?(await a.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,y=(l==null?void 0:l.scheme)===et.scheme&&a.type==="wsl"&&!Sr(x)&&await a.toCommonURI(Pe(l,a.platform))||l;if(To(g)){let N=nf(a,g);if(!g.initializeCommand&&!await cr(a).readDocument(N))return Jy(oe.l10n.t('"{0}" does not exist.',N.fsPath),a,g.configFilePath);if(g.workspaceFolder&&!_t.posix.isAbsolute(g.workspaceFolder))return Jy(oe.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),a,g.configFilePath)}else if(!("image"in g))if("dockerComposeFile"in g){let N=a.type==="wsl"?t.isWorkspaceFile?_t.dirname(x):x:t.rootFolderPath;if(!await SZ(n)||!await ZCe(N,y,n,g))return}else{let N=g.configFilePath;return Jy(oe.l10n.t('Configuration "{0}" not valid.',a.path.relative(t.rootFolderPath,Pe(N,a.platform))),a,N)}t.isWorkspaceFile&&(w=_t.posix.join(w,a.path.basename(t.workspaceOrFolderPath)));let E=ur(n.env),P=(a.type==="local"||a.type==="wsl")&&_l(E),D=F.Uri.parse(Hx(F.env.remoteAuthority,x,w,E,P,y));await vp({uri:D,type:t.isWorkspaceFile?"workspace":"folder",label:oe.l10n.t("{0} [Dev Container]",`${_y(a.platform,t.workspaceOrFolderPath,await a.homedir())}${Hm(F.env.remoteAuthority,E)}`)}),await uU(e,i?D.authority:!1),await Ry(e,i==="rebuildNoCache"?D.authority:!1),await F.commands.executeCommand("vscode.openFolder",D,s)}async function iQ(e,t,n){let r=await $Ce(e,t.rootFolderPath),i=(r==null?void 0:r.scheme)==="file"&&process.platform==="win32"&&Sr(r.fsPath)&&!F.workspace.getConfiguration("security").get("allowedUNCHosts",[]).includes(r.authority)?UCe(e,t):OCe(r,e,t);return(await Promise.all([i.then(s=>s.map(a=>({type:"workspace",uri:a,fileHost:e}))),dU(e,t).then(s=>s.map(a=>({type:"repositoryConfig",uri:a,fileHost:Ta(process.platform,a.with({path:_t.posix.dirname(a.path)}))}))),n?iP(e,t,n).then(s=>s.map(a=>({type:"userData",uri:a,fileHost:e}))):[]])).flat()}async function OCe(e,t,n){return Promise.all((await Yc(e)).map(async o=>{if(!e){let i=_t.posix.relative(F.workspace.workspaceFolders[0].uri.path,o.path),s=t.platform==="win32"?"/"+n.rootFolderPath.replace(/\\/g,"/"):n.rootFolderPath;return Se.from({scheme:et.scheme,path:_t.posix.join(s,i)})}return o.scheme===ao.scheme?Se.from({scheme:et.scheme,path:o.path}):t.type==="wsl"&&o.scheme==="file"?Se.from({scheme:et.scheme,path:await hS(o,t)}):o}))}async function UCe(e,t){let n=e.path.join(t.rootFolderPath,".devcontainer"),r=[...Fl(e.path,t.rootFolderPath),...(await e.readDirWithTypes(n)).filter(([,o])=>(o&2)!==0).map(([o])=>e.path.join(n,o,"devcontainer.json"))];return(await Promise.all(r.map(o=>e.isFile(o).then(i=>i?Se.from({scheme:et.scheme,path:o}):void 0)))).filter(Boolean)}async function MCe(e,t,n){let r=await iQ(t,n,await zc(e,t)),o;if(F.env.remoteAuthority){let i=lo(F.env.remoteAuthority);i&&un(i)&&(o=i.configFile)}return dp(r,o)}function $Ce(e,t){switch(e.type){case"local":return Se.file(t);case"wsl":return F.env.remoteName==="wsl"?Se.from({scheme:"vscode-remote",authority:F.env.remoteAuthority,path:t}):e.toCommonURI(t);case"remote":return F.env.remoteName==="ssh-remote"||F.env.remoteName==="tunnel"?Nn(e.platform,Se.from({scheme:"vscode-remote",authority:F.env.remoteAuthority}),t):void 0;default:return}}async function jCe(e,{hostRequirements:t}){var r,o;let n=t&&HCe(t);if(n&&(n.cpus||n.memory||n.gpu&&n.gpu!=="optional")){let i=await it(e,"info","--format","{{json .}}"),s=JSON.parse(i.stdout.toString()),a=s.NCPU&&n.cpus&&n.cpus>s.NCPU,c=s.MemTotal&&n.memory&&n.memory>s.MemTotal,l=((o=(r=s.Runtimes)==null?void 0:r.nvidia)==null?void 0:o.path)==="nvidia-container-runtime";if(a||c){let u=[];s.NCPU&&u.push(oe.l10n.t("CPUs {0}",s.NCPU.toLocaleString())),s.MemTotal&&u.push(oe.l10n.t("RAM {0}",JU(s.MemTotal))),l&&u.push(oe.l10n.t("GPU"));let d=[];n.cpus&&d.push(oe.l10n.t("CPUs {0}",n.cpus.toLocaleString())),n.memory&&d.push(oe.l10n.t("RAM {0}",JU(n.memory))),n.storage&&d.push(oe.l10n.t("disk {0}",JU(n.storage))),n.gpu&&n.gpu!=="optional"&&d.push(oe.l10n.t("GPU"));let p=oe.l10n.t(`Docker daemon: {0}
devcontainer.json: {1}`,u.join(", "),d.join(", "));if(!await F.window.showInformationMessage(oe.l10n.t("Not all host requirements in devcontainer.json are met by the Docker daemon."),{modal:!0,detail:p},oe.l10n.t("Continue")))return!1}}return!0}function HCe(e){return{cpus:e.cpus||0,memory:eQ(e.memory||"0"),storage:eQ(e.storage||"0"),gpu:e.gpu}}function eQ(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,n,r]=t,o=parseInt(n,10),i=r&&{t:2**40,g:2**30,m:2**20,k:2**10}[r[0]]||1;return o*i}return 0}function JU(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),n=e/Math.pow(2,10*t),r=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(n),1)))),1),o=Math.round(n*r)/r,i=[" bytes","kb","mb","gb","tb"][t];return`${o.toLocaleString()}${i}`}async function Jg(e,t,n,r,o,i){if(!await Ay(e))return;let s=null;if(!await no(e,n,r,t,"cloneInVolume"))return;let a=await st(e,n);if(typeof o=="string")s=o;else{let c;if(o!==void 0?c=o:c=await F.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:l=>oe.l10n.t("Clone a repository from {0} in a Container Volume",l.name),urlLabel:oe.l10n.t("Clone git repository from URL"),branch:!0}),c){s=(typeof c=="string"?c:c.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let l=Ks(s);if(await yR(a.cliHost,l.repositoryUrl,a.cliHost.type==="local"?await uP(a.output):{},a.output)===!1){F.commands.executeCommand(Et),await F.window.showInformationMessage(oe.l10n.t("Cannot access the repository '{0}'.",l.repositoryUrl),{modal:!0});return}typeof c!="string"&&c.branch&&(s=`${s}/tree/${c.branch}`)}}s&&await sQ(e,a,s,i)}async function sQ(e,t,n,r){if(r||(r=await YCe(t)),r){let o=rM(n);r!==Oi&&(o=await zCe(n)),o&&await Ky(e,n,r,o,t)}}async function BCe(e,t,n,r,o,i){if(!await Ay(e))return;let s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await no(e,n,r,t,"checkoutPRInVolume"))return;let a=await st(e,n),c={placeHolder:oe.l10n.t("e.g. https://github.com/microsoft/vscode/pull/123"),prompt:oe.l10n.t("Enter a GitHub pull request url"),validateInput:d=>s.test(d)?void 0:oe.l10n.t("Invalid pull request url")},l;if(o?l=o:l=await F.window.showInputBox(c),!l)return;let u=Ks(l);if(u.repository==="unknown"||!u.pullRequestId){await F.window.showInformationMessage(oe.l10n.t("Invalid pull request URL '{0}'.",l),{modal:!0});return}await sQ(e,a,l,i)}async function aQ(e,t,n,r,o,i,s){if(!await no(e,i,s,o,"inspectVolume"))return;let a=await st(e,i);t||(t=await WCe(a)),t&&(n&&r?await JCe(t,n,r,a):await KCe(t,a))}async function qCe(e,t,n,r,o){await no(e,r,o,n,"inspectVolume")&&t&&t.volumeName&&await aQ(e,t.volumeName,void 0,void 0,n,r,o)}var Xy=class{get detail(){return""}},ZU=class extends Xy{get label(){return oe.l10n.t("$(plus) Create a new volume...")}get description(){return""}get volumeName(){return""}get detail(){return oe.l10n.t("Use this volume to store several cloned repositories.")}get alwaysShow(){return!0}},QU=class extends Xy{volume;constructor(t){super(),this.volume=t}get label(){return oe.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let t=new Date(this.volume.CreatedAt);return oe.l10n.t("created at {0}",t.toDateString())}get volumeName(){return this.volume.Name}},eM=class extends Xy{volume;constructor(t){super(),this.volume=t}get label(){return oe.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let t=new Date(this.volume.CreatedAt);return oe.l10n.t("created at {0}",t.toDateString())}get volumeName(){return this.volume.Name}};async function WCe(e){let t=await ko(e),r=(await rf(e,t)).map(a=>new eM(a)),o=oe.l10n.t("Select the volume to inspect with Visual Studio Code"),i=F.window.createQuickPick();i.items=r,i.placeholder=o,i.show();let s=await new Promise(a=>{i.onDidAccept(()=>a(i.activeItems[0])),i.onDidHide(()=>a(void 0))});return i.hide(),s?s.volume.Name:null}async function YCe(e){let t=await ko(e,["vsch.local.repository.unique=false"]),r=(await rf(e,t)).map(u=>new QU(u)),o=new ZU,i=[o,...r],s=oe.l10n.t("Select the volume for the cloned repository"),a=F.window.createQuickPick();a.items=i,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===o?l=await VCe(e):l=c.volumeName,l}async function VCe(e){let t="",n="vsc-remote-containers",r=await ko(e);r.find(s=>s===n)||(t=n);let o={prompt:oe.l10n.t("Enter the volume name."),value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?oe.l10n.t("Volume names should be at least two characters and the first character must be alphanumeric."):oe.l10n.t("Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric.")},i=await F.window.showInputBox(o);return i?r.find(s=>s===i)?(await F.window.showErrorMessage(oe.l10n.t("Volume already exists"),{modal:!0}),null):i:null}async function zCe(e){let t={prompt:oe.l10n.t("Enter the target folder name."),value:rM(e),ignoreFocusOut:!0},n=await F.window.showInputBox(t);return n||null}function rM(e){return ai(e).repositoryName}async function GCe(){return(await F.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function Ky(e,t,n,r,o,i=!1){let s=ur(o.env),a=xS(t),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof $x){F.window.showErrorMessage(u.description);return}let d=await GCe();try{c=await a.parseUrl(d)}catch{F.window.showErrorMessage(oe.l10n.t("Cannot access '{0}'.",t),{modal:!0});return}}let l=F.Uri.parse(fs(o.cliHost.authority,t,n,r,!1,s,c));n===Oi&&(n=oe.l10n.t("a unique volume")),await vp({uri:l,type:"folder",label:oe.l10n.t("{0} in {1} [Dev Container]",r,n)}),await uU(e,i?l.authority:!1),await Ry(e,i==="rebuildNoCache"?l.authority:!1),await F.commands.executeCommand("vscode.openFolder",l)}async function KCe(e,t){let n=ur(t.env),r=F.Uri.parse(fs(t.cliHost.authority,void 0,e,void 0,!0,n,void 0));await vp({uri:r,type:"folder",label:oe.l10n.t("Volume {0} [Dev Container]",e)}),await F.commands.executeCommand("vscode.openFolder",r)}async function JCe(e,t,n,r){let o=ur(r.env),i=F.Uri.parse(fs(r.cliHost.authority,t,e,n,!0,o,void 0));await vp({uri:i,type:"folder",label:oe.l10n.t("{0} in {1} [Inspect Dev Container]",n,e)}),await F.commands.executeCommand("vscode.openFolder",i)}async function Vy(e,t,n,r,o){var c;if(!await ld(n))return;let i,s=e.cliHost;if(s.type==="wsl"){let l=await s.toCommonURI(s.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let a=H3(e.cliHost.authority,t.Name,ur(e.env),i);if(o=o||((c=await eZ(n.globalStoragePath,t))==null?void 0:c.workspaceFolder),o){let l=F.Uri.parse(`vscode-remote://${a}${o}`),u={};r?u.forceNewWindow=!0:u.forceReuseWindow=!0,await F.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:a};r||(l.reuseWindow=!0),await F.commands.executeCommand("vscode.newWindow",l)}}async function XCe(e,t,n){let r=!0,o=(async()=>{if(!await n)throw new Error("cancel");r=!1;let i=await st(e,t),s=await Ml(i),a=await cs(i,s),c=[];if(a.forEach(l=>{l.State.Status==="running"&&c.push({label:l.Name,description:`${l.Config.Image} ${l.Id}`,containerInfo:l})}),c.length===0)throw F.window.showErrorMessage(oe.l10n.t("There are no running containers to attach to."),{modal:!0}),new Error("cancel");return c.sort((l,u)=>l.label.localeCompare(u.label))})();try{let i={placeHolder:oe.l10n.t("Select the container to attach VS Code")},s=await F.window.showQuickPick(o,i);if(!s&&r){if(!await n)throw new Error("cancel");s=await F.window.showQuickPick(o,i)}return s?s.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function ZCe(e,t,n,r){if(!r.workspaceFolder)return Jy(oe.l10n.t("Workspace folder not specified in devcontainer.json."),n.cliHost,r.configFilePath),!1;if(!_t.posix.isAbsolute(r.workspaceFolder))return Jy(oe.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),n.cliHost,r.configFilePath),!1;if(r.initializeCommand)return!0;let o=await Ol(n.cliHost,r,n.cliHost.env,n.cliHost.cwd),i=HN(e,{buildCLIHost:n.cliHost,configFile:t});return!(await jl(n,i)&&!await QCe(n.cliHost,o))}async function QCe(e,t){let n=[];for(let r=0;r<t.length;r++)await e.isFile(t[r])||n.push(t[r]);return n.length>0?(F.window.showErrorMessage(oe.l10n.t("The following referenced docker compose files do not exist: {0}",n.join(", ")),{modal:!0}),!1):!0}async function Jy(e,t,n){if(await F.window.showErrorMessage(e,{modal:!0},oe.l10n.t("Open devcontainer.json"))){let o=Pe(n,t.platform),i=await t.toCommonURI(o);i&&F.window.showTextDocument(F.Uri.parse(i.toString()))}}async function GP(e,t,n,r,o,i,s){await n.createConfiguration(s)&&await cQ(e,t,r,o,i)}async function cQ(e,t,n,r,o){if([void 0,"wsl","ssh-remote","tunnel"].indexOf(F.env.remoteName)===-1)return;let i=F.workspace.workspaceFile,s=F.workspace.workspaceFolders,a=i||s&&s.length&&s[0].uri||void 0;if(a&&a.scheme!=="vscode-vfs"){let c;if(t.type==="wsl"&&a.scheme==="file"){let p=Pe(a,process.platform),f=zd(p)||gP()||await px(r)||(()=>{throw new Error("No default WSL distro found.")})();c=await Sl(f,p,r)}else c=Pe(a,t.platform);let l=Tt(t.path,c),d=(await wP(t,l,await zc(e,t))).sort((p,f)=>{if(p.type!==f.type)return p.type.localeCompare(f.type);let m=_t.posix.dirname(p.uri.path),h=_t.posix.dirname(f.uri.path);return m.localeCompare(h)})[0];d&&(await ky(t,r)).canConnectToContainer&&await tbe(e,d,l,t,n,r,o)}}var KP="showReopenInContainerNotification",lQ="showReopenInContainerNotificationReset";function ebe(e){return e.globalState.update(lQ,Date.now())}async function tbe(e,t,n,r,o,i,s){let a=e.globalState.get(lQ);if(tM(e.globalState.get(KP),a)||tM(e.workspaceState.get(KP),a))return;let c=v3(r,n,t.uri),l,u="";if(r.platform!=="linux"&&F.env.remoteName!=="wsl"&&!(r.platform==="win32"&&Sr(n.rootFolderPath))&&F.env.remoteName!=="ssh-remote"){let x=await st(e,i);if(l=await vY(x.cliHost,n,x.output),l&&c){let y=await nx(x.cliHost,n.rootFolderPath,x.output);y&&await wY(x.cliHost,n,x.cliHost.path.relative(y,Pe(t.uri,x.cliHost.platform)),x.output)||(l=void 0)}if(l){let{cliHost:y,dockerCLI:E,dockerComposePath:P}=x,D={cliHost:y,dockerPath:E,dockerComposePath:P,appRoot:F.env.appRoot,extensionPath:e.extensionPath,package:await br(e.extensionPath),output:i},R=await Rg(D,n.rootFolderPath,t.uri);(!R||!To(R.configuration)&&!("image"in R.configuration))&&(l=void 0)}l&&(u=oe.l10n.t(" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo)."))}F.env.remoteName==="wsl"&&n.rootFolderPath.match(/^\/mnt\/[a-z]\//)&&(u=oe.l10n.t(" This workspace is on the Windows file system (/mnt/). For best performance, we recommend moving the workspace to the Linux file system (~/home)."));let d;c?n.isWorkspaceFile?d=oe.l10n.t("Workspace contains a Dev Container configuration file."):d=oe.l10n.t("Folder contains a Dev Container configuration file."):d=oe.l10n.t("There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.");let p=oe.l10n.t("Reopen in Container"),f=oe.l10n.t("Clone in Volume"),m=oe.l10n.t("Don't Show Again..."),h=n.isWorkspaceFile?oe.l10n.t("{0} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",d,u):oe.l10n.t("{0} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",d,u),v=l?[p,f,m]:[p,m];nbe(o,t.type);let g=await F.window.showInformationMessage(h,...v);if(rbe(o,g===p?"reopen":g===f?"openRepository":g===m?"dontShowAgain":"cancel",t.type),g===p){if(!await F.workspace.requestWorkspaceTrust({message:Ly})||!await no(e,i,s,o,"reopenInContainer"))return;let y=await st(e,i);if(y.cliHost.type==="wsl"&&r.platform==="win32"){let{cwd:E}=await JR(n.workspaceOrFolderPath,Ra(),i);n=Tt(y.cliHost.path,E)}await Gy(e,n,y,s,o,!1,{forceReuseWindow:!0})}else if(g===f){let x=await st(e,i),y=await xY(x.cliHost,n,x.output),E=oe.l10n.t("OK"),P=oe.l10n.t("Cancel");(!y||E===await F.window.showInformationMessage(oe.l10n.t("Local changes not pushed to the Git remote will not be available in the Docker volume."),E,P))&&await F.window.withProgress({location:F.ProgressLocation.Notification,title:oe.l10n.t("Clone in Volume")},async(D,R)=>{D.report({message:oe.l10n.t("Follow the prompts at the top of the window.")}),await F.commands.executeCommand(cP,l)})}else if(g===m){let x=n.isWorkspaceFile?oe.l10n.t("Any Workspace"):oe.l10n.t("Any Folder"),y=n.isWorkspaceFile?oe.l10n.t("Current Workspace"):oe.l10n.t("Current Folder"),E=n.isWorkspaceFile?oe.l10n.t("Don't show again for the current workspace or for any workspace?"):oe.l10n.t("Don't show again for the current folder or for any folder?"),P=await F.window.showInformationMessage(E,x,y);P===x?await e.globalState.update(KP,Date.now()):P===y&&await e.workspaceState.update(KP,Date.now())}}function nbe(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function rbe(e,t,n){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:n})}function tM(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function obe(e,t,n){if(!await no(e,t.log,t.onDidInput,n,"trySample"))return;let r=await st(e,t.log),o=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET",detail:"https://github.com/Microsoft/vscode-remote-try-dotnet"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],i={placeHolder:oe.l10n.t("Select a sample repository to clone in a container volume")},s=await F.window.showQuickPick(o,i);s&&s.detail&&await Ky(e,s.detail,Oi,rM(s.detail),r)}async function ibe(e){let t=await Promise.all((await uQ(e)).map(async r=>{let o=await(0,nM.promisify)(XP.stat)(r.path),i=r.time;return{label:r.prefix,description:`${Xg(i.getFullYear())}-${Xg(i.getMonth()+1)}-${Xg(i.getDate())} ${Xg(i.getHours())}:${Xg(i.getMinutes())}:${Xg(i.getSeconds())} - ${o.size} bytes`,path:r.path}}));t.length||t.push({label:oe.l10n.t("No log files found.")});let n=await F.window.showQuickPick(t,{placeHolder:oe.l10n.t("Choose a log file")});n&&n.path&&await F.window.showTextDocument(F.Uri.file(n.path))}function Xg(e,t=2){return e.toString().padStart(t,"0")}async function sbe(e,t,n){let r=(await uQ(e)).find(o=>o.name.startsWith(t)&&o.path!==n);r?await F.window.showTextDocument(F.Uri.file(r.path)):await F.window.showInformationMessage(oe.l10n.t("No previous log file found."),{modal:!0})}async function uQ(e){let t=[],n=_t.basename(e.logPath),r=_t.dirname(_t.dirname(_t.dirname(e.logPath))),o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/;o.test(_t.basename(r))&&(r=_t.dirname(r));for(let i of(await JP(r)).sort().reverse()){let s=o.exec(i);if(s){let a=_t.join(r,i);for(let c of await JP(a)){let l=_t.join(a,c),u=c.startsWith("window");for(let d of u?await JP(l):[c]){let p=_t.join(u?l:a,d),f=_t.join(p,n);for(let m of(await JP(f)).sort()){let h=_t.join(f,m),v=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(m),g=v?new Date(`${v[1]}-${v[2]}-${v[3]}T${v[4]}:${v[5]}:${v[6]}.${v[7]}Z`):new Date(`${s[1]}-${s[2]}-${s[3]}T${s[4]}:${s[5]}:${s[6]}Z`);t.push({name:m,path:h,time:g,prefix:v?m.substr(0,v.index-1):m.substr(0,m.length-4)})}}}}}return t.sort((i,s)=>i.time>s.time?-1:i.time<s.time?1:i.path.localeCompare(s.path)),t}async function JP(e){try{return await(0,nM.promisify)(XP.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=extension.js.map
