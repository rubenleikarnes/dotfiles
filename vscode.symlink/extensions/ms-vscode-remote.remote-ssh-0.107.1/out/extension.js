/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={5677:e=>{var t=function(){var e,t,r,n,o,i,s,a,c=[],l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u="1a",d=!1,p="chongo <Landon Curt Noll> /\\../\\",h=52,f={32:{offset:0},64:{offset:[0,0,0,0]},128:{offset:[0,0,0,0,0,0,0,0]},256:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},512:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},1024:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};for(e=0;e<256;e++)c[e]=(e>>4&15).toString(16)+(15&e).toString(16);function m(e,t){var r,n,o,i=[0],s="";for(n=0;n<e.length;n+=2){for(r=parseInt(e.substr(n,2),16),o=0;o<i.length;o++)r+=i[o]<<8,i[o]=r%t,r=r/t|0;for(;r>0;)i.push(r%t),r=r/t|0}for(n=i.length-1;n>=0;--n)s+="0123456789abcdefghijklmnopqrstuvwxyz"[i[n]];return s}function g(e,t){return{bits:t,value:e,dec:function(){return m(e,10)},hex:function(){return e},str:function(){return m(e,36)}}}function v(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return c[e>>>24]+c[e>>>16&255]+c[e>>>8&255]+c[255&e]},str:function(){return e.toString(36)}}}function _(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return("0000000000000000"+e.toString(16)).substr(-13)},str:function(){return e.toString(36)}}}function y(e,c){var l="object"==typeof e?JSON.stringify(e):e;switch(c||h){case 32:return t(l);case 64:return n(l);case 128:return o(l);case 256:return i(l);case 512:return s(l);case 1024:return a(l);default:return r(l)}}function S(e){if("1a"===e)u=e,t=d?C:E,r=d?R:A,n=d?D:k,o=d?M:L,i=d?U:j,s=d?G:q,a=d?X:z;else{if("1"!==e)throw new Error("Supported FNV versions: 1, 1a");u=e,t=d?I:T,r=d?P:O,n=d?N:x,o=d?F:$,i=d?B:H,s=d?W:V,a=d?Y:K}}function w(e){e?(d=!0,t="1a"==u?C:I,r="1a"==u?R:P,n="1a"==u?D:N,o="1a"==u?M:F,i="1a"==u?U:B,s="1a"==u?G:W,a="1a"==u?X:Y):(d=!1,t="1a"==u?E:T,r="1a"==u?A:O,n="1a"==u?k:x,o="1a"==u?L:$,i="1a"==u?j:H,s="1a"==u?q:V,a="1a"==u?z:K)}function b(e){var t,r,n=u;for(var o in(e=e||0===e?e:p)===p&&S("1"),f){for(f[o].offset=[],r=0;r<o/16;r++)f[o].offset[r]=0;for(t=y(e,parseInt(o,10)).hex(),r=0;r<o/16;r++)f[o].offset[r]=parseInt(t.substr(4*r,4),16)}S(n)}function E(e){var t,r=e.length-3,n=f[32].offset,o=0,i=0|n[1],s=0,a=0|n[0];for(t=0;t<r;)s=403*a,s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=e.charCodeAt(t++))<<8)+((o=403*i)>>>16)&65535,i=65535&o;for(;t<r+3;)s=403*a,a=(s+=(i^=e.charCodeAt(t++))<<8)+((o=403*i)>>>16)&65535,i=65535&o;return v((a<<16>>>0)+i,32)}function T(e){var t,r=e.length-3,n=f[32].offset,o=0,i=0|n[1],s=0,a=0|n[0];for(t=0;t<r;)s=403*a,s+=i<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=e.charCodeAt(t++))<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=e.charCodeAt(t++);for(;t<r+3;)s=403*a,a=(s+=i<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=e.charCodeAt(t++);return v((a<<16>>>0)+i,32)}function C(e){var t,r,n=e.length,o=f[32].offset,i=0,s=0|o[1],a=0,c=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=403*c,c=(a+=(s^=t>>6|192)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=403*c,a+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),a+=(s^=t>>12&63|128)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):(a=403*c,a+=(s^=t>>12|224)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128),a=403*c,c=(a+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i;return v((c<<16>>>0)+s,32)}function I(e){var t,r,n=e.length,o=f[32].offset,i=0,s=0|o[1],a=0,c=0|o[0];for(r=0;r<n;r++)a=403*c,c=(a+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=403*c,c=(a+=(s^=t>>6|192)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=403*c,a+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),a+=(s^=t>>12&63|128)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):(a=403*c,a+=(s^=t>>12|224)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128);return v((c<<16>>>0)+s,32)}function A(e){var t,r=e.length-3,n=f[64].offset,o=0,i=0|n[3],s=0,a=0|n[2],c=0,l=0|n[1],u=0,d=0|n[0];for(t=0;t<r;)s=435*a,c=435*l,u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;for(;t<r+3;)s=435*a,c=435*l,u=435*d,c+=(i^=e.charCodeAt(t++))<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;return _(281474976710656*(15&d)+4294967296*l+65536*a+(i^d>>4),52)}function O(e){var t,r=e.length-3,n=f[64].offset,o=0,i=0|n[3],s=0,a=0|n[2],c=0,l=0|n[1],u=0,d=0|n[0];for(t=0;t<r;)s=435*a,c=435*l,u=435*d,c+=i<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=e.charCodeAt(t++);for(;t<r+3;)s=435*a,c=435*l,u=435*d,c+=i<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=e.charCodeAt(t++);return _(281474976710656*(15&d)+4294967296*l+65536*a+(i^d>>4),52)}function R(e){var t,r,n=e.length,o=f[64].offset,i=0,s=0|o[3],a=0,c=0|o[2],l=0,u=0|o[1],d=0,p=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=435*c,l=435*u,d=435*p,l+=(s^=t>>6|192)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*c,l=435*u,d=435*p,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(i=435*s),p=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*p,l+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),p=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*p,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(a=435*c,l=435*u,d=435*p,l+=(s^=t>>12|224)<<8,s=65535&(i=435*s),p=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*p,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128),a=435*c,l=435*u,d=435*p,l+=s<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l;return _(281474976710656*(15&p)+4294967296*u+65536*c+(s^p>>4),52)}function P(e){var t,r,n=e.length,o=f[64].offset,i=0,s=0|o[3],a=0,c=0|o[2],l=0,u=0|o[1],d=0,p=0|o[0];for(r=0;r<n;r++)a=435*c,l=435*u,d=435*p,l+=s<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=435*c,l=435*u,d=435*p,l+=(s^=t>>6|192)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*c,l=435*u,d=435*p,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(i=435*s),p=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*p,l+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),p=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*p,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(a=435*c,l=435*u,d=435*p,l+=(s^=t>>12|224)<<8,s=65535&(i=435*s),p=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*p,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),p=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128);return _(281474976710656*(15&p)+4294967296*u+65536*c+(s^p>>4),52)}function k(e){var t,r=e.length-3,n=f[64].offset,o=0,i=0|n[3],s=0,a=0|n[2],l=0,u=0|n[1],d=0,p=0|n[0];for(t=0;t<r;)s=435*a,l=435*u,d=435*p,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=e.charCodeAt(t++))<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l;for(;t<r+3;)s=435*a,l=435*u,d=435*p,l+=(i^=e.charCodeAt(t++))<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l;return g(c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],64)}function x(e){var t,r=e.length-3,n=f[64].offset,o=0,i=0|n[3],s=0,a=0|n[2],l=0,u=0|n[1],d=0,p=0|n[0];for(t=0;t<r;)s=435*a,l=435*u,d=435*p,l+=i<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=e.charCodeAt(t++))<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=e.charCodeAt(t++);for(;t<r+3;)s=435*a,l=435*u,d=435*p,l+=i<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=e.charCodeAt(t++);return g(c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],64)}function D(e){var t,r,n=e.length,o=f[64].offset,i=0,s=0|o[3],a=0,l=0|o[2],u=0,d=0|o[1],p=0,h=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=435*l,u=435*d,p=435*h,u+=(s^=t>>6|192)<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*l,u=435*d,p=435*h,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(i=435*s),h=(p+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),p=435*h,u+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),h=(p+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),p=435*h,u+=(s^=t>>6&63|128)<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(a=435*l,u=435*d,p=435*h,u+=(s^=t>>12|224)<<8,s=65535&(i=435*s),h=(p+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),p=435*h,u+=(s^=t>>6&63|128)<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128),a=435*l,u=435*d,p=435*h,u+=s<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u;return g(c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],64)}function N(e){var t,r,n=e.length,o=f[64].offset,i=0,s=0|o[3],a=0,l=0|o[2],u=0,d=0|o[1],p=0,h=0|o[0];for(r=0;r<n;r++)a=435*l,u=435*d,p=435*h,u+=s<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=435*l,u=435*d,p=435*h,u+=(s^=t>>6|192)<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*l,u=435*d,p=435*h,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(i=435*s),h=(p+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),p=435*h,u+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),h=(p+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),p=435*h,u+=(s^=t>>6&63|128)<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(a=435*l,u=435*d,p=435*h,u+=(s^=t>>12|224)<<8,s=65535&(i=435*s),h=(p+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),p=435*h,u+=(s^=t>>6&63|128)<<8,p+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),h=p+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128);return g(c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],64)}function L(e){var t,r=e.length-3,n=f[128].offset,o=0,i=0|n[7],s=0,a=0|n[6],l=0,u=0|n[5],d=0,p=0|n[4],h=0,m=0|n[3],v=0,_=0|n[2],y=0,S=0|n[1],w=0,b=0|n[0];for(t=0;t<r;)s=315*a,l=315*u,d=315*p,h=315*m,v=315*_,y=315*S,w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,i=65535&(o=315*i),b=(w+=u<<8)+((y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(p=65535&d),h=315*(m=65535&h),v=315*(_=65535&v),y=315*(S=65535&y),w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,i=65535&(o=315*i),b=(w+=u<<8)+((y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(p=65535&d),h=315*(m=65535&h),v=315*(_=65535&v),y=315*(S=65535&y),w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,i=65535&(o=315*i),b=(w+=u<<8)+((y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(p=65535&d),h=315*(m=65535&h),v=315*(_=65535&v),y=315*(S=65535&y),w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,w+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),b=w+((y+=v>>>16)>>>16)&65535,S=65535&y;for(;t<r+3;)s=315*a,l=315*u,d=315*p,h=315*m,v=315*_,y=315*S,w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,w+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),b=w+((y+=v>>>16)>>>16)&65535,S=65535&y;return g(c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],128)}function $(e){var t,r=e.length-3,n=f[128].offset,o=0,i=0|n[7],s=0,a=0|n[6],l=0,u=0|n[5],d=0,p=0|n[4],h=0,m=0|n[3],v=0,_=0|n[2],y=0,S=0|n[1],w=0,b=0|n[0];for(t=0;t<r;)s=315*a,l=315*u,d=315*p,h=315*m,v=315*_,y=315*S,w=315*b,v+=i<<8,y+=a<<8,i=65535&(o=315*i),b=(w+=u<<8)+((y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(p=65535&d),h=315*(m=65535&h),v=315*(_=65535&v),y=315*(S=65535&y),w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,i=65535&(o=315*i),b=(w+=u<<8)+((y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(p=65535&d),h=315*(m=65535&h),v=315*(_=65535&v),y=315*(S=65535&y),w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,i=65535&(o=315*i),b=(w+=u<<8)+((y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(p=65535&d),h=315*(m=65535&h),v=315*(_=65535&v),y=315*(S=65535&y),w=315*b,v+=(i^=e.charCodeAt(t++))<<8,y+=a<<8,w+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),b=w+((y+=v>>>16)>>>16)&65535,S=65535&y,i^=e.charCodeAt(t++);for(;t<r+3;)s=315*a,l=315*u,d=315*p,h=315*m,v=315*_,y=315*S,w=315*b,v+=i<<8,y+=a<<8,w+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),b=w+((y+=v>>>16)>>>16)&65535,S=65535&y,i^=e.charCodeAt(t++);return g(c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],128)}function M(e){var t,r,n=e.length,o=f[128].offset,i=0,s=0|o[7],a=0,l=0|o[6],u=0,d=0|o[5],p=0,h=0|o[4],m=0,v=0|o[3],_=0,y=0|o[2],S=0,w=0|o[1],b=0,E=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=(s^=t>>6|192)<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,S+=l<<8,s=65535&(i=315*s),E=(b+=d<<8)+((S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),p=315*(h=65535&p),m=315*(v=65535&m),_=315*(y=65535&_),S=315*(w=65535&S),b=315*E,_+=(s^=t>>12&63|128)<<8,S+=l<<8,s=65535&(i=315*s),E=(b+=d<<8)+((S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),p=315*(h=65535&p),m=315*(v=65535&m),_=315*(y=65535&_),S=315*(w=65535&S),b=315*E,_+=(s^=t>>6&63|128)<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,s^=63&t|128):(a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=(s^=t>>12|224)<<8,S+=l<<8,s=65535&(i=315*s),E=(b+=d<<8)+((S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),p=315*(h=65535&p),m=315*(v=65535&m),_=315*(y=65535&_),S=315*(w=65535&S),b=315*E,_+=(s^=t>>6&63|128)<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,s^=63&t|128),a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=s<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S;return g(c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],128)}function F(e){var t,r,n=e.length,o=f[128].offset,i=0,s=0|o[7],a=0,l=0|o[6],u=0,d=0|o[5],p=0,h=0|o[4],m=0,v=0|o[3],_=0,y=0|o[2],S=0,w=0|o[1],b=0,E=0|o[0];for(r=0;r<n;r++)a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=s<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=(s^=t>>6|192)<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,S+=l<<8,s=65535&(i=315*s),E=(b+=d<<8)+((S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),p=315*(h=65535&p),m=315*(v=65535&m),_=315*(y=65535&_),S=315*(w=65535&S),b=315*E,_+=(s^=t>>12&63|128)<<8,S+=l<<8,s=65535&(i=315*s),E=(b+=d<<8)+((S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),p=315*(h=65535&p),m=315*(v=65535&m),_=315*(y=65535&_),S=315*(w=65535&S),b=315*E,_+=(s^=t>>6&63|128)<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,s^=63&t|128):(a=315*l,u=315*d,p=315*h,m=315*v,_=315*y,S=315*w,b=315*E,_+=(s^=t>>12|224)<<8,S+=l<<8,s=65535&(i=315*s),E=(b+=d<<8)+((S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),p=315*(h=65535&p),m=315*(v=65535&m),_=315*(y=65535&_),S=315*(w=65535&S),b=315*E,_+=(s^=t>>6&63|128)<<8,S+=l<<8,b+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),E=b+((S+=_>>>16)>>>16)&65535,w=65535&S,s^=63&t|128);return g(c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],128)}function j(e){var t,r=e.length-3,n=f[256].offset,o=0,i=0|n[15],s=0,a=0|n[14],l=0,u=0|n[13],d=0,p=0|n[12],h=0,m=0|n[11],v=0,_=0|n[10],y=0,S=0|n[9],w=0,b=0|n[8],E=0,T=0|n[7],C=0,I=0|n[6],A=0,O=0|n[5],R=0,P=0|n[4],k=0,x=0|n[3],D=0,N=0|n[2],L=0,$=0|n[1],M=0,F=0|n[0];for(t=0;t<r;)s=355*a,l=355*u,d=355*p,h=355*m,v=355*_,y=355*S,w=355*b,E=355*T,C=355*I,A=355*O,R=355*P,k=355*x,D=355*N,L=355*$,M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,i=65535&(o=355*i),F=(M+=_<<8)+((L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(p=65535&d),h=355*(m=65535&h),v=355*(_=65535&v),y=355*(S=65535&y),w=355*(b=65535&w),E=355*(T=65535&E),C=355*(I=65535&C),A=355*(O=65535&A),R=355*(P=65535&R),k=355*(x=65535&k),D=355*(N=65535&D),L=355*($=65535&L),M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,i=65535&(o=355*i),F=(M+=_<<8)+((L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(p=65535&d),h=355*(m=65535&h),v=355*(_=65535&v),y=355*(S=65535&y),w=355*(b=65535&w),E=355*(T=65535&E),C=355*(I=65535&C),A=355*(O=65535&A),R=355*(P=65535&R),k=355*(x=65535&k),D=355*(N=65535&D),L=355*($=65535&L),M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,i=65535&(o=355*i),F=(M+=_<<8)+((L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(p=65535&d),h=355*(m=65535&h),v=355*(_=65535&v),y=355*(S=65535&y),w=355*(b=65535&w),E=355*(T=65535&E),C=355*(I=65535&C),A=355*(O=65535&A),R=355*(P=65535&R),k=355*(x=65535&k),D=355*(N=65535&D),L=355*($=65535&L),M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,M+=_<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),F=M+((L+=D>>>16)>>>16)&65535,$=65535&L;for(;t<r+3;)s=355*a,l=355*u,d=355*p,h=355*m,v=355*_,y=355*S,w=355*b,E=355*T,C=355*I,A=355*O,R=355*P,k=355*x,D=355*N,L=355*$,M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,M+=_<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),F=M+((L+=D>>>16)>>>16)&65535,$=65535&L;return g(c[F>>8]+c[255&F]+c[$>>8]+c[255&$]+c[N>>8]+c[255&N]+c[x>>8]+c[255&x]+c[P>>8]+c[255&P]+c[O>>8]+c[255&O]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],256)}function H(e){var t,r=e.length-3,n=f[256].offset,o=0,i=0|n[15],s=0,a=0|n[14],l=0,u=0|n[13],d=0,p=0|n[12],h=0,m=0|n[11],v=0,_=0|n[10],y=0,S=0|n[9],w=0,b=0|n[8],E=0,T=0|n[7],C=0,I=0|n[6],A=0,O=0|n[5],R=0,P=0|n[4],k=0,x=0|n[3],D=0,N=0|n[2],L=0,$=0|n[1],M=0,F=0|n[0];for(t=0;t<r;)s=355*a,l=355*u,d=355*p,h=355*m,v=355*_,y=355*S,w=355*b,E=355*T,C=355*I,A=355*O,R=355*P,k=355*x,D=355*N,L=355*$,M=355*F,A+=i<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,i=65535&(o=355*i),F=(M+=_<<8)+((L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(p=65535&d),h=355*(m=65535&h),v=355*(_=65535&v),y=355*(S=65535&y),w=355*(b=65535&w),E=355*(T=65535&E),C=355*(I=65535&C),A=355*(O=65535&A),R=355*(P=65535&R),k=355*(x=65535&k),D=355*(N=65535&D),L=355*($=65535&L),M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,i=65535&(o=355*i),F=(M+=_<<8)+((L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(p=65535&d),h=355*(m=65535&h),v=355*(_=65535&v),y=355*(S=65535&y),w=355*(b=65535&w),E=355*(T=65535&E),C=355*(I=65535&C),A=355*(O=65535&A),R=355*(P=65535&R),k=355*(x=65535&k),D=355*(N=65535&D),L=355*($=65535&L),M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,i=65535&(o=355*i),F=(M+=_<<8)+((L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(p=65535&d),h=355*(m=65535&h),v=355*(_=65535&v),y=355*(S=65535&y),w=355*(b=65535&w),E=355*(T=65535&E),C=355*(I=65535&C),A=355*(O=65535&A),R=355*(P=65535&R),k=355*(x=65535&k),D=355*(N=65535&D),L=355*($=65535&L),M=355*F,A+=(i^=e.charCodeAt(t++))<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,M+=_<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),F=M+((L+=D>>>16)>>>16)&65535,$=65535&L,i^=e.charCodeAt(t++);for(;t<r+3;)s=355*a,l=355*u,d=355*p,h=355*m,v=355*_,y=355*S,w=355*b,E=355*T,C=355*I,A=355*O,R=355*P,k=355*x,D=355*N,L=355*$,M=355*F,A+=i<<8,R+=a<<8,k+=u<<8,D+=p<<8,L+=m<<8,M+=_<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),F=M+((L+=D>>>16)>>>16)&65535,$=65535&L,i^=e.charCodeAt(t++);return g(c[F>>8]+c[255&F]+c[$>>8]+c[255&$]+c[N>>8]+c[255&N]+c[x>>8]+c[255&x]+c[P>>8]+c[255&P]+c[O>>8]+c[255&O]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],256)}function U(e){var t,r,n=e.length,o=f[256].offset,i=0,s=0|o[15],a=0,l=0|o[14],u=0,d=0|o[13],p=0,h=0|o[12],m=0,v=0|o[11],_=0,y=0|o[10],S=0,w=0|o[9],b=0,E=0|o[8],T=0,C=0|o[7],I=0,A=0|o[6],O=0,R=0|o[5],P=0,k=0|o[4],x=0,D=0|o[3],N=0,L=0|o[2],$=0,M=0|o[1],F=0,j=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=(s^=t>>6|192)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,s=65535&(i=355*s),j=(F+=y<<8)+(($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),p=355*(h=65535&p),m=355*(v=65535&m),_=355*(y=65535&_),S=355*(w=65535&S),b=355*(E=65535&b),T=355*(C=65535&T),I=355*(A=65535&I),O=355*(R=65535&O),P=355*(k=65535&P),x=355*(D=65535&x),N=355*(L=65535&N),$=355*(M=65535&$),F=355*j,O+=(s^=t>>12&63|128)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,s=65535&(i=355*s),j=(F+=y<<8)+(($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),p=355*(h=65535&p),m=355*(v=65535&m),_=355*(y=65535&_),S=355*(w=65535&S),b=355*(E=65535&b),T=355*(C=65535&T),I=355*(A=65535&I),O=355*(R=65535&O),P=355*(k=65535&P),x=355*(D=65535&x),N=355*(L=65535&N),$=355*(M=65535&$),F=355*j,O+=(s^=t>>6&63|128)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,s^=63&t|128):(a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=(s^=t>>12|224)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,s=65535&(i=355*s),j=(F+=y<<8)+(($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),p=355*(h=65535&p),m=355*(v=65535&m),_=355*(y=65535&_),S=355*(w=65535&S),b=355*(E=65535&b),T=355*(C=65535&T),I=355*(A=65535&I),O=355*(R=65535&O),P=355*(k=65535&P),x=355*(D=65535&x),N=355*(L=65535&N),$=355*(M=65535&$),F=355*j,O+=(s^=t>>6&63|128)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,s^=63&t|128),a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=s<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$;return g(c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[L>>8]+c[255&L]+c[D>>8]+c[255&D]+c[k>>8]+c[255&k]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],256)}function B(e){var t,r,n=e.length,o=f[256].offset,i=0,s=0|o[15],a=0,l=0|o[14],u=0,d=0|o[13],p=0,h=0|o[12],m=0,v=0|o[11],_=0,y=0|o[10],S=0,w=0|o[9],b=0,E=0|o[8],T=0,C=0|o[7],I=0,A=0|o[6],O=0,R=0|o[5],P=0,k=0|o[4],x=0,D=0|o[3],N=0,L=0|o[2],$=0,M=0|o[1],F=0,j=0|o[0];for(r=0;r<n;r++)a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=s<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=(s^=t>>6|192)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,s=65535&(i=355*s),j=(F+=y<<8)+(($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),p=355*(h=65535&p),m=355*(v=65535&m),_=355*(y=65535&_),S=355*(w=65535&S),b=355*(E=65535&b),T=355*(C=65535&T),I=355*(A=65535&I),O=355*(R=65535&O),P=355*(k=65535&P),x=355*(D=65535&x),N=355*(L=65535&N),$=355*(M=65535&$),F=355*j,O+=(s^=t>>12&63|128)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,s=65535&(i=355*s),j=(F+=y<<8)+(($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),p=355*(h=65535&p),m=355*(v=65535&m),_=355*(y=65535&_),S=355*(w=65535&S),b=355*(E=65535&b),T=355*(C=65535&T),I=355*(A=65535&I),O=355*(R=65535&O),P=355*(k=65535&P),x=355*(D=65535&x),N=355*(L=65535&N),$=355*(M=65535&$),F=355*j,O+=(s^=t>>6&63|128)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,s^=63&t|128):(a=355*l,u=355*d,p=355*h,m=355*v,_=355*y,S=355*w,b=355*E,T=355*C,I=355*A,O=355*R,P=355*k,x=355*D,N=355*L,$=355*M,F=355*j,O+=(s^=t>>12|224)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,s=65535&(i=355*s),j=(F+=y<<8)+(($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),p=355*(h=65535&p),m=355*(v=65535&m),_=355*(y=65535&_),S=355*(w=65535&S),b=355*(E=65535&b),T=355*(C=65535&T),I=355*(A=65535&I),O=355*(R=65535&O),P=355*(k=65535&P),x=355*(D=65535&x),N=355*(L=65535&N),$=355*(M=65535&$),F=355*j,O+=(s^=t>>6&63|128)<<8,P+=l<<8,x+=d<<8,N+=h<<8,$+=v<<8,F+=y<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),j=F+(($+=N>>>16)>>>16)&65535,M=65535&$,s^=63&t|128);return g(c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[L>>8]+c[255&L]+c[D>>8]+c[255&D]+c[k>>8]+c[255&k]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],256)}function q(e){var t,r=e.length-3,n=f[512].offset,o=0,i=0|n[31],s=0,a=0|n[30],l=0,u=0|n[29],d=0,p=0|n[28],h=0,m=0|n[27],v=0,_=0|n[26],y=0,S=0|n[25],w=0,b=0|n[24],E=0,T=0|n[23],C=0,I=0|n[22],A=0,O=0|n[21],R=0,P=0|n[20],k=0,x=0|n[19],D=0,N=0|n[18],L=0,$=0|n[17],M=0,F=0|n[16],j=0,H=0|n[15],U=0,B=0|n[14],q=0,V=0|n[13],G=0,W=0|n[12],z=0,K=0|n[11],X=0,Y=0|n[10],Q=0,J=0|n[9],Z=0,ee=0|n[8],te=0,re=0|n[7],ne=0,oe=0|n[6],ie=0,se=0|n[5],ae=0,ce=0|n[4],le=0,ue=0|n[3],de=0,pe=0|n[2],he=0,fe=0|n[1],me=0,ge=0|n[0];for(t=0;t<r;)s=343*a,l=343*u,d=343*p,h=343*m,v=343*_,y=343*S,w=343*b,E=343*T,C=343*I,A=343*O,R=343*P,k=343*x,D=343*N,L=343*$,M=343*F,j=343*H,U=343*B,q=343*V,G=343*W,z=343*K,X=343*Y,Q=343*J,Z=343*ee,te=343*re,ne=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*pe,he=343*fe,me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,i=65535&(o=343*i),ge=(me+=O<<8)+((he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(p=65535&d),h=343*(m=65535&h),v=343*(_=65535&v),y=343*(S=65535&y),w=343*(b=65535&w),E=343*(T=65535&E),C=343*(I=65535&C),A=343*(O=65535&A),R=343*(P=65535&R),k=343*(x=65535&k),D=343*(N=65535&D),L=343*($=65535&L),M=343*(F=65535&M),j=343*(H=65535&j),U=343*(B=65535&U),q=343*(V=65535&q),G=343*(W=65535&G),z=343*(K=65535&z),X=343*(Y=65535&X),Q=343*(J=65535&Q),Z=343*(ee=65535&Z),te=343*(re=65535&te),ne=343*(oe=65535&ne),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(pe=65535&de),he=343*(fe=65535&he),me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,i=65535&(o=343*i),ge=(me+=O<<8)+((he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(p=65535&d),h=343*(m=65535&h),v=343*(_=65535&v),y=343*(S=65535&y),w=343*(b=65535&w),E=343*(T=65535&E),C=343*(I=65535&C),A=343*(O=65535&A),R=343*(P=65535&R),k=343*(x=65535&k),D=343*(N=65535&D),L=343*($=65535&L),M=343*(F=65535&M),j=343*(H=65535&j),U=343*(B=65535&U),q=343*(V=65535&q),G=343*(W=65535&G),z=343*(K=65535&z),X=343*(Y=65535&X),Q=343*(J=65535&Q),Z=343*(ee=65535&Z),te=343*(re=65535&te),ne=343*(oe=65535&ne),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(pe=65535&de),he=343*(fe=65535&he),me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,i=65535&(o=343*i),ge=(me+=O<<8)+((he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(p=65535&d),h=343*(m=65535&h),v=343*(_=65535&v),y=343*(S=65535&y),w=343*(b=65535&w),E=343*(T=65535&E),C=343*(I=65535&C),A=343*(O=65535&A),R=343*(P=65535&R),k=343*(x=65535&k),D=343*(N=65535&D),L=343*($=65535&L),M=343*(F=65535&M),j=343*(H=65535&j),U=343*(B=65535&U),q=343*(V=65535&q),G=343*(W=65535&G),z=343*(K=65535&z),X=343*(Y=65535&X),Q=343*(J=65535&Q),Z=343*(ee=65535&Z),te=343*(re=65535&te),ne=343*(oe=65535&ne),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(pe=65535&de),he=343*(fe=65535&he),me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,me+=O<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),ge=me+((he+=de>>>16)>>>16)&65535,fe=65535&he;for(;t<r+3;)s=343*a,l=343*u,d=343*p,h=343*m,v=343*_,y=343*S,w=343*b,E=343*T,C=343*I,A=343*O,R=343*P,k=343*x,D=343*N,L=343*$,M=343*F,j=343*H,U=343*B,q=343*V,G=343*W,z=343*K,X=343*Y,Q=343*J,Z=343*ee,te=343*re,ne=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*pe,he=343*fe,me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,me+=O<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),ge=me+((he+=de>>>16)>>>16)&65535,fe=65535&he;return g(c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[pe>>8]+c[255&pe]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[W>>8]+c[255&W]+c[V>>8]+c[255&V]+c[B>>8]+c[255&B]+c[H>>8]+c[255&H]+c[F>>8]+c[255&F]+c[$>>8]+c[255&$]+c[N>>8]+c[255&N]+c[x>>8]+c[255&x]+c[P>>8]+c[255&P]+c[O>>8]+c[255&O]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],512)}function V(e){var t,r=e.length-3,n=f[512].offset,o=0,i=0|n[31],s=0,a=0|n[30],l=0,u=0|n[29],d=0,p=0|n[28],h=0,m=0|n[27],v=0,_=0|n[26],y=0,S=0|n[25],w=0,b=0|n[24],E=0,T=0|n[23],C=0,I=0|n[22],A=0,O=0|n[21],R=0,P=0|n[20],k=0,x=0|n[19],D=0,N=0|n[18],L=0,$=0|n[17],M=0,F=0|n[16],j=0,H=0|n[15],U=0,B=0|n[14],q=0,V=0|n[13],G=0,W=0|n[12],z=0,K=0|n[11],X=0,Y=0|n[10],Q=0,J=0|n[9],Z=0,ee=0|n[8],te=0,re=0|n[7],ne=0,oe=0|n[6],ie=0,se=0|n[5],ae=0,ce=0|n[4],le=0,ue=0|n[3],de=0,pe=0|n[2],he=0,fe=0|n[1],me=0,ge=0|n[0];for(t=0;t<r;)s=343*a,l=343*u,d=343*p,h=343*m,v=343*_,y=343*S,w=343*b,E=343*T,C=343*I,A=343*O,R=343*P,k=343*x,D=343*N,L=343*$,M=343*F,j=343*H,U=343*B,q=343*V,G=343*W,z=343*K,X=343*Y,Q=343*J,Z=343*ee,te=343*re,ne=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*pe,he=343*fe,me=343*ge,X+=i<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,i=65535&(o=343*i),ge=(me+=O<<8)+((he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(p=65535&d),h=343*(m=65535&h),v=343*(_=65535&v),y=343*(S=65535&y),w=343*(b=65535&w),E=343*(T=65535&E),C=343*(I=65535&C),A=343*(O=65535&A),R=343*(P=65535&R),k=343*(x=65535&k),D=343*(N=65535&D),L=343*($=65535&L),M=343*(F=65535&M),j=343*(H=65535&j),U=343*(B=65535&U),q=343*(V=65535&q),G=343*(W=65535&G),z=343*(K=65535&z),X=343*(Y=65535&X),Q=343*(J=65535&Q),Z=343*(ee=65535&Z),te=343*(re=65535&te),ne=343*(oe=65535&ne),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(pe=65535&de),he=343*(fe=65535&he),me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,i=65535&(o=343*i),ge=(me+=O<<8)+((he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(p=65535&d),h=343*(m=65535&h),v=343*(_=65535&v),y=343*(S=65535&y),w=343*(b=65535&w),E=343*(T=65535&E),C=343*(I=65535&C),A=343*(O=65535&A),R=343*(P=65535&R),k=343*(x=65535&k),D=343*(N=65535&D),L=343*($=65535&L),M=343*(F=65535&M),j=343*(H=65535&j),U=343*(B=65535&U),q=343*(V=65535&q),G=343*(W=65535&G),z=343*(K=65535&z),X=343*(Y=65535&X),Q=343*(J=65535&Q),Z=343*(ee=65535&Z),te=343*(re=65535&te),ne=343*(oe=65535&ne),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(pe=65535&de),he=343*(fe=65535&he),me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,i=65535&(o=343*i),ge=(me+=O<<8)+((he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(p=65535&d),h=343*(m=65535&h),v=343*(_=65535&v),y=343*(S=65535&y),w=343*(b=65535&w),E=343*(T=65535&E),C=343*(I=65535&C),A=343*(O=65535&A),R=343*(P=65535&R),k=343*(x=65535&k),D=343*(N=65535&D),L=343*($=65535&L),M=343*(F=65535&M),j=343*(H=65535&j),U=343*(B=65535&U),q=343*(V=65535&q),G=343*(W=65535&G),z=343*(K=65535&z),X=343*(Y=65535&X),Q=343*(J=65535&Q),Z=343*(ee=65535&Z),te=343*(re=65535&te),ne=343*(oe=65535&ne),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(pe=65535&de),he=343*(fe=65535&he),me=343*ge,X+=(i^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,me+=O<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),ge=me+((he+=de>>>16)>>>16)&65535,fe=65535&he,i^=e.charCodeAt(t++);for(;t<r+3;)s=343*a,l=343*u,d=343*p,h=343*m,v=343*_,y=343*S,w=343*b,E=343*T,C=343*I,A=343*O,R=343*P,k=343*x,D=343*N,L=343*$,M=343*F,j=343*H,U=343*B,q=343*V,G=343*W,z=343*K,X=343*Y,Q=343*J,Z=343*ee,te=343*re,ne=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*pe,he=343*fe,me=343*ge,X+=i<<8,Q+=a<<8,Z+=u<<8,te+=p<<8,ne+=m<<8,ie+=_<<8,ae+=S<<8,le+=b<<8,de+=T<<8,he+=I<<8,me+=O<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),ge=me+((he+=de>>>16)>>>16)&65535,fe=65535&he,i^=e.charCodeAt(t++);return g(c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[pe>>8]+c[255&pe]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[W>>8]+c[255&W]+c[V>>8]+c[255&V]+c[B>>8]+c[255&B]+c[H>>8]+c[255&H]+c[F>>8]+c[255&F]+c[$>>8]+c[255&$]+c[N>>8]+c[255&N]+c[x>>8]+c[255&x]+c[P>>8]+c[255&P]+c[O>>8]+c[255&O]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],512)}function G(e){var t,r,n=e.length,o=f[512].offset,i=0,s=0|o[31],a=0,l=0|o[30],u=0,d=0|o[29],p=0,h=0|o[28],m=0,v=0|o[27],_=0,y=0|o[26],S=0,w=0|o[25],b=0,E=0|o[24],T=0,C=0|o[23],I=0,A=0|o[22],O=0,R=0|o[21],P=0,k=0|o[20],x=0,D=0|o[19],N=0,L=0|o[18],$=0,M=0|o[17],F=0,j=0|o[16],H=0,U=0|o[15],B=0,q=0|o[14],V=0,G=0|o[13],W=0,z=0|o[12],K=0,X=0|o[11],Y=0,Q=0|o[10],J=0,Z=0|o[9],ee=0,te=0|o[8],re=0,ne=0|o[7],oe=0,ie=0|o[6],se=0,ae=0|o[5],ce=0,le=0|o[4],ue=0,de=0|o[3],pe=0,he=0|o[2],fe=0,me=0|o[1],ge=0,ve=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=(s^=t>>6|192)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,s=65535&(i=343*s),ve=(ge+=R<<8)+((fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),p=343*(h=65535&p),m=343*(v=65535&m),_=343*(y=65535&_),S=343*(w=65535&S),b=343*(E=65535&b),T=343*(C=65535&T),I=343*(A=65535&I),O=343*(R=65535&O),P=343*(k=65535&P),x=343*(D=65535&x),N=343*(L=65535&N),$=343*(M=65535&$),F=343*(j=65535&F),H=343*(U=65535&H),B=343*(q=65535&B),V=343*(G=65535&V),W=343*(z=65535&W),K=343*(X=65535&K),Y=343*(Q=65535&Y),J=343*(Z=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),pe=343*(he=65535&pe),fe=343*(me=65535&fe),ge=343*ve,Y+=(s^=t>>12&63|128)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,s=65535&(i=343*s),ve=(ge+=R<<8)+((fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),p=343*(h=65535&p),m=343*(v=65535&m),_=343*(y=65535&_),S=343*(w=65535&S),b=343*(E=65535&b),T=343*(C=65535&T),I=343*(A=65535&I),O=343*(R=65535&O),P=343*(k=65535&P),x=343*(D=65535&x),N=343*(L=65535&N),$=343*(M=65535&$),F=343*(j=65535&F),H=343*(U=65535&H),B=343*(q=65535&B),V=343*(G=65535&V),W=343*(z=65535&W),K=343*(X=65535&K),Y=343*(Q=65535&Y),J=343*(Z=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),pe=343*(he=65535&pe),fe=343*(me=65535&fe),ge=343*ve,Y+=(s^=t>>6&63|128)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):(a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=(s^=t>>12|224)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,s=65535&(i=343*s),ve=(ge+=R<<8)+((fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),p=343*(h=65535&p),m=343*(v=65535&m),_=343*(y=65535&_),S=343*(w=65535&S),b=343*(E=65535&b),T=343*(C=65535&T),I=343*(A=65535&I),O=343*(R=65535&O),P=343*(k=65535&P),x=343*(D=65535&x),N=343*(L=65535&N),$=343*(M=65535&$),F=343*(j=65535&F),H=343*(U=65535&H),B=343*(q=65535&B),V=343*(G=65535&V),W=343*(z=65535&W),K=343*(X=65535&K),Y=343*(Q=65535&Y),J=343*(Z=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),pe=343*(he=65535&pe),fe=343*(me=65535&fe),ge=343*ve,Y+=(s^=t>>6&63|128)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128),a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=s<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe;return g(c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[he>>8]+c[255&he]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[z>>8]+c[255&z]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[U>>8]+c[255&U]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[L>>8]+c[255&L]+c[D>>8]+c[255&D]+c[k>>8]+c[255&k]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],512)}function W(e){var t,r,n=e.length,o=f[512].offset,i=0,s=0|o[31],a=0,l=0|o[30],u=0,d=0|o[29],p=0,h=0|o[28],m=0,v=0|o[27],_=0,y=0|o[26],S=0,w=0|o[25],b=0,E=0|o[24],T=0,C=0|o[23],I=0,A=0|o[22],O=0,R=0|o[21],P=0,k=0|o[20],x=0,D=0|o[19],N=0,L=0|o[18],$=0,M=0|o[17],F=0,j=0|o[16],H=0,U=0|o[15],B=0,q=0|o[14],V=0,G=0|o[13],W=0,z=0|o[12],K=0,X=0|o[11],Y=0,Q=0|o[10],J=0,Z=0|o[9],ee=0,te=0|o[8],re=0,ne=0|o[7],oe=0,ie=0|o[6],se=0,ae=0|o[5],ce=0,le=0|o[4],ue=0,de=0|o[3],pe=0,he=0|o[2],fe=0,me=0|o[1],ge=0,ve=0|o[0];for(r=0;r<n;r++)a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=s<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=(s^=t>>6|192)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,s=65535&(i=343*s),ve=(ge+=R<<8)+((fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),p=343*(h=65535&p),m=343*(v=65535&m),_=343*(y=65535&_),S=343*(w=65535&S),b=343*(E=65535&b),T=343*(C=65535&T),I=343*(A=65535&I),O=343*(R=65535&O),P=343*(k=65535&P),x=343*(D=65535&x),N=343*(L=65535&N),$=343*(M=65535&$),F=343*(j=65535&F),H=343*(U=65535&H),B=343*(q=65535&B),V=343*(G=65535&V),W=343*(z=65535&W),K=343*(X=65535&K),Y=343*(Q=65535&Y),J=343*(Z=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),pe=343*(he=65535&pe),fe=343*(me=65535&fe),ge=343*ve,Y+=(s^=t>>12&63|128)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,s=65535&(i=343*s),ve=(ge+=R<<8)+((fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),p=343*(h=65535&p),m=343*(v=65535&m),_=343*(y=65535&_),S=343*(w=65535&S),b=343*(E=65535&b),T=343*(C=65535&T),I=343*(A=65535&I),O=343*(R=65535&O),P=343*(k=65535&P),x=343*(D=65535&x),N=343*(L=65535&N),$=343*(M=65535&$),F=343*(j=65535&F),H=343*(U=65535&H),B=343*(q=65535&B),V=343*(G=65535&V),W=343*(z=65535&W),K=343*(X=65535&K),Y=343*(Q=65535&Y),J=343*(Z=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),pe=343*(he=65535&pe),fe=343*(me=65535&fe),ge=343*ve,Y+=(s^=t>>6&63|128)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):(a=343*l,u=343*d,p=343*h,m=343*v,_=343*y,S=343*w,b=343*E,T=343*C,I=343*A,O=343*R,P=343*k,x=343*D,N=343*L,$=343*M,F=343*j,H=343*U,B=343*q,V=343*G,W=343*z,K=343*X,Y=343*Q,J=343*Z,ee=343*te,re=343*ne,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,pe=343*he,fe=343*me,ge=343*ve,Y+=(s^=t>>12|224)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,s=65535&(i=343*s),ve=(ge+=R<<8)+((fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),p=343*(h=65535&p),m=343*(v=65535&m),_=343*(y=65535&_),S=343*(w=65535&S),b=343*(E=65535&b),T=343*(C=65535&T),I=343*(A=65535&I),O=343*(R=65535&O),P=343*(k=65535&P),x=343*(D=65535&x),N=343*(L=65535&N),$=343*(M=65535&$),F=343*(j=65535&F),H=343*(U=65535&H),B=343*(q=65535&B),V=343*(G=65535&V),W=343*(z=65535&W),K=343*(X=65535&K),Y=343*(Q=65535&Y),J=343*(Z=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),pe=343*(he=65535&pe),fe=343*(me=65535&fe),ge=343*ve,Y+=(s^=t>>6&63|128)<<8,J+=l<<8,ee+=d<<8,re+=h<<8,oe+=v<<8,se+=y<<8,ce+=w<<8,ue+=E<<8,pe+=C<<8,fe+=A<<8,ge+=R<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),ve=ge+((fe+=pe>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128);return g(c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[he>>8]+c[255&he]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[z>>8]+c[255&z]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[U>>8]+c[255&U]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[L>>8]+c[255&L]+c[D>>8]+c[255&D]+c[k>>8]+c[255&k]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],512)}function z(e){var t,r=e.length-3,n=f[1024].offset,o=0,i=0|n[63],s=0,a=0|n[62],l=0,u=0|n[61],d=0,p=0|n[60],h=0,m=0|n[59],v=0,_=0|n[58],y=0,S=0|n[57],w=0,b=0|n[56],E=0,T=0|n[55],C=0,I=0|n[54],A=0,O=0|n[53],R=0,P=0|n[52],k=0,x=0|n[51],D=0,N=0|n[50],L=0,$=0|n[49],M=0,F=0|n[48],j=0,H=0|n[47],U=0,B=0|n[46],q=0,V=0|n[45],G=0,W=0|n[44],z=0,K=0|n[43],X=0,Y=0|n[42],Q=0,J=0|n[41],Z=0,ee=0|n[40],te=0,re=0|n[39],ne=0,oe=0|n[38],ie=0,se=0|n[37],ae=0,ce=0|n[36],le=0,ue=0|n[35],de=0,pe=0|n[34],he=0,fe=0|n[33],me=0,ge=0|n[32],ve=0,_e=0|n[31],ye=0,Se=0|n[30],we=0,be=0|n[29],Ee=0,Te=0|n[28],Ce=0,Ie=0|n[27],Ae=0,Oe=0|n[26],Re=0,Pe=0|n[25],ke=0,xe=0|n[24],De=0,Ne=0|n[23],Le=0,$e=0|n[22],Me=0,Fe=0|n[21],je=0,He=0|n[20],Ue=0,Be=0|n[19],qe=0,Ve=0|n[18],Ge=0,We=0|n[17],ze=0,Ke=0|n[16],Xe=0,Ye=0|n[15],Qe=0,Je=0|n[14],Ze=0,et=0|n[13],tt=0,rt=0|n[12],nt=0,ot=0|n[11],it=0,st=0|n[10],at=0,ct=0|n[9],lt=0,ut=0|n[8],dt=0,pt=0|n[7],ht=0,ft=0|n[6],mt=0,gt=0|n[5],vt=0,_t=0|n[4],yt=0,St=0|n[3],wt=0,bt=0|n[2],Et=0,Tt=0|n[1],Ct=0,It=0|n[0];for(t=0;t<r;)s=397*a,l=397*u,d=397*p,h=397*m,v=397*_,y=397*S,w=397*b,E=397*T,C=397*I,A=397*O,R=397*P,k=397*x,D=397*N,L=397*$,M=397*F,j=397*H,U=397*B,q=397*V,G=397*W,z=397*K,X=397*Y,Q=397*J,Z=397*ee,te=397*re,ne=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*pe,he=397*fe,me=397*ge,ve=397*_e,ye=397*Se,we=397*be,Ee=397*Te,Ce=397*Ie,Ae=397*Oe,Re=397*Pe,ke=397*xe,De=397*Ne,Le=397*$e,Me=397*Fe,je=397*He,Ue=397*Be,qe=397*Ve,Ge=397*We,ze=397*Ke,Xe=397*Ye,Qe=397*Je,Ze=397*et,tt=397*rt,nt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*pt,ht=397*ft,mt=397*gt,vt=397*_t,yt=397*St,wt=397*bt,Et=397*Tt,Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,i=65535&(o=397*i),It=(Ct+=Y<<8)+((Et+=(wt+=(yt+=(vt+=(mt+=(ht+=(dt+=(lt+=(at+=(it+=(nt+=(tt+=(Ze+=(Qe+=(Xe+=(ze+=(Ge+=(qe+=(Ue+=(je+=(Me+=(Le+=(De+=(ke+=(Re+=(Ae+=(Ce+=(Ee+=(we+=(ye+=(ve+=(me+=(he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(p=65535&d),h=397*(m=65535&h),v=397*(_=65535&v),y=397*(S=65535&y),w=397*(b=65535&w),E=397*(T=65535&E),C=397*(I=65535&C),A=397*(O=65535&A),R=397*(P=65535&R),k=397*(x=65535&k),D=397*(N=65535&D),L=397*($=65535&L),M=397*(F=65535&M),j=397*(H=65535&j),U=397*(B=65535&U),q=397*(V=65535&q),G=397*(W=65535&G),z=397*(K=65535&z),X=397*(Y=65535&X),Q=397*(J=65535&Q),Z=397*(ee=65535&Z),te=397*(re=65535&te),ne=397*(oe=65535&ne),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(pe=65535&de),he=397*(fe=65535&he),me=397*(ge=65535&me),ve=397*(_e=65535&ve),ye=397*(Se=65535&ye),we=397*(be=65535&we),Ee=397*(Te=65535&Ee),Ce=397*(Ie=65535&Ce),Ae=397*(Oe=65535&Ae),Re=397*(Pe=65535&Re),ke=397*(xe=65535&ke),De=397*(Ne=65535&De),Le=397*($e=65535&Le),Me=397*(Fe=65535&Me),je=397*(He=65535&je),Ue=397*(Be=65535&Ue),qe=397*(Ve=65535&qe),Ge=397*(We=65535&Ge),ze=397*(Ke=65535&ze),Xe=397*(Ye=65535&Xe),Qe=397*(Je=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(pt=65535&dt),ht=397*(ft=65535&ht),mt=397*(gt=65535&mt),vt=397*(_t=65535&vt),yt=397*(St=65535&yt),wt=397*(bt=65535&wt),Et=397*(Tt=65535&Et),Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,i=65535&(o=397*i),It=(Ct+=Y<<8)+((Et+=(wt+=(yt+=(vt+=(mt+=(ht+=(dt+=(lt+=(at+=(it+=(nt+=(tt+=(Ze+=(Qe+=(Xe+=(ze+=(Ge+=(qe+=(Ue+=(je+=(Me+=(Le+=(De+=(ke+=(Re+=(Ae+=(Ce+=(Ee+=(we+=(ye+=(ve+=(me+=(he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(p=65535&d),h=397*(m=65535&h),v=397*(_=65535&v),y=397*(S=65535&y),w=397*(b=65535&w),E=397*(T=65535&E),C=397*(I=65535&C),A=397*(O=65535&A),R=397*(P=65535&R),k=397*(x=65535&k),D=397*(N=65535&D),L=397*($=65535&L),M=397*(F=65535&M),j=397*(H=65535&j),U=397*(B=65535&U),q=397*(V=65535&q),G=397*(W=65535&G),z=397*(K=65535&z),X=397*(Y=65535&X),Q=397*(J=65535&Q),Z=397*(ee=65535&Z),te=397*(re=65535&te),ne=397*(oe=65535&ne),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(pe=65535&de),he=397*(fe=65535&he),me=397*(ge=65535&me),ve=397*(_e=65535&ve),ye=397*(Se=65535&ye),we=397*(be=65535&we),Ee=397*(Te=65535&Ee),Ce=397*(Ie=65535&Ce),Ae=397*(Oe=65535&Ae),Re=397*(Pe=65535&Re),ke=397*(xe=65535&ke),De=397*(Ne=65535&De),Le=397*($e=65535&Le),Me=397*(Fe=65535&Me),je=397*(He=65535&je),Ue=397*(Be=65535&Ue),qe=397*(Ve=65535&qe),Ge=397*(We=65535&Ge),ze=397*(Ke=65535&ze),Xe=397*(Ye=65535&Xe),Qe=397*(Je=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(pt=65535&dt),ht=397*(ft=65535&ht),mt=397*(gt=65535&mt),vt=397*(_t=65535&vt),yt=397*(St=65535&yt),wt=397*(bt=65535&wt),Et=397*(Tt=65535&Et),Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,i=65535&(o=397*i),It=(Ct+=Y<<8)+((Et+=(wt+=(yt+=(vt+=(mt+=(ht+=(dt+=(lt+=(at+=(it+=(nt+=(tt+=(Ze+=(Qe+=(Xe+=(ze+=(Ge+=(qe+=(Ue+=(je+=(Me+=(Le+=(De+=(ke+=(Re+=(Ae+=(Ce+=(Ee+=(we+=(ye+=(ve+=(me+=(he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(p=65535&d),h=397*(m=65535&h),v=397*(_=65535&v),y=397*(S=65535&y),w=397*(b=65535&w),E=397*(T=65535&E),C=397*(I=65535&C),A=397*(O=65535&A),R=397*(P=65535&R),k=397*(x=65535&k),D=397*(N=65535&D),L=397*($=65535&L),M=397*(F=65535&M),j=397*(H=65535&j),U=397*(B=65535&U),q=397*(V=65535&q),G=397*(W=65535&G),z=397*(K=65535&z),X=397*(Y=65535&X),Q=397*(J=65535&Q),Z=397*(ee=65535&Z),te=397*(re=65535&te),ne=397*(oe=65535&ne),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(pe=65535&de),he=397*(fe=65535&he),me=397*(ge=65535&me),ve=397*(_e=65535&ve),ye=397*(Se=65535&ye),we=397*(be=65535&we),Ee=397*(Te=65535&Ee),Ce=397*(Ie=65535&Ce),Ae=397*(Oe=65535&Ae),Re=397*(Pe=65535&Re),ke=397*(xe=65535&ke),De=397*(Ne=65535&De),Le=397*($e=65535&Le),Me=397*(Fe=65535&Me),je=397*(He=65535&je),Ue=397*(Be=65535&Ue),qe=397*(Ve=65535&qe),Ge=397*(We=65535&Ge),ze=397*(Ke=65535&ze),Xe=397*(Ye=65535&Xe),Qe=397*(Je=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(pt=65535&dt),ht=397*(ft=65535&ht),mt=397*(gt=65535&mt),vt=397*(_t=65535&vt),yt=397*(St=65535&yt),wt=397*(bt=65535&wt),Et=397*(Tt=65535&Et),Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,Ct+=Y<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),fe=65535&(he+=de>>>16),ge=65535&(me+=he>>>16),_e=65535&(ve+=me>>>16),Se=65535&(ye+=ve>>>16),be=65535&(we+=ye>>>16),Te=65535&(Ee+=we>>>16),Ie=65535&(Ce+=Ee>>>16),Oe=65535&(Ae+=Ce>>>16),Pe=65535&(Re+=Ae>>>16),xe=65535&(ke+=Re>>>16),Ne=65535&(De+=ke>>>16),$e=65535&(Le+=De>>>16),Fe=65535&(Me+=Le>>>16),He=65535&(je+=Me>>>16),Be=65535&(Ue+=je>>>16),Ve=65535&(qe+=Ue>>>16),We=65535&(Ge+=qe>>>16),Ke=65535&(ze+=Ge>>>16),Ye=65535&(Xe+=ze>>>16),Je=65535&(Qe+=Xe>>>16),et=65535&(Ze+=Qe>>>16),rt=65535&(tt+=Ze>>>16),ot=65535&(nt+=tt>>>16),st=65535&(it+=nt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),pt=65535&(dt+=lt>>>16),ft=65535&(ht+=dt>>>16),gt=65535&(mt+=ht>>>16),_t=65535&(vt+=mt>>>16),St=65535&(yt+=vt>>>16),bt=65535&(wt+=yt>>>16),It=Ct+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et;for(;t<r+3;)s=397*a,l=397*u,d=397*p,h=397*m,v=397*_,y=397*S,w=397*b,E=397*T,C=397*I,A=397*O,R=397*P,k=397*x,D=397*N,L=397*$,M=397*F,j=397*H,U=397*B,q=397*V,G=397*W,z=397*K,X=397*Y,Q=397*J,Z=397*ee,te=397*re,ne=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*pe,he=397*fe,me=397*ge,ve=397*_e,ye=397*Se,we=397*be,Ee=397*Te,Ce=397*Ie,Ae=397*Oe,Re=397*Pe,ke=397*xe,De=397*Ne,Le=397*$e,Me=397*Fe,je=397*He,Ue=397*Be,qe=397*Ve,Ge=397*We,ze=397*Ke,Xe=397*Ye,Qe=397*Je,Ze=397*et,tt=397*rt,nt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*pt,ht=397*ft,mt=397*gt,vt=397*_t,yt=397*St,wt=397*bt,Et=397*Tt,Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,Ct+=Y<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),fe=65535&(he+=de>>>16),ge=65535&(me+=he>>>16),_e=65535&(ve+=me>>>16),Se=65535&(ye+=ve>>>16),be=65535&(we+=ye>>>16),Te=65535&(Ee+=we>>>16),Ie=65535&(Ce+=Ee>>>16),Oe=65535&(Ae+=Ce>>>16),Pe=65535&(Re+=Ae>>>16),xe=65535&(ke+=Re>>>16),Ne=65535&(De+=ke>>>16),$e=65535&(Le+=De>>>16),Fe=65535&(Me+=Le>>>16),He=65535&(je+=Me>>>16),Be=65535&(Ue+=je>>>16),Ve=65535&(qe+=Ue>>>16),We=65535&(Ge+=qe>>>16),Ke=65535&(ze+=Ge>>>16),Ye=65535&(Xe+=ze>>>16),Je=65535&(Qe+=Xe>>>16),et=65535&(Ze+=Qe>>>16),rt=65535&(tt+=Ze>>>16),ot=65535&(nt+=tt>>>16),st=65535&(it+=nt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),pt=65535&(dt+=lt>>>16),ft=65535&(ht+=dt>>>16),gt=65535&(mt+=ht>>>16),_t=65535&(vt+=mt>>>16),St=65535&(yt+=vt>>>16),bt=65535&(wt+=yt>>>16),It=Ct+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et;return g(c[It>>8]+c[255&It]+c[Tt>>8]+c[255&Tt]+c[bt>>8]+c[255&bt]+c[St>>8]+c[255&St]+c[_t>>8]+c[255&_t]+c[gt>>8]+c[255&gt]+c[ft>>8]+c[255&ft]+c[pt>>8]+c[255&pt]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[st>>8]+c[255&st]+c[ot>>8]+c[255&ot]+c[rt>>8]+c[255&rt]+c[et>>8]+c[255&et]+c[Je>>8]+c[255&Je]+c[Ye>>8]+c[255&Ye]+c[Ke>>8]+c[255&Ke]+c[We>>8]+c[255&We]+c[Ve>>8]+c[255&Ve]+c[Be>>8]+c[255&Be]+c[He>>8]+c[255&He]+c[Fe>>8]+c[255&Fe]+c[$e>>8]+c[255&$e]+c[Ne>>8]+c[255&Ne]+c[xe>>8]+c[255&xe]+c[Pe>>8]+c[255&Pe]+c[Oe>>8]+c[255&Oe]+c[Ie>>8]+c[255&Ie]+c[Te>>8]+c[255&Te]+c[be>>8]+c[255&be]+c[Se>>8]+c[255&Se]+c[_e>>8]+c[255&_e]+c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[pe>>8]+c[255&pe]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[W>>8]+c[255&W]+c[V>>8]+c[255&V]+c[B>>8]+c[255&B]+c[H>>8]+c[255&H]+c[F>>8]+c[255&F]+c[$>>8]+c[255&$]+c[N>>8]+c[255&N]+c[x>>8]+c[255&x]+c[P>>8]+c[255&P]+c[O>>8]+c[255&O]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],1024)}function K(e){var t,r=e.length-3,n=f[1024].offset,o=0,i=0|n[63],s=0,a=0|n[62],l=0,u=0|n[61],d=0,p=0|n[60],h=0,m=0|n[59],v=0,_=0|n[58],y=0,S=0|n[57],w=0,b=0|n[56],E=0,T=0|n[55],C=0,I=0|n[54],A=0,O=0|n[53],R=0,P=0|n[52],k=0,x=0|n[51],D=0,N=0|n[50],L=0,$=0|n[49],M=0,F=0|n[48],j=0,H=0|n[47],U=0,B=0|n[46],q=0,V=0|n[45],G=0,W=0|n[44],z=0,K=0|n[43],X=0,Y=0|n[42],Q=0,J=0|n[41],Z=0,ee=0|n[40],te=0,re=0|n[39],ne=0,oe=0|n[38],ie=0,se=0|n[37],ae=0,ce=0|n[36],le=0,ue=0|n[35],de=0,pe=0|n[34],he=0,fe=0|n[33],me=0,ge=0|n[32],ve=0,_e=0|n[31],ye=0,Se=0|n[30],we=0,be=0|n[29],Ee=0,Te=0|n[28],Ce=0,Ie=0|n[27],Ae=0,Oe=0|n[26],Re=0,Pe=0|n[25],ke=0,xe=0|n[24],De=0,Ne=0|n[23],Le=0,$e=0|n[22],Me=0,Fe=0|n[21],je=0,He=0|n[20],Ue=0,Be=0|n[19],qe=0,Ve=0|n[18],Ge=0,We=0|n[17],ze=0,Ke=0|n[16],Xe=0,Ye=0|n[15],Qe=0,Je=0|n[14],Ze=0,et=0|n[13],tt=0,rt=0|n[12],nt=0,ot=0|n[11],it=0,st=0|n[10],at=0,ct=0|n[9],lt=0,ut=0|n[8],dt=0,pt=0|n[7],ht=0,ft=0|n[6],mt=0,gt=0|n[5],vt=0,_t=0|n[4],yt=0,St=0|n[3],wt=0,bt=0|n[2],Et=0,Tt=0|n[1],Ct=0,It=0|n[0];for(t=0;t<r;)s=397*a,l=397*u,d=397*p,h=397*m,v=397*_,y=397*S,w=397*b,E=397*T,C=397*I,A=397*O,R=397*P,k=397*x,D=397*N,L=397*$,M=397*F,j=397*H,U=397*B,q=397*V,G=397*W,z=397*K,X=397*Y,Q=397*J,Z=397*ee,te=397*re,ne=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*pe,he=397*fe,me=397*ge,ve=397*_e,ye=397*Se,we=397*be,Ee=397*Te,Ce=397*Ie,Ae=397*Oe,Re=397*Pe,ke=397*xe,De=397*Ne,Le=397*$e,Me=397*Fe,je=397*He,Ue=397*Be,qe=397*Ve,Ge=397*We,ze=397*Ke,Xe=397*Ye,Qe=397*Je,Ze=397*et,tt=397*rt,nt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*pt,ht=397*ft,mt=397*gt,vt=397*_t,yt=397*St,wt=397*bt,Et=397*Tt,Ct=397*It,Me+=i<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,i=65535&(o=397*i),It=(Ct+=Y<<8)+((Et+=(wt+=(yt+=(vt+=(mt+=(ht+=(dt+=(lt+=(at+=(it+=(nt+=(tt+=(Ze+=(Qe+=(Xe+=(ze+=(Ge+=(qe+=(Ue+=(je+=(Me+=(Le+=(De+=(ke+=(Re+=(Ae+=(Ce+=(Ee+=(we+=(ye+=(ve+=(me+=(he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(p=65535&d),h=397*(m=65535&h),v=397*(_=65535&v),y=397*(S=65535&y),w=397*(b=65535&w),E=397*(T=65535&E),C=397*(I=65535&C),A=397*(O=65535&A),R=397*(P=65535&R),k=397*(x=65535&k),D=397*(N=65535&D),L=397*($=65535&L),M=397*(F=65535&M),j=397*(H=65535&j),U=397*(B=65535&U),q=397*(V=65535&q),G=397*(W=65535&G),z=397*(K=65535&z),X=397*(Y=65535&X),Q=397*(J=65535&Q),Z=397*(ee=65535&Z),te=397*(re=65535&te),ne=397*(oe=65535&ne),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(pe=65535&de),he=397*(fe=65535&he),me=397*(ge=65535&me),ve=397*(_e=65535&ve),ye=397*(Se=65535&ye),we=397*(be=65535&we),Ee=397*(Te=65535&Ee),Ce=397*(Ie=65535&Ce),Ae=397*(Oe=65535&Ae),Re=397*(Pe=65535&Re),ke=397*(xe=65535&ke),De=397*(Ne=65535&De),Le=397*($e=65535&Le),Me=397*(Fe=65535&Me),je=397*(He=65535&je),Ue=397*(Be=65535&Ue),qe=397*(Ve=65535&qe),Ge=397*(We=65535&Ge),ze=397*(Ke=65535&ze),Xe=397*(Ye=65535&Xe),Qe=397*(Je=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(pt=65535&dt),ht=397*(ft=65535&ht),mt=397*(gt=65535&mt),vt=397*(_t=65535&vt),yt=397*(St=65535&yt),wt=397*(bt=65535&wt),Et=397*(Tt=65535&Et),Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,i=65535&(o=397*i),It=(Ct+=Y<<8)+((Et+=(wt+=(yt+=(vt+=(mt+=(ht+=(dt+=(lt+=(at+=(it+=(nt+=(tt+=(Ze+=(Qe+=(Xe+=(ze+=(Ge+=(qe+=(Ue+=(je+=(Me+=(Le+=(De+=(ke+=(Re+=(Ae+=(Ce+=(Ee+=(we+=(ye+=(ve+=(me+=(he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(p=65535&d),h=397*(m=65535&h),v=397*(_=65535&v),y=397*(S=65535&y),w=397*(b=65535&w),E=397*(T=65535&E),C=397*(I=65535&C),A=397*(O=65535&A),R=397*(P=65535&R),k=397*(x=65535&k),D=397*(N=65535&D),L=397*($=65535&L),M=397*(F=65535&M),j=397*(H=65535&j),U=397*(B=65535&U),q=397*(V=65535&q),G=397*(W=65535&G),z=397*(K=65535&z),X=397*(Y=65535&X),Q=397*(J=65535&Q),Z=397*(ee=65535&Z),te=397*(re=65535&te),ne=397*(oe=65535&ne),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(pe=65535&de),he=397*(fe=65535&he),me=397*(ge=65535&me),ve=397*(_e=65535&ve),ye=397*(Se=65535&ye),we=397*(be=65535&we),Ee=397*(Te=65535&Ee),Ce=397*(Ie=65535&Ce),Ae=397*(Oe=65535&Ae),Re=397*(Pe=65535&Re),ke=397*(xe=65535&ke),De=397*(Ne=65535&De),Le=397*($e=65535&Le),Me=397*(Fe=65535&Me),je=397*(He=65535&je),Ue=397*(Be=65535&Ue),qe=397*(Ve=65535&qe),Ge=397*(We=65535&Ge),ze=397*(Ke=65535&ze),Xe=397*(Ye=65535&Xe),Qe=397*(Je=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(pt=65535&dt),ht=397*(ft=65535&ht),mt=397*(gt=65535&mt),vt=397*(_t=65535&vt),yt=397*(St=65535&yt),wt=397*(bt=65535&wt),Et=397*(Tt=65535&Et),Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,i=65535&(o=397*i),It=(Ct+=Y<<8)+((Et+=(wt+=(yt+=(vt+=(mt+=(ht+=(dt+=(lt+=(at+=(it+=(nt+=(tt+=(Ze+=(Qe+=(Xe+=(ze+=(Ge+=(qe+=(Ue+=(je+=(Me+=(Le+=(De+=(ke+=(Re+=(Ae+=(Ce+=(Ee+=(we+=(ye+=(ve+=(me+=(he+=(de+=(le+=(ae+=(ie+=(ne+=(te+=(Z+=(Q+=(X+=(z+=(G+=(q+=(U+=(j+=(M+=(L+=(D+=(k+=(R+=(A+=(C+=(E+=(w+=(y+=(v+=(h+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(p=65535&d),h=397*(m=65535&h),v=397*(_=65535&v),y=397*(S=65535&y),w=397*(b=65535&w),E=397*(T=65535&E),C=397*(I=65535&C),A=397*(O=65535&A),R=397*(P=65535&R),k=397*(x=65535&k),D=397*(N=65535&D),L=397*($=65535&L),M=397*(F=65535&M),j=397*(H=65535&j),U=397*(B=65535&U),q=397*(V=65535&q),G=397*(W=65535&G),z=397*(K=65535&z),X=397*(Y=65535&X),Q=397*(J=65535&Q),Z=397*(ee=65535&Z),te=397*(re=65535&te),ne=397*(oe=65535&ne),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(pe=65535&de),he=397*(fe=65535&he),me=397*(ge=65535&me),ve=397*(_e=65535&ve),ye=397*(Se=65535&ye),we=397*(be=65535&we),Ee=397*(Te=65535&Ee),Ce=397*(Ie=65535&Ce),Ae=397*(Oe=65535&Ae),Re=397*(Pe=65535&Re),ke=397*(xe=65535&ke),De=397*(Ne=65535&De),Le=397*($e=65535&Le),Me=397*(Fe=65535&Me),je=397*(He=65535&je),Ue=397*(Be=65535&Ue),qe=397*(Ve=65535&qe),Ge=397*(We=65535&Ge),ze=397*(Ke=65535&ze),Xe=397*(Ye=65535&Xe),Qe=397*(Je=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(pt=65535&dt),ht=397*(ft=65535&ht),mt=397*(gt=65535&mt),vt=397*(_t=65535&vt),yt=397*(St=65535&yt),wt=397*(bt=65535&wt),Et=397*(Tt=65535&Et),Ct=397*It,Me+=(i^=e.charCodeAt(t++))<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,Ct+=Y<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),fe=65535&(he+=de>>>16),ge=65535&(me+=he>>>16),_e=65535&(ve+=me>>>16),Se=65535&(ye+=ve>>>16),be=65535&(we+=ye>>>16),Te=65535&(Ee+=we>>>16),Ie=65535&(Ce+=Ee>>>16),Oe=65535&(Ae+=Ce>>>16),Pe=65535&(Re+=Ae>>>16),xe=65535&(ke+=Re>>>16),Ne=65535&(De+=ke>>>16),$e=65535&(Le+=De>>>16),Fe=65535&(Me+=Le>>>16),He=65535&(je+=Me>>>16),Be=65535&(Ue+=je>>>16),Ve=65535&(qe+=Ue>>>16),We=65535&(Ge+=qe>>>16),Ke=65535&(ze+=Ge>>>16),Ye=65535&(Xe+=ze>>>16),Je=65535&(Qe+=Xe>>>16),et=65535&(Ze+=Qe>>>16),rt=65535&(tt+=Ze>>>16),ot=65535&(nt+=tt>>>16),st=65535&(it+=nt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),pt=65535&(dt+=lt>>>16),ft=65535&(ht+=dt>>>16),gt=65535&(mt+=ht>>>16),_t=65535&(vt+=mt>>>16),St=65535&(yt+=vt>>>16),bt=65535&(wt+=yt>>>16),It=Ct+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,i^=e.charCodeAt(t++);for(;t<r+3;)s=397*a,l=397*u,d=397*p,h=397*m,v=397*_,y=397*S,w=397*b,E=397*T,C=397*I,A=397*O,R=397*P,k=397*x,D=397*N,L=397*$,M=397*F,j=397*H,U=397*B,q=397*V,G=397*W,z=397*K,X=397*Y,Q=397*J,Z=397*ee,te=397*re,ne=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*pe,he=397*fe,me=397*ge,ve=397*_e,ye=397*Se,we=397*be,Ee=397*Te,Ce=397*Ie,Ae=397*Oe,Re=397*Pe,ke=397*xe,De=397*Ne,Le=397*$e,Me=397*Fe,je=397*He,Ue=397*Be,qe=397*Ve,Ge=397*We,ze=397*Ke,Xe=397*Ye,Qe=397*Je,Ze=397*et,tt=397*rt,nt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*pt,ht=397*ft,mt=397*gt,vt=397*_t,yt=397*St,wt=397*bt,Et=397*Tt,Ct=397*It,Me+=i<<8,je+=a<<8,Ue+=u<<8,qe+=p<<8,Ge+=m<<8,ze+=_<<8,Xe+=S<<8,Qe+=b<<8,Ze+=T<<8,tt+=I<<8,nt+=O<<8,it+=P<<8,at+=x<<8,lt+=N<<8,dt+=$<<8,ht+=F<<8,mt+=H<<8,vt+=B<<8,yt+=V<<8,wt+=W<<8,Et+=K<<8,Ct+=Y<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),p=65535&(d+=l>>>16),m=65535&(h+=d>>>16),_=65535&(v+=h>>>16),S=65535&(y+=v>>>16),b=65535&(w+=y>>>16),T=65535&(E+=w>>>16),I=65535&(C+=E>>>16),O=65535&(A+=C>>>16),P=65535&(R+=A>>>16),x=65535&(k+=R>>>16),N=65535&(D+=k>>>16),$=65535&(L+=D>>>16),F=65535&(M+=L>>>16),H=65535&(j+=M>>>16),B=65535&(U+=j>>>16),V=65535&(q+=U>>>16),W=65535&(G+=q>>>16),K=65535&(z+=G>>>16),Y=65535&(X+=z>>>16),J=65535&(Q+=X>>>16),ee=65535&(Z+=Q>>>16),re=65535&(te+=Z>>>16),oe=65535&(ne+=te>>>16),se=65535&(ie+=ne>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),pe=65535&(de+=le>>>16),fe=65535&(he+=de>>>16),ge=65535&(me+=he>>>16),_e=65535&(ve+=me>>>16),Se=65535&(ye+=ve>>>16),be=65535&(we+=ye>>>16),Te=65535&(Ee+=we>>>16),Ie=65535&(Ce+=Ee>>>16),Oe=65535&(Ae+=Ce>>>16),Pe=65535&(Re+=Ae>>>16),xe=65535&(ke+=Re>>>16),Ne=65535&(De+=ke>>>16),$e=65535&(Le+=De>>>16),Fe=65535&(Me+=Le>>>16),He=65535&(je+=Me>>>16),Be=65535&(Ue+=je>>>16),Ve=65535&(qe+=Ue>>>16),We=65535&(Ge+=qe>>>16),Ke=65535&(ze+=Ge>>>16),Ye=65535&(Xe+=ze>>>16),Je=65535&(Qe+=Xe>>>16),et=65535&(Ze+=Qe>>>16),rt=65535&(tt+=Ze>>>16),ot=65535&(nt+=tt>>>16),st=65535&(it+=nt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),pt=65535&(dt+=lt>>>16),ft=65535&(ht+=dt>>>16),gt=65535&(mt+=ht>>>16),_t=65535&(vt+=mt>>>16),St=65535&(yt+=vt>>>16),bt=65535&(wt+=yt>>>16),It=Ct+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,i^=e.charCodeAt(t++);return g(c[It>>8]+c[255&It]+c[Tt>>8]+c[255&Tt]+c[bt>>8]+c[255&bt]+c[St>>8]+c[255&St]+c[_t>>8]+c[255&_t]+c[gt>>8]+c[255&gt]+c[ft>>8]+c[255&ft]+c[pt>>8]+c[255&pt]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[st>>8]+c[255&st]+c[ot>>8]+c[255&ot]+c[rt>>8]+c[255&rt]+c[et>>8]+c[255&et]+c[Je>>8]+c[255&Je]+c[Ye>>8]+c[255&Ye]+c[Ke>>8]+c[255&Ke]+c[We>>8]+c[255&We]+c[Ve>>8]+c[255&Ve]+c[Be>>8]+c[255&Be]+c[He>>8]+c[255&He]+c[Fe>>8]+c[255&Fe]+c[$e>>8]+c[255&$e]+c[Ne>>8]+c[255&Ne]+c[xe>>8]+c[255&xe]+c[Pe>>8]+c[255&Pe]+c[Oe>>8]+c[255&Oe]+c[Ie>>8]+c[255&Ie]+c[Te>>8]+c[255&Te]+c[be>>8]+c[255&be]+c[Se>>8]+c[255&Se]+c[_e>>8]+c[255&_e]+c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[pe>>8]+c[255&pe]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[W>>8]+c[255&W]+c[V>>8]+c[255&V]+c[B>>8]+c[255&B]+c[H>>8]+c[255&H]+c[F>>8]+c[255&F]+c[$>>8]+c[255&$]+c[N>>8]+c[255&N]+c[x>>8]+c[255&x]+c[P>>8]+c[255&P]+c[O>>8]+c[255&O]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[m>>8]+c[255&m]+c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],1024)}function X(e){var t,r,n=e.length,o=f[1024].offset,i=0,s=0|o[63],a=0,l=0|o[62],u=0,d=0|o[61],p=0,h=0|o[60],m=0,v=0|o[59],_=0,y=0|o[58],S=0,w=0|o[57],b=0,E=0|o[56],T=0,C=0|o[55],I=0,A=0|o[54],O=0,R=0|o[53],P=0,k=0|o[52],x=0,D=0|o[51],N=0,L=0|o[50],$=0,M=0|o[49],F=0,j=0|o[48],H=0,U=0|o[47],B=0,q=0|o[46],V=0,G=0|o[45],W=0,z=0|o[44],K=0,X=0|o[43],Y=0,Q=0|o[42],J=0,Z=0|o[41],ee=0,te=0|o[40],re=0,ne=0|o[39],oe=0,ie=0|o[38],se=0,ae=0|o[37],ce=0,le=0|o[36],ue=0,de=0|o[35],pe=0,he=0|o[34],fe=0,me=0|o[33],ge=0,ve=0|o[32],_e=0,ye=0|o[31],Se=0,we=0|o[30],be=0,Ee=0|o[29],Te=0,Ce=0|o[28],Ie=0,Ae=0|o[27],Oe=0,Re=0|o[26],Pe=0,ke=0|o[25],xe=0,De=0|o[24],Ne=0,Le=0|o[23],$e=0,Me=0|o[22],Fe=0,je=0|o[21],He=0,Ue=0|o[20],Be=0,qe=0|o[19],Ve=0,Ge=0|o[18],We=0,ze=0|o[17],Ke=0,Xe=0|o[16],Ye=0,Qe=0|o[15],Je=0,Ze=0|o[14],et=0,tt=0|o[13],rt=0,nt=0|o[12],ot=0,it=0|o[11],st=0,at=0|o[10],ct=0,lt=0|o[9],ut=0,dt=0|o[8],pt=0,ht=0|o[7],ft=0,mt=0|o[6],gt=0,vt=0|o[5],_t=0,yt=0|o[4],St=0,wt=0|o[3],bt=0,Et=0|o[2],Tt=0,Ct=0|o[1],It=0,At=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=(s^=t>>6|192)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,s=65535&(i=397*s),At=(It+=Q<<8)+((Tt+=(bt+=(St+=(_t+=(gt+=(ft+=(pt+=(ut+=(ct+=(st+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(We+=(Ve+=(Be+=(He+=(Fe+=($e+=(Ne+=(xe+=(Pe+=(Oe+=(Ie+=(Te+=(be+=(Se+=(_e+=(ge+=(fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),p=397*(h=65535&p),m=397*(v=65535&m),_=397*(y=65535&_),S=397*(w=65535&S),b=397*(E=65535&b),T=397*(C=65535&T),I=397*(A=65535&I),O=397*(R=65535&O),P=397*(k=65535&P),x=397*(D=65535&x),N=397*(L=65535&N),$=397*(M=65535&$),F=397*(j=65535&F),H=397*(U=65535&H),B=397*(q=65535&B),V=397*(G=65535&V),W=397*(z=65535&W),K=397*(X=65535&K),Y=397*(Q=65535&Y),J=397*(Z=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),pe=397*(he=65535&pe),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),_e=397*(ye=65535&_e),Se=397*(we=65535&Se),be=397*(Ee=65535&be),Te=397*(Ce=65535&Te),Ie=397*(Ae=65535&Ie),Oe=397*(Re=65535&Oe),Pe=397*(ke=65535&Pe),xe=397*(De=65535&xe),Ne=397*(Le=65535&Ne),$e=397*(Me=65535&$e),Fe=397*(je=65535&Fe),He=397*(Ue=65535&He),Be=397*(qe=65535&Be),Ve=397*(Ge=65535&Ve),We=397*(ze=65535&We),Ke=397*(Xe=65535&Ke),Ye=397*(Qe=65535&Ye),Je=397*(Ze=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),pt=397*(ht=65535&pt),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),_t=397*(yt=65535&_t),St=397*(wt=65535&St),bt=397*(Et=65535&bt),Tt=397*(Ct=65535&Tt),It=397*At,Fe+=(s^=t>>12&63|128)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,s=65535&(i=397*s),At=(It+=Q<<8)+((Tt+=(bt+=(St+=(_t+=(gt+=(ft+=(pt+=(ut+=(ct+=(st+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(We+=(Ve+=(Be+=(He+=(Fe+=($e+=(Ne+=(xe+=(Pe+=(Oe+=(Ie+=(Te+=(be+=(Se+=(_e+=(ge+=(fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),p=397*(h=65535&p),m=397*(v=65535&m),_=397*(y=65535&_),S=397*(w=65535&S),b=397*(E=65535&b),T=397*(C=65535&T),I=397*(A=65535&I),O=397*(R=65535&O),P=397*(k=65535&P),x=397*(D=65535&x),N=397*(L=65535&N),$=397*(M=65535&$),F=397*(j=65535&F),H=397*(U=65535&H),B=397*(q=65535&B),V=397*(G=65535&V),W=397*(z=65535&W),K=397*(X=65535&K),Y=397*(Q=65535&Y),J=397*(Z=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),pe=397*(he=65535&pe),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),_e=397*(ye=65535&_e),Se=397*(we=65535&Se),be=397*(Ee=65535&be),Te=397*(Ce=65535&Te),Ie=397*(Ae=65535&Ie),Oe=397*(Re=65535&Oe),Pe=397*(ke=65535&Pe),xe=397*(De=65535&xe),Ne=397*(Le=65535&Ne),$e=397*(Me=65535&$e),Fe=397*(je=65535&Fe),He=397*(Ue=65535&He),Be=397*(qe=65535&Be),Ve=397*(Ge=65535&Ve),We=397*(ze=65535&We),Ke=397*(Xe=65535&Ke),Ye=397*(Qe=65535&Ye),Je=397*(Ze=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),pt=397*(ht=65535&pt),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),_t=397*(yt=65535&_t),St=397*(wt=65535&St),bt=397*(Et=65535&bt),Tt=397*(Ct=65535&Tt),It=397*At,Fe+=(s^=t>>6&63|128)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,s^=63&t|128):(a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=(s^=t>>12|224)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,s=65535&(i=397*s),At=(It+=Q<<8)+((Tt+=(bt+=(St+=(_t+=(gt+=(ft+=(pt+=(ut+=(ct+=(st+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(We+=(Ve+=(Be+=(He+=(Fe+=($e+=(Ne+=(xe+=(Pe+=(Oe+=(Ie+=(Te+=(be+=(Se+=(_e+=(ge+=(fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),p=397*(h=65535&p),m=397*(v=65535&m),_=397*(y=65535&_),S=397*(w=65535&S),b=397*(E=65535&b),T=397*(C=65535&T),I=397*(A=65535&I),O=397*(R=65535&O),P=397*(k=65535&P),x=397*(D=65535&x),N=397*(L=65535&N),$=397*(M=65535&$),F=397*(j=65535&F),H=397*(U=65535&H),B=397*(q=65535&B),V=397*(G=65535&V),W=397*(z=65535&W),K=397*(X=65535&K),Y=397*(Q=65535&Y),J=397*(Z=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),pe=397*(he=65535&pe),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),_e=397*(ye=65535&_e),Se=397*(we=65535&Se),be=397*(Ee=65535&be),Te=397*(Ce=65535&Te),Ie=397*(Ae=65535&Ie),Oe=397*(Re=65535&Oe),Pe=397*(ke=65535&Pe),xe=397*(De=65535&xe),Ne=397*(Le=65535&Ne),$e=397*(Me=65535&$e),Fe=397*(je=65535&Fe),He=397*(Ue=65535&He),Be=397*(qe=65535&Be),Ve=397*(Ge=65535&Ve),We=397*(ze=65535&We),Ke=397*(Xe=65535&Ke),Ye=397*(Qe=65535&Ye),Je=397*(Ze=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),pt=397*(ht=65535&pt),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),_t=397*(yt=65535&_t),St=397*(wt=65535&St),bt=397*(Et=65535&bt),Tt=397*(Ct=65535&Tt),It=397*At,Fe+=(s^=t>>6&63|128)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,s^=63&t|128),a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=s<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt;return g(c[At>>8]+c[255&At]+c[Ct>>8]+c[255&Ct]+c[Et>>8]+c[255&Et]+c[wt>>8]+c[255&wt]+c[yt>>8]+c[255&yt]+c[vt>>8]+c[255&vt]+c[mt>>8]+c[255&mt]+c[ht>>8]+c[255&ht]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[it>>8]+c[255&it]+c[nt>>8]+c[255&nt]+c[tt>>8]+c[255&tt]+c[Ze>>8]+c[255&Ze]+c[Qe>>8]+c[255&Qe]+c[Xe>>8]+c[255&Xe]+c[ze>>8]+c[255&ze]+c[Ge>>8]+c[255&Ge]+c[qe>>8]+c[255&qe]+c[Ue>>8]+c[255&Ue]+c[je>>8]+c[255&je]+c[Me>>8]+c[255&Me]+c[Le>>8]+c[255&Le]+c[De>>8]+c[255&De]+c[ke>>8]+c[255&ke]+c[Re>>8]+c[255&Re]+c[Ae>>8]+c[255&Ae]+c[Ce>>8]+c[255&Ce]+c[Ee>>8]+c[255&Ee]+c[we>>8]+c[255&we]+c[ye>>8]+c[255&ye]+c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[he>>8]+c[255&he]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[z>>8]+c[255&z]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[U>>8]+c[255&U]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[L>>8]+c[255&L]+c[D>>8]+c[255&D]+c[k>>8]+c[255&k]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],1024)}function Y(e){var t,r,n=e.length,o=f[1024].offset,i=0,s=0|o[63],a=0,l=0|o[62],u=0,d=0|o[61],p=0,h=0|o[60],m=0,v=0|o[59],_=0,y=0|o[58],S=0,w=0|o[57],b=0,E=0|o[56],T=0,C=0|o[55],I=0,A=0|o[54],O=0,R=0|o[53],P=0,k=0|o[52],x=0,D=0|o[51],N=0,L=0|o[50],$=0,M=0|o[49],F=0,j=0|o[48],H=0,U=0|o[47],B=0,q=0|o[46],V=0,G=0|o[45],W=0,z=0|o[44],K=0,X=0|o[43],Y=0,Q=0|o[42],J=0,Z=0|o[41],ee=0,te=0|o[40],re=0,ne=0|o[39],oe=0,ie=0|o[38],se=0,ae=0|o[37],ce=0,le=0|o[36],ue=0,de=0|o[35],pe=0,he=0|o[34],fe=0,me=0|o[33],ge=0,ve=0|o[32],_e=0,ye=0|o[31],Se=0,we=0|o[30],be=0,Ee=0|o[29],Te=0,Ce=0|o[28],Ie=0,Ae=0|o[27],Oe=0,Re=0|o[26],Pe=0,ke=0|o[25],xe=0,De=0|o[24],Ne=0,Le=0|o[23],$e=0,Me=0|o[22],Fe=0,je=0|o[21],He=0,Ue=0|o[20],Be=0,qe=0|o[19],Ve=0,Ge=0|o[18],We=0,ze=0|o[17],Ke=0,Xe=0|o[16],Ye=0,Qe=0|o[15],Je=0,Ze=0|o[14],et=0,tt=0|o[13],rt=0,nt=0|o[12],ot=0,it=0|o[11],st=0,at=0|o[10],ct=0,lt=0|o[9],ut=0,dt=0|o[8],pt=0,ht=0|o[7],ft=0,mt=0|o[6],gt=0,vt=0|o[5],_t=0,yt=0|o[4],St=0,wt=0|o[3],bt=0,Et=0|o[2],Tt=0,Ct=0|o[1],It=0,At=0|o[0];for(r=0;r<n;r++)a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=s<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,(t=e.charCodeAt(r))<128?s^=t:t<2048?(a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=(s^=t>>6|192)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,s=65535&(i=397*s),At=(It+=Q<<8)+((Tt+=(bt+=(St+=(_t+=(gt+=(ft+=(pt+=(ut+=(ct+=(st+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(We+=(Ve+=(Be+=(He+=(Fe+=($e+=(Ne+=(xe+=(Pe+=(Oe+=(Ie+=(Te+=(be+=(Se+=(_e+=(ge+=(fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),p=397*(h=65535&p),m=397*(v=65535&m),_=397*(y=65535&_),S=397*(w=65535&S),b=397*(E=65535&b),T=397*(C=65535&T),I=397*(A=65535&I),O=397*(R=65535&O),P=397*(k=65535&P),x=397*(D=65535&x),N=397*(L=65535&N),$=397*(M=65535&$),F=397*(j=65535&F),H=397*(U=65535&H),B=397*(q=65535&B),V=397*(G=65535&V),W=397*(z=65535&W),K=397*(X=65535&K),Y=397*(Q=65535&Y),J=397*(Z=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),pe=397*(he=65535&pe),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),_e=397*(ye=65535&_e),Se=397*(we=65535&Se),be=397*(Ee=65535&be),Te=397*(Ce=65535&Te),Ie=397*(Ae=65535&Ie),Oe=397*(Re=65535&Oe),Pe=397*(ke=65535&Pe),xe=397*(De=65535&xe),Ne=397*(Le=65535&Ne),$e=397*(Me=65535&$e),Fe=397*(je=65535&Fe),He=397*(Ue=65535&He),Be=397*(qe=65535&Be),Ve=397*(Ge=65535&Ve),We=397*(ze=65535&We),Ke=397*(Xe=65535&Ke),Ye=397*(Qe=65535&Ye),Je=397*(Ze=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),pt=397*(ht=65535&pt),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),_t=397*(yt=65535&_t),St=397*(wt=65535&St),bt=397*(Et=65535&bt),Tt=397*(Ct=65535&Tt),It=397*At,Fe+=(s^=t>>12&63|128)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,s=65535&(i=397*s),At=(It+=Q<<8)+((Tt+=(bt+=(St+=(_t+=(gt+=(ft+=(pt+=(ut+=(ct+=(st+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(We+=(Ve+=(Be+=(He+=(Fe+=($e+=(Ne+=(xe+=(Pe+=(Oe+=(Ie+=(Te+=(be+=(Se+=(_e+=(ge+=(fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),p=397*(h=65535&p),m=397*(v=65535&m),_=397*(y=65535&_),S=397*(w=65535&S),b=397*(E=65535&b),T=397*(C=65535&T),I=397*(A=65535&I),O=397*(R=65535&O),P=397*(k=65535&P),x=397*(D=65535&x),N=397*(L=65535&N),$=397*(M=65535&$),F=397*(j=65535&F),H=397*(U=65535&H),B=397*(q=65535&B),V=397*(G=65535&V),W=397*(z=65535&W),K=397*(X=65535&K),Y=397*(Q=65535&Y),J=397*(Z=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),pe=397*(he=65535&pe),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),_e=397*(ye=65535&_e),Se=397*(we=65535&Se),be=397*(Ee=65535&be),Te=397*(Ce=65535&Te),Ie=397*(Ae=65535&Ie),Oe=397*(Re=65535&Oe),Pe=397*(ke=65535&Pe),xe=397*(De=65535&xe),Ne=397*(Le=65535&Ne),$e=397*(Me=65535&$e),Fe=397*(je=65535&Fe),He=397*(Ue=65535&He),Be=397*(qe=65535&Be),Ve=397*(Ge=65535&Ve),We=397*(ze=65535&We),Ke=397*(Xe=65535&Ke),Ye=397*(Qe=65535&Ye),Je=397*(Ze=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),pt=397*(ht=65535&pt),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),_t=397*(yt=65535&_t),St=397*(wt=65535&St),bt=397*(Et=65535&bt),Tt=397*(Ct=65535&Tt),It=397*At,Fe+=(s^=t>>6&63|128)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,s^=63&t|128):(a=397*l,u=397*d,p=397*h,m=397*v,_=397*y,S=397*w,b=397*E,T=397*C,I=397*A,O=397*R,P=397*k,x=397*D,N=397*L,$=397*M,F=397*j,H=397*U,B=397*q,V=397*G,W=397*z,K=397*X,Y=397*Q,J=397*Z,ee=397*te,re=397*ne,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,pe=397*he,fe=397*me,ge=397*ve,_e=397*ye,Se=397*we,be=397*Ee,Te=397*Ce,Ie=397*Ae,Oe=397*Re,Pe=397*ke,xe=397*De,Ne=397*Le,$e=397*Me,Fe=397*je,He=397*Ue,Be=397*qe,Ve=397*Ge,We=397*ze,Ke=397*Xe,Ye=397*Qe,Je=397*Ze,et=397*tt,rt=397*nt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,pt=397*ht,ft=397*mt,gt=397*vt,_t=397*yt,St=397*wt,bt=397*Et,Tt=397*Ct,It=397*At,Fe+=(s^=t>>12|224)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,s=65535&(i=397*s),At=(It+=Q<<8)+((Tt+=(bt+=(St+=(_t+=(gt+=(ft+=(pt+=(ut+=(ct+=(st+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(We+=(Ve+=(Be+=(He+=(Fe+=($e+=(Ne+=(xe+=(Pe+=(Oe+=(Ie+=(Te+=(be+=(Se+=(_e+=(ge+=(fe+=(pe+=(ue+=(ce+=(se+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(W+=(V+=(B+=(H+=(F+=($+=(N+=(x+=(P+=(O+=(I+=(T+=(b+=(S+=(_+=(m+=(p+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),p=397*(h=65535&p),m=397*(v=65535&m),_=397*(y=65535&_),S=397*(w=65535&S),b=397*(E=65535&b),T=397*(C=65535&T),I=397*(A=65535&I),O=397*(R=65535&O),P=397*(k=65535&P),x=397*(D=65535&x),N=397*(L=65535&N),$=397*(M=65535&$),F=397*(j=65535&F),H=397*(U=65535&H),B=397*(q=65535&B),V=397*(G=65535&V),W=397*(z=65535&W),K=397*(X=65535&K),Y=397*(Q=65535&Y),J=397*(Z=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),pe=397*(he=65535&pe),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),_e=397*(ye=65535&_e),Se=397*(we=65535&Se),be=397*(Ee=65535&be),Te=397*(Ce=65535&Te),Ie=397*(Ae=65535&Ie),Oe=397*(Re=65535&Oe),Pe=397*(ke=65535&Pe),xe=397*(De=65535&xe),Ne=397*(Le=65535&Ne),$e=397*(Me=65535&$e),Fe=397*(je=65535&Fe),He=397*(Ue=65535&He),Be=397*(qe=65535&Be),Ve=397*(Ge=65535&Ve),We=397*(ze=65535&We),Ke=397*(Xe=65535&Ke),Ye=397*(Qe=65535&Ye),Je=397*(Ze=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),pt=397*(ht=65535&pt),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),_t=397*(yt=65535&_t),St=397*(wt=65535&St),bt=397*(Et=65535&bt),Tt=397*(Ct=65535&Tt),It=397*At,Fe+=(s^=t>>6&63|128)<<8,He+=l<<8,Be+=d<<8,Ve+=h<<8,We+=v<<8,Ke+=y<<8,Ye+=w<<8,Je+=E<<8,et+=C<<8,rt+=A<<8,ot+=R<<8,st+=k<<8,ct+=D<<8,ut+=L<<8,pt+=M<<8,ft+=j<<8,gt+=U<<8,_t+=q<<8,St+=G<<8,bt+=z<<8,Tt+=X<<8,It+=Q<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),h=65535&(p+=u>>>16),v=65535&(m+=p>>>16),y=65535&(_+=m>>>16),w=65535&(S+=_>>>16),E=65535&(b+=S>>>16),C=65535&(T+=b>>>16),A=65535&(I+=T>>>16),R=65535&(O+=I>>>16),k=65535&(P+=O>>>16),D=65535&(x+=P>>>16),L=65535&(N+=x>>>16),M=65535&($+=N>>>16),j=65535&(F+=$>>>16),U=65535&(H+=F>>>16),q=65535&(B+=H>>>16),G=65535&(V+=B>>>16),z=65535&(W+=V>>>16),X=65535&(K+=W>>>16),Q=65535&(Y+=K>>>16),Z=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),ie=65535&(oe+=re>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),he=65535&(pe+=ue>>>16),me=65535&(fe+=pe>>>16),ve=65535&(ge+=fe>>>16),ye=65535&(_e+=ge>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(be+=Se>>>16),Ce=65535&(Te+=be>>>16),Ae=65535&(Ie+=Te>>>16),Re=65535&(Oe+=Ie>>>16),ke=65535&(Pe+=Oe>>>16),De=65535&(xe+=Pe>>>16),Le=65535&(Ne+=xe>>>16),Me=65535&($e+=Ne>>>16),je=65535&(Fe+=$e>>>16),Ue=65535&(He+=Fe>>>16),qe=65535&(Be+=He>>>16),Ge=65535&(Ve+=Be>>>16),ze=65535&(We+=Ve>>>16),Xe=65535&(Ke+=We>>>16),Qe=65535&(Ye+=Ke>>>16),Ze=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),it=65535&(ot+=rt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ht=65535&(pt+=ut>>>16),mt=65535&(ft+=pt>>>16),vt=65535&(gt+=ft>>>16),yt=65535&(_t+=gt>>>16),wt=65535&(St+=_t>>>16),Et=65535&(bt+=St>>>16),At=It+((Tt+=bt>>>16)>>>16)&65535,Ct=65535&Tt,s^=63&t|128);return g(c[At>>8]+c[255&At]+c[Ct>>8]+c[255&Ct]+c[Et>>8]+c[255&Et]+c[wt>>8]+c[255&wt]+c[yt>>8]+c[255&yt]+c[vt>>8]+c[255&vt]+c[mt>>8]+c[255&mt]+c[ht>>8]+c[255&ht]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[it>>8]+c[255&it]+c[nt>>8]+c[255&nt]+c[tt>>8]+c[255&tt]+c[Ze>>8]+c[255&Ze]+c[Qe>>8]+c[255&Qe]+c[Xe>>8]+c[255&Xe]+c[ze>>8]+c[255&ze]+c[Ge>>8]+c[255&Ge]+c[qe>>8]+c[255&qe]+c[Ue>>8]+c[255&Ue]+c[je>>8]+c[255&je]+c[Me>>8]+c[255&Me]+c[Le>>8]+c[255&Le]+c[De>>8]+c[255&De]+c[ke>>8]+c[255&ke]+c[Re>>8]+c[255&Re]+c[Ae>>8]+c[255&Ae]+c[Ce>>8]+c[255&Ce]+c[Ee>>8]+c[255&Ee]+c[we>>8]+c[255&we]+c[ye>>8]+c[255&ye]+c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[he>>8]+c[255&he]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[z>>8]+c[255&z]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[U>>8]+c[255&U]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[L>>8]+c[255&L]+c[D>>8]+c[255&D]+c[k>>8]+c[255&k]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[y>>8]+c[255&y]+c[v>>8]+c[255&v]+c[h>>8]+c[255&h]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],1024)}return t=E,r=A,n=k,o=L,i=j,s=q,a=z,S("1a"),w(!1),b(),{hash:y,setKeyspace:function(e){if(52!==e&&!f[e])throw new Error("Supported FNV keyspacs: 32, 52, 64, 128, 256, 512, and 1024 bit");h=e},version:S,useUTF8:w,seed:b,fast1a32:function(e){var t,r=e.length-3,n=0,o=40389,i=0,s=33052;for(t=0;t<r;)i=403*s,i+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),i=403*(s=i+(n>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),i=403*(s=i+(n>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),i=403*(s=i+(n>>>16)&65535),s=(i+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;for(;t<r+3;)i=403*s,s=(i+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;return(s<<16>>>0)+o},fast1a32hex:function(e){var t,r=e.length-3,n=0,o=40389,i=0,s=33052;for(t=0;t<r;)i=403*s,i+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),i=403*(s=i+(n>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),i=403*(s=i+(n>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),i=403*(s=i+(n>>>16)&65535),s=(i+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;for(;t<r+3;)i=403*s,s=(i+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;return c[s>>>8&255]+c[255&s]+c[o>>>8&255]+c[255&o]},fast1a52:function(e){var t,r=e.length-3,n=0,o=8997,i=0,s=33826,a=0,c=40164,l=0,u=52210;for(t=0;t<r;)i=435*s,a=435*c,l=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),u=(l+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(c=65535&a),l=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),u=(l+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(c=65535&a),l=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),u=(l+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(c=65535&a),l=435*u,a+=(o^=e.charCodeAt(t++))<<8,l+=s<<8,o=65535&(n=435*o),s=65535&(i+=n>>>16),u=l+((a+=i>>>16)>>>16)&65535,c=65535&a;for(;t<r+3;)i=435*s,a=435*c,l=435*u,a+=(o^=e.charCodeAt(t++))<<8,l+=s<<8,o=65535&(n=435*o),s=65535&(i+=n>>>16),u=l+((a+=i>>>16)>>>16)&65535,c=65535&a;return 281474976710656*(15&u)+4294967296*c+65536*s+(o^u>>4)},fast1a52hex:function(e){var t,r=e.length-3,n=0,o=8997,i=0,s=33826,a=0,u=40164,d=0,p=52210;for(t=0;t<r;)i=435*s,a=435*u,d=435*p,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),p=(d+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(u=65535&a),d=435*p,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),p=(d+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(u=65535&a),d=435*p,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),p=(d+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(u=65535&a),d=435*p,a+=(o^=e.charCodeAt(t++))<<8,d+=s<<8,o=65535&(n=435*o),s=65535&(i+=n>>>16),p=d+((a+=i>>>16)>>>16)&65535,u=65535&a;for(;t<r+3;)i=435*s,a=435*u,d=435*p,a+=(o^=e.charCodeAt(t++))<<8,d+=s<<8,o=65535&(n=435*o),s=65535&(i+=n>>>16),p=d+((a+=i>>>16)>>>16)&65535,u=65535&a;return l[15&p]+c[u>>8]+c[255&u]+c[s>>8]+c[255&s]+c[o>>8^p>>12]+c[255&(o^p>>4)]},fast1a64:function(e){var t,r=e.length-3,n=0,o=8997,i=0,s=33826,a=0,l=40164,u=0,d=52210;for(t=0;t<r;)i=435*s,a=435*l,u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),d=(u+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(l=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),d=(u+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(l=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),d=(u+=s<<8)+((a+=(i+=n>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(l=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,u+=s<<8,o=65535&(n=435*o),s=65535&(i+=n>>>16),d=u+((a+=i>>>16)>>>16)&65535,l=65535&a;for(;t<r+3;)i=435*s,a=435*l,u=435*d,a+=(o^=e.charCodeAt(t++))<<8,u+=s<<8,o=65535&(n=435*o),s=65535&(i+=n>>>16),d=u+((a+=i>>>16)>>>16)&65535,l=65535&a;return c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s]+c[o>>8]+c[255&o]},fast1a32utf:function(e){var t,r,n=e.length,o=0,i=40389,s=0,a=33052;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(s=403*a,a=(s+=(i^=t>>6|192)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(s=403*a,s+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=t>>12&63|128)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):(s=403*a,s+=(i^=t>>12|224)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128),s=403*a,a=(s+=i<<8)+((o=403*i)>>>16)&65535,i=65535&o;return(a<<16>>>0)+i},fast1a32hexutf:function(e){var t,r,n=e.length,o=0,i=40389,s=0,a=33052;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(s=403*a,a=(s+=(i^=t>>6|192)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(s=403*a,s+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=t>>12&63|128)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):(s=403*a,s+=(i^=t>>12|224)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128),s=403*a,a=(s+=i<<8)+((o=403*i)>>>16)&65535,i=65535&o;return c[a>>>8&255]+c[255&a]+c[i>>>8&255]+c[255&i]},fast1a52utf:function(e){var t,r,n=e.length,o=0,i=8997,s=0,a=33826,c=0,l=40164,u=0,d=52210;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(s=435*a,c=435*l,u=435*d,c+=(i^=t>>6|192)<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(s=435*a,c=435*l,u=435*d,c+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=t>>12&63|128)<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=t>>6&63|128)<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=63&t|128):(s=435*a,c=435*l,u=435*d,c+=(i^=t>>12|224)<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=t>>6&63|128)<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=63&t|128),s=435*a,c=435*l,u=435*d,c+=i<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;return 281474976710656*(15&d)+4294967296*l+65536*a+(i^d>>4)},fast1a52hexutf:function(e){var t,r,n=e.length,o=0,i=8997,s=0,a=33826,u=0,d=40164,p=0,h=52210;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(s=435*a,u=435*d,p=435*h,u+=(i^=t>>6|192)<<8,p+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=p+((u+=s>>>16)>>>16)&65535,d=65535&u,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(s=435*a,u=435*d,p=435*h,u+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(o=435*i),h=(p+=a<<8)+((u+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),p=435*h,u+=(i^=t>>12&63|128)<<8,i=65535&(o=435*i),h=(p+=a<<8)+((u+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),p=435*h,u+=(i^=t>>6&63|128)<<8,p+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=p+((u+=s>>>16)>>>16)&65535,d=65535&u,i^=63&t|128):(s=435*a,u=435*d,p=435*h,u+=(i^=t>>12|224)<<8,i=65535&(o=435*i),h=(p+=a<<8)+((u+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),p=435*h,u+=(i^=t>>6&63|128)<<8,p+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=p+((u+=s>>>16)>>>16)&65535,d=65535&u,i^=63&t|128),s=435*a,u=435*d,p=435*h,u+=i<<8,p+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=p+((u+=s>>>16)>>>16)&65535,d=65535&u;return l[15&h]+c[d>>8]+c[255&d]+c[a>>8]+c[255&a]+c[i>>8^h>>12]+c[255&(i^h>>4)]},fast1a64utf:function(e){var t,r,n=e.length,o=0,i=8997,s=0,a=33826,l=0,u=40164,d=0,p=52210;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(s=435*a,l=435*u,d=435*p,l+=(i^=t>>6|192)<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(s=435*a,l=435*u,d=435*p,l+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=t>>12&63|128)<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=t>>6&63|128)<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=63&t|128):(s=435*a,l=435*u,d=435*p,l+=(i^=t>>12|224)<<8,i=65535&(o=435*i),p=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*p,l+=(i^=t>>6&63|128)<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=63&t|128),s=435*a,l=435*u,d=435*p,l+=i<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),p=d+((l+=s>>>16)>>>16)&65535,u=65535&l;return c[p>>8]+c[255&p]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i]}}}();void 0!==e.exports&&(e.exports=t)},7597:(e,t,r)=>{(()=>{"use strict";var e=[,(e,t,r)=>{r.r(t),r.d(t,{CallHandlers:()=>n.CallHandlers,Connection:()=>n.Connection,ConnectionBearer:()=>n.ConnectionBearer,ConnectionManager:()=>o.ConnectionManager,DeferredPromise:()=>i.DeferredPromise,ExecServer:()=>a.ExecServer,FileSystemProviderErrorCode:()=>a.FileSystemProviderErrorCode,FileType:()=>a.FileType,NetworkError:()=>s.NetworkError,RPCError:()=>n.RPCError,RemoteVersion:()=>c.RemoteVersion,ServerWebSocket:()=>l.ServerWebSocket,TimeoutError:()=>s.TimeoutError,closedDuplexStream:()=>u.closedDuplexStream,msgPackEncode:()=>n.msgPackEncode});var n=r(2),o=r(6),i=r(5),s=r(10),a=r(11),c=r(7),l=r(14),u=r(12)},(e,t,r)=>{r.r(t),r.d(t,{CallHandlers:()=>u,Connection:()=>c,ConnectionBearer:()=>d,RPCError:()=>a,msgPackEncode:()=>l});var n=r(3),o=r(4),i=r(5);let s=0;class a extends Error{constructor(e,t){super(`json rpc error ${e}: message`),this.code=e,this.message=t}}class c{constructor(e,t=o.encode,r=new u){this.tunnel=e,this.globalHandlers=r,this.callbacks=new Map,this.streams=new Map,this.notifyEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.ownHandlers=new u,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.ownHandlers.register,this.encode=t,(async()=>{try{for await(const t of(0,o.decodeMultiStream)(e)){const e=t;"result"in e||"error"in e?this.callbacks.get(e.id)?.resolve(e):"id"in e&&"number"==typeof e.id?this.handleRequest(e):this.notifyEmitter.fire(e)}}catch(t){e.end(),this.closeEmitter.fire(t)}})(),e.once("close",(()=>{this.rejectAllCalls(new a(0,"Connection closed")),this.closeEmitter.fire(void 0)})),e.once("error",(e=>{const t=new a(0,e.message);this.rejectAllCalls(t),this.closeEmitter.fire(t)})),this.onNotification("stream_data",(e=>{this.streams.get(e.stream)?.pushData(e.segment)})),this.onNotification("stream_ended",(e=>{this.streams.get(e.stream)?.markEnded(),this.streams.delete(e.stream)})),this.onNotification("streams_started",(e=>{const t=e.stream_ids,r=this.callbacks.get(e.for_request_id);if(r?.onStream)for(const e of t){const t=new p(e,this);this.streams.set(e,t),r.onStream(t)}}))}static fromDuplexStreams(e,t){const r={once:(t,r)=>{"close"===t&&e.onEnd.then(r)},write:e=>t.write(e),async*[Symbol.asyncIterator](){let t=new i.DeferredPromise,r=t;for(e.onDidReceiveMessage((e=>{const r=new i.DeferredPromise;t.complete({data:e,next:r}),t=r})),e.onEnd.then((()=>{t.complete(void 0)}));;){const e=await r.p;if(!e)return;yield e.data,r=e.next}},end:()=>t.end()};return new c(r,o.encode)}dispose(){this.tunnel.end()}async call(e,t,r,n){const o=s++;return new Promise(((i,s)=>{this.callbacks.set(o,{onStream:n,resolve:e=>{"error"in e?s(new a(e.error?.code,e.error?.message)):i(e.result)},reject:s}),r?.addEventListener("abort",(()=>s(new a(0,"Operation cancelled")))),this.write(this.encode({id:o,method:e,params:t}))})).finally((()=>this.callbacks.delete(o)))}onNotification(e,t){return this.notifyEmitter.event((r=>{r.method===e&&t(r.params)}))}notify(e,t){this.write(this.encode({method:e,params:t}))}async handleRequest(e){const t=this.ownHandlers.map.get(e.method)||this.globalHandlers.map.get(e.method);if(!t){const t={id:e.id,error:{message:`Unknown method ${e.method}. Cannot resolve request`,code:36}};return void this.write(this.encode(t))}let r;try{r={id:e.id,result:await t(e.params,e.id)}}catch(t){t instanceof a?r={id:e.id,error:{code:t.code,message:t.message}}:(console.warn("Unexpected error handling request",e,t),r={id:e.id,error:{code:-1,message:String(t)}})}this.write(this.encode(r))}write(e){this.tunnel.write(e)}rejectAllCalls(e){for(const{reject:t}of this.callbacks.values())t(e);this.callbacks.clear()}}function l(e){const t=(0,o.encode)(e),r=new Uint8Array(4+t.length);return new DataView(r.buffer).setUint32(0,t.length),r.set(t,4),r}class u{constructor(){this.map=new Map,this.register=(e,t)=>{this.map.has(e)&&console.warn("Overriding previous handler for method: ",e),this.map.set(e,t)}}}class d{constructor(e){this.callHandlers=new u,this.startEmitter=new n.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.notifyEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.callHandlers.register,this.BEARER_TYPE=e}async checkedAcquire(){if(this.streamPromise){const e=await this.streamPromise;if(await this.isStreamValid(e))return e;e.dispose()}this.streamPromise=this.acquireNow();try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async acquire(){this.streamPromise??(this.streamPromise=this.acquireNow());try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async isStreamValid(e){return!0}async close(){this.streamPromise?.then((e=>e.dispose())),this.streamPromise=void 0}async acquireNow(){const e=await this.getConnectionTunnel(),t=new c(e,(e=>this.encodeMessage(e)),this.callHandlers);return t.onClose((e=>{this.streamPromise=void 0,this.closeEmitter.fire(e)})),this.startEmitter.fire(t),t}}class p{constructor(e,t){this.id=e,this.connection=t,this.queue=[],this.dataEmitter=new n.EventEmitter,this.endDeferred=new i.DeferredPromise,this.onDidReceiveMessage=(...e)=>(this.queue&&setTimeout((()=>this.dequeue())),this.dataEmitter.event(...e))}get onData(){return this.onDidReceiveMessage}get onEnd(){return this.queue&&setTimeout((()=>this.dequeue())),this.endDeferred.p}write(e){this.connection.notify("stream_data",{stream:this.id,segment:e})}end(){this.connection.notify("stream_ended",{stream:this.id})}pushData(e){this.queue?this.queue.push(e):this.dataEmitter.fire(e)}markEnded(){this.queue?this.queue.push(null):this.endDeferred.complete()}dequeue(){if(!this.queue)return;const e=this.queue;this.queue=void 0;for(const t of e)null===t?this.endDeferred.complete():this.dataEmitter.fire(t)}}},e=>{e.exports=r(7923)},e=>{e.exports=r(9676)},(e,t,r)=>{r.r(t),r.d(t,{DeferredPromise:()=>n});class n{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(e){this.completeCallback(e),this.resolved=!0}error(e){this.errorCallback(e),this.rejected=!0}}},(e,t,r)=>{r.r(t),r.d(t,{ConnectionManager:()=>a});var n=r(3),o=r(8),i=r(5),s=r(7);class a{constructor({bearer:e}){this.socketId=0,this.connectingEmitter=new n.EventEmitter,this.onStartConnecting=this.connectingEmitter.event,this.connectedEmitter=new n.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new n.EventEmitter,this.onLog=this.logEmitter.event,this.versionPromise=new i.DeferredPromise,this.bearer=e,this.bearer.onStartConnecting((e=>{e.onNotification("version",(({version:e,protocol_version:t})=>{this.versionPromise.isSettled&&(this.versionPromise=new i.DeferredPromise),this.versionPromise.complete(new s.RemoteVersion(e,t))}))})),this.onClose=this.bearer.onClose;let t=!0;this.bearer.onStartConnecting((e=>{if(this.connectingEmitter.fire(),e.onNotification("serverlog",(e=>{this.logEmitter.fire(e)})),e.onNotification("makehttpreq",(async({url:t,method:r,req_id:n})=>{this.makeHttpCall(e,t,r,n)})),t){const r=e.onNotification("servermsg",(()=>{t&&(this.connectedEmitter.fire(),r.dispose(),t=!1)}))}}))}get version(){return this.versionPromise.p}async makeHttpCall(e,t,r,n){let i;try{i=await(0,o.fetchFn)(t,{method:r})}catch(t){return e.notify("httpheaders",{headers:[],status_code:503,req_id:n}),void e.notify("httpbody",{segment:(new TextEncoder).encode(String(t)),complete:!0,req_id:n})}e.notify("httpheaders",{headers:[...i.headers],status_code:i.status,req_id:n});const s=()=>e.notify("httpbody",{segment:new Uint8Array,complete:!0,req_id:n});if(i.body&&"function"==typeof i.body.on){const t=i.body;return t.on("data",(t=>e.notify("httpbody",{segment:t,complete:!1,req_id:n}))),t.on("end",s),t.on("error",s),void t.resume()}const a=i.body;if(a)try{const t=a.getReader();for(;;){const{done:r,value:o}=await t.read();if(e.notify("httpbody",{segment:o||new Uint8Array,complete:r,req_id:n}),r)break}}catch(e){throw s(),e}else s()}nextSocketId(){return this.socketId++}async checkForUpdates(e){return(await this.bearer.acquire()).call("update",{do_update:e?.doUpdate??!1})}async call(e,t,r,n){const o=await this.bearer.acquire();return await o.call(e,t,r,n)}}},(e,t,r)=>{r.r(t),r.d(t,{RemoteVersion:()=>n});class n{constructor(e,t=0){this.cliVersion=e,this.protocolVerson=t}shouldWarnOutdated(){return this.protocolVerson<=2}canPing(){return this.protocolVerson>=1}canCompressServerMsg(){return this.protocolVerson>=2}usesConnectionToken(){return this.protocolVerson>=3}shouldLengthPrefixMessages(){return this.protocolVerson<4}}},(e,t,r)=>{r.r(t),r.d(t,{fetchFn:()=>o});var n=r(9);const o=r.n(n)()},e=>{e.exports=r(4126)},(e,t,r)=>{r.r(t),r.d(t,{NetworkError:()=>n,TimeoutError:()=>o});class n extends Error{constructor(e,t="ECONNREFUSED"){super(e.message),this.code=t,this.syscall="connect",this.stack=e.stack}}class o extends Error{constructor(){super("Operation timed out")}}},(e,t,r)=>{r.r(t),r.d(t,{ExecServer:()=>c,FileSystemProviderErrorCode:()=>d,FileType:()=>p});var n=r(3),o=r(13),i=r(2),s=r(5),a=r(12);class c{constructor(e){this.connection=e,this.fs={stat:async e=>{const t=await this.connection.call("fs_stat",{path:e});if(!t.exists)throw new u(`File not found: ${e}`,d.FileNotFound);return{ctime:0,mtime:0,size:0,type:l(t.type)}},mkdirp:async e=>{await this.connection.call("fs_mkdirp",{path:e})},rm:async e=>{await this.connection.call("fs_rm",{path:e})},rename:async(e,t)=>{await this.connection.call("fs_rename",{from_path:e,to_path:t})},readdir:async e=>{const{contents:t}=await this.connection.call("fs_readdir",{path:e});return t.map((({name:e,type:t})=>({name:e,type:l(t)})))},read:e=>{const t=new s.DeferredPromise;return this.connection.call("fs_read",{path:e},void 0,(e=>t.complete(e))).catch((e=>t.error(e))),t.p},write:async e=>{const t=new s.DeferredPromise,r=this.connection.call("fs_write",{path:e},void 0,(e=>t.complete(e))).then((()=>{}),(e=>{if(t.complete)throw e;t.error(e)}));return{stream:await t.p,done:r}},connect:async e=>{const t=new s.DeferredPromise,r=this.connection.call("fs_connect",{path:e},void 0,(e=>t.complete(e))).then((()=>{}),(e=>{if(t.complete)throw e;t.error(e)}));return{stream:await t.p,done:r}}}}async kill(e){await this.connection.call("sys_kill",{pid:e})}async spawn(e,t,{env:r={},cwd:n}={}){const o=Array.from({length:3},(()=>new s.DeferredPromise)),i=Promise.all(o.map((e=>e.p))),c=this.connection.call("spawn",{command:e,args:t,env:r,cwd:n},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[l,u,d]=await i;return{stdin:l,stdout:u,stderr:d,onExit:c}}async spawnRemoteServerConnector(e,t,r={}){const{connection:o,logs:i,onExit:s}=await this.spawnCli(e,t,r),a=new c(o);return{logs:i,onExit:s,connect:async e=>{const t=await a.serve(e),r=new n.EventEmitter,o=new n.EventEmitter;return t.onEnd.then((()=>r.fire())),{send:e=>t.write(e),end:()=>t.end(),onDidEnd:r.event,onDidClose:o.event,onDidReceiveMessage:t.onDidReceiveMessage}}}}async spawnCli(e,t,{env:r={},cwd:n}={}){const o=Array.from({length:3},(()=>new s.DeferredPromise)),c=Promise.all(o.map((e=>e.p))),l=this.connection.call("spawn_cli",{command:e,args:t,env:r,cwd:n},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[u,d,p]=await c;return{connection:i.Connection.fromDuplexStreams(d,u),logs:p,onExit:l}}async downloadCliExecutable(e,t,r,n){return this.connection.call("acquire_cli",{command:t,args:r,platform:e.buildTarget,quality:e.quality,commit_id:e.commit,env:n?.env}).then((e=>({status:e.exit_code,message:e.message})))}async acquireCli(e){return this.connection.call("acquire_cli",{command:e.command,args:e.args,platform:e.buildTarget??e.platform,quality:e.quality,commit_id:e.commit??e.commit_id,env:e.env}).then((e=>({status:e.exit_code,message:e.message})))}async serve(e){const t=e.socketId??e.socket_id;return await this.connection.call("serve",{socket_id:t,commit_id:e.commit??e.commit_id,extensions:e.extensions,quality:e.quality,archive_path:e.archivePath??e.archive_path,compress:e.compress,connection_token:e.connectionToken??e.connection_token}),new h(t,this.connection,!!e.compress)}async env(){const e=await this.connection.call("get_env",{});return{env:e.env,osRelease:e.os_release,osPlatform:e.os_platform}}async fsStat(e){const t=await this.connection.call("fs_stat",{path:e});return t.exists?{exists:!0,size:t.size,type:t.type}:{exists:!1}}async tcpConnect(e,t){const r=new s.DeferredPromise,n=this.connection.call("net_connect",{host:e,port:t},void 0,(e=>r.complete(e))).then((()=>{}),(e=>{if(r.complete)throw e;r.error(e)}));return{stream:await r.p,done:n}}}const l=e=>{switch(e){case"file":return p.File;case"dir":return p.Directory;case"link":return p.SymbolicLink;default:return p.Unknown}};class u extends Error{constructor(e,t){super(e),this.code=t}}var d,p;!function(e){e.FileNotFound="EntryNotFound"}(d||(d={})),function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}(p||(p={}));class h{constructor(e,t,r){if(this.socketId=e,this.connection=t,this.id=0,this.disposables=[],this.onDataEmitter=new n.EventEmitter,this.onDidReceiveMessage=this.onDataEmitter.event,this.onData=this.onDidReceiveMessage,this.onCloseEmitter=new n.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onEndDeferred=new s.DeferredPromise,this.onEnd=this.onEndDeferred.p,r){const r=this.zip={deflate:(0,o.createDeflateRaw)(),inflate:(0,o.createInflateRaw)()};r.inflate.on("data",(e=>this.onDataEmitter.fire(e))),r.deflate.on("data",(r=>{t.notify("servermsg",{i:e,body:r})})),this.disposables.push({dispose:()=>{r.deflate.close(),r.inflate.close()}})}this.disposables.push(t.onNotification("serverclose",(({i:t})=>{t===e&&(this.zip?this.zip.inflate.close((()=>this.onDidClose())):this.onDidClose())})),t.onNotification("servermsg",(({i:t,body:r})=>{t===e&&(this.zip?this.zip.inflate.write(r):this.onDataEmitter.fire(r))})))}write(e){const t=this.socketId,r=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.zip?this.zip.deflate.write(r,void 0,(()=>{this.zip.deflate.flush(2)})):this.connection.notify("servermsg",{i:t,body:r})}end(){this.disposables.forEach((e=>e.dispose()))}onDidClose(){this.onCloseEmitter.fire(),this.onEndDeferred.complete()}}},(e,t,r)=>{r.r(t),r.d(t,{closedDuplexStream:()=>n});const n={id:0,onData:()=>({dispose:()=>{}}),onDidReceiveMessage:()=>({dispose:()=>{}}),onEnd:Promise.resolve(void 0),write:()=>{},end:()=>{}}},e=>{e.exports=r(9796)},(e,t,r)=>{r.r(t),r.d(t,{ServerWebSocket:()=>s});var n=r(3),o=r(10),i=r(11);class s{constructor(e,t){this.options=e,this.version=t,this.SOCKET_TYPE="Local Proxy Server Socket",this.dispose=[],this.onDataEmitter=new n.EventEmitter,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new n.EventEmitter,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new n.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new n.EventEmitter,this.onError=this.onErrorEmitter.event}send(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.stream?this.stream.write(t):console.warn(new Error("attempted to send data before socket was open").stack)}close(){this.dispose.forEach((e=>e.dispose()))}onMessage(e){this.onDataEmitter.fire(e)}upgradeToWebSocketConnection(){}async initialize(){const e=await this.options.bearer.checkedAcquire(),t=!!(await this.version).canCompressServerMsg()&&(this.options.compress??!0),r=this.stream=await new i.ExecServer(e).serve({socketId:this.options.socketId,extensions:this.options.extensions||[],quality:this.options.product.quality,commit:this.options.product.commit,archivePath:this.options.archivePath,connectionToken:this.options.connectionToken,compress:t});this.dispose.push(r.onDidReceiveMessage(this.onMessage,this)),this.dispose.push(e.onClose((e=>{e&&this.onErrorEmitter.fire(new o.NetworkError(e)),this.onCloseEmitter.fire()}))),this.upgradeToWebSocketConnection()}}},(e,t,r)=>{r.r(t),r.d(t,{ProxyConnection:()=>v,State:()=>g});var n=r(3),o=r(4),i=r(16),s=r(17),a=r(18),c=r(19),l=r(20),u=r(21),d=r(2),p=r(5),h=r(22),f=r(23);const m=!process.env.VSCODE_TUNNELS_DISABLE_PROCESS_REUSE;var g;!function(e){e[e.Idle=0]="Idle",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Closed=3]="Closed"}(g||(g={}));class v{constructor(e,t){this.args=e,this.logger=t,this.extraHandlers=new d.CallHandlers,this.registerRequestHandler=this.extraHandlers.register.bind(this.extraHandlers),this.bearerPromise=new p.DeferredPromise,this.bearer=this.bearerPromise.p,this.localPortPromise=new p.DeferredPromise,this.localPort=this.localPortPromise.p,this.startEmitter=new n.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.closeEmitter=new n.EventEmitter,this.onClose=this.closeEmitter.event,this.connectedEmitter=new n.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new n.EventEmitter,this.onLog=this.logEmitter.event,this._state=g.Idle,this.initialize(),this.bearer.catch((e=>{this.closeEmitter.fire(e)}))}get state(){return this._state}static async create(e){const t=v.getPathForRunningProxyInTmpDir(e.nonce),r={args:e.args,productInfo:e.productInfo,runningProxyInfoFile:t},n=await v.getValidProxySocket(t);if(n){e.logger.log(3,`Found running server in ${n}`);try{const t=new y({...r,proxySocketPath:n},e.logger);return e.setup?.(t),await(0,h.timeoutPromise)(5e3,t.callOnProxy("greet",{})),t}catch(t){e.logger.log(3,`Error greeting the server, starting a new instance (${t})`)}}e.logger.log(3,"Creating new tunnel proxy server");const o=function(e,t){const r=(0,s.createHash)("sha256").update(e).update("\0").update(t).digest("hex").slice(0,16);return"win32"===process.platform?`\\\\.\\pipe\\vscode-tunneling-${r}-sock`:process.env.XDG_RUNTIME_DIR?u.join(process.env.XDG_RUNTIME_DIR,`vscode-tunneling-${r}.sock`):u.join(l.tmpdir(),`vscode-tunneling-${r}.sock`)}(e.nonce,(0,s.randomBytes)(20).toString("hex")),i=new _({...r,proxySocketPath:o},e.logger,e.serverPath);return e.setup?.(i),i}static async getValidProxySocket(e){try{const t=JSON.parse(await a.promises.readFile(e,"utf-8"));if(t.at>Date.now()-f.proxyFileTimeout)return await a.promises.stat(t.socket),t.socket}catch{}}static getPathForRunningProxyInTmpDir(e){const t=`vscode-server-proxy-${(0,s.createHash)("sha256").update(e).digest("hex").slice(0,16)}-daemon`;return u.join(l.tmpdir(),t)}async callOnProxy(e,t){return(await this.bearer).call(e,t)}async call(e,t,r,n){return(await this.bearer).call("calltunnel",{method:e,params:t,stream:!!n},r,n)}async initialize(){this.connectToProxyServer();const e=await this.bearer;e.onNotification("serverlog",(e=>{this.logger.log(e.level,`[server] ${e.line}`),this.logEmitter.fire(e)})),e.onNotification("proxylog",(e=>this.logger.log(e.level,`[proxy] ${e.message}`,...e.args))),e.onNotification("statechange",(e=>{switch(e.state){case"connecting":this._state=g.Connecting,this.startEmitter.fire();break;case"connected":this._state=g.Connected,this.connectedEmitter.fire();break;case"closed":let t;this._state=g.Closed,e.reason&&(t=new Error(e.reason.message),t.stack=e.reason.stack||t.stack),this.closeEmitter.fire(t)}})),e.onClose((e=>{this.closeEmitter.fire(e)}))}connectToProxyServer(){let e,t=!1;const r=()=>{t=!1,e?.destroy(),e=void 0},n=()=>{t||(r(),e=c.connect(this.args.proxySocketPath),e.on("connect",(async()=>{t=!0,this.bearerPromise.complete(new d.Connection(e,o.encode,this.extraHandlers)),this.getPortOfTunnelProxyServer()})),e.on("error",(e=>{r()})))};let i;const s=()=>{n(),i&&clearTimeout(i),i=setTimeout((async()=>{t||s()}),500)};s()}async getPortOfTunnelProxyServer(){const e=await this.bearer,t=(await e.call("getlocalport",{})).value;this.localPortPromise.complete(t)}async dispose(){(await this.bearer).dispose()}}v.State=g;class _ extends v{constructor(e,t,r){const n=i.spawn(process.execPath,[r],{detached:m,stdio:m?"ignore":"pipe",env:{...process.env,VSCODE_TUNNEL_ARGS:JSON.stringify(e)}});n.stdout?.on("data",(e=>console.log("Proxy process stdout:",e.toString().trim()))),n.stderr?.on("data",(e=>console.log("Proxy process stderr:",e.toString().trim()))),m&&n.unref(),super(e,t)}}class y extends v{}},e=>{e.exports=r(2081)},e=>{e.exports=r(6113)},e=>{e.exports=r(7147)},e=>{e.exports=r(1808)},e=>{e.exports=r(2037)},e=>{e.exports=r(1017)},(e,t,r)=>{r.r(t),r.d(t,{timeoutPromise:()=>n});const n=(e,t)=>new Promise(((r,n)=>{const o=setTimeout((()=>{n(new Error("Operation timed out"))}),e);t.finally((()=>clearTimeout(o))).then(r,n)}))},(e,t,r)=>{r.r(t),r.d(t,{proxyFileTimeout:()=>n});const n=6e3},(e,t,r)=>{r.r(t),r.d(t,{ProxyServer:()=>u});var n=r(4),o=r(18),i=r(19),s=r(5),a=r(2),c=r(14),l=r(25);class u{constructor(e){this._options=e,this.serverConnections=new Set,this.disposables=[],this.setupPromise=new s.DeferredPromise,this.setup=this.setupPromise.p,this.didSetup=!1,this.connectionCount=0,this.connectionIdCounter=0,this.args=e.args,this.proxyServer=i.createServer((async e=>{await this.onProxyConnection(e)})),this.disposables.push({dispose:()=>this.proxyServer.close()}),this.controlServer=i.createServer((async e=>{await this.onServerConnection(e)})),this.disposables.push({dispose:()=>this.controlServer.close()}),this.initialize().catch((e=>{this.log(5,`Failed to initialize proxy server: ${e}}`),console.error(e),process.exit(1)})),this.startSavingRunningInfo(),this.delayShutdown(9e4)}incrementConnectionCount(){this.connectionCount+=1,this.shutdownTimer&&(clearTimeout(this.shutdownTimer),this.shutdownTimer=void 0)}decrementConnectionCount(){this.connectionCount-=1,0===this.connectionCount&&this.delayShutdown(3e4)}static readArgsFromEnvironment(){return JSON.parse(process.env.VSCODE_TUNNEL_ARGS)}getWebSocket(e,t){return new c.ServerWebSocket(t,e.version)}onDidSetUpServerConnection(e){}async initialize(){await Promise.all([new Promise(((e,t)=>{this.proxyServer.listen(0,"127.0.0.1",(()=>e())),this.proxyServer.on("error",t)})),new Promise(((e,t)=>{this.controlServer.listen(this._options.proxySocketPath,e),this.controlServer.on("error",t)}))])}delayShutdown(e=3e4){this.shutdownTimer&&clearTimeout(this.shutdownTimer),this.shutdownTimer=setTimeout((()=>{this.dispose(),this.log(2,"Timed out, shutting down"),process.exit(0)}),e)}async onServerConnection(e){this.log(2,"Server connection from:  ",e.localAddress," ",e.localPort),this.incrementConnectionCount();const t=new a.Connection(e,n.encode);this.didSetup||this.acquireTunnel(t),this.serverConnections.add(t),t.onClose((e=>{this.log(2,`Server connection closed (err: ${e})`),this.serverConnections.delete(t),this.decrementConnectionCount()})),t.registerRequestHandler("greet",(()=>(this.log(2,"Server greeted"),Promise.resolve({})))),t.registerRequestHandler("getlocalport",(async()=>({value:this.proxyServer.address().port}))),t.onNotification("stream_data",(e=>t.notify("stream_data",e))),t.onNotification("stream_ended",(e=>t.notify("stream_ended",e))),t.registerRequestHandler("calltunnel",(async({method:e,params:r,stream:n},o)=>(await this.setup).call(e,r,void 0,n?e=>{t.notify("streams_started",{for_request_id:o,stream_ids:[e.id]}),e.onDidReceiveMessage((r=>t.notify("stream_data",{segment:r,stream:e.id}))),e.onEnd.then((()=>t.notify("stream_ended",{stream:e.id})))}:void 0))),this.onDidSetUpServerConnection(t),this.lastState&&t.notify("statechange",this.lastState)}async onProxyConnection(e){const t=`[connection.${this.connectionIdCounter++}]`;this.log(2,`${t} connection from:  ${e.localAddress} ${e.localPort}`),this.incrementConnectionCount();const r=(0,l.writeBuffer)();let n;e.on("data",(e=>r.write(e))),e.on("close",(()=>{n?.close(),this.decrementConnectionCount()}));try{const e=await this.setup,t=this.getWebSocket(e,{bearer:e.bearer,product:this._options.productInfo,socketId:e.nextSocketId(),compress:!0});await t.initialize(),n=t}catch(e){return this.log(5,`${t} error setting up websocket: ${e}`),void this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}r.connect((e=>n.send(e))),this.disposables.push(n.onData((t=>e.write(new Uint8Array(t)))),n.onError((e=>{this.log(5,`${t} tunnel connection error: ${e}`)})),n.onClose((()=>{this.log(5,`${t} tunnel connection ended`),e.end()}))),this.log(3,`${t} tunnel connection established`)}async acquireTunnel(e){let t;try{t=await this.createConnectionManager(e)}catch(e){return this.log(5,e.message),this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}this.setupPromise.complete(t),t.onLog((e=>{this.serverConnections.forEach((t=>{t.notify("serverlog",e)}))})),t.onStartConnecting((()=>{this.log(2,"Tunnel started connecting"),this.setState({state:"connecting"})})),t.onConnected((()=>{this.log(3,"Tunnel connection successful"),this.setState({state:"connected"})})),t.onClose((e=>{this.log(5,`Tunnel connection closed with: ${e?.message}`),this.setState({state:"closed",reason:{message:e?.message||"Remote server disconnected"}})}))}setState(e){if(e.state!==this.lastState?.state){this.lastState=e;for(const t of this.serverConnections)t.notify("statechange",e);"closed"===e.state&&process.exit(1)}}startSavingRunningInfo(){this.log(2,`Saving socket path "${this._options.proxySocketPath}" to daemon in: ${this._options.runningProxyInfoFile}`);const e=()=>JSON.stringify({at:Date.now(),socket:this._options.proxySocketPath,pid:process.pid});o.writeFileSync(this._options.runningProxyInfoFile,e());const t=setInterval((()=>o.writeFile(this._options.runningProxyInfoFile,e(),(()=>{}))),3e3);this.disposables.push({dispose:()=>{clearInterval(t);try{o.rmSync(this._options.runningProxyInfoFile)}catch{}}})}log(e,t,...r){for(const n of this.serverConnections)n.notify("proxylog",{level:e,message:t,args:r})}dispose(){this.serverConnections.forEach((e=>{e.notify("statechange",{state:"closed",reason:new Error("Disposing proxy server.")}),e.dispose()})),this.disposables.forEach((e=>e.dispose()))}}},(e,t,r)=>{r.r(t),r.d(t,{writeBuffer:()=>n});const n=()=>{let e=[];return{write:t=>{e.push(t)},connect(t){for(const r of e)t(r);this.write=t,e=void 0}}}}],n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{o.r(i),o.d(i,{CallHandlers:()=>e.CallHandlers,Connection:()=>e.Connection,ConnectionBearer:()=>e.ConnectionBearer,ConnectionManager:()=>e.ConnectionManager,DeferredPromise:()=>e.DeferredPromise,ExecServer:()=>e.ExecServer,FileSystemProviderErrorCode:()=>e.FileSystemProviderErrorCode,FileType:()=>e.FileType,NetworkError:()=>e.NetworkError,ProxyConnection:()=>t.ProxyConnection,ProxyServer:()=>r.ProxyServer,RPCError:()=>e.RPCError,RemoteVersion:()=>e.RemoteVersion,ServerWebSocket:()=>e.ServerWebSocket,State:()=>t.State,TimeoutError:()=>e.TimeoutError,closedDuplexStream:()=>e.closedDuplexStream,msgPackEncode:()=>e.msgPackEncode});var e=o(1),t=o(15),r=o(24)})();var s=t;for(var a in i)s[a]=i[a];i.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})()},9598:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{createNewMessage:()=>y,default:()=>k,initSync:()=>R,sign:()=>S,signer:()=>T,validate:()=>w,validator:()=>I}),e=r.hmd(e);const o=new Array(128).fill(void 0);function i(e){return o[e]}o.push(void 0,null,!0,!1);let s=o.length;function a(e){const t=i(e);return function(e){e<132||(o[e]=s,s=e)}(e),t}const c="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&c.decode();let l=null;function u(){return null!==l&&0!==l.byteLength||(l=new Uint8Array(n.memory.buffer)),l}function d(e,t){return e>>>=0,c.decode(u().subarray(e,e+t))}function p(e){s===o.length&&o.push(o.length+1);const t=s;return s=o[t],o[t]=e,t}let h=0;const f="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},m="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){const r=f.encode(e);return t.set(r),{read:e.length,written:r.length}};function g(e,t,r){if(void 0===r){const r=f.encode(e),n=t(r.length,1)>>>0;return u().subarray(n,n+r.length).set(r),h=r.length,n}let n=e.length,o=t(n,1)>>>0;const i=u();let s=0;for(;s<n;s++){const t=e.charCodeAt(s);if(t>127)break;i[o+s]=t}if(s!==n){0!==s&&(e=e.slice(s)),o=r(o,n,n=s+3*e.length,1)>>>0;const t=u().subarray(o+s,o+n);s+=m(e,t).written}return h=s,o}let v=null;function _(){return null!==v&&0!==v.byteLength||(v=new Int32Array(n.memory.buffer)),v}function y(e){let t,r;try{const s=n.__wbindgen_add_to_stack_pointer(-16),a=g(e,n.__wbindgen_malloc,n.__wbindgen_realloc),c=h;n.createNewMessage(s,a,c);var o=_()[s/4+0],i=_()[s/4+1];return t=o,r=i,d(o,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1)}}function S(e){let t,r;try{const s=n.__wbindgen_add_to_stack_pointer(-16),a=g(e,n.__wbindgen_malloc,n.__wbindgen_realloc),c=h;n.sign(s,a,c);var o=_()[s/4+0],i=_()[s/4+1];return t=o,r=i,d(o,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1)}}function w(e,t){const r=g(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=h,i=g(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=h;return 0!==n.validate(r,o,i,s)}function b(e,t){try{return e.apply(this,t)}catch(e){n.__wbindgen_exn_store(p(e))}}const E=new FinalizationRegistry((e=>n.__wbg_signer_free(e>>>0)));class T{static __wrap(e){e>>>=0;const t=Object.create(T.prototype);return t.__wbg_ptr=e,E.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_signer_free(e)}constructor(){const e=n.signer_new();return T.__wrap(e)}sign(e){let t,r;try{const s=n.__wbindgen_add_to_stack_pointer(-16),a=g(e,n.__wbindgen_malloc,n.__wbindgen_realloc),c=h;n.signer_sign(s,this.__wbg_ptr,a,c);var o=_()[s/4+0],i=_()[s/4+1];return t=o,r=i,d(o,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1)}}}const C=new FinalizationRegistry((e=>n.__wbg_validator_free(e>>>0)));class I{static __wrap(e){e>>>=0;const t=Object.create(I.prototype);return t.__wbg_ptr=e,C.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,C.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_validator_free(e)}constructor(){const e=n.validator_new();return I.__wrap(e)}createNewMessage(e){let t,r;try{const s=n.__wbindgen_add_to_stack_pointer(-16),a=g(e,n.__wbindgen_malloc,n.__wbindgen_realloc),c=h;n.validator_createNewMessage(s,this.__wbg_ptr,a,c);var o=_()[s/4+0],i=_()[s/4+1];return t=o,r=i,d(o,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1)}}validate(e){let t,r;try{const s=n.__wbindgen_add_to_stack_pointer(-16),a=g(e,n.__wbindgen_malloc,n.__wbindgen_realloc),c=h;n.validator_validate(s,this.__wbg_ptr,a,c);var o=_()[s/4+0],i=_()[s/4+1];return t=o,r=i,d(o,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1)}}}function A(){const t={wbg:{}};return t.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return b((function(e,t){i(e).getRandomValues(i(t))}),arguments)},t.wbg.__wbindgen_object_drop_ref=function(e){a(e)},t.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return b((function(e,t){i(e).randomFillSync(a(t))}),arguments)},t.wbg.__wbg_crypto_c48a774b022d20ac=function(e){return p(i(e).crypto)},t.wbg.__wbindgen_is_object=function(e){const t=i(e);return"object"==typeof t&&null!==t},t.wbg.__wbg_process_298734cf255a885d=function(e){return p(i(e).process)},t.wbg.__wbg_versions_e2e78e134e3e5d01=function(e){return p(i(e).versions)},t.wbg.__wbg_node_1cd7a5d853dbea79=function(e){return p(i(e).node)},t.wbg.__wbindgen_is_string=function(e){return"string"==typeof i(e)},t.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(e){return p(i(e).msCrypto)},t.wbg.__wbg_require_8f08ceecec0f4fee=function(){return b((function(){return p(e.require)}),arguments)},t.wbg.__wbindgen_is_function=function(e){return"function"==typeof i(e)},t.wbg.__wbindgen_string_new=function(e,t){return p(d(e,t))},t.wbg.__wbg_newnoargs_581967eacc0e2604=function(e,t){return p(new Function(d(e,t)))},t.wbg.__wbg_call_cb65541d95d71282=function(){return b((function(e,t){return p(i(e).call(i(t)))}),arguments)},t.wbg.__wbindgen_object_clone_ref=function(e){return p(i(e))},t.wbg.__wbg_self_1ff1d729e9aae938=function(){return b((function(){return p(self.self)}),arguments)},t.wbg.__wbg_window_5f4faef6c12b79ec=function(){return b((function(){return p(window.window)}),arguments)},t.wbg.__wbg_globalThis_1d39714405582d3c=function(){return b((function(){return p(globalThis.globalThis)}),arguments)},t.wbg.__wbg_global_651f05c6a0944d1c=function(){return b((function(){return p(global.global)}),arguments)},t.wbg.__wbindgen_is_undefined=function(e){return void 0===i(e)},t.wbg.__wbg_call_01734de55d61e11d=function(){return b((function(e,t,r){return p(i(e).call(i(t),i(r)))}),arguments)},t.wbg.__wbg_buffer_085ec1f694018c4f=function(e){return p(i(e).buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(e,t,r){return p(new Uint8Array(i(e),t>>>0,r>>>0))},t.wbg.__wbg_new_8125e318e6245eed=function(e){return p(new Uint8Array(i(e)))},t.wbg.__wbg_set_5cf90238115182c3=function(e,t,r){i(e).set(i(t),r>>>0)},t.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(e){return p(new Uint8Array(e>>>0))},t.wbg.__wbg_subarray_13db269f57aa838d=function(e,t,r){return p(i(e).subarray(t>>>0,r>>>0))},t.wbg.__wbindgen_throw=function(e,t){throw new Error(d(e,t))},t.wbg.__wbindgen_memory=function(){return p(n.memory)},t}function O(e,t){return n=e.exports,P.__wbindgen_wasm_module=t,v=null,l=null,n}function R(e){if(void 0!==n)return n;const t=A();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),O(new WebAssembly.Instance(e,t),e)}async function P(e){if(void 0!==n)return n;void 0===e&&(e=new URL(Object(function(){var e=new Error("Cannot find module 'vsda_bg.wasm'");throw e.code="MODULE_NOT_FOUND",e}()),r.b));const t=A();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}(await e,t);return O(o,i)}const k=P},9877:(e,t,r)=>{var n,o=Object.create,i=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&f(e,r,t[r]);if(u)for(var r of u(t))h.call(t,r)&&f(e,r,t[r]);return e},g=(e,t)=>s(e,c(t)),v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of l(t))!p.call(e,o)&&o!==r&&i(e,o,{get:()=>t[o],enumerable:!(n=a(t,o))||n.enumerable});return e},y=(e,t,r)=>(r=null!=e?o(d(e)):{},_(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),S=v(((e,t)=>{"use strict";var r=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=r})),w=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var n=vn(),o=r(2361),i=function(){function e(){}return e.prototype.active=function(){var e=this,r=n.CorrelationContextManager.getCurrentContext();return t(t({},r),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&r:(e._activeSymbol=t,r)},setValue:function(){}})},e.prototype.with=function(t,r){var o=t.parentSpanId,i=t.name,s=e._spanToContext(t,o,i);return n.CorrelationContextManager.runWithContext(s,r)()},e.prototype.bind=function(e){return"function"==typeof e?n.CorrelationContextManager.wrapCallback(e):(e instanceof o.EventEmitter&&n.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return n.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return n.CorrelationContextManager.disable(),this},e._spanToContext=function(e,r,o){var i=r?"|"+e.spanContext().traceId+"."+r+".":e.spanContext().traceId,s=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return n.CorrelationContextManager.spanToContextObject(s,i,o)},e}();e.OpenTelemetryScopeManagerWrapper=i,e.AsyncScopeManager=new i})),b=v(((e,t)=>{var r;e=t.exports=W,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var l=s++;i[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;i[u]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var d=s++;i[d]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var p=s++;i[p]="(?:"+i[a]+"|"+i[l]+")";var h=s++;i[h]="(?:"+i[c]+"|"+i[l]+")";var f=s++;i[f]="(?:-("+i[p]+"(?:\\."+i[p]+")*))";var m=s++;i[m]="(?:-?("+i[h]+"(?:\\."+i[h]+")*))";var g=s++;i[g]="[0-9A-Za-z-]+";var v=s++;i[v]="(?:\\+("+i[g]+"(?:\\."+i[g]+")*))";var _=s++,y="v?"+i[u]+i[f]+"?"+i[v]+"?";i[_]="^"+y+"$";var S="[v=\\s]*"+i[d]+i[m]+"?"+i[v]+"?",w=s++;i[w]="^"+S+"$";var b=s++;i[b]="((?:<|>)?=?)";var E=s++;i[E]=i[c]+"|x|X|\\*";var T=s++;i[T]=i[a]+"|x|X|\\*";var C=s++;i[C]="[v=\\s]*("+i[T]+")(?:\\.("+i[T]+")(?:\\.("+i[T]+")(?:"+i[f]+")?"+i[v]+"?)?)?";var I=s++;i[I]="[v=\\s]*("+i[E]+")(?:\\.("+i[E]+")(?:\\.("+i[E]+")(?:"+i[m]+")?"+i[v]+"?)?)?";var A=s++;i[A]="^"+i[b]+"\\s*"+i[C]+"$";var O=s++;i[O]="^"+i[b]+"\\s*"+i[I]+"$";var R=s++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=s++;i[P]="(?:~>?)";var k=s++;i[k]="(\\s*)"+i[P]+"\\s+",o[k]=new RegExp(i[k],"g");var x=s++;i[x]="^"+i[P]+i[C]+"$";var D=s++;i[D]="^"+i[P]+i[I]+"$";var N=s++;i[N]="(?:\\^)";var L=s++;i[L]="(\\s*)"+i[N]+"\\s+",o[L]=new RegExp(i[L],"g");var $=s++;i[$]="^"+i[N]+i[C]+"$";var M=s++;i[M]="^"+i[N]+i[I]+"$";var F=s++;i[F]="^"+i[b]+"\\s*("+S+")$|^$";var j=s++;i[j]="^"+i[b]+"\\s*("+y+")$|^$";var H=s++;i[H]="(\\s*)"+i[b]+"\\s*("+S+"|"+i[C]+")",o[H]=new RegExp(i[H],"g");var U=s++;i[U]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var B=s++;i[B]="^\\s*("+i[I]+")\\s+-\\s+("+i[I]+")\\s*$";var q,V=s++;for(i[V]="(<|>)?=?\\s*\\*",q=0;q<35;q++)r(q,i[q]),o[q]||(o[q]=new RegExp(i[q]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[w]:o[_]).test(e))return null;try{return new W(e,t)}catch{return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[w]:o[_]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var r=G(e,t);return r?r.version:null},e.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return K(n,o)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new W(e,r).inc(t,n).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function X(e,t,r){return new W(e,r).compare(new W(t,r))}function Y(e,t,r){return X(e,t,r)>0}function Q(e,t,r){return X(e,t,r)<0}function J(e,t,r){return 0===X(e,t,r)}function Z(e,t,r){return 0!==X(e,t,r)}function ee(e,t,r){return X(e,t,r)>=0}function te(e,t,r){return X(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Y(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=X,e.compareLoose=function(e,t){return X(e,t,!0)},e.rcompare=function(e,t,r){return X(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=Y,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var oe={};function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,l,u,d,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(l)?"<"+(+c+1)+".0.0":se(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ie(t,r)}catch{return!1}return t.test(e)}function ue(e,t,r,n){var o,i,s,a,c;switch(e=new W(e,n),t=new ie(t,n),r){case">":o=Y,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,p=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),d=d||e,p=p||e,o(e.semver,d.semver,n)?d=e:s(e.semver,p.semver,n)&&(p=e)})),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[F]:o[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},e.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[B]:o[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[H],"$1$2$3"),r("comparator trim",e,o[H]),e=(e=(e=e.replace(o[k],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[F]:o[j],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[$];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[D]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[O]:o[A];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),l=c||se(i),u=l||se(s);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[V],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch{return null}return e.forEach((function(e){i.test(e)&&(!n||-1===o.compare(e))&&(o=new W(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch{return null}return e.forEach((function(e){i.test(e)&&(!n||1===o.compare(e))&&(o=new W(n=e,r))})),n},e.minVersion=function(e,t){e=new ie(e,t);var r=new W("0.0.0");if(e.test(r)||(r=new W("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Y(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,r){return ue(e,t,"<",r)},e.gtr=function(e,t,r){return ue(e,t,">",r)},e.outside=ue,e.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),E=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=r(1017),n=b(),o=r(8188),i=Object.keys(process.binding("natives")),s=o.prototype.require;e.makePatchingRequire=function(e){var r={};return function(a){var c=s.apply(this,arguments);if(e[a]){var l=o._resolveFilename(a,this);if(r.hasOwnProperty(l))return r[l];var u=void 0;if(i.indexOf(a)<0)try{u=s.call(this,t.join(a,"package.json")).version}catch{return c}else u=process.version.substring(1);var d=u.indexOf("-");d>=0&&(u=u.substring(0,d));for(var p=c,h=0,f=e[a];h<f.length;h++){var m=f[h];n.satisfies(u,m.versionSpecifier)&&(p=m.patch(p,l))}return r[l]=p}return c}}})),T=v(((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),C=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=E(),n=E();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return n.makePatchingRequire}});var o=function(e){return!0},i=function(){function e(){this.version=T().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch{}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=o);var n=this.subscribers[e];if(n)for(var i=0;i<n.length;++i)if(n[i].listener===t&&n[i].filter===r)return n.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new i,r(8188).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),I=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),A=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==typeof globalThis?globalThis:global})),O=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(A(),e)})),R=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(O(),e)})),P=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),k=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=P(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(e){var t=new Set([e]),n=new Set,o=e.match(r);if(!o)return function(){return!1};var i=+o[1],s=+o[2],a=+o[3];if(null!=o[4])return function(t){return t===e};function c(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var o=e.match(r);if(!o)return c(e);var u=+o[1],d=+o[2],p=+o[3];return null!=o[4]||i!==u?c(e):0===i?s===d&&a<=p?l(e):c(e):s<=d?l(e):c(e)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)})),x=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=R(),r=P(),n=k(),o=r.VERSION.split(".")[0],i=Symbol.for("opentelemetry.js.api."+o),s=t._globalThis;e.registerGlobal=function(e,t,n,o){var a;void 0===o&&(o=!1);var c=s[i]=null!==(a=s[i])&&void 0!==a?a:{version:r.VERSION};if(!o&&c[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}return c.version!==r.VERSION?(l=new Error("@opentelemetry/api: All API registration versions must match"),n.error(l.stack||l.message),!1):(c[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+r.VERSION+"."),!0)},e.getGlobal=function(e){var t,r,o=null===(t=s[i])||void 0===t?void 0:t.version;if(o&&n.isCompatible(o))return null===(r=s[i])||void 0===r?void 0:r[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+r.VERSION+".");var n=s[i];n&&delete n[e]}})),D=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=x(),r=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("verbose",this._namespace,e)},e}();function n(e,r,n){var o=t.getGlobal("diag");if(o)return n.unshift(r),o[e].apply(o,n)}e.DiagComponentLogger=r})),N=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),L=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=N();e.createLogLevelDiagLogger=function(e,r){function n(t,n){var o=r[t];return"function"==typeof o&&e>=n?o.bind(r):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),r=r||{},{error:n("error",t.DiagLogLevel.ERROR),warn:n("warn",t.DiagLogLevel.WARN),info:n("info",t.DiagLogLevel.INFO),debug:n("debug",t.DiagLogLevel.DEBUG),verbose:n("verbose",t.DiagLogLevel.VERBOSE)}}})),$=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=D(),r=L(),n=N(),o=x(),i=function(){function e(){function e(e){return function(){var t=o.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var i=this;i.setLogger=function(e,t){var s,a;if(void 0===t&&(t=n.DiagLogLevel.INFO),e===i){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return i.error(null!==(s=c.stack)&&void 0!==s?s:c.message),!1}var l=o.getGlobal("diag"),u=r.createLogLevelDiagLogger(t,e);if(l){var d=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),u.warn("Current logger will overwrite one already registered from "+d)}return o.registerGlobal("diag",u,i,!0)},i.disable=function(){o.unregisterGlobal("diag",i)},i.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},i.verbose=e("verbose"),i.debug=e("debug"),i.info=e("info"),i.warn=e("warn"),i.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=i})),M=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),o=0,i=t;o<i.length;o++){var s=i[o];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),F=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),j=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=$(),r=M(),n=F(),o=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new r.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return e}}}})),H=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),U=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),B=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(var r=0;r<t.length;r++)this[t[r].n]=e(t[r].c)}})),q=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(B(),e),r(N(),e)})),V=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,r){null!=e&&(e[t]=r)}}})),G=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),W=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),z=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}})),K=v((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var r=z(),n=function(){function e(){}return e.prototype.active=function(){return r.ROOT_CONTEXT},e.prototype.with=function(e,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,t([n],o))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=n})),X=v((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var r=K(),n=x(),o=$(),i="context",s=new r.NoopContextManager,a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return n.registerGlobal(i,e,o.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,t([e,r,n],i))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return n.getGlobal(i)||s},e.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(i,o.DiagAPI.instance())},e}();e.ContextAPI=a})),Y=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),Q=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=Y();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),J=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=Q(),r=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=r})),Z=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=z(),r=J(),n=t.createContextKey("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(n)||void 0}function i(e,t){return e.setValue(n,t)}e.getSpan=o,e.setSpan=i,e.deleteSpan=function(e){return e.deleteValue(n)},e.setSpanContext=function(e,t){return i(e,new r.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}})),ee=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=Q(),r=J(),n=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function i(e){return n.test(e)&&e!==t.INVALID_TRACEID}function s(e){return o.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=i,e.isValidSpanId=s,e.isSpanContextValid=function(e){return i(e.traceId)&&s(e.spanId)},e.wrapSpanContext=function(e){return new r.NonRecordingSpan(e)}})),te=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=X(),r=Z(),n=J(),o=ee(),i=t.ContextAPI.getInstance(),s=function(){function e(){}return e.prototype.startSpan=function(e,t,i){if(Boolean(null==t?void 0:t.root))return new n.NonRecordingSpan;var s=i&&r.getSpanContext(i);return function(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&o.isSpanContextValid(s)?new n.NonRecordingSpan(s):new n.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,n,o){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=n):(s=t,a=n,c=o);var l=a??i.active(),u=this.startSpan(e,s,l),d=r.setSpan(l,u);return i.with(d,c,void 0,u)}},e}();e.NoopTracer=s})),re=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(te().NoopTracer),r=function(){function e(e,t,r){this._provider=e,this.name=t,this.version=r}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=r})),ne=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=te(),r=function(){function e(){}return e.prototype.getTracer=function(e,r){return new t.NoopTracer},e}();e.NoopTracerProvider=r})),oe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=re(),r=new(ne().NoopTracerProvider),n=function(){function e(){}return e.prototype.getTracer=function(e,r){var n;return null!==(n=this.getDelegateTracer(e,r))&&void 0!==n?n:new t.ProxyTracer(this,e,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:r},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t)},e}();e.ProxyTracerProvider=n})),ie=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),se=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),ae=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ce=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),le=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ue=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),de=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),pe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),he=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),fe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),me=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ge=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=x(),r=oe(),n=ee(),o=Z(),i=$(),s="trace",a=function(){function e(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var r=t.registerGlobal(s,this._proxyTracerProvider,i.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},e.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(s,i.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},e}();e.TraceAPI=a})),ve=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),_e=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=z().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,r){return e.setValue(t,r)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),ye=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=x(),r=ve(),n=V(),o=_e(),i=j(),s=$(),a="propagation",c=new r.NoopTextMapPropagator,l=function(){function e(){this.createBaggage=i.createBaggage,this.getBaggage=o.getBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(a,e,s.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=n.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=n.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},e}();e.PropagationAPI=l})),Se=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(I(),e);var n=j();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(H(),e),r(U(),e),r(q(),e),r(V(),e),r(G(),e),r(W(),e),r(re(),e),r(oe(),e),r(ie(),e),r(se(),e),r(ae(),e),r(ce(),e),r(le(),e),r(ue(),e),r(de(),e),r(Y(),e),r(pe(),e),r(he(),e),r(fe(),e);var o=ee();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return o.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return o.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return o.isValidSpanId}});var i=Q();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return i.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return i.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return i.INVALID_SPAN_CONTEXT}}),r(z(),e),r(me(),e);var s=X();e.context=s.ContextAPI.getInstance();var a=ge();e.trace=a.TraceAPI.getInstance();var c=ye();e.propagation=c.PropagationAPI.getInstance();var l=$();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),we=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=Se().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),be=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),Ee=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=Se(),r=be();e.serializeKeyPairs=e=>e.reduce(((e,t)=>{let n=`${e}${""!==e?r.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>r.BAGGAGE_MAX_TOTAL_LENGTH?e:n}),""),e.getKeyPairs=e=>e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=>{let n=e.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(n.length<=0)return;let o=n.shift();if(!o)return;let i=o.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==i.length)return;let s,a=decodeURIComponent(i[0].trim()),c=decodeURIComponent(i[1].trim());return n.length>0&&(s=t.baggageEntryMetadataFromString(n.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:c,metadata:s}},e.parseKeyPairsIntoRecord=t=>"string"!=typeof t||0===t.length?{}:t.split(r.BAGGAGE_ITEMS_SEPARATOR).map((t=>e.parsePairKeyValue(t))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})})),Te=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=Se(),r=we(),n=be(),o=Ee();e.HttpBaggagePropagator=class{inject(e,i,s){let a=t.propagation.getBaggage(e);if(!a||r.isTracingSuppressed(e))return;let c=o.getKeyPairs(a).filter((e=>e.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=o.serializeKeyPairs(c);l.length>0&&s.set(i,n.BAGGAGE_HEADER,l)}extract(e,r,i){let s=i.get(r,n.BAGGAGE_HEADER);if(!s)return e;let a={};return 0===s.length||(s.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{let t=o.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),a[t.key]=e}})),0===Object.entries(a).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(a))}fields(){return[n.BAGGAGE_HEADER]}}})),Ce=v((e=>{"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(r(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):r(e))}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let r={};if(null==e||"object"!=typeof e)return r;for(let[n,o]of Object.entries(e))t(o)&&(Array.isArray(o)?r[n]=o.slice():r[n]=o);return r},e.isAttributeValue=t})),Ie=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=Se();e.loggingErrorHandler=function(){return e=>{t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){let t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;let n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}})),Ae=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Ie().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=>{try{t(e)}catch{}}})),Oe=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),Re=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=Se(),r=Oe(),n=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(e){return n.indexOf(e)>-1}var i=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function s(e){return i.indexOf(e)>-1}function a(e,t,r,n=-1/0,o=1/0){if(typeof r[e]<"u"){let i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function c(e,t,r,n=","){let o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((e=>e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var l={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function u(e,t,r){let n=r[e];if("string"==typeof n){let r=l[n.toUpperCase()];null!=r&&(t[e]=r)}}e.parseEnvironment=function(t){let r={};for(let n in e.DEFAULT_ENVIRONMENT){let e=n;if("OTEL_LOG_LEVEL"===e)u(e,r,t);else if(o(e))a(e,r,t);else if(s(e))c(e,r,t);else{let n=t[e];typeof n<"u"&&null!==n&&(r[e]=String(n))}}return r}})),Pe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=r(2037),n=Re();e.getEnv=function(){let e=n.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},n.DEFAULT_ENVIRONMENT,e)}})),ke=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}})),xe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=r(16),this.generateSpanId=r(8)}};var t=Buffer.allocUnsafe(16);function r(e){return function(){for(let r=0;r<e/4;r++)t.writeUInt32BE(Math.random()*2**32>>>0,4*r);for(let r=0;r<e&&!(t[r]>0);r++)r===e-1&&(t[e-1]=1);return t.toString("hex",0,e)}}})),De=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=r(4074);e.otperformance=t.performance})),Ne=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),Le=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),$e=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Le(),e)})),Me=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),Fe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Me(),e)})),je=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r($e(),e),r(Fe(),e)})),He=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=Ne(),r=je();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),Ue=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),Be=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Pe(),e),r(ke(),e),r(xe(),e),r(De(),e),r(He(),e),r(Ue(),e)})),qe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Be(),e)})),Ve=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=qe(),r=Math.pow(10,9);function n(e){let t=e/1e3,n=Math.trunc(t);return[n,Number((t-n).toFixed(9))*r]}function o(){let e=t.otperformance.timeOrigin;if("number"!=typeof e){let r=t.otperformance;e=r.timing&&r.timing.fetchStart}return e}function i(e){let i=n(o()),s=n("number"==typeof e?e:t.otperformance.now()),a=i[0]+s[0],c=i[1]+s[1];return c>r&&(c-=r,a+=1),[a,c]}function s(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=i,e.timeInputToHrTime=function(e){if(s(e))return e;if("number"==typeof e)return e<o()?i(e):n(e);if(e instanceof Date)return n(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){let n=t[0]-e[0],o=t[1]-e[1];return o<0&&(n-=1,o+=r),[n,o]},e.hrTimeToTimeStamp=function(e){let t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},e.hrTimeToNanoseconds=function(e){return e[0]*r+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=s,e.isTimeInput=function(e){return s(e)||"number"==typeof e||e instanceof Date}})),Ge=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),We=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),ze=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=Se();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,r,n){for(let o of this._propagators)try{o.inject(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}}extract(e,r,n){return this._propagators.reduce(((e,o)=>{try{return o.extract(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),Ke=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",r=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),n=/^[ -~]{0,255}[!-~]$/,o=/,|=/;e.validateKey=function(e){return r.test(e)},e.validateValue=function(e){return n.test(e)&&!o.test(e)}})),Xe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=Ke(),r=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,r)=>{let n=r.trim(),o=n.indexOf("=");if(-1!==o){let i=n.slice(0,o),s=n.slice(o+1,r.length);t.validateKey(i)&&t.validateValue(s)&&e.set(i,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}};e.TraceState=r})),Ye=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=Se(),r=we(),n=Xe();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var o=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function i(e){let t=o.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=i,e.HttpTraceContextPropagator=class{inject(n,o,i){let s=t.trace.getSpanContext(n);if(!s||r.isTracingSuppressed(n)||!t.isSpanContextValid(s))return;let a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||t.TraceFlags.NONE).toString(16)}`;i.set(o,e.TRACE_PARENT_HEADER,a),s.traceState&&i.set(o,e.TRACE_STATE_HEADER,s.traceState.serialize())}extract(r,o,s){let a=s.get(o,e.TRACE_PARENT_HEADER);if(!a)return r;let c=Array.isArray(a)?a[0]:a;if("string"!=typeof c)return r;let l=i(c);if(!l)return r;l.isRemote=!0;let u=s.get(o,e.TRACE_STATE_HEADER);if(u){let e=Array.isArray(u)?u.join(","):u;l.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,l)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),Qe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Je=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=Se().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),Ze=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=Se();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),et=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=Se();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),tt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=Se(),r=Ae(),n=Ze(),o=et();e.ParentBasedSampler=class{constructor(e){var t,i,s,a;this._root=e.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new o.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new o.AlwaysOnSampler,this._remoteParentNotSampled=null!==(i=e.remoteParentNotSampled)&&void 0!==i?i:new n.AlwaysOffSampler,this._localParentSampled=null!==(s=e.localParentSampled)&&void 0!==s?s:new o.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new n.AlwaysOffSampler}shouldSample(e,r,n,o,i,s){let a=t.trace.getSpanContext(e);return a&&t.isSpanContextValid(a)?a.isRemote?a.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,o,i,s):this._remoteParentNotSampled.shouldSample(e,r,n,o,i,s):a.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,n,o,i,s):this._localParentNotSampled.shouldSample(e,r,n,o,i,s):this._root.shouldSample(e,r,n,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),rt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=Se();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,r){return{decision:t.isValidTraceId(r)&&this._accumulate(r)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){let n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}}})),nt=v((e=>{"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,r){if(!r)return!1;for(let n of r)if(t(e,n))return!0;return!1}})),ot=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),it=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,r(Te(),e),r(Ce(),e),r(Ae(),e),r(Ie(),e),r(Ve(),e),r(Ge(),e),r(We(),e),r(Ne(),e),e.baggageUtils=Ee(),r(qe(),e),r(ze(),e),r(Ye(),e),r(Qe(),e),r(Je(),e),r(Ze(),e),r(et(),e),r(tt(),e),r(rt(),e),r(we(),e),r(Xe(),e),r(Re(),e),r(Oe(),e),r(nt(),e),r(ot(),e),r(Ne(),e)})),st=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),at=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=Se(),r=it(),n=je(),o=st();e.Span=class{constructor(e,n,o,i,s,a,c=[],l=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=i,this.parentSpanId=a,this.kind=s,this.links=c,this.startTime=r.timeInputToHrTime(l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}spanContext(){return this._spanContext}setAttribute(e,n){return null==n||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):r.isAttributeValue(n)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=n),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,n,o){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(n)&&(typeof o>"u"&&(o=n),n=void 0),typeof o>"u"&&(o=r.hrTime()),this.events.push({name:e,attributes:n,time:r.timeInputToHrTime(o)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=r.hrTime()){this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=r.timeInputToHrTime(e),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,i=r.hrTime()){let s={};"string"==typeof e?s[n.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?s[n.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(s[n.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(s[n.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(s[n.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),s[n.SemanticAttributes.EXCEPTION_TYPE]||s[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(o.ExceptionEventName,s,i):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),ct=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=Se(),r=it(),n=r.getEnv(),o=r.TracesSamplerValues.AlwaysOn;function i(e=r.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(s(e));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(s(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${o}".`),new r.AlwaysOnSampler}}function s(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;let r=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(r)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):r<0||r>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):r}e.DEFAULT_CONFIG={sampler:i(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=i})),lt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=ct();e.mergeConfig=function(e){let r={sampler:t.buildSamplerFromEnv()},n=Object.assign({},t.DEFAULT_CONFIG,r,e);return n.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),n}})),ut=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=Se(),r=it(),n=at(),o=lt();e.Tracer=class{constructor(e,t,n){this._tracerProvider=n;let i=o.mergeConfig(t);this._sampler=i.sampler,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new r.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,o={},i=t.context.active()){var s,a;if(r.isTracingSuppressed(i))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let c,l,u,d=function(e,r){if(!e.root)return t.trace.getSpanContext(r)}(o,i),p=this._idGenerator.generateSpanId();d&&t.trace.isSpanContextValid(d)?(c=d.traceId,l=d.traceState,u=d.spanId):c=this._idGenerator.generateTraceId();let h=null!==(s=o.kind)&&void 0!==s?s:t.SpanKind.INTERNAL,f=null!==(a=o.links)&&void 0!==a?a:[],m=r.sanitizeAttributes(o.attributes),g=this._sampler.shouldSample(o.root?t.trace.setSpanContext(i,t.INVALID_SPAN_CONTEXT):i,c,e,h,m,f),v={traceId:c,spanId:p,traceFlags:g.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:l};if(g.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(v);let _=new n.Span(this,i,e,v,h,u,f,o.startTime);return _.setAttributes(Object.assign(m,g.attributes)),_}startActiveSpan(e,r,n,o){let i,s,a;if(arguments.length<2)return;2===arguments.length?a=r:3===arguments.length?(i=r,a=n):(i=r,s=n,a=o);let c=s??t.context.active(),l=this.startSpan(e,i,c),u=t.trace.setSpan(c,l);return t.context.with(u,a,void 0,l)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),dt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),pt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=_t(),n=Se(),o=r(3837);e.detectResources=async(e={})=>{let r=Object.assign(e),o=await Promise.all((r.detectors||[]).map((async e=>{try{let t=await e.detect(r);return n.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(r){return n.diag.debug(`${e.constructor.name} failed: ${r.message}`),t.Resource.empty()}})));return i(o),o.reduce(((e,t)=>e.merge(t)),t.Resource.empty())};var i=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){let t=o.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});n.diag.verbose(t)}}))}})),ht=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=Se(),r=it(),n=je(),o=wt();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let i={},s=r.getEnv(),a=s.OTEL_RESOURCE_ATTRIBUTES,c=s.OTEL_SERVICE_NAME;if(a)try{let e=this._parseResourceAttributes(a);Object.assign(i,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return c&&(i[n.ResourceAttributes.SERVICE_NAME]=c),new o.Resource(i)}_parseResourceAttributes(e){if(!e)return{};let t={},r=e.split(this._COMMA_SEPARATOR,-1);for(let e of r){let r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,o]=r;if(n=n.trim(),o=o.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(o))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=o}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){let r=e.charAt(t);if(r<=" "||r>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}})),ft=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=Se(),r=je(),n=wt();e.processDetector=new class{async detect(e){let t={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,o){return""===e[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[r.ResourceAttributes.PROCESS_COMMAND]||""===e[r.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},e))}}})),mt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ht(),e),r(ft(),e)})),gt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(dt(),e),r(pt(),e),r(mt(),e)})),vt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(gt(),e)})),_t=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=je(),r=it(),n=vt(),o=class{constructor(e){this.attributes=e}static empty(){return o.EMPTY}static default(){return new o({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new o(t)}};e.Resource=o,o.EMPTY=new o({})})),yt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),St=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),wt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(_t(),e),r(vt(),e),r(yt(),e),r(St(),e)})),bt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=it();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((r=>{Promise.all(e).then((()=>{r()})).catch((e=>{t.globalErrorHandler(e||new Error("MultiSpanProcessor: forceFlush failed")),r()}))}))}onStart(e,t){for(let r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,r)=>{Promise.all(e).then((()=>{t()}),r)}))}}})),Et=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),Tt=v(((e,t)=>{var r="__lodash_hash_undefined__",n=9007199254740991,o="[object Arguments]",i="[object Function]",s="[object Object]",a=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[o]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[i]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var u="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),h="object"==typeof e&&e&&!e.nodeType&&e,f=h&&"object"==typeof t&&t&&!t.nodeType&&t,m=f&&f.exports===h,g=m&&u.process,v=function(){try{return f&&f.require&&f.require("util").types||g&&g.binding&&g.binding("util")}catch{}}(),_=v&&v.isTypedArray;function y(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var S,w=Array.prototype,b=Function.prototype,E=Object.prototype,T=p["__core-js_shared__"],C=b.toString,I=E.hasOwnProperty,A=(S=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",O=E.toString,R=C.call(Object),P=RegExp("^"+C.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=m?p.Buffer:void 0,x=p.Symbol,D=p.Uint8Array,N=(k&&k.allocUnsafe,function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object)),L=Object.create,$=E.propertyIsEnumerable,M=w.splice,F=x?x.toStringTag:void 0,j=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch{}}(),H=k?k.isBuffer:void 0,U=Math.max,B=Date.now,q=se(p,"Map"),V=se(Object,"create"),G=function(){function e(){}return function(t){if(!_e(t))return{};if(L)return L(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=this.__data__=new z(e);this.size=t.size}function Y(e,t,r){(void 0!==r&&!de(e[t],r)||void 0===r&&!(t in e))&&Z(e,t,r)}function Q(e,t,r){var n=e[t];(!I.call(e,t)||!de(n,r)||void 0===r&&!(t in e))&&Z(e,t,r)}function J(e,t){for(var r=e.length;r--;)if(de(e[r][0],t))return r;return-1}function Z(e,t,r){"__proto__"==t&&j?j(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}W.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(V){var n=t[e];return n===r?void 0:n}return I.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:I.call(t,e)},W.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=V&&void 0===t?r:t,this},z.prototype.clear=function(){this.__data__=[],this.size=0},z.prototype.delete=function(e){var t=this.__data__,r=J(t,e);return!(r<0||(r==t.length-1?t.pop():M.call(t,r,1),--this.size,0))},z.prototype.get=function(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]},z.prototype.has=function(e){return J(this.__data__,e)>-1},z.prototype.set=function(e,t){var r=this.__data__,n=J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(q||z),string:new W}},K.prototype.delete=function(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return ie(this,e).get(e)},K.prototype.has=function(e){return ie(this,e).has(e)},K.prototype.set=function(e,t){var r=ie(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},X.prototype.clear=function(){this.__data__=new z,this.size=0},X.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var r=this.__data__;if(r instanceof z){var n=r.__data__;if(!q||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new K(n)}return r.set(e,t),this.size=r.size,this};var ee=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),s=i.length;s--;){var a=i[++n];if(!1===t(o[a],a,o))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=I.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch{}var o=O.call(e);return n&&(t?e[F]=r:delete e[F]),o}(e):function(e){return O.call(e)}(e)}function re(e){return ye(e)&&te(e)==o}function ne(e,t,r,n,o){e!==t&&ee(t,(function(i,a){if(o||(o=new X),_e(i))!function(e,t,r,n,o,i,a){var c=le(e,r),l=le(t,r),u=a.get(l);if(u)Y(e,r,u);else{var d=i?i(c,l,r+"",e,t,a):void 0,p=void 0===d;if(p){var h=he(l),f=!h&&me(l),m=!h&&!f&&Se(l);d=l,h||f||m?he(c)?d=c:function(e){return ye(e)&&fe(e)}(c)?d=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(c):f?(p=!1,d=function(e,t){return e.slice()}(l)):m?(p=!1,d=function(e,t){var r=function(e){var t=new e.constructor(e.byteLength);return new D(t).set(new D(e)),t}(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}(l)):d=[]:function(e){if(!ye(e)||te(e)!=s)return!1;var t=N(e);if(null===t)return!0;var r=I.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&C.call(r)==R}(l)||pe(l)?(d=c,pe(c)?d=function(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=void 0;void 0===c&&(c=e[a]),o?Z(r,a,c):Q(r,a,c)}return r}(e,we(e))}(c):(!_e(c)||ge(c))&&(d=function(e){return"function"!=typeof e.constructor||ce(e)?{}:G(N(e))}(l))):p=!1}p&&(a.set(l,d),o(d,l,n,i,a),a.delete(l)),Y(e,r,d)}}(e,t,a,r,ne,n,o);else{var c=n?n(le(e,a),i,a+"",e,t,o):void 0;void 0===c&&(c=i),Y(e,a,c)}}),we)}var oe=j?function(e,t){return j(e,"toString",{configurable:!0,enumerable:!1,value:Ee(t),writable:!0})}:Te;function ie(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function se(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_e(e)||function(e){return!!A&&A in e}(e))&&(ge(e)?P:a).test(function(e){if(null!=e){try{return C.call(e)}catch{}try{return e+""}catch{}}return""}(e))}(r)?r:void 0}function ae(e,t){var r=typeof e;return!!(t=t??n)&&("number"==r||"symbol"!=r&&c.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function le(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ue=function(e){var t=0,r=0;return function(){var n=B(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(oe);function de(e,t){return e===t||e!=e&&t!=t}var pe=re(function(){return arguments}())?re:function(e){return ye(e)&&I.call(e,"callee")&&!$.call(e,"callee")},he=Array.isArray;function fe(e){return null!=e&&ve(e.length)&&!ge(e)}var me=H||function(){return!1};function ge(e){if(!_e(e))return!1;var t=te(e);return t==i||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ye(e){return null!=e&&"object"==typeof e}var Se=_?function(e){return function(t){return e(t)}}(_):function(e){return ye(e)&&ve(e.length)&&!!l[te(e)]};function we(e){return fe(e)?function(e,t){var r=he(e),n=!r&&pe(e),o=!r&&!n&&me(e),i=!r&&!n&&!o&&Se(e),s=r||n||o||i,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var l in e)(t||I.call(e,l))&&(!s||!("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ae(l,c)))&&a.push(l);return a}(e,!0):function(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ce(e),r=[];for(var n in e)"constructor"==n&&(t||!I.call(e,n))||r.push(n);return r}(e)}var be=function(e){return function(e,t){return ue(function(e,t,r){return t=U(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=U(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=r(s),y(e,this,a)}}(e,t,Te),e+"")}((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&function(e,t,r){if(!_e(r))return!1;var n=typeof t;return!!("number"==n?fe(r)&&ae(t,r.length):"string"==n&&t in r)&&de(r[t],e)}(r[0],r[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var a=r[n];a&&e(t,a,n)}return t}))}((function(e,t,r){ne(e,t,r)}));function Ee(e){return function(){return e}}function Te(e){return e}t.exports=be})),Ct=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=Se(),r=it();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let n=r.getEnv();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{let r=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,n)=>{let o=setTimeout((()=>{n(new Error("Timeout"))}),this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=>{var i;clearTimeout(o),t.code===r.ExportResultCode.SUCCESS?e():n(null!==(i=t.error)&&void 0!==i?i:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{r.globalErrorHandler(e)}))}),this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),It=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=Ct(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r})),At=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(It(),e)})),Ot=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(At(),e)})),Rt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,r,n=Se(),o=it(),i=wt(),s=Ft(),a=ct(),c=bt(),l=Et(),u=Tt(),d=Ot();(r=t=e.ForceFlushState||(e.ForceFlushState={}))[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved";var p=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let r=u({},a.DEFAULT_CONFIG,e);this.resource=null!==(t=r.resource)&&void 0!==t?t:i.Resource.empty(),this.resource=i.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});let n=this._buildExporterFromEnv();if(void 0!==n){let e=new d.BatchSpanProcessor(n);this.activeSpanProcessor=e}else this.activeSpanProcessor=new l.NoopSpanProcessor}getTracer(e,t){let r=`${e}@${t||""}`;return this._tracers.has(r)||this._tracers.set(r,new s.Tracer({name:e,version:t},this._config,this)),this._tracers.get(r)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>n.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&n.context.setGlobalContextManager(e.contextManager),e.propagator&&n.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map((r=>new Promise((n=>{let o,i=setTimeout((()=>{n(new Error(`Span processor did not completed within timeout period of ${e} ms`)),o=t.timeout}),e);r.forceFlush().then((()=>{clearTimeout(i),o!==t.timeout&&(o=t.resolved,n(o))})).catch((e=>{clearTimeout(i),o=t.error,n(e)}))}))));return new Promise(((e,n)=>{Promise.all(r).then((r=>{let o=r.filter((e=>e!==t.resolved));o.length>0?n(o):e()})).catch((e=>n([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=p._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=p._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(o.getEnv().OTEL_PROPAGATORS)),t=e.map((e=>{let t=this._getPropagator(e);return t||n.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new o.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=o.getEnv().OTEL_TRACES_EXPORTER;if("none"===e)return;let t=this._getSpanExporter(e);return t||n.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=p,p._registeredPropagators=new Map([["tracecontext",()=>new o.HttpTraceContextPropagator],["baggage",()=>new o.HttpBaggagePropagator]]),p._registeredExporters=new Map})),Pt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=it();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,r){for(let t of e)console.log(this._exportInfo(t));if(r)return r({code:t.ExportResultCode.SUCCESS})}}})),kt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=it();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>r({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),xt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=Se(),r=it();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),(()=>{this._exporter.export([e],(e=>{var t;e.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}}})),Nt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Lt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$t=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ft=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ut(),e),r(Rt(),e),r(Ot(),e),r(Pt(),e),r(kt(),e),r(xt(),e),r(Dt(),e),r(Nt(),e),r(Et(),e),r(at(),e),r(Lt(),e),r($t(),e),r(Mt(),e)})),jt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=C();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(n){if(r)return n;try{var o=Ft(),i=Se(),s=(new o.BasicTracerProvider).getTracer("applicationinsights tracer"),a=n.setTracer;n.setTracer=function(r){var n=r.startSpan;r.startSpan=function(e,r,o){var i=n.call(this,e,r,o),s=i.end;return i.end=function(){var e=s.apply(this,arguments);return t.channel.publish("azure-coretracing",i),e},i},r[e.AzureMonitorSymbol]=!0,a.call(this,r)},i.trace.getSpan(i.context.active()),n.setTracer(s),r=!0}catch{}return n}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),Ht=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=C();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var r=e.prototype._emit;return e.prototype._emit=function(e,n){var o=r.apply(this,arguments);if(!n){var i=o;i||(i=r.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:i})}return o},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),Ut=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=C(),n=r(2781);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var r=new n.Writable,o=new n.Writable;r.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish("console",{message:r}),!0},o.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish("console",{message:r,stderr:!0}),!0};for(var i=new e.Console(r,o),s=function(t){var r=e[t];r&&(e[t]=function(){if(i[t])try{i[t].apply(i,arguments)}catch{}return r.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),r(6206)}})),Bt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=C();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var r=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=r.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),qt=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=C();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var n=e.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext((function(e){return e()}))}}}),o={};return n.on("started",(function(e){o[e.requestId]||(o[e.requestId]=t(t({},e),{time:new Date}))})),n.on("succeeded",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),n.on("failed",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var n=e.instrument(),o={},i={};return n.on("started",(function(e){o[e.requestId]||(i[e.requestId]=r.channel.bindToContext((function(e){return e()})),o[e.requestId]=t(t({},e),{time:new Date}))})),n.on("succeeded",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),n.on("failed",(function(e){var t=o[e.requestId];t&&delete o[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},o={};return t.on("started",(function(e){n[e.requestId]||(o[e.requestId]=r.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.enable=function(){r.channel.registerMonkeyPatch("mongodb",e.mongo2),r.channel.registerMonkeyPatch("mongodb",e.mongo3),r.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),Vt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=C(),n=r(1017);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,o){var i=function(e,r){return function(r,n){var o=e[r];o&&(e[r]=function(){for(var e=arguments.length-1,r=arguments.length-1;r>=0;--r){if("function"==typeof arguments[r]){e=r;break}if(typeof arguments[r]<"u")break}var i=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof i&&(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=t.channel.bindToContext(n(s,i))):arguments[e]=t.channel.bindToContext(i));var a=o.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return i(e.prototype)},a=r(5943)(n.dirname(o)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),i(a)("createQuery",(function(e,r){return function(n){var o=process.hrtime(e.startTime),i=1e3*o[0]+o[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:i,time:e.startDate}),r.apply(this,arguments)}}));var c=r(4834)(n.dirname(o)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),Gt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=C();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var r=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),r.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),Wt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=C(),n=r(2361);e.postgres6={versionSpecifier:"6.*",patch:function(e,r){var o=e.Client.prototype.query,i="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,r,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},l=process.hrtime();function u(e){e&&e[i]&&(e=e[i]);var r=t.channel.bindToContext((function(r,o){var i=process.hrtime(l);if(c.result=o&&{rowCount:o.rowCount,command:o.command},c.error=r,c.duration=Math.ceil(1e3*i[0]+i[1]/1e6),t.channel.publish("postgres",c),r){if(e)return e.apply(this,arguments);a&&a instanceof n.EventEmitter&&a.emit("error",r)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(r,i,{value:e}),r}catch{return e}}try{"string"==typeof e?r instanceof Array?(c.query.preparable={text:e,args:r},s=u(s)):(c.query.text=e,s?s=u(s):r=u(r)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=u(s):r?r=u(r):e.callback=u(e.callback))}catch{return o.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=o.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,r){var o=e.Client.prototype.query,i="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,r,s){var a,c=this,l=!!s,u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},d=process.hrtime();function p(e){e&&e[i]&&(e=e[i]);var r=t.channel.bindToContext((function(r,o){var i=process.hrtime(d);if(u.result=o&&{rowCount:o.rowCount,command:o.command},u.error=r,u.duration=Math.ceil(1e3*i[0]+i[1]/1e6),t.channel.publish("postgres",u),r){if(e)return e.apply(this,arguments);a&&a instanceof n.EventEmitter&&a.emit("error",r)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(r,i,{value:e}),r}catch{return e}}try{"string"==typeof e?r instanceof Array?(u.query.preparable={text:e,args:r},s=(l="function"==typeof s)?p(s):s):(u.query.text=e,s?s=(l="function"==typeof s)?p(s):s:r=(l="function"==typeof r)?p(r):r):("string"==typeof e.name?u.query.plan=e.name:e.values instanceof Array?u.query.preparable={text:e.text,args:e.values}:u.query.text=e.text,s?(l="function"==typeof s,s=p(s)):r?r=(l="function"==typeof r)?p(r):r:(l="function"==typeof e.callback,e.callback=l?p(e.callback):e.callback))}catch{return o.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=o.apply(this,arguments),l?a:a.then((function(e){return p()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return p()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),zt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=C();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var r=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var o=this.address,i=process.hrtime(),s=new Date;e.callback=t.channel.bindToContext((function(r,a){var c=process.hrtime(i),l=1e3*c[0]+c[1]/1e6|0;t.channel.publish("redis",{duration:l,address:o,commandObj:e,err:r,result:a,time:s}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return r.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),Kt=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var r=C();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var n=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var n=process.hrtime(),o={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext((function(i,s,a){var c=process.hrtime(n);o=t(t({},o),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!i&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:i,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),r.channel.publish("tedious",o),e.call(this,i,s,a)}))}var o=arguments[0];arguments[0].callback=e(o.callback),n.apply(this,arguments)},e}},e.enable=function(){r.channel.registerMonkeyPatch("tedious",e.tedious)}})),Xt=v((e=>{"use strict";var t,r=e&&e.__extends||(t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},t(e,r)},function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),n=e&&e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var o=C();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return r(t,e),t.prototype.log=function(e,t){var r=e.message,i=e.level,s=e.meta,a=n(e,["message","level","meta"]);i="function"==typeof Symbol.for?e[Symbol.for("level")]:i,r=e instanceof Error?e:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,i);for(var l in s=s||{},a)a.hasOwnProperty(l)&&(s[l]=a[l]);o.channel.publish("winston",{message:r,level:i,levelKind:c,meta:s}),t()},t}(e.Transport);function i(){var r,n=arguments[0].levels||e.config.npm.levels;for(var o in n)n.hasOwnProperty(o)&&(r=void 0===r||n[o]>n[r]?o:r);this.add(new t(e,{level:r}))}var s=e.createLogger;e.createLogger=function(){var r,n=arguments[0].levels||e.config.npm.levels;for(var o in n)n.hasOwnProperty(o)&&(r=void 0===r||n[o]>n[r]?o:r);var a=s.apply(this,arguments);a.add(new t(e,{level:r}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),i.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),i.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,i){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",o.channel.publish("winston",{level:r,message:n,meta:i,levelKind:s}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},e.enable=function(){o.channel.registerMonkeyPatch("winston",e.winston2),o.channel.registerMonkeyPatch("winston",e.winston3)}})),Yt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=jt();e.azuresdk=t;var r=Ht();e.bunyan=r;var n=Ut();e.console=n;var o=Bt();e.mongodbCore=o;var i=qt();e.mongodb=i;var s=Vt();e.mysql=s;var a=Gt();e.pgPool=a;var c=Wt();e.pg=c;var l=zt();e.redis=l;var u=Kt();e.tedious=u;var d=Xt();e.winston=d,e.enable=function(){r.enable(),n.enable(),o.enable(),i.enable(),s.enable(),c.enable(),a.enable(),l.enable(),d.enable(),t.enable(),u.enable()}})),Qt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=w(),r=S();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n,o,i,s,a="DiagnosticChannel";if(e.IsInitialized){for(s in n=Yt(),o=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),i={bunyan:n.bunyan,console:n.console,mongodb:n.mongodb,mongodbCore:n.mongodbCore,mysql:n.mysql,redis:n.redis,pg:n.pg,pgPool:n.pgPool,winston:n.winston,azuresdk:n.azuresdk})-1===o.indexOf(s)&&(i[s].enable(),r.info(a,"Subscribed to "+s+" events"));o.length>0&&r.info(a,"Some modules will not be patched",o)}else r.info(a,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(r){if(e.IsInitialized){var n=C();n.channel.addContextPreservation(r),n.channel.spanContextPropagator=t.AsyncScopeManager}}})),Jt=v(((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),Zt=v(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=r(3685),i=r(5687),s=r(7310),a=r(2057),c=S(),l=Jt(),u=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var o=t+"=",i=r.split(";"),s=0;s<i.length;s++)if(r=i[s],(r=e.trim(r))&&0===r.indexOf(o)){n=r.substring(o.length,i[s].length);break}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",o=0;o<4;o++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var i=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var o="",i=t[n],s=typeof i;if(e.isPrimitive(i))o=i.toString();else if(null===i||"undefined"===s)o="";else{if("function"===s){c.info("key: "+n+" was function; will not serialize");continue}var a=e.isArray(i)?i:e.extractObject(i);try{o=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){o=i.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+n+", could not be serialized")}}r[n]=o.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++)if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[l.requestContextHeader];if(r)for(var n=r.split(","),o=0;o<n.length;++o){var i=n[o].split("=");if(2==i.length&&i[0]==t)return i[1]}},e.makeRequest=function(t,r,a,l){r&&0===r.indexOf("//")&&(r="https:"+r);var u=s.parse(r),d=n(n({},a),{host:u.hostname,port:u.port,path:u.pathname}),p=void 0;if("https:"===u.protocol&&(p=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(p=t.proxyHttpUrl||void 0),p){0===p.indexOf("//")&&(p="http:"+p);var h=s.parse(p);"https:"===h.protocol?(c.info("Proxies that use HTTPS are not supported"),p=void 0):d=n(n({},d),{host:h.hostname,port:h.port||"80",path:r,headers:n(n({},d.headers),{Host:u.hostname})})}var f="https:"===u.protocol&&!p;return f&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(d.agent=e.tlsRestrictedAgent):d.agent=t.httpAgent,f?i.request(d,l):o.request(d,l)},e.safeIncludeCorrelationHeader=function(t,r,n){var o;if("string"==typeof n)o=n;else if(n instanceof Array)o=n.join(",");else if(n&&"function"==typeof n.toString)try{o=n.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}o?e.addCorrelationIdHeaderFromString(t,r,o):r.setHeader(l.requestContextHeader,l.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),o=l.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,o.length)===o}))||t.setHeader(l.requestContextHeader,r+","+l.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();t.exports=u})),er=v(((e,t)=>{"use strict";var r=Zt(),n=S(),o=function(){function e(){}return e.queryCorrelationId=function(t,o){var i=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(i))o(e.completedLookups[i]);else if(e.pendingLookups[i])e.pendingLookups[i].push(o);else{e.pendingLookups[i]=[o];var s=function(){if(e.pendingLookups[i]){var o={method:"GET",disableAppInsightsAutoCollection:!0};n.info(e.TAG,o);var a=r.makeRequest(t,i,o,(function(r){if(200===r.statusCode){var o="";r.setEncoding("utf-8"),r.on("data",(function(e){o+=e})),r.on("end",(function(){n.info(e.TAG,o);var t=e.correlationIdPrefix+o;e.completedLookups[i]=t,e.pendingLookups[i]&&e.pendingLookups[i].forEach((function(e){return e(t)})),delete e.pendingLookups[i]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[i]=void 0,delete e.pendingLookups[i]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){n.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",o=e.pendingLookups[n];o&&(e.pendingLookups[n]=o.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,o){if(t.length+n.length<e.requestIdMaxLength)return t+n+o;var i=e.requestIdMaxLength-9;if(t.length>i)for(;i>1;--i){var s=t[i-1];if("."===s||"_"===s)break}if(i<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,i)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();t.exports=o})),tr=v(((e,t)=>{"use strict";var r=Zt(),n=er(),o=function(){function e(t,o){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var i=t.trim().split("-"),s=i.length;s>=4?(this.version=i[0],this.traceId=i[1],this.spanId=i[2],this.traceFlag=i[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(o){this.parentId=o.slice();var a=n.getRootId(o);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==o.indexOf("|")&&(o=o.substring(1+o.substring(0,o.length-1).lastIndexOf("."),o.length-1)),this.traceId=a,this.spanId=o}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=o})),rr=v(((e,t)=>{"use strict";var r=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&i}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},o=t.split(",");if(o.length>32)return null;for(var i=0,s=o;i<s.length;i++){var a=s[i].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length||!e.validateKeyChars(c[0])||n[c[0]])return null;n[c[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();t.exports=r})),nr=v(((e,t)=>{"use strict";t.exports=function(){}})),or=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),ir=v(((e,t)=>{"use strict";t.exports=function(){}})),sr=v(((e,t)=>{"use strict";t.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}})),ar=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return e.call(this)||this}return n(t,e),t}(ir());t.exports=o})),cr=v(((e,t)=>{"use strict";var r,n;(n=r||(r={}))[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation",t.exports=r})),lr=v(((e,t)=>{"use strict";var r=cr();t.exports=function(){this.kind=r.Measurement}})),ur=v(((e,t)=>{"use strict";t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),dr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),pr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),hr=v(((e,t)=>{"use strict";t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),fr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return n(t,e),t}(nr());t.exports=o})),mr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return n(t,e),t}(nr());t.exports=o})),gr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(dr());t.exports=o})),vr=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),_r=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(nr());t.exports=o})),yr=v(((e,t)=>{"use strict";var r,n;(n=r||(r={}))[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical",t.exports=r})),Sr=v(((e,t)=>{"use strict";t.exports=function(){}})),wr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=or(),e.Base=ir(),e.ContextTagKeys=sr(),e.Data=ar(),e.DataPoint=lr(),e.DataPointType=cr(),e.Domain=nr(),e.Envelope=ur(),e.EventData=dr(),e.ExceptionData=pr(),e.ExceptionDetails=hr(),e.MessageData=fr(),e.MetricData=mr(),e.PageViewData=gr(),e.RemoteDependencyData=vr(),e.RequestData=_r(),e.SeverityLevel=yr(),e.StackFrame=Sr()})),br=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=wr(),r=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=r,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),Er=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Tr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Cr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ir=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ar=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Or=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Rr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Pr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Nr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Lr=v((e=>{"use strict";var t,r;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(r=t=e.TelemetryType||(e.TelemetryType={}))[r.Event=0]="Event",r[r.Exception=1]="Exception",r[r.Trace=2]="Trace",r[r.Metric=3]="Metric",r[r.Request=4]="Request",r[r.Dependency=5]="Dependency",r[r.Availability=6]="Availability",r[r.PageView=7]="PageView"})),$r=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Er(),e),r(Tr(),e),r(Cr(),e),r(Ir(),e),r(Ar(),e),r(Or(),e),r(Rr(),e),r(Pr(),e),r(kr(),e),r(xr(),e),r(Dr(),e),r(Nr(),e),r(Lr(),e)})),Mr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Fr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Hr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ur=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Br=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),qr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Gr=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Mr(),e),r(Fr(),e),r(jr(),e),r(Hr(),e),r(Ur(),e),r(Br(),e),r(qr(),e),r(Vr(),e)})),Wr=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(br(),e),r(wr(),e),r($r(),e),r(Gr(),e)})),zr=v(((e,t)=>{"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var o in t)n[o]=t[o]&&t[o].toString&&t[o].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=r})),Kr=v(((e,t)=>{"use strict";var n,o=e&&e.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(7310),s=Wr(),a=Zt(),c=Jt(),l=zr(),u=er(),d=rr(),p=tr(),h=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return o(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+i.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+i.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=i.parse(e.url),n=r.pathname,o=r.search,s=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return i.format({protocol:s,host:e.headers.host,pathname:n,search:o})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,n=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,o=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,i=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,s=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,u.w3cEnabled&&(n||r)?(this.traceparent=new p(n?n.toString():null),this.tracestate=n&&r&&new d(r?r.toString():null),this.setBackCompatFromThisTraceContext()):o?u.w3cEnabled?(this.traceparent=new p(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new p,this.traceparent.parentId=i,this.traceparent.legacyRootId=s||i,this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=u.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(l);t.exports=h})),Xr=v(((e,t)=>{var r;e=t.exports=W,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var l=s++;i[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;i[u]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var d=s++;i[d]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var p=s++;i[p]="(?:"+i[a]+"|"+i[l]+")";var h=s++;i[h]="(?:"+i[c]+"|"+i[l]+")";var f=s++;i[f]="(?:-("+i[p]+"(?:\\."+i[p]+")*))";var m=s++;i[m]="(?:-?("+i[h]+"(?:\\."+i[h]+")*))";var g=s++;i[g]="[0-9A-Za-z-]+";var v=s++;i[v]="(?:\\+("+i[g]+"(?:\\."+i[g]+")*))";var _=s++,y="v?"+i[u]+i[f]+"?"+i[v]+"?";i[_]="^"+y+"$";var S="[v=\\s]*"+i[d]+i[m]+"?"+i[v]+"?",w=s++;i[w]="^"+S+"$";var b=s++;i[b]="((?:<|>)?=?)";var E=s++;i[E]=i[c]+"|x|X|\\*";var T=s++;i[T]=i[a]+"|x|X|\\*";var C=s++;i[C]="[v=\\s]*("+i[T]+")(?:\\.("+i[T]+")(?:\\.("+i[T]+")(?:"+i[f]+")?"+i[v]+"?)?)?";var I=s++;i[I]="[v=\\s]*("+i[E]+")(?:\\.("+i[E]+")(?:\\.("+i[E]+")(?:"+i[m]+")?"+i[v]+"?)?)?";var A=s++;i[A]="^"+i[b]+"\\s*"+i[C]+"$";var O=s++;i[O]="^"+i[b]+"\\s*"+i[I]+"$";var R=s++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=s++;i[P]="(?:~>?)";var k=s++;i[k]="(\\s*)"+i[P]+"\\s+",o[k]=new RegExp(i[k],"g");var x=s++;i[x]="^"+i[P]+i[C]+"$";var D=s++;i[D]="^"+i[P]+i[I]+"$";var N=s++;i[N]="(?:\\^)";var L=s++;i[L]="(\\s*)"+i[N]+"\\s+",o[L]=new RegExp(i[L],"g");var $=s++;i[$]="^"+i[N]+i[C]+"$";var M=s++;i[M]="^"+i[N]+i[I]+"$";var F=s++;i[F]="^"+i[b]+"\\s*("+S+")$|^$";var j=s++;i[j]="^"+i[b]+"\\s*("+y+")$|^$";var H=s++;i[H]="(\\s*)"+i[b]+"\\s*("+S+"|"+i[C]+")",o[H]=new RegExp(i[H],"g");var U=s++;i[U]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var B=s++;i[B]="^\\s*("+i[I]+")\\s+-\\s+("+i[I]+")\\s*$";var q,V=s++;for(i[V]="(<|>)?=?\\s*\\*",q=0;q<35;q++)r(q,i[q]),o[q]||(o[q]=new RegExp(i[q]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[w]:o[_]).test(e))return null;try{return new W(e,t)}catch{return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[w]:o[_]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var r=G(e,t);return r?r.version:null},e.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return K(n,o)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new W(e,r).inc(t,n).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function X(e,t,r){return new W(e,r).compare(new W(t,r))}function Y(e,t,r){return X(e,t,r)>0}function Q(e,t,r){return X(e,t,r)<0}function J(e,t,r){return 0===X(e,t,r)}function Z(e,t,r){return 0!==X(e,t,r)}function ee(e,t,r){return X(e,t,r)>=0}function te(e,t,r){return X(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Y(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=X,e.compareLoose=function(e,t){return X(e,t,!0)},e.rcompare=function(e,t,r){return X(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=Y,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var oe={};function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,l,u,d,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(l)?"<"+(+c+1)+".0.0":se(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ie(t,r)}catch{return!1}return t.test(e)}function ue(e,t,r,n){var o,i,s,a,c;switch(e=new W(e,n),t=new ie(t,n),r){case">":o=Y,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,p=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),d=d||e,p=p||e,o(e.semver,d.semver,n)?d=e:s(e.semver,p.semver,n)&&(p=e)})),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[F]:o[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},e.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[B]:o[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[H],"$1$2$3"),r("comparator trim",e,o[H]),e=(e=(e=e.replace(o[k],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[F]:o[j],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[$];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[D]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[O]:o[A];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),l=c||se(i),u=l||se(s);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[V],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch{return null}return e.forEach((function(e){i.test(e)&&(!n||-1===o.compare(e))&&(o=new W(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch{return null}return e.forEach((function(e){i.test(e)&&(!n||1===o.compare(e))&&(o=new W(n=e,r))})),n},e.minVersion=function(e,t){e=new ie(e,t);var r=new W("0.0.0");if(e.test(r)||(r=new W("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Y(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,r){return ue(e,t,"<",r)},e.gtr=function(e,t,r){return ue(e,t,">",r)},e.outside=ue,e.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),Yr=v(((e,t)=>{"use strict";function r(e){return"function"==typeof e}var n=console.error.bind(console);function o(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function i(e){e&&e.logger&&(r(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function s(e,t,i){if(e&&e[t]){if(!i)return n("no wrapper function"),void n((new Error).stack);if(r(e[t])&&r(i)){var s=e[t],a=i(s,t);return o(a,"__original",s),o(a,"__unwrap",(function(){e[t]===a&&o(e,t,s)})),o(a,"__wrapped",!0),o(e,t,a),a}n("original object and wrapper must be functions")}else n("no original function "+t+" to wrap")}function a(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}i.wrap=s,i.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},i.unwrap=a,i.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):n("must provide one or more functions to unwrap on modules")},t.exports=i})),Qr=v(((e,t)=>{"use strict";var r=Yr(),n=r.wrap,o=r.unwrap,i="wrap@before";function s(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function a(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function c(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}t.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function l(e){return function(t,r){var o=a(this,t).slice();try{var s=e.call(this,t,r);return function(e,t,r){var n=a(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var o=t[n],s=e[i];if("function"==typeof s)s(o);else if(Array.isArray(s))for(var a=s.length,c=0;c<a;c++)s[c](o)}}(e,n)}(this,t,o),s}finally{this.on.__wrapped||n(this,"on",l),this.addListener.__wrapped||n(this,"addListener",l)}}}e[i]?"function"==typeof e[i]?s(e,i,[e[i],t]):Array.isArray(e[i])&&e[i].push(t):s(e,i,t),e.__wrapped||(n(e,"addListener",l),n(e,"on",l),n(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var i=this._events[t];function s(e){return function(){this._events[t]=i;try{return e.apply(this,arguments)}finally{i=this._events[t],this._events[t]=c(i,r)}}}n(this,"removeListener",s);try{return this._events[t]=c(i,r),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=i}}})),s(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[i],delete e.__wrapped})),s(e,"__wrapped",!0))}})),Jr=v(((e,t)=>{"use strict";var n=r(3837),o=r(9491),i=Qr(),s=r(852),a="cls@contexts",c="error@context",l=process.env.DEBUG_CLS_HOOKED,u=-1;function d(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function h(e){let t=p(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function f(...e){l&&process._rawDebug(`${n.format(...e)}`)}t.exports={getNamespace:p,createNamespace:function(e){o.ok(e,"namespace must be given a name."),l&&f(`NS-CREATING NAMESPACE (${e})`);let t=new d(e);return t.id=u,s.createHook({init(r,o,i,a){if(u=s.executionAsyncId(),t.active)t._contexts.set(r,t.active),l&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`);else if(0===u){let i=s.triggerAsyncId(),c=t._contexts.get(i);c?(t._contexts.set(r,c),l&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)):l&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}if(l&&"PROMISE"===o){f(n.inspect(a,{showHidden:!0}));let s=a.parentId;f(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${o}] (${e}) parentId:${s} asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(r){let o;if(u=s.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(l){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`),t._indent+=2}t.enter(o)}else if(l){let o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${n.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){let o;if(u=s.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(l){let i=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}t.exit(o)}else if(l){let i=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}},destroy(r){if(u=s.executionAsyncId(),l){let o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${r} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(t._contexts.get(u))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},d.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,l&&f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},d.prototype.get=function(e){if(this.active){if(l){let t=s.executionAsyncId(),r=s.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);f(o+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${o}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(l){let t=s.currentId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},d.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,l){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},d.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(l){let e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[c]=t),e}finally{if(l){let e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},d.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},d.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return l&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(l&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,l&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},d.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{r.exit(t)}}},d.prototype.enter=function(e){if(o.ok(e,"context must be provided for entering"),l){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},d.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),l){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(l&&f("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},d.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;i(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},d.prototype.fromException=function(e){return e[c]},process.namespaces={}})),Zr=v(((e,t)=>{"use strict";function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);let o=new Array(arguments.length);for(let e=0;e<arguments.length;e++)o[e]=arguments[e];let i=o[0];if("function"!=typeof i)throw new TypeError("callback is not a function");let s=new r,a=--t.counter;return e.init.call(s,a,0,null,null),o[0]=function(){e.pre.call(s,a);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,o)}}})),en=v(((e,t)=>{"use strict";function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=global.Promise,o=n.prototype.then;function i(t,r,n,o){return"function"!=typeof t?o?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}n.prototype.then=function(n,s){if(!t.enabled)return o.call(this,n,s);let a=new r,c=--t.counter;return e.init.call(a,c,0,null,null),o.call(this,i(n,a,c,!0),i(s,a,c,!1))}}})),tn=v(((e,t)=>{"use strict";var n=r(9512);function o(){}function i(){}function s(){}var a=new Map,c=new Map,l=new Map,u=null,d=!1;function p(e,t,r,o,i,s,a){let c=n[r],l=n[o];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);let r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];let o=r[0];if("function"!=typeof o)throw new TypeError('"callback" argument must be a function');let l,p=new i,h=--t.counter;return e.init.call(p,h,0,null,null),r[0]=function(){u=l,e.pre.call(p,h);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(p,h,!0),s.delete(l),e.destroy.call(null,h)}))}e.post.call(p,h,!1),u=null,(a||d)&&(d=!1,s.delete(l),e.destroy.call(null,h))},l=c.apply(n,r),s.set(l,h),l},n[o]=function(t){if(u===t&&null!==t)d=!0;else if(s.has(t)){let r=s.get(t);s.delete(t),e.destroy.call(null,r)}l.apply(n,arguments)}}t.exports=function(){p(this._hooks,this._state,"setTimeout","clearTimeout",o,a,!0),p(this._hooks,this._state,"setInterval","clearInterval",i,c,!1),p(this._hooks,this._state,"setImmediate","clearImmediate",s,l,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}})),rn=v(((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),nn=v(((e,t)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,o={nextTick:Zr(),promise:en(),timers:tn()},i=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],o=this.destroyFns=[];this.init=function(t,r,o,s){if(r!==n)for(let n of e)n(t,this,r,o,s);else i.add(t)},this.pre=function(e){if(!i.has(e))for(let r of t)r(e,this)},this.post=function(e,t){if(!i.has(e))for(let n of r)n(e,this,t)},this.destroy=function(e){if(i.has(e))i.delete(e);else for(let t of o)t(e)}}function c(e,t){let r=e.indexOf(t);-1!==r&&e.splice(r,1)}function l(){this._state=new s,this._hooks=new a,this.version=rn().version,this.providers=r.Providers;for(let e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}a.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},a.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},t.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}})),on=v(((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),sn=v(((e,t)=>{t.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch{return"<error>"}}}(e));for(var n=0;n<t.length;n++){var o,i=t[n];try{o=i.toString()}catch(e){try{o="<error: "+e+">"}catch{o="<error>"}}r.push("    at "+o)}return r.join("\n")}})),an=v(((e,t)=>{var r=sn();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=on().version}var o=!1;n.prototype.callSite=function e(t){t||(t={}),o=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return o=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var i=new n;function s(){this._modifiers=[]}function a(){this._formater=r,this._previous=void 0}s.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},s.prototype.attach=function(e){this._modifiers.push(e)},s.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},a.prototype.replace=function(e){e?this._formater=e:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&i.format.replace(Error.prepareStackTrace);var c=!1;function l(e,t){if(o)return t;if(c)return r(e,t);var n=t.concat();n=i.extend._modify(e,n),n=(n=i.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),c=!0;var s=i.format._formater(e,n);return c=!1,s}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?i.format._roolback():(i.format._backup(),i.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=i})),cn=v(((e,t)=>{if(global._stackChain){if(global._stackChain.version!==on().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=an()})),ln=v(((e,t)=>{"use strict";var r=nn();if(global._asyncHook){if(global._asyncHook.version!==rn().version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else cn().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new r})),un=v(((e,t)=>{"use strict";var n=r(3837),o=r(9491),i=Qr(),s=ln(),a="cls@contexts",c="error@context",l=[];for(let e in s.providers)l[s.providers[e]]=e;var u,d,p=process.env.DEBUG_CLS_HOOKED,h=-1;function f(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function m(e){return process.namespaces[e]}function g(e){let t=m(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function v(e){process.env.DEBUG&&process._rawDebug(e)}function _(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:m,createNamespace:function(e){o.ok(e,"namespace must be given a name."),p&&v("CREATING NAMESPACE "+e);let t=new f(e);return t.id=h,s.addHooks({init(r,o,i,s,a){h=r,s?(t._contexts.set(r,t._contexts.get(s)),p&&v("PARENTID: "+e+" uid:"+r+" parent:"+s+" provider:"+i)):t._contexts.set(h,t.active),p&&v("INIT "+e+" uid:"+r+" parent:"+s+" provider:"+l[i]+" active:"+n.inspect(t.active,!0))},pre(r,o){h=r;let i=t._contexts.get(r);i?(p&&v(" PRE "+e+" uid:"+r+" handle:"+_(o)+" context:"+n.inspect(i)),t.enter(i)):p&&v(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+_(o))},post(r,o){h=r;let i=t._contexts.get(r);i?(p&&v(" POST "+e+" uid:"+r+" handle:"+_(o)+" context:"+n.inspect(i)),t.exit(i)):p&&v(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+_(o))},destroy(r){h=r,p&&v("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(h))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:g,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){g(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},f.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return p&&v("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+h+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},f.prototype.get=function(e){if(this.active)return p&&v("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+h+" active:"+n.inspect(this.active,!0)),this.active[e];p&&v("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+h+" active:"+n.inspect(this.active,!0))},f.prototype.createContext=function(){p&&v("   CREATING Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=h,p&&v("   CREATED Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},f.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return p&&v(" BEFORE RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{p&&v(" AFTER RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},f.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},f.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return p&&v(" BEFORE runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(p&&v(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,p&&v(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},f.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{r.exit(t)}}},f.prototype.enter=function(e){o.ok(e,"context must be provided for entering"),p&&v("  ENTER "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},f.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),p&&v("  EXIT "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(p&&v("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},f.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;i(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},f.prototype.fromException=function(e){return e[c]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),p)for(d in(u=cn()).filter._modifiers)u.filter.deattach(d)})),dn=v(((e,t)=>{"use strict";var r=Xr();process&&r.gte(process.versions.node,"8.0.0")?t.exports=Jr():t.exports=un()})),pn=v(((e,t)=>{var r;e=t.exports=W,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var l=s++;i[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;i[u]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var d=s++;i[d]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var p=s++;i[p]="(?:"+i[a]+"|"+i[l]+")";var h=s++;i[h]="(?:"+i[c]+"|"+i[l]+")";var f=s++;i[f]="(?:-("+i[p]+"(?:\\."+i[p]+")*))";var m=s++;i[m]="(?:-?("+i[h]+"(?:\\."+i[h]+")*))";var g=s++;i[g]="[0-9A-Za-z-]+";var v=s++;i[v]="(?:\\+("+i[g]+"(?:\\."+i[g]+")*))";var _=s++,y="v?"+i[u]+i[f]+"?"+i[v]+"?";i[_]="^"+y+"$";var S="[v=\\s]*"+i[d]+i[m]+"?"+i[v]+"?",w=s++;i[w]="^"+S+"$";var b=s++;i[b]="((?:<|>)?=?)";var E=s++;i[E]=i[c]+"|x|X|\\*";var T=s++;i[T]=i[a]+"|x|X|\\*";var C=s++;i[C]="[v=\\s]*("+i[T]+")(?:\\.("+i[T]+")(?:\\.("+i[T]+")(?:"+i[f]+")?"+i[v]+"?)?)?";var I=s++;i[I]="[v=\\s]*("+i[E]+")(?:\\.("+i[E]+")(?:\\.("+i[E]+")(?:"+i[m]+")?"+i[v]+"?)?)?";var A=s++;i[A]="^"+i[b]+"\\s*"+i[C]+"$";var O=s++;i[O]="^"+i[b]+"\\s*"+i[I]+"$";var R=s++;i[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=s++;i[P]="(?:~>?)";var k=s++;i[k]="(\\s*)"+i[P]+"\\s+",o[k]=new RegExp(i[k],"g");var x=s++;i[x]="^"+i[P]+i[C]+"$";var D=s++;i[D]="^"+i[P]+i[I]+"$";var N=s++;i[N]="(?:\\^)";var L=s++;i[L]="(\\s*)"+i[N]+"\\s+",o[L]=new RegExp(i[L],"g");var $=s++;i[$]="^"+i[N]+i[C]+"$";var M=s++;i[M]="^"+i[N]+i[I]+"$";var F=s++;i[F]="^"+i[b]+"\\s*("+S+")$|^$";var j=s++;i[j]="^"+i[b]+"\\s*("+y+")$|^$";var H=s++;i[H]="(\\s*)"+i[b]+"\\s*("+S+"|"+i[C]+")",o[H]=new RegExp(i[H],"g");var U=s++;i[U]="^\\s*("+i[C]+")\\s+-\\s+("+i[C]+")\\s*$";var B=s++;i[B]="^\\s*("+i[I]+")\\s+-\\s+("+i[I]+")\\s*$";var q,V=s++;for(i[V]="(<|>)?=?\\s*\\*",q=0;q<35;q++)r(q,i[q]),o[q]||(o[q]=new RegExp(i[q]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?o[w]:o[_]).test(e))return null;try{return new W(e,t)}catch{return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[w]:o[_]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var r=G(e,t);return r?r.version:null},e.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return K(n,o)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new W(e,r).inc(t,n).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function X(e,t,r){return new W(e,r).compare(new W(t,r))}function Y(e,t,r){return X(e,t,r)>0}function Q(e,t,r){return X(e,t,r)<0}function J(e,t,r){return 0===X(e,t,r)}function Z(e,t,r){return 0!==X(e,t,r)}function ee(e,t,r){return X(e,t,r)>=0}function te(e,t,r){return X(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Y(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=X,e.compareLoose=function(e,t){return X(e,t,!0)},e.rcompare=function(e,t,r){return X(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=Y,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var oe={};function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,l,u,d,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(l)?"<"+(+c+1)+".0.0":se(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ie(t,r)}catch{return!1}return t.test(e)}function ue(e,t,r,n){var o,i,s,a,c;switch(e=new W(e,n),t=new ie(t,n),r){case">":o=Y,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,p=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),d=d||e,p=p||e,o(e.semver,d.semver,n)?d=e:s(e.semver,p.semver,n)&&(p=e)})),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[F]:o[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},e.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[B]:o[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[H],"$1$2$3"),r("comparator trim",e,o[H]),e=(e=(e=e.replace(o[k],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[F]:o[j],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[$];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[D]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[O]:o[A];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),l=c||se(i),u=l||se(s);return"="===n&&u&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):l?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[V],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch{return null}return e.forEach((function(e){i.test(e)&&(!n||-1===o.compare(e))&&(o=new W(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch{return null}return e.forEach((function(e){i.test(e)&&(!n||1===o.compare(e))&&(o=new W(n=e,r))})),n},e.minVersion=function(e,t){e=new ie(e,t);var r=new W("0.0.0");if(e.test(r)||(r=new W("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Y(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,r){return ue(e,t,"<",r)},e.gtr=function(e,t,r){return ue(e,t,">",r)},e.outside=ue,e.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),hn=v(((e,t)=>{var r,n,o,i,s,a=Yr().wrap,c=[],l=0,u=!1,d=[];function p(e,t){var r=e.length,n=t.length,o=[];if(0===r&&0===n)return o;for(var i=0;i<r;i++)o[i]=e[i];if(0===n)return o;for(var s=0;s<n;s++){var a=!0;for(i=0;i<r;i++)if(e[i].uid===t[s].uid){a=!1;break}a&&o.push(t[s])}return o}function h(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++l,this.data=void 0===t?null:t}function f(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof h?e:new h(e,t)}process._fatalException?(o=!1,r=function(e){var t=c.length;if(o||0===t)return!1;var r=!1;o=!0;for(var n=0;n<t;++n){var s=c[n];if(0!=(8&s.flags)){var a=i&&i[s.uid];r=s.error(a,e)||r}}return o=!1,d.length>0&&(c=d.pop()),i=void 0,r&&!u},n=function(e,t,r){var n=[];u=!0;for(var o=0;o<r;++o){var s=t[o];if(n[s.uid]=s.data,0!=(1&s.flags)){var a=s.create(s.data);void 0!==a&&(n[s.uid]=a)}}return u=!1,function(){i=n,d.push(c),c=p(t,c),u=!0;for(var o=0;o<r;++o)(2&t[o].flags)>0&&t[o].before(this,n[t[o].uid]);u=!1;var s=e.apply(this,arguments);for(u=!0,o=0;o<r;++o)(4&t[o].flags)>0&&t[o].after(this,n[t[o].uid]);return u=!1,c=d.pop(),i=void 0,s}},a(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))):(s=!1,r=function(e){if(s)throw e;for(var t=!1,r=c.length,n=0;n<r;++n){var o=c[n];0!=(8&o.flags)&&(t=o.error(null,e)||t)}if(!t&&u)throw e},n=function(e,t,n){var o=[];u=!0;for(var i=0;i<n;++i){var a=t[i];if(o[a.uid]=a.data,0!=(1&a.flags)){var l=a.create(a.data);void 0!==l&&(o[a.uid]=l)}}return u=!1,function(){var i,a=!1,l=!1;d.push(c),c=p(t,c),u=!0;for(var h=0;h<n;++h)(2&t[h].flags)>0&&t[h].before(this,o[t[h].uid]);u=!1;try{i=e.apply(this,arguments)}catch(e){for(a=!0,h=0;h<n;++h)if(0!=(8&c[h].flags))try{l=c[h].error(o[t[h].uid],e)||l}catch(e){throw s=!0,e}if(!l)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!a||l){for(u=!0,h=0;h<n;++h)(4&t[h].flags)>0&&t[h].after(this,o[t[h].uid]);u=!1}c=d.pop()}return i}},process.addListener("uncaughtException",r)),h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=f,process.addAsyncListener=function(e,t){var r;r=e instanceof h?e:f(e,t);for(var n=!1,o=0;o<c.length;o++)if(r===c[o]){n=!0;break}return n||c.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<c.length;t++)if(e===c[t]){c.splice(t,1);break}},t.exports=function(e){var t=c.length;if(0===t)return e;for(var r=c.slice(),o=0;o<t;++o)if(r[o].flags>0)return n(e,r,t);return function(e,t,r){u=!0;for(var n=0;n<r;++n){var o=t[n];o.create&&o.create(o.data)}return u=!1,function(){d.push(c),c=p(t,c);var r=e.apply(this,arguments);return c=d.pop(),r}}(e,r,t)}})),fn=v(((e,t)=>{"use strict";t.exports=(e,t)=>class extends e{constructor(e){var r,n;super((function(e,i){r=this,n=[function(r){return t(o,!1),e(r)},function(e){return t(o,!1),i(e)}]}));var o=this;try{e.apply(r,n)}catch(e){n[1](e)}return o}}})),mn=v((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=Yr(),t=pn(),n=e.wrap,o=e.massWrap,i=hn(),s=r(3837),a=t.gte(process.version,"6.0.0"),c=t.gte(process.version,"7.0.0"),l=t.gte(process.version,"8.0.0"),u=t.gte(process.version,"11.0.0"),d=r(1808);function p(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=i(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function h(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=i(t._originalOnread)}}c&&!d._normalizeArgs?d._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],r={};"object"==typeof t&&null!==t?r=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?r.path=t:(r.port=t,e.length>1&&"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"!=typeof n?[r,null]:[r,n]}:!c&&!d._normalizeConnectArgs&&(d._normalizeConnectArgs=function(e){var t={};"object"==typeof e[0]&&null!==e[0]?t=e[0]:"string"==typeof e[0]&&!1===function(e){return(e=Number(e))>=0&&e}(e[0])?t.path=e[0]:(t.port=e[0],"string"==typeof e[1]&&(t.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[t,r]:[t]}),"_setUpListenHandle"in d.Server.prototype?n(d.Server.prototype,"_setUpListenHandle",p):n(d.Server.prototype,"_listen2",p),n(d.Socket.prototype,"connect",(function(e){return function(){var t;(t=l&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:c?d._normalizeArgs(arguments):d._normalizeConnectArgs(arguments))[1]&&(t[1]=i(t[1]));var r=e.apply(this,t);return h(this),r}}));var f=r(3685);n(f.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=i((function(e){return h(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var m=r(2081);function g(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=i(e._handle.onread),n(e._handle,"close",P))})),e._handle&&(e._handle.onexit=i(e._handle.onexit))}m.ChildProcess?n(m.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return g(this),t}})):o(m,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return g(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var v=[];process._nextDomainTick&&v.push("_nextDomainTick"),process._tickDomainCallback&&v.push("_tickDomainCallback"),o(process,v,R),n(process,"nextTick",P);var _=["setTimeout","setInterval"];global.setImmediate&&_.push("setImmediate");var y=r(9512),S=global.setTimeout===y.setTimeout;o(y,_,P),S&&o(global,_,P);var w=r(9523);o(w,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],R),w.resolveNaptr&&n(w,"resolveNaptr",R);var b,E,T,C=r(7147);o(C,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],R),C.lchown&&n(C,"lchown",R),C.lchmod&&n(C,"lchmod",R),C.ftruncate&&n(C,"ftruncate",R);try{b=r(9796)}catch{}b&&b.Deflate&&b.Deflate.prototype&&((E=Object.getPrototypeOf(b.Deflate.prototype))._transform?n(E,"_transform",R):E.write&&E.flush&&E.end&&o(E,["write","flush","end"],R));try{T=r(6113)}catch{}T&&(I=["pbkdf2","randomBytes"],u||I.push("pseudoRandomBytes"),o(T,I,R));var I,A,O=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function R(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=i(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=i(n)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=i(o)),e.call(this,r,n,o))};case 4:return function(r,n,o,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=i(s)),e.call(this,r,n,o,s))};case 5:return function(r,n,o,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof a&&(a=i(a)),e.call(this,r,n,o,s,a))};case 6:return function(r,n,o,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=i(c)),e.call(this,r,n,o,s,a,c))};default:return t}}function P(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=i(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r,n,o))};case 4:return function(r,n,o,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r,n,o,s))};case 5:return function(r,n,o,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r,n,o,s,a))};case 6:return function(r,n,o,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=i(r)),e.call(this,r,n,o,s,a,c))};default:return t}}O&&(A=process.addAsyncListener({create:function(){O=!1}}),global.Promise.resolve(!0).then((function(){O=!1})),process.removeAsyncListener(A)),O&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var o,i,s=new e((function(e,t){o=this,i=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(o,i)}catch(e){i[1](e)}return s}function r(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=i(o))}function o(t,n,i,s){var a;try{return{returnVal:a=n.call(t,i),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||o;return e.apply(this,arguments)}:r(s,!0)}}function c(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,i,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,i,s)):o(e,n,i,s)},r;function n(e){return"function"!=typeof e?e:i((function(n){var i=(t.__asl_wrapper||o)(this,e,n,r);if(i.error)throw i.errorVal;return i.returnVal}))}}}s.inherits(t,e),n(e.prototype,"then",c),e.prototype.chain&&n(e.prototype,"chain",c),a?global.Promise=fn()(e,r):(["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t)}()})),gn=v(((e,t)=>{"use strict";var n=r(9491),o=Qr(),i="cls@contexts",s="error@context";function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function l(e){var t=c(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){l(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||mn(),a.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{r.exit(t)}}},a.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;o(e,(function(e){!e||(e[i]||(e[i]=Object.create(null)),e[i][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[i])return e;var t=e,r=e[i];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||u(),t.exports={getNamespace:c,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:l,reset:u}})),vn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=S(),r=Qt(),n=tr(),o=rr(),i=Kr(),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,o,i){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:o,tracestate:i},customProperties:new a(n)}:null},e.spanToContextObject=function(t,r,o){var i=new n;return i.traceId=t.traceId,i.spanId=t.spanId,i.traceFlag=n.formatOpenTelemetryTraceFlags(t.traceFlags)||n.DEFAULT_TRACE_FLAG,i.parentId=r,e.generateContextObject(i.traceId,i.parentId,o,null,i)},e.runWithContext=function(t,r){var n;return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,r){var n;return e.enabled?e.session.bind(t,r?((n={})[e.CONTEXT_NAME]=r,n):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=dn():this.cls=gn()),e.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(r,s){var a=r&&r.traceContext||null,c=r&&r.traceId?r:null,l=r&&r.headers;if(c){var u=new n("00-"+c.traceId+"-"+c.spanId+"-01"),d=new o(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,"|"+c.traceId+"."+c.spanId+".","string"==typeof s?s:"",void 0,u,d)}if(a){u=new n(a.traceparent),d=new o(a.tracestate);var p="object"==typeof s?new i(s):null;return e.generateContextObject(u.traceId,u.parentId,"string"==typeof s?s:p.getOperationName({}),p&&p.getCorrelationContextHeader()||void 0,u,d)}return l?(u=new n(l.traceparent?l.traceparent.toString():null),d=new o(l.tracestate?l.tracestate.toString():null),p=new i(r),e.generateContextObject(u.traceId,u.parentId,p.getOperationName({}),p.getCorrelationContextHeader(),u,d)):(t.warn("startOperation was called with invalid arguments",arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=s;var a=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(r,n){if(e.bannedCharacters.test(r)||e.bannedCharacters.test(n))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+r+" and value: "+n);else{for(var o=0;o<this.props.length;++o){var i=this.props[o];if(i.key===r)return void(i.value=n)}this.props.push({key:r,value:n})}},e.bannedCharacters=/[,=]/,e}()})),_n=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Wr(),r=C(),n=[],o=function(e){var r=e.data.message;n.forEach((function(n){r instanceof Error?n.trackException({exception:r}):(r.lastIndexOf("\n")==r.length-1&&(r=r.substring(0,r.length-1)),n.trackTrace({message:r,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("console",o),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("console",o)},e.dispose=function(){r.channel.unsubscribe("console",o),n=[]}})),yn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Wr(),r=C(),n=[],o={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},i=function(e){var t=e.data.result;n.forEach((function(r){var n=o[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("bunyan",i),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("bunyan",i)},e.dispose=function(){r.channel.unsubscribe("bunyan",i),n=[]}})),Sn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Wr(),r=C(),n=[],o={syslog:function(e){var r={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},npm:function(e){var r={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},unknown:function(e){return t.SeverityLevel.Information}},i=function(e){var t=e.data.message;n.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=o[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("winston",i),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("winston",i)},e.dispose=function(){r.channel.unsubscribe("winston",i),n=[]}})),wn=v(((e,t)=>{"use strict";var r=Qt(),n=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(_n().enable(e&&t,this._client),yn().enable(e,this._client),Sn().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=n})),bn=v(((e,t)=>{"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||13===parseInt(r[0])&&parseInt(r[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(t,n,o){void 0===o&&(o=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:o}),r._client.flush({isAppCrashing:!0}),t&&n&&1===process.listeners(n).length&&(console.error(o),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=r})),En=v((e=>{"use strict";var t,r,n,o;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(n=r=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",n.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",n.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",n.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",n.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",n.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",n.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",n.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",n.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(o=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[o.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[o.REQUEST_RATE]=r.REQUEST_RATE,t[o.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),Tn=v(((e,t)=>{"use strict";var n=r(2037),o=En(),i=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var o=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return o.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,i=0,s=0,a=0,c=0;e&&c<e.length;c++){var l=e[c],u=this._lastCpus[c],d=(l.model,l.speed,l.times),p=u.times;t+=d.user-p.user||0,r+=d.sys-p.sys||0,i+=d.nice-p.nice||0,s+=d.idle-p.idle||0,a+=d.irq-p.irq||0}var h=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),m=process.hrtime(),g=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;typeof this._lastHrtime<"u"&&2===this._lastHrtime.length&&(h=100*g/((1e6*(m[0]-this._lastHrtime[0])+(m[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=m}var v=t+r+i+s+a||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(v-s)/v*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:h||t/v*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,i=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var l=n/a,u=i/a;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,i=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var l=n/a,u=i/a;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,i=r.time-t.time;if(i>0){var s=n/(i/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=i})),Cn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),In=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),An=v(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=En(),o=Cn(),i=In(),s=function(){function e(t,r){void 0===r&&(r=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=r}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return r.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,r){if(e.isEnabled()){var n,o=e._getAggregatedCounter(r,this._requestCountersCollection);if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}o.intervalExecutionTime+=n,o.totalCount++}},e.countDependency=function(t,r){if(e.isEnabled()){var n,o=e._getAggregatedCounter(r,this._dependencyCountersCollection);if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}o.intervalExecutionTime+=n,o.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var r=!1,n=0;n<t.length;n++){if(e===t[n].dimensions)return t[n];if(Object.keys(e).length===Object.keys(t[n].dimensions).length){for(var i in e)if(e[i]!=t[n].dimensions[i]){r=!0;break}if(!r)return t[n];r=!1}}var s=new o.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var r=e._requestCountersCollection[t];r.time=+new Date;var o=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime,s=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/o||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,i>0&&o>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:r.dimensions,value:s,count:o,aggregationInterval:i,metricType:n.MetricId.REQUESTS_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var r=e._dependencyCountersCollection[t];r.time=+new Date;var o=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime,s=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/o||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,i>0&&o>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:r.dimensions,value:s,count:o,aggregationInterval:i,metricType:n.MetricId.DEPENDENCIES_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var r=e._exceptionCountersCollection[t],o=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:r.dimensions,value:o,count:o,aggregationInterval:i,metricType:n.MetricId.EXCEPTIONS_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var r=e._traceCountersCollection[t],o=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:r.dimensions,value:o,count:o,aggregationInterval:i,metricType:n.MetricId.TRACES_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var n in e.dimensions)t[i.PreaggregatedMetricPropertyNames[n]]=e.dimensions[n];t=r(r({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var o={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=s})),On=v(((e,t)=>{"use strict";var n=r(2037),o=r(7147),i=r(1017),s=Wr(),a=S(),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||i.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=i.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();t.exports=c})),Rn=v(((e,t)=>{"use strict";var n,o=e&&e.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(7310),s=Wr(),a=Zt(),c=Jt(),l=zr(),u=er(),d=function(e){function t(r,n){var o=e.call(this)||this;return n&&n.method&&r&&(o.method=n.method,o.url=t._getUrlFromRequestOptions(r,n),o.startTime=+new Date),o}return o(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=i.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,o=s.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;r.port&&(a+=":"+r.port),this.correlationId?(o=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(a+=" | "+this.correlationId)):o=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:a};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=i.parse(e);else{var r=i.parse(e);e="443"===r.host?i.parse("https://"+e):i.parse("http://"+e)}else{if(e&&"function"==typeof i.URL&&e instanceof i.URL)return i.format(e);var n=e;e={},n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var o=i.parse(e.path);e.pathname=o.pathname,e.search=o.search}return e.host&&e.port&&!i.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",i.format(e)},t}(l);t.exports=d})),Pn=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var r=Se(),n=En();function o(e){var r=t({},e);return Object.keys(n.SpanAttribute).forEach((function(e){delete r[e]})),r}e.spanToTelemetryContract=function(e){var i="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",s=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),a=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",c=e.attributes.component?e.attributes.component.toString():"",l=c.toUpperCase()===n.DependencyTypeName.Http||!!e.attributes[n.SpanAttribute.HttpUrl],u=c.toLowerCase()===n.DependencyTypeName.Grpc;if(l){var d=e.attributes[n.SpanAttribute.HttpMethod]||"GET",p=new URL(e.attributes[n.SpanAttribute.HttpUrl].toString()),h=e.attributes[n.SpanAttribute.HttpHost]||p.host,f=e.attributes[n.SpanAttribute.HttpPort]||p.port||null,m=d+" "+(p.pathname||"/"),g=n.DependencyTypeName.Http,v=f?(h+":"+f).toString():h.toString(),_=p.toString(),y=e.attributes[n.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:i,name:m,dependencyTypeName:g,target:v,data:_,success:y<400,duration:s,url:_,resultCode:String(y),properties:o(e.attributes)}}if(u){d=e.attributes[n.SpanAttribute.GrpcMethod]||"rpc";var S=e.attributes[n.SpanAttribute.GrpcService],w=S?d+" "+S:e.name;return{id:i,duration:s,name:w,target:S.toString(),data:S.toString()||w,url:S.toString()||w,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:o(e.attributes)}}var b=e.name,E=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:i,duration:s,name:b,target:a,data:a||b,url:a||b,dependencyTypeName:e.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},o(e.attributes)),{"_MS.links":E||void 0})}}})),kn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=Se(),r=C(),n=tr(),o=Pn(),i=w(),s=[];e.subscriber=function(e){var r=e.data,a=o.spanToTelemetryContract(r),c=r.spanContext(),l=new n;l.traceId=c.traceId,l.spanId=c.spanId,l.traceFlag=n.formatOpenTelemetryTraceFlags(c.traceFlags),l.parentId=r.parentSpanId?"|"+c.traceId+"."+r.parentSpanId+".":null,i.AsyncScopeManager.with(r,(function(){s.forEach((function(e){r.kind===t.SpanKind.SERVER?e.trackRequest(a):(r.kind===t.SpanKind.CLIENT||r.kind===t.SpanKind.INTERNAL)&&e.trackDependency(a)}))}))},e.enable=function(t,n){t?(0===s.length&&r.channel.subscribe("azure-coretracing",e.subscriber),s.push(n)):0===(s=s.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("azure-coretracing",e.subscriber)}})),xn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=C(),r=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&r.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("mongodb",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),Dn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=C(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",o=!e.data.err,i=(r._connection||{}).config||{},s=i.socketPath?i.socketPath:(i.host||"localhost")+":"+i.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("mysql",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),Nn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=C(),r=[];e.subscriber=function(e){r.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("redis",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),Ln=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=C(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",o=!e.data.error,i=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:i,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(n,o){n?(0===r.length&&t.channel.subscribe("postgres",e.subscriber),r.push(o)):0===(r=r.filter((function(e){return e!=o}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),$n=v(((e,t)=>{"use strict";var n=e&&e.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},o=r(3685),i=r(5687),s=S(),a=Zt(),c=Jt(),l=Rn(),u=vn(),d=er(),p=tr(),h=Qt(),f=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),h.IsInitialized&&(kn().enable(!0,this._client),xn().enable(e,this._client),Dn().enable(e,this._client),Nn().enable(e,this._client),Ln().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=o.request,s=i.request,a=function(r,n){var o=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];n.headers&&n.headers["user-agent"]&&-1!==n.headers["user-agent"].toString().indexOf("azsdk-js")&&(o=!1),r[e.alreadyAutoCollectedFlag]=!0,r&&n&&o&&(u.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};o.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=r.call.apply(r,n([o,e],t));return a(s,e),s},i.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=s.call.apply(s,n([i,e],t));return a(o,e),o},o.get=function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(t=o.request).call.apply(t,n([o,e],r));return s.end(),s},i.get=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=(t=i.request).call.apply(t,n([i,e],r));return s.end(),s}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,o,i=new l(r.options,r.request),h=u.CorrelationContextManager.getCurrentContext();if(h&&h.operation&&h.operation.traceparent&&p.isValidTraceId(h.operation.traceparent.traceId)?(h.operation.traceparent.updateSpanId(),n=h.operation.traceparent.getBackCompatRequestId()):d.w3cEnabled?(o=(m=new p).toString(),n=m.getBackCompatRequestId()):n=h&&h.operation&&h.operation.parentId+e.requestNumber+++".",a.canIncludeCorrelationHeader(t,i.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var f=r.request.getHeader(c.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,r.request,f)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(h&&h.operation)try{if(r.request.setHeader(c.requestIdHeader,n),t.config.ignoreLegacyHeaders||(r.request.setHeader(c.parentIdHeader,h.operation.id),r.request.setHeader(c.rootIdHeader,n)),o||h.operation.traceparent)r.request.setHeader(c.traceparentHeader,o||h.operation.traceparent.toString());else if(d.w3cEnabled){var m=(new p).toString();r.request.setHeader(c.traceparentHeader,m)}if(h.operation.tracestate){var g=h.operation.tracestate.toString();g&&r.request.setHeader(c.traceStateHeader,g)}var v=h.customProperties.serializeToHeader();v&&r.request.setHeader(c.correlationContextHeader,v)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){i.onResponse(e);var o=i.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects["http.ClientResponse"]=e,t.trackDependency(o)})),r.request.on("error",(function(e){i.onError(e);var o=i.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects.Error=e,t.trackDependency(o)})),r.request.on("abort",(function(){i.onError(new Error);var e=i.getDependencyTelemetry(r,n);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=r.options,e.contextObjects["http.ClientRequest"]=r.request,t.trackDependency(e)})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=f})),Mn=v(((e,t)=>{"use strict";var n=r(2037),o=En(),i=Zt(),s=On(),a=$n(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return r.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var r=this,i=!1,a={},c=s.sdkVersion;a.sdk=c,a.osType=n.type(),process.env.WEBSITE_SITE_NAME?(a.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",a.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",a.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?a.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(i=!0,this._getAzureComputeMetadata(e,(function(){r._isVM&&Object.keys(r._vmData).length>0&&(a.azInst_vmId=r._vmData.vmId||"",a.azInst_subscriptionId=r._vmData.subscriptionId||"",a.azInst_osType=r._vmData.osType||"",r._azInst_vmId=r._vmData.vmId||"",r._azInst_subscriptionId=r._vmData.subscriptionId||"",r._azInst_osType=r._vmData.osType||""),r._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:a}),t()}))):this._isVM&&(a.azInst_vmId=this._azInst_vmId,a.azInst_subscriptionId=this._azInst_subscriptionId,a.azInst_osType=this._azInst_osType)),i||(this._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:a}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var r,n=this,o=((r={method:"GET"})[a.disableCollectionRequestOption]=!0,r.headers={Metadata:"True"},r),s=i.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",o,(function(e){if(200===e.statusCode){n._isVM=!0;var r="";e.on("data",(function(e){r+=e})),e.on("end",(function(){n._vmData=n._isJSON(r)?JSON.parse(r):{},t()}))}else t()}));s&&(s.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(n._isVM=!1),t()})),s.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch{return!1}},e}();t.exports=c})),Fn=v(((e,t)=>{"use strict";var n=r(3685),o=r(5687),i=S(),s=Zt(),a=Jt(),c=Kr(),l=vn(),u=Tn(),d=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?l.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,o){l.CorrelationContextManager.wrapEmitter(n),l.CorrelationContextManager.wrapEmitter(o);var i=n&&!n[e.alreadyAutoCollectedFlag];if(n&&i){var s=new c(n),a=t._generateCorrelationContext(s);l.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:o},s)),"function"==typeof r&&r(n,o)}))}else"function"==typeof r&&r(n,o)}}},i=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},s=n.createServer;n.createServer=function(e,t){if(t&&"function"==typeof t){var n=s(e,r(t));return i(n),n}return n=s(r(e)),i(n),n};var a=o.createServer;o.createServer=function(e,t){var n=a(e,r(t));return i(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=l.CorrelationContextManager.getCurrentContext(),o=new c(r.request,n&&n.operation.parentId);n&&(n.operation.id=o.getOperationId(t.context.tags)||n.operation.id,n.operation.name=o.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=o.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(o.getCorrelationContextHeader())),e.endRequest(t,o,r,r.duration,r.error)}else i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var o=l.CorrelationContextManager.getCurrentContext(),a=n||new c(r.request,o&&o.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),o&&!n&&(o.operation.id=a.getOperationId(t.context.tags)||o.operation.id,o.operation.name=a.getOperationName(t.context.tags)||o.operation.name,o.operation.parentId=a.getOperationParentId(t.context.tags)||o.operation.parentId,o.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,a,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,a,r,null,n)})),r.request.on&&r.request.on("aborted",(function(){e.endRequest(t,a,r,null,"The request has been aborted and the network socket has closed.")}))}else i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,o){o?t.onError(o,n):t.onResponse(r.response,n);var i=t.getRequestTelemetry(r);if(i.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var s in r.tagOverrides)i.tagOverrides[s]=r.tagOverrides[s];var a=t.getLegacyRootId();a&&(i.properties.ai_legacyRootId=a),i.contextObjects=i.contextObjects||{},i.contextObjects["http.ServerRequest"]=r.request,i.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,l.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=d})),jn=v(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=r(2037),i=Wr(),s=En(),a=Zt(),c=S(),l=a.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var i=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",s=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||i,a=n.tags&&n.keys&&n.keys.cloudRole&&n.tags[n.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:l,MachineName:i,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case i.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case i.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case i.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case i.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case i.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.name;return n(n({},r),{Name:o})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.severityLevel||0;return n(n({},r),{Message:t.data.baseData.message,SeverityLevel:i.SeverityLevel[o]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.exceptions,i="",s="",a="";return o&&o.length>0&&(o[0].parsedStack&&o[0].parsedStack.length>0?o[0].parsedStack.forEach((function(e){i+=e.assembly+"\n"})):o[0].stack&&o[0].stack.length>0&&(i=o[0].stack),s=o[0].message,a=o[0].typeName),n(n({},r),{Exception:i,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n(n({},r),{Name:o.name,Success:o.success,Duration:o.duration,ResponseCode:o.responseCode,OperationName:o.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n(n({},r),{Name:o.name,Target:o.target,Success:o.success,Duration:o.duration,ResultCode:o.resultCode,CommandName:o.data,OperationName:r.OperationId,DependencyTypeName:o.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var o={key:n,value:r[n]};t.push(o)}var i=e.data.baseData.properties||{};for(var n in i)i.hasOwnProperty(n)&&(o={key:n,value:i[n]},t.push(o));return t},e.keys=new i.ContextTagKeys,e}();t.exports=u})),Hn=v(((e,t)=>{"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),Un=v(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=r(5687),s=$n(),a=S(),c=Hn(),l=Zt(),u="x-ms-qps-service-polling-interval-hint",d="x-ms-qps-service-endpoint-redirect",p=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,r){var n=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,r,"ping",n)},e.prototype.post=function(e,t,r){return n(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this._submitData([e],t,r,"post")];case 1:return n.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,r,a,p){return n(this,void 0,void 0,(function(){var n,h,f,m,g,v=this;return o(this,(function(o){return n=JSON.stringify(e),(m={})[s.disableCollectionRequestOption]=!0,m.host=t&&t.length>0?t:this._config.quickPulseHost,m.method="POST",m.path="/QuickPulseService.svc/"+a+"?ikey="+this._config.instrumentationKey,m.headers=((g={Expect:"100-continue"})["x-ms-qps-transmission-time"]=c.getTransmissionTime(),g["Content-Type"]="application/json",g["Content-Length"]=Buffer.byteLength(n),g),h=m,p&&p.length>0&&p.forEach((function(e){return h.headers[e.name]=e.value})),this._config.httpsAgent?h.agent=this._config.httpsAgent:h.agent=l.tlsRestrictedAgent,(f=i.request(h,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],n=e.headers[d]?e.headers[d].toString():null,o=e.headers[u]?parseInt(e.headers[u].toString()):null;v._consecutiveErrors=0,r(t,e,n,o)}else v._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),r()}))).on("error",(function(e){v._onError(e),r()})),f.write(n),f.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",a.warn(e.TAG,r,t)):a.info(e.TAG,r,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=p})),Bn=v(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=S(),i=jn(),s=Un(),a=En(),c=On(),l=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=i.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=i.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return r(this,void 0,void 0,(function(){var t,r,o,s,a=this;return n(this,(function(n){switch(n.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),r=i.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(r)]:[3,2];case 1:return n.sent(),[3,3];case 2:this._ping(r),n.label=3;case 3:return o=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:o,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,r,n){null!=e?(this._isCollectingData!==e&&(o.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,r&&r.length>0&&(this._redirectedHost=r,o.info("Redirecting endpoint to: ",r)),n&&n>0&&(this._pollingIntervalHint=n),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=l})),qn=v(((e,t)=>{"use strict";var r=En(),n=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var o=n[0].toLowerCase(),i=n[1];t[o]=i}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var o=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+o+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+o+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=n})),Vn=v(((e,t)=>{"use strict";var n=er(),o=qn(),i=(S(),En()),s=r(7310),a=function(){function e(t){var r=this;this.endpointBase=i.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],a=o.parse(t),c=o.parse(n),l=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||l||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||i.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=a})),Gn=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var n=Vn(),o=On(),i=S(),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,o){var s=this;if(void 0===n&&(n={}),void 0===o&&(o=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=r(9166);e._emitter=new a,e._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,o),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),o),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var r=process.env[n.ENV_nativeMetricsDisableAll],o=process.env[n.ENV_nativeMetricsDisablers];if(r)return{isEnabled:!1,disabledMetrics:{}};if(o){var i=o.split(","),s={};if(i.length>0)for(var a=0,c=i;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var r=e._emitter.getGCData();for(var n in r){var i=r[n].metrics,s=n+" Garbage Collection Duration",a=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:s,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var r=e._emitter.getLoopData().loopUsage;if(0!=r.count){var n=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:r.total,count:r.count,min:r.min,max:r.max,stdDev:n,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,r;if(!this._disabledMetrics.heap){var n=process.memoryUsage(),i=n.heapUsed,s=n.heapTotal,a=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,r)})}},e}();e.AutoCollectNativePerformance=s})),Wn=v(((e,t)=>{"use strict";var r=S(),n=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void r.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;r||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e}();t.exports=n})),zn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),Kn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Wr();function r(e){var t=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)r=((r<<5)+r|0)+e.charCodeAt(n)|0;return(r=r<=-2147483648?t:Math.abs(r))/t*100}e.samplingTelemetryProcessor=function(e,n){var o=e.sampleRate;return!!(null==o||o>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(n.correlationContext&&n.correlationContext.operation?r(n.correlationContext.operation.id)<o:100*Math.random()<o)},e.getSamplingHashCode=r})),Xn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=Tn(),r=Wr();e.performanceMetricsTelemetryProcessor=function(e,n){switch(n&&n.addDocument(e),e.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var o=e.data.baseData;t.countRequest(o.duration,o.success);break;case r.TelemetryTypeString.Dependency:var i=e.data.baseData;t.countDependency(i.duration,i.success)}return!0}})),Yn=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=Wr(),n=An(),o=Wr();e.preAggregatedMetricsTelemetryProcessor=function(e,i){if(n.isEnabled())switch(e.data.baseType){case o.TelemetryTypeString.Exception:var s=e.data.baseData;s.properties=t(t({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole]};n.countException(a);break;case o.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var l={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[c.severity]};n.countTrace(l);break;case o.TelemetryTypeString.Request:var u=e.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var d={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole],operationSynthetic:e.tags[i.keys.operationSyntheticSource],requestSuccess:u.success,requestResultCode:u.responseCode};n.countRequest(u.duration,d);break;case o.TelemetryTypeString.Dependency:var p=e.data.baseData;p.properties=t(t({},p.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var h={cloudRoleInstance:e.tags[i.keys.cloudRoleInstance],cloudRoleName:e.tags[i.keys.cloudRole],operationSynthetic:e.tags[i.keys.operationSyntheticSource],dependencySuccess:p.success,dependencyType:p.type,dependencyTarget:p.target,dependencyResultCode:p.resultCode};n.countDependency(p.duration,h)}return!0}})),Qn=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(zn(),e),r(Kn(),e),r(Xn(),e),r(Yn(),e)})),Jn=v(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=r(7147),s=r(2037),a=r(1017),c=r(9796),l=r(2081),u=S(),d=$n(),p=Zt(),h=function(){function e(t,r,n){if(this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=n,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=i.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||u.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){var o=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){o._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,r){return n(this,void 0,void 0,(function(){var n,i,s,a,l=this;return o(this,(function(o){return t&&(n=this._redirectedHost||this._config.endpointUrl,i={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s="",t.forEach((function(e){var t=l._stringify(e);"string"==typeof t&&(s+=t+"\n")})),s.length>0&&(s=s.substring(0,s.length-1)),a=Buffer.from?Buffer.from(s):new Buffer(s),c.gzip(a,(function(o,s){var c=s;o?(u.warn(o),c=a,i.headers["Content-Length"]=a.length.toString()):(i.headers["Content-Encoding"]="gzip",i.headers["Content-Length"]=s.length.toString()),u.info(e.TAG,i),i[d.disableCollectionRequestOption]=!0;var h=p.makeRequest(l._config,n,i,(function(n){n.setEncoding("utf-8");var o="";n.on("data",(function(e){o+=e})),n.on("end",(function(){if(l._numConsecutiveFailures=0,l._enableDiskRetryMode)if(200===n.statusCode)l._resendTimer||(l._resendTimer=setTimeout((function(){l._resendTimer=null,l._sendFirstFileOnDisk()}),l._resendInterval),l._resendTimer.unref());else if(l._isRetriable(n.statusCode))try{var i=JSON.parse(o),s=[];i.errors.forEach((function(e){l._isRetriable(e.statusCode)&&s.push(t[e.index])})),s.length>0&&l._storeToDisk(s)}catch{l._storeToDisk(t)}if(307===n.statusCode||308===n.statusCode)if(l._numConsecutiveRedirects++,l._numConsecutiveRedirects<10){var a=n.headers.location?n.headers.location.toString():null;a&&(l._redirectedHost=a,l.send(t,r))}else"function"==typeof r&&r("Error sending telemetry because of circular redirects.");else l._numConsecutiveRedirects=0,"function"==typeof r&&r(o),u.info(e.TAG,o),"function"==typeof l._onSuccess&&l._onSuccess(o)}))}));h.on("error",(function(n){if(l._numConsecutiveFailures++,!l._enableDiskRetryMode||l._numConsecutiveFailures>0&&l._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";l._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+l._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(e.TAG,o,p.dumpObj(n))}else o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",u.info(e.TAG,o,p.dumpObj(n));l._onErrorHelper(n),"function"==typeof r&&(n&&r(p.dumpObj(n)),r("Error sending telemetry")),l._enableDiskRetryMode&&l._storeToDisk(t)})),h.write(c),h.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,r){var n=l.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!l.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=l.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=l.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,o){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(l.spawnSync){var t=l.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(o,i){if(o)return e.ACLED_DIRECTORIES[t]=!1,r(o);n._runICACLS(n._getACLArguments(t,i),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;i.lstat(e,(function(n,o){n&&"ENOENT"===n.code?i.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!n&&o.isDirectory()?r._applyACLRules(e,t):t(n||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){i.readdir(e,(function(r,n){if(r)return t(r,-1);var o=null,s=0,c=0;if(0!==n.length)for(var l=0;l<n.length;l++)i.stat(a.join(e,n[l]),(function(e,r){c++,e?o=e:r.isFile()&&(s+=r.size),c===n.length&&t(o,o?-1:s)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=i.readdirSync(e),r=0,n=0;n<t.length;n++)r+=i.statSync(a.join(e,t[n])).size;return r},e.prototype._storeToDisk=function(t){var r=this;u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(n){if(n)return u.warn(e.TAG,"Error while checking/creating directory: "+(n&&n.message)),void r._onErrorHelper(n);r._getShallowDirectorySize(r._tempDir,(function(n,o){if(n||o<0)return u.warn(e.TAG,"Error while checking directory size: "+(n&&n.message)),void r._onErrorHelper(n);if(o>r._maxBytesOnDisk)u.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+o);else{var s=(new Date).getTime()+".ai.json",c=a.join(r._tempDir,s);u.info(e.TAG,"saving data to disk at: "+c),i.writeFile(c,r._stringify(t),{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var r=this._getShallowDirectorySizeSync(this._tempDir);if(r>this._maxBytesOnDisk)return void u.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+r);var n=(new Date).getTime()+".ai.json",o=a.join(this._tempDir,n);u.info(e.TAG,"saving data before crash to disk at: "+o),i.writeFileSync(o,t,{mode:384})}catch(t){u.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;i.exists(this._tempDir,(function(t){t&&i.readdir(e._tempDir,(function(t,r){if(t)e._onErrorHelper(t);else if((r=r.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0){var n=r[0],o=a.join(e._tempDir,n);i.readFile(o,(function(t,r){t?e._onErrorHelper(t):i.unlink(o,(function(t){if(t)e._onErrorHelper(t);else try{var n=JSON.parse(r.toString());e.send(n)}catch(e){u.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){u.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;i.exists(this._tempDir,(function(r){r&&i.readdir(t._tempDir,(function(r,n){r?t._onErrorHelper(r):(n=n.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0&&n.forEach((function(r){var n=new Date(parseInt(r.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>n){var o=a.join(t._tempDir,r);i.unlink(o,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===s.type(),e}();t.exports=h})),Zn=v(((e,t)=>{"use strict";var r=Wr(),n=Zt(),o=vn(),i=function(){function e(){}return e.createEnvelope=function(t,o,i,s,a){var c=null;switch(o){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case r.TelemetryType.PageView:c=e.createPageViewData(t)}if(i&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var l in i)c.baseData.properties[l]||(c.baseData.properties[l]=i[l]);else c.baseData.properties=i;c.baseData.properties=n.validateStringMap(c.baseData.properties)}var u=a&&a.instrumentationKey||"",d=new r.Envelope;return d.data=c,d.iKey=u,d.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),d.tags=this.getTags(s,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=a?a.samplingPercentage:100,o===r.TelemetryType.Metric&&(d.sampleRate=100),d},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=n.w3cTraceId();var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),o.baseData=t,o},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var o=e.exception.stack,i=new r.ExceptionDetails;i.message=e.exception.message,i.typeName=e.exception.name,i.parsedStack=this.parseStack(o),i.hasFullStack=n.isArray(i.parsedStack)&&i.parsedStack.length>0,t.exceptions.push(i);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=n.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),o.baseData=t,o},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),o.baseData=t,o},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),o.baseData=t,o},e.createPageViewData=function(e){var t=new r.PageViewData;t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),o.baseData=t,o},e.getTags=function(e,t){var r=o.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var i in e.tags)n[i]=e.tags[i];if(t)for(var i in t)n[i]=t[i];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,o=0,i=0;i<=r.length;i++){var a=r[i];if(s.regex.test(a)){var c=new s(r[i],n++);o+=c.sizeInBytes,t.push(c)}}if(o>32768)for(var l=0,u=t.length-1,d=0,p=l,h=u;l<u;){if((d+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var f=h-p+1;t.splice(p,f);break}p=l,h=u,l++,u--}}return t},e}(),s=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=n.trim(t);var o=t.match(e.regex);o&&o.length>=5&&(this.method=n.trim(o[2])||this.method,this.fileName=n.trim(o[4])||"<no_filename>",this.line=parseInt(o[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=i})),eo=v(((e,t)=>{"use strict";var n=r(7310),o=Vn(),i=On(),s=Wr(),a=Wn(),c=Qn(),l=vn(),u=Jn(),d=Zt(),p=S(),h=Zn(),f=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new o(e);this.config=t,this.context=new i,this.commonProperties={};var r=new u(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,s.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!d.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var r=h.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString()),this._enableAzureProperties&&c.azureRoleEnvironmentTelemetryProcessor(r,this.context);var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&c.samplingTelemetryProcessor(r,{correlationContext:l.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(r,this.context),n&&(c.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else p.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=l.CorrelationContextManager.getCurrentContext();for(var o=0;o<n;++o)try{var i=this._telemetryProcessors[o];if(i&&!1===i.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,p.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r&&(e&&e.tags&&(e.tags=d.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=d.validateStringMap(e.data.baseData.properties))),r},e}();t.exports=f})),to=v(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=eo(),i=Fn(),s=$n(),a=S(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?i.trackRequestSync(this,e):a.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&a.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?i.trackRequest(this,e):a.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?s.trackRequest(this,e):a.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);t.exports=c})),ro=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),no=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,r,n=vn(),o=wn(),i=bn(),s=Tn(),a=An(),c=Mn(),l=$n(),u=Fn(),d=er(),p=S(),h=Bn(),f=Gn();e.TelemetryClient=to(),e.Contracts=Wr(),e.azureFunctionsTypes=ro(),(r=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[r.AI=0]="AI",r[r.AI_AND_W3C=1]="AI_AND_W3C";var m,g,v,_,y,w,b,E,T,C,I,A=!0,O=!1,R=!0,P=!0,k=!0,x=!1,D=!0,N=!0,L=!0,$=!0,M=!1,F=!0,j=void 0,H=void 0,U=!1;function B(){return e.defaultClient?(U=!0,v.enable(A,O),_.enable(R),y.enable(P),w.enable(k),b.enable(x,e.defaultClient.config),E.enable(F,g),T.useAutoCorrelation($,m),T.enable(D),C.enable(N),e.liveMetricsClient&&M&&e.liveMetricsClient.enable(M)):p.warn("Start cannot be called before setup"),q}e.setup=function(t){return e.defaultClient?p.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),v=new o(e.defaultClient),_=new i(e.defaultClient),y=new s(e.defaultClient),w=new a(e.defaultClient),b=new c(e.defaultClient),T=new u(e.defaultClient),C=new l(e.defaultClient),E||(E=new f.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(L,j,H),q},e.start=B,e.getCorrelationContext=function(){return $?n.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return n.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return n.CorrelationContextManager.wrapCallback(e,t)};var q=function(){function r(){}return r.setDistributedTracingMode=function(e){return d.w3cEnabled=e===t.AI_AND_W3C,r},r.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),A=e,O=t,U&&v.enable(e,t),r},r.setAutoCollectExceptions=function(e){return R=e,U&&_.enable(e),r},r.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),P=e;var n=f.AutoCollectNativePerformance.parseEnabled(t);return F=n.isEnabled,g=n.disabledMetrics,U&&(y.enable(e),E.enable(n.isEnabled,n.disabledMetrics)),r},r.setAutoCollectPreAggregatedMetrics=function(e){return k=e,U&&w.enable(e),r},r.setAutoCollectHeartbeat=function(t){return x=t,U&&b.enable(t,e.defaultClient.config),r},r.setAutoCollectRequests=function(e){return D=e,U&&T.enable(e),r},r.setAutoCollectDependencies=function(e){return N=e,U&&C.enable(e),r},r.setAutoDependencyCorrelation=function(e,t){return $=e,m=t,U&&T.useAutoCorrelation(e,t),r},r.setUseDiskRetryCaching=function(t,n,o){return L=t,j=n,H=o,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,n,o),r},r.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),p.enableDebug=e,p.disableWarnings=!t,r},r.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new h(e.defaultClient.config,null),I=new s(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(I),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),M=t,r):(p.warn("Live metrics client cannot be setup without the default client"),r)},r.start=B,r}();e.Configuration=q,e.dispose=function(){d.w3cEnabled=!0,e.defaultClient=null,U=!1,v&&v.dispose(),_&&_.dispose(),y&&y.dispose(),w&&w.dispose(),b&&b.dispose(),E&&E.dispose(),T&&T.dispose(),C&&C.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),M=!1,e.liveMetricsClient=void 0)}})),oo={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(oo,{default:()=>lo}),e.exports=(n=oo,_(i({},"__esModule",{value:!0}),n));var io=y(r(2037)),so=y(r(9496)),ao=y(r(5687)),co=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch{return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let r of Object.keys(e))for(let n of t)n.lookup.test(r)&&(void 0!==n.replacementString?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return co._instance||(co._instance=new co(e)),co._instance}},lo=class extends class{constructor(e,t,r,n,o,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.vscodeAPI=o,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),void 0!==o.env.onDidChangeTelemetryEnabled?(this.disposables.push(o.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(o.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(o.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=co.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((r=>{0===e.indexOf(`${r}`)&&(t=r)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(null==e)return"";let n=[];""!==this.vscodeAPI.env.appRoot&&n.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let o=e;if(t){let t=[];for(let o of n)for(;(r=o.exec(e))&&r;)t.push([r.index,o.lastIndex]);let i=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(o="";(r=s.exec(e))&&r;)r[0]&&!i.test(r[0])&&t.every((([e,t])=>r.index<e||r.index>=t))&&(o+=e.substring(a,r.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(o+=e.substr(a))}for(let e of n)o=o.replace(e,"");return o}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let o=/@[a-zA-Z0-9-.]+/,i=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(n.toLowerCase())?t[r]="<REDACTED: secret>":o.test(n)?t[r]="<REDACTED: email>":i.test(n)?t[r]="<REDACTED: token>":t[r]=n}return t}get telemetryLevel(){switch(co.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,r,n,o){if((this.userOptIn||o)&&""!==e){if(t=m(m({},t),this.getCommonProperties()),n){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},r=r??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!0,!1)}sendRawTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1,!1)}sendDangerousTelemetryEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,r,n,!0)}internalSendTelemetryErrorEvent(e,t,r,n,o){if((this.shouldSendErrorTelemetry()||o)&&""!==e){if(t=m(m({},t),this.getCommonProperties()),n){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},r=r??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,r,n,!0)}internalSendTelemetryException(e,t,r,n,o){if((this.shouldSendErrorTelemetry()||o)&&e){if(t=m(m({},t),this.getCommonProperties()),n){let r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(r)}t=t??{},r=r??{},this.telemetryAppender.logException(e,{properties:t,measurements:r})}}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!0,!1)}sendDangerousTelemetryException(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,r,n,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,n,o,i){let s=e=>(async(e,t)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let t=await Promise.resolve().then((()=>y(no())));t.defaultClient?(r=new t.TelemetryClient(e),r.channel.setUseDiskRetryCaching(!0)):(t.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=t.defaultClient),so&&so.env&&(r.context.tags[r.context.keys.userId]=so.env.machineId,r.context.tags[r.context.keys.sessionId]=so.env.sessionId,r.context.tags[r.context.keys.cloudRole]=so.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=so.env.appName),e&&0===e.indexOf("AIF-")&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(e){return Promise.reject("Failed to initialize app insights!\n"+e.message)}return null!=t&&t.length&&function(e,t){e.addTelemetryProcessor((e=>(Array.isArray(e.tags)?e.tags.forEach((e=>co.applyReplacements(e,t))):e.tags&&co.applyReplacements(e.tags,t),e.data.baseData&&co.applyReplacements(e.data.baseData,t),!0)))}(r,t),{logEvent:(e,t)=>{try{null==r||r.trackEvent({name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{try{null==r||r.trackException({exception:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log exception to app insights!\n"+e.message)}},flush:async()=>{try{null==r||r.flush()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,i);co.shouldUseOneDataSystemSDK(n)&&(s=e=>(async(e,t,n)=>{let o=await(async(e,t,n)=>{let o=await Promise.all([r.e(939),r.e(164)]).then(r.bind(r,7164)),i=await Promise.all([r.e(939),r.e(488)]).then(r.bind(r,1488)),s=new o.AppInsightsCore,a=new i.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(n){c.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:n};c.extensionConfig[a.identifier]=e}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{!l||(e.ext=e.ext??{},e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),s})(e,t,n);return{logEvent:(e,t)=>{try{null==o||o.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{null==o||o.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,so,{sendPOST:(e,t)=>{let r={method:"POST",headers:g(m({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let n=ao.request(e.urlString,r,(e=>{e.on("data",(function(r){t(e.statusCode??200,e.headers,r.toString())})),e.on("error",(function(){t(0,{})}))}));n.write(e.data),n.end()}catch{t(0,{})}}}));let a=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(n,s);n&&(0===n.indexOf("AIF-")||co.shouldUseOneDataSystemSDK(n))&&(o=!0),super(e,t,a,{release:io.release(),platform:io.platform(),architecture:io.arch()},so,o)}}},5943:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5943,e.exports=t},4834:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4834,e.exports=t},5623:e=>{"use strict";function t(e,t,o){e instanceof RegExp&&(e=r(e,o)),t instanceof RegExp&&(t=r(t,o));var i=n(e,t,o);return i&&{start:i[0],end:i[1],pre:o.slice(0,i[0]),body:o.slice(i[0]+e.length,i[1]),post:o.slice(i[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,o,i,s,a,c=r.indexOf(e),l=r.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(e===t)return[c,l];for(n=[],i=r.length;u>=0&&!a;)u==c?(n.push(u),c=r.indexOf(e,u+1)):1==n.length?a=[n.pop(),l]:((o=n.pop())<i&&(i=o,s=l),l=r.indexOf(t,u+1)),u=c<l&&c>=0?c:l;n.length&&(a=[i,s])}return a}e.exports=t,t.range=n},3644:(e,t,r)=>{var n=r(1048),o=r(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),v(function(e){return e.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)):[]};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(i).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function p(e){if(!e)return[""];var t=[],r=o("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var c=p(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function v(e,t){var r=[],i=o("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),d=c||l,_=i.body.indexOf(",")>=0;if(!d&&!_)return i.post.match(/,.*\}/)?v(e=i.pre+"{"+i.body+a+i.post):[e];if(d)s=i.body.split(/\.\./);else if(1===(s=p(i.body)).length&&1===(s=v(s[0],!1).map(h)).length)return(w=i.post.length?v(i.post,!1):[""]).map((function(e){return i.pre+s[0]+e}));var y,S=i.pre,w=i.post.length?v(i.post,!1):[""];if(d){var b=u(s[0]),E=u(s[1]),T=Math.max(s[0].length,s[1].length),C=3==s.length?Math.abs(u(s[2])):1,I=m;E<b&&(C*=-1,I=g);var A=s.some(f);y=[];for(var O=b;I(O,E);O+=C){var R;if(l)"\\"===(R=String.fromCharCode(O))&&(R="");else if(R=String(O),A){var P=T-R.length;if(P>0){var k=new Array(P+1).join("0");R=O<0?"-"+k+R.slice(1):k+R}}y.push(R)}}else y=n(s,(function(e){return v(e,!1)}));for(var x=0;x<y.length;x++)for(var D=0;D<w.length;D++){var N=S+y[x]+w[D];(!t||d||N)&&r.push(N)}return r}},1048:e=>{e.exports=function(e,r){for(var n=[],o=0;o<e.length;o++){var i=r(e[o],o);t(i)?n.push.apply(n,i):n.push(i)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},7334:(e,t,r)=>{e.exports=u,u.realpath=u,u.sync=d,u.realpathSync=d,u.monkeypatch=function(){n.realpath=u,n.realpathSync=d},u.unmonkeypatch=function(){n.realpath=o,n.realpathSync=i};var n=r(7147),o=n.realpath,i=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=r(7059);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,r){if(a)return o(e,t,r);"function"==typeof t&&(r=t,t=null),o(e,t,(function(n,o){l(n)?c.realpath(e,t,r):r(n,o)}))}function d(e,t){if(a)return i(e,t);try{return i(e,t)}catch(r){if(l(r))return c.realpathSync(e,t);throw r}}},7059:(e,t,r)=>{var n=r(1017),o="win32"===process.platform,i=r(7147),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,o)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(o)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,l,u,d=e,p={},h={};function f(){var t=c.exec(e);r=t[0].length,s=t[0],l=t[0],u="",o&&!h[l]&&(i.lstatSync(l),h[l]=!0)}for(f();r<e.length;){a.lastIndex=r;var m=a.exec(e);if(u=s,s+=m[0],l=u+m[1],r=a.lastIndex,!(h[l]||t&&t[l]===l)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,l))g=t[l];else{var v=i.lstatSync(l);if(!v.isSymbolicLink()){h[l]=!0,t&&(t[l]=l);continue}var _=null;if(!o){var y=v.dev.toString(32)+":"+v.ino.toString(32);p.hasOwnProperty(y)&&(_=p[y])}null===_&&(i.statSync(l),_=i.readlinkSync(l)),g=n.resolve(u,_),t&&(t[l]=g),o||(p[y]=_)}e=n.resolve(g,e.slice(r)),f()}}return t&&(t[d]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var l,u,d,p,h=e,f={},m={};function g(){var t=c.exec(e);l=t[0].length,u=t[0],d=t[0],p="",o&&!m[d]?i.lstat(d,(function(e){if(e)return r(e);m[d]=!0,v()})):process.nextTick(v)}function v(){if(l>=e.length)return t&&(t[h]=e),r(null,e);a.lastIndex=l;var n=a.exec(e);return p=u,u+=n[0],d=p+n[1],l=a.lastIndex,m[d]||t&&t[d]===d?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,d)?S(t[d]):i.lstat(d,_)}function _(e,n){if(e)return r(e);if(!n.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(v);if(!o){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(f.hasOwnProperty(s))return y(null,f[s],d)}i.stat(d,(function(e){if(e)return r(e);i.readlink(d,(function(e,t){o||(f[s]=t),y(e,t)}))}))}function y(e,o,i){if(e)return r(e);var s=n.resolve(p,o);t&&(t[i]=s),S(s)}function S(t){e=n.resolve(t,e.slice(l)),g()}g()}},6772:(e,t,r)=>{function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,r){if(r||(r={}),r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,r),e.changedCwd=!1;var i=process.cwd();n(r,"cwd")?(e.cwd=o.resolve(r.cwd),e.changedCwd=e.cwd!==i):e.cwd=i,e.root=r.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new a(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,o=e.matches.length;n<o;n++){var i=e.matches[n];if(i&&0!==Object.keys(i).length){var s=Object.keys(i);t?r.push.apply(r,s):s.forEach((function(e){r[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?c:l)),e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[d(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}e.ignore.length&&(r=r.filter((function(t){return!p(e,t)}))),e.found=r},t.mark=function(e,t){var r=d(e,t),n=e.cache[r],o=t;if(n){var i="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(i&&!s?o+="/":!i&&s&&(o=o.slice(0,-1)),o!==t){var a=d(e,o);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return o},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var o=r(1017),i=r(1171),s=r(4095),a=i.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new a(r,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var r=t;return r="/"===t.charAt(0)?o.join(e.root,t):s(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},2884:(e,t,r)=>{e.exports=y;var n=r(7147),o=r(7334),i=r(1171),s=(i.Minimatch,r(4378)),a=r(2361).EventEmitter,c=r(1017),l=r(9491),u=r(4095),d=r(4751),p=r(6772),h=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,m=r(7844),g=(r(3837),p.childrenIgnored),v=p.isIgnored,_=r(778);function y(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return d(e,t)}return new w(e,t,r)}y.sync=d;var S=y.GlobSync=d.GlobSync;function w(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new S(e,t)}if(!(this instanceof w))return new w(e,t,r);h(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=_(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var o=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1,s);function s(){--o._processing,o._processing<=0&&o._finish()}}y.glob=y,y.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new w(e,r).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var o=0;o<n[0].length;o++)if("string"!=typeof n[0][o])return!0;return!1},y.Glob=w,s(w,a),w.prototype._finish=function(){if(l(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);n.forEach((function(r,n){r=i._makeAbs(r),o.realpath(r,i.realpathCache,(function(n,o){n?"stat"===n.syscall?a[r]=!0:i.emit("error",n):a[o]=!0,0==--s&&(i.matches[e]=a,t())}))}))},w.prototype._mark=function(e){return p.mark(this,e)},w.prototype._makeAbs=function(e){return p.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<n.length;t++){var o=n[t];this._processing--,this._process(o[0],o[1],o[2],o[3])}}}},w.prototype._process=function(e,t,r,n){if(l(this instanceof w),l("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var a,c=e.slice(s);null===o?a=".":u(o)||u(e.join("/"))?(o&&u(o)||(o="/"+o),a=o):a=o;var d=this._makeAbs(a);if(g(this,a))return n();c[0]===i.GLOBSTAR?this._processGlobStar(o,a,d,c,t,r,n):this._processReaddir(o,a,d,c,t,r,n)}},w.prototype._processReaddir=function(e,t,r,n,o,i,s){var a=this;this._readdir(r,i,(function(c,l){return a._processReaddir2(e,t,r,n,o,i,l,s)}))},w.prototype._processReaddir2=function(e,t,r,n,o,i,s,a){if(!s)return a();for(var l=n[0],u=!!this.minimatch.negate,d=l._glob,p=this.dot||"."===d.charAt(0),h=[],f=0;f<s.length;f++)("."!==(g=s[f]).charAt(0)||p)&&(u&&!e?!g.match(l):g.match(l))&&h.push(g);var m=h.length;if(0===m)return a();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[o]||(this.matches[o]=Object.create(null)),f=0;f<m;f++){var g=h[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(o,g)}return a()}for(n.shift(),f=0;f<m;f++)g=h[f],e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(n),o,i,a);a()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!v(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;var o=this.statCache[r];o&&this.emit("stat",t,o),this.emit("match",t)}}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,o=m("lstat\0"+e,(function(n,o){if(n&&"ENOENT"===n.code)return t();var i=o&&o.isSymbolicLink();r.symlinks[e]=i,i||!o||o.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));o&&n.lstat(e,o)}},w.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=m("readdir\0"+e+"\0"+t,r))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,r);if(f(this.cache,e)){var o=this.cache[e];if(!o||"FILE"===o)return r();if(Array.isArray(o))return r(null,o)}n.readdir(e,function(e,t,r){return function(n,o){n?e._readdirError(t,n,r):e._readdirEntries(t,o,r)}}(this,e,r))}},w.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var o=t[n];o="/"===e?e+o:e+"/"+o,this.cache[o]=!0}return this.cache[e]=t,r(null,t)}},w.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var o=new Error(t.code+" invalid cwd "+this.cwd);o.path=this.cwd,o.code=t.code,this.emit("error",o),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},w.prototype._processGlobStar=function(e,t,r,n,o,i,s){var a=this;this._readdir(r,i,(function(c,l){a._processGlobStar2(e,t,r,n,o,i,l,s)}))},w.prototype._processGlobStar2=function(e,t,r,n,o,i,s,a){if(!s)return a();var c=n.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,o,!1,a);var d=this.symlinks[r],p=s.length;if(d&&i)return a();for(var h=0;h<p;h++)if("."!==s[h].charAt(0)||this.dot){var f=l.concat(s[h],c);this._process(f,o,!0,a);var m=l.concat(s[h],n);this._process(m,o,!0,a)}a()},w.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,(function(o,i){n._processSimple2(e,t,o,i,r)}))},w.prototype._processSimple2=function(e,t,r,n,o){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return o();if(e&&u(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),i&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),o()},w.prototype._stat=function(e,t){var r=this._makeAbs(e),o="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!o||"DIR"===i)return t(null,i);if(o&&"FILE"===i)return t()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return o&&"FILE"===a?t():t(null,a,s)}var c=this,l=m("stat\0"+r,(function(o,i){if(i&&i.isSymbolicLink())return n.stat(r,(function(n,o){n?c._stat2(e,r,null,i,t):c._stat2(e,r,n,o,t)}));c._stat2(e,r,o,i,t)}));l&&n.lstat(r,l)},w.prototype._stat2=function(e,t,r,n,o){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,o();var i="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory())return o(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,i&&"FILE"===s?o():o(null,s,n)}},4751:(e,t,r)=>{e.exports=f,f.GlobSync=m;var n=r(7147),o=r(7334),i=r(1171),s=(i.Minimatch,r(2884).Glob,r(3837),r(1017)),a=r(9491),c=r(4095),l=r(6772),u=(l.alphasort,l.alphasorti,l.setopts),d=l.ownProp,p=l.childrenIgnored,h=l.isIgnored;function f(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(u(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach((function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i),n[o.realpathSync(i,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(i)]=!0}}))}l.finish(this)},m.prototype._process=function(e,t,r){a(this instanceof m);for(var n,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,o).join("/")}var s,l=e.slice(o);null===n?s=".":c(n)||c(e.join("/"))?(n&&c(n)||(n="/"+n),s=n):s=n;var u=this._makeAbs(s);p(this,s)||(l[0]===i.GLOBSTAR?this._processGlobStar(n,s,u,l,t,r):this._processReaddir(n,s,u,l,t,r))},m.prototype._processReaddir=function(e,t,r,n,o,i){var a=this._readdir(r,i);if(a){for(var c=n[0],l=!!this.minimatch.negate,u=c._glob,d=this.dot||"."===u.charAt(0),p=[],h=0;h<a.length;h++)("."!==(g=a[h]).charAt(0)||d)&&(l&&!e?!g.match(c):g.match(c))&&p.push(g);var f=p.length;if(0!==f)if(1!==n.length||this.mark||this.stat)for(n.shift(),h=0;h<f;h++){var m;g=p[h],m=e?[e,g]:[g],this._process(m.concat(n),o,i)}else{this.matches[o]||(this.matches[o]=Object.create(null));for(h=0;h<f;h++){var g=p[h];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(o,g)}}}},m.prototype._emitMatch=function(e,t){if(!h(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=n.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var o=r&&r.isSymbolicLink();return this.symlinks[e]=o,o||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,r,n,o,i){var s=this._readdir(r,i);if(s){var a=n.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,o,!1);var u=s.length;if(!this.symlinks[r]||!i)for(var d=0;d<u;d++)if("."!==s[d].charAt(0)||this.dot){var p=c.concat(s[d],a);this._process(p,o,!0);var h=c.concat(s[d],n);this._process(h,o,!0)}}},m.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&c(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return o;if(r&&"FILE"===o)return!1}var i=this.statCache[t];if(!i){var s;try{s=n.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=n.statSync(t)}catch(e){i=s}else i=s}return this.statCache[t]=i,o=!0,i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,(!r||"FILE"!==o)&&o},m.prototype._mark=function(e){return l.mark(this,e)},m.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},6018:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;const a=i(r(1808)),c=i(r(4404)),l=s(r(9491)),u=s(r(7050)),d=r(9637),p=r(9829),h=(0,u.default)("https-proxy-agent");class f extends d.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=t?.headers??{},h("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?g(t,"headers"):null,host:r,port:n}}async connect(e,t){const{proxy:r}=this;if(!t.host)throw new TypeError('No "host" provided');let n;if("https:"===r.protocol){h("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;n=c.connect({...this.connectOpts,servername:e&&a.isIP(e)?void 0:e})}else h("Creating `net.Socket`: %o",this.connectOpts),n=a.connect(this.connectOpts);const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},i=a.isIPv6(t.host)?`[${t.host}]`:t.host;let s=`CONNECT ${i}:${t.port} HTTP/1.1\r\n`;if(r.username||r.password){const e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}o.Host=`${i}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))s+=`${e}: ${o[e]}\r\n`;const u=(0,p.parseProxyResponse)(n);n.write(`${s}\r\n`);const{connect:d,buffered:f}=await u;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),200===d.statusCode){if(e.once("socket",m),t.secureEndpoint){h("Upgrading socket connection to TLS");const e=t.servername||t.host;return c.connect({...g(t,"host","path","port"),socket:n,servername:a.isIP(e)?void 0:e})}return n}n.destroy();const v=new a.Socket({writable:!1});return v.readable=!0,e.once("socket",(e=>{h("Replaying proxy buffer for failed request"),(0,l.default)(e.listenerCount("data")>0),e.push(f),e.push(null)})),v}}function m(e){e.resume()}function g(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}f.protocols=["http","https"],t.HttpsProxyAgent=f},9829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;const o=(0,n(r(7050)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise(((t,r)=>{let n=0;const i=[];function s(){const c=e.read();c?function(c){i.push(c),n+=c.length;const l=Buffer.concat(i,n),u=l.indexOf("\r\n\r\n");if(-1===u)return o("have not received end of HTTP headers yet..."),void s();const d=l.slice(0,u).toString("ascii").split("\r\n"),p=d.shift();if(!p)return e.destroy(),r(new Error("No header received from proxy CONNECT response"));const h=p.split(" "),f=+h[1],m=h.slice(2).join(" "),g={};for(const t of d){if(!t)continue;const n=t.indexOf(":");if(-1===n)return e.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,n).toLowerCase(),i=t.slice(n+1).trimStart(),s=g[o];"string"==typeof s?g[o]=[s,i]:Array.isArray(s)?s.push(i):g[o]=i}o("got proxy server response: %o %o",p,g),a(),t({connect:{statusCode:f,statusText:m,headers:g},buffered:l})}(c):e.once("readable",s)}function a(){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("readable",s)}function c(){a(),o("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function l(e){a(),o("onerror %o",e),r(e)}e.on("error",l),e.on("end",c),s()}))}},8172:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;const s=i(r(3685)),a=i(r(5687));async function c(e){let t=0;const r=[];for await(const n of e)t+=n.length,r.push(n);return Buffer.concat(r,t)}t.toBuffer=c,t.json=async function(e){const t=(await c(e)).toString("utf8");try{return JSON.parse(t)}catch(e){const r=e;throw r.message+=` (input: ${t})`,r}},t.req=function(e,t={}){const r=(("string"==typeof e?e:e.href).startsWith("https:")?a:s).request(e,t),n=new Promise(((e,t)=>{r.once("response",e).once("error",t).end()}));return r.then=n.then.bind(n),r}},9637:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;const a=i(r(3685));s(r(8172),t);const c=Symbol("AgentBaseInternalState");class l extends a.Agent{constructor(e){super(e),this[c]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,r){const n={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,n))).then((o=>{if(o instanceof a.Agent)return o.addRequest(e,n);this[c].currentSocket=o,super.createSocket(e,t,r)}),r)}createConnection(){const e=this[c].currentSocket;if(this[c].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[c].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[c]&&(this[c].defaultPort=e)}get protocol(){return this[c].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[c]&&(this[c].protocol=e)}}t.Agent=l},2942:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(86)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},86:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},7050:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(2942):e.exports=r(127)},127:(e,t,r)=>{const n=r(6224),o=r(3837);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(86)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},7844:(e,t,r)=>{var n=r(2479),o=Object.create(null),i=r(778);function s(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}e.exports=n((function(e,t){return o[e]?(o[e].push(t),null):(o[e]=[t],function(e){return i((function t(){var r=o[e],n=r.length,i=s(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){t.apply(null,i)}))):delete o[e]}}))}(e))}))},4378:(e,t,r)=>{try{var n=r(3837);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(5717)}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},413:(e,t,r)=>{"use strict";var n=t,o=r(4300).Buffer,i=r(2037);n.toBuffer=function(e,t,r){var n;if(r=~~r,this.isV4Format(e))n=t||new o(r+4),e.split(/\./g).map((function(e){n[r++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){var i,s=e.split(":",8);for(i=0;i<s.length;i++){var a;this.isV4Format(s[i])&&(a=this.toBuffer(s[i]),s[i]=a.slice(0,2).toString("hex")),a&&++i<8&&s.splice(i,0,a.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(i=0;i<s.length&&""!==s[i];i++);var c=[i,1];for(i=9-s.length;i>0;i--)c.push("0");s.splice.apply(s,c)}for(n=t||new o(r+16),i=0;i<s.length;i++){var l=parseInt(s[i],16);n[r++]=l>>8&255,n[r++]=255&l}}if(!n)throw Error("Invalid ip address: "+e);return n},n.toString=function(e,t,r){t=~~t;var n=[];if(4===(r=r||e.length-t)){for(var o=0;o<r;o++)n.push(e[t+o]);n=n.join(".")}else if(16===r){for(o=0;o<r;o+=2)n.push(e.readUInt16BE(t+o).toString(16));n=(n=(n=n.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n};var s=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function c(e){return e?e.toLowerCase():"ipv4"}n.isV4Format=function(e){return s.test(e)},n.isV6Format=function(e){return a.test(e)},n.fromPrefixLen=function(e,t){var r=4;"ipv6"===(t=e>32?"ipv6":c(t))&&(r=16);for(var i=new o(r),s=0,a=i.length;s<a;++s){var l=8;e<8&&(l=e),e-=l,i[s]=255&~(255>>l)}return n.toString(i)},n.mask=function(e,t){e=n.toBuffer(e),t=n.toBuffer(t);var r=new o(Math.max(e.length,t.length)),i=0;if(e.length===t.length)for(i=0;i<e.length;i++)r[i]=e[i]&t[i];else if(4===t.length)for(i=0;i<t.length;i++)r[i]=e[e.length-4+i]&t[i];else{for(i=0;i<r.length-6;i++)r[i]=0;for(r[10]=255,r[11]=255,i=0;i<e.length;i++)r[i+12]=e[i]&t[i+12];i+=12}for(;i<r.length;i++)r[i]=0;return n.toString(r)},n.cidr=function(e){var t=e.split("/"),r=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(t[1],10));return n.mask(r,o)},n.subnet=function(e,t){for(var r=n.toLong(n.mask(e,t)),o=n.toBuffer(t),i=0,s=0;s<o.length;s++)if(255===o[s])i+=8;else for(var a=255&o[s];a;)a=a<<1&255,i++;var c=Math.pow(2,32-i);return{networkAddress:n.fromLong(r),firstAddress:c<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:c<=2?n.fromLong(r+c-1):n.fromLong(r+c-2),broadcastAddress:n.fromLong(r+c-1),subnetMask:t,subnetMaskLength:i,numHosts:c<=2?c:c-2,length:c,contains:function(e){return r===n.toLong(n.mask(e,t))}}},n.cidrSubnet=function(e){var t=e.split("/"),r=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(t[1],10));return n.subnet(r,o)},n.not=function(e){for(var t=n.toBuffer(e),r=0;r<t.length;r++)t[r]=255^t[r];return n.toString(t)},n.or=function(e,t){if(e=n.toBuffer(e),t=n.toBuffer(t),e.length===t.length){for(var r=0;r<e.length;++r)e[r]|=t[r];return n.toString(e)}var o=e,i=t;t.length>e.length&&(o=t,i=e);var s=o.length-i.length;for(r=s;r<o.length;++r)o[r]|=i[r-s];return n.toString(o)},n.isEqual=function(e,t){if(e=n.toBuffer(e),t=n.toBuffer(t),e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(4===t.length){var o=t;t=e,e=o}for(r=0;r<10;r++)if(0!==t[r])return!1;var i=t.readUInt16BE(10);if(0!==i&&65535!==i)return!1;for(r=0;r<4;r++)if(e[r]!==t[r+12])return!1;return!0},n.isPrivate=function(e){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},n.isPublic=function(e){return!n.isPrivate(e)},n.isLoopback=function(e){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^fe80::1$/.test(e)||/^::1$/.test(e)||/^::$/.test(e)},n.loopback=function(e){if("ipv4"!==(e=c(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},n.address=function(e,t){var r,o=i.networkInterfaces();if(t=c(t),e&&"private"!==e&&"public"!==e){var s=o[e].filter((function(e){return e.family.toLowerCase()===t}));if(0===s.length)return;return s[0].address}return(r=Object.keys(o).map((function(r){var i=o[r].filter((function(r){return r.family=r.family.toLowerCase(),r.family===t&&!n.isLoopback(r.address)&&(!e||("public"===e?n.isPrivate(r.address):n.isPublic(r.address)))}));return i.length?i[0].address:void 0})).filter(Boolean)).length?r[0]:n.loopback(t)},n.toLong=function(e){var t=0;return e.split(".").forEach((function(e){t<<=8,t+=parseInt(e)})),t>>>0},n.fromLong=function(e){return(e>>>24)+"."+(e>>16&255)+"."+(e>>8&255)+"."+(255&e)}},578:(e,t,r)=>{var n=r(7147),o="wx";if(process.version.match(/^v0\.[0-6]/)){var i=r(2057);o=i.O_TRUNC|i.O_CREAT|i.O_WRONLY|i.O_EXCL}var s,a=r(2037);t.filetime="ctime","win32"==a.platform()&&(t.filetime="mtime");var c=r(3837);s=c.debuglog?c.debuglog("LOCKFILE"):/\blockfile\b/i.test(process.env.NODE_DEBUG)?function(){var e=c.format.apply(c,arguments);console.error("LOCKFILE %d %s",process.pid,e)}:function(){};var l={};r(7908)((function(){s("exit listener"),Object.keys(l).forEach(t.unlockSync)})),/^v0\.[0-8]\./.test(process.version)&&(s("uncaughtException, version = %s",process.version),process.on("uncaughtException",(function e(r){if(s("uncaughtException"),!process.listeners("uncaughtException").filter((function(t){return t!==e})).length){try{Object.keys(l).forEach(t.unlockSync)}catch(e){}throw process.removeListener("uncaughtException",e),r}}))),t.unlock=function(e,t){s("unlock",e),delete l[e],n.unlink(e,(function(e){t&&t()}))},t.unlockSync=function(e){s("unlockSync",e);try{n.unlinkSync(e)}catch(e){}delete l[e]},t.check=function(e,r,o){"function"==typeof r&&(o=r,r={}),s("check",e,r),n.open(e,"r",(function(e,i){return e?"ENOENT"!==e.code?o(e):o(null,!1):r.stale?void n.fstat(i,(function(e,s){if(e)return n.close(i,(function(t){return o(e)}));n.close(i,(function(e){var n=Date.now()-s[t.filetime].getTime();return o(e,n<=r.stale)}))})):n.close(i,(function(e){return o(e,!0)}))}))},t.checkSync=function(e,r){if(s("checkSync",e,r=r||{}),r.wait)throw new Error("opts.wait not supported sync for obvious reasons");try{var o=n.openSync(e,"r")}catch(e){if("ENOENT"!==e.code)throw e;return!1}if(!r.stale){try{n.closeSync(o)}catch(e){}return!0}if(r.stale){try{var i=n.fstatSync(o)}finally{n.closeSync(o)}return Date.now()-i[t.filetime].getTime()<=r.stale}};var u=1;function d(e,r,o,i,a){n.stat(r,(function(c,l){return c?"ENOENT"===c.code?(o.stale=!1,s("lock stale enoent retry",r,o),void t.lock(r,o,a)):a(c):Date.now()-l[t.filetime].getTime()<=o.stale?p(e,r,o,a):(s("lock stale",r,o),void(i?t.unlock(r,(function(e){if(e)return a(e);s("lock stale retry",r,o),n.link(r+".STALE",r,(function(e){n.unlink(r+".STALE",(function(){a(e)}))}))})):(s("acquire .STALE file lock",o),t.lock(r+".STALE",o,(function(t){if(t)return a(t);d(e,r,o,!0,a)})))))}))}function p(e,r,n,o){if(s("notStale",r,n),"number"!=typeof n.wait||n.wait<=0)return s("notStale, wait is not a number"),o(e);var i=Date.now(),a=n.start||i,c=a+n.wait;if(c<=i)return o(e);s("now=%d, wait until %d (delta=%d)",a,c,c-a);var l=Math.min(c-a,n.pollPeriod||100);setTimeout((function(){s("notStale, polling",r,n),t.lock(r,n,o)}),l)}function h(e,r,n){if("number"==typeof r.retries&&r.retries>0){var o=r.retries-1;return s("retryThrow",e,r,o),r.retries=o,t.lockSync(e,r)}throw n}t.lock=function(e,r,i){if("function"==typeof r&&(i=r,r={}),r.req=r.req||u++,s("lock",e,r),r.start=r.start||Date.now(),"number"==typeof r.retries&&r.retries>0){s("has retries",r.retries);var a=r.retries;r.retries=0,c=i,i=function n(o,i){if(s("retry-mutated callback"),a-=1,!o||a<0)return c(o,i);function l(){r.start=Date.now(),s("retrying",r.start),t.lock(e,r,n)}s("lock retry",e,r),r.retryWait?setTimeout(l,r.retryWait):l()}}var c;n.open(e,o,(function(t,o){return t?(s("failed to acquire lock",t),"EEXIST"!==t.code?(s("not EEXIST error",t),i(t)):r.stale?d(t,e,r,!1,i):p(t,e,r,i)):(s("locked",e,o),l[e]=o,n.close(o,(function(){return i()})))})),s("lock return")},t.lockSync=function(e,r){if((r=r||{}).req=r.req||u++,s("lockSync",e,r),r.wait||r.retryWait)throw new Error("opts.wait not supported sync for obvious reasons");try{var i=n.openSync(e,o);l[e]=i;try{n.closeSync(i)}catch(e){}return void s("locked sync!",e,i)}catch(o){if("EEXIST"!==o.code)return h(e,r,o);if(r.stale){var a=n.statSync(e)[t.filetime].getTime();!(a%1e3)&&r.stale%1e3&&(r.stale=1e3*Math.ceil(r.stale/1e3));var c=Date.now()-a;if(c>r.stale)return s("lockSync stale",e,r,c),t.unlockSync(e),t.lockSync(e,r)}return s("failed to lock",e,r,o),h(e,r,o)}}},1171:(e,t,r)=>{e.exports=p,p.Minimatch=h;var n={sep:"/"};try{n=r(1017)}catch(e){}var o=p.GLOBSTAR=h.GLOBSTAR={},i=r(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function d(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function p(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new h(t,r).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}p.filter=function(e,t){return t=t||{},function(r,n,o){return p(r,e,t)}},p.defaults=function(e){if(!e||!Object.keys(e).length)return p;var t=p,r=function(r,n,o){return t.minimatch(r,n,d(e,o))};return r.Minimatch=function(r,n){return new t.Minimatch(r,d(e,n))},r},h.defaults=function(e){return e&&Object.keys(e).length?p.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(u)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,o=e.length;n<o&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},p.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return o;if(""===e)return"";var n,i="",u=!!r.nocase,d=!1,p=[],h=[],f=!1,g=-1,v=-1,_="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function S(){if(n){switch(n){case"*":i+=c,u=!0;break;case"?":i+=a,u=!0;break;default:i+="\\"+n}y.debug("clearStateChar %j %j",n,i),n=!1}}for(var w,b=0,E=e.length;b<E&&(w=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,i,w),d&&l[w])i+="\\"+w,d=!1;else switch(w){case"/":return!1;case"\\":S(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,i,w),f){this.debug("  in class"),"!"===w&&b===v+1&&(w="^"),i+=w;continue}y.debug("call clearStateChar %j",n),S(),n=w,r.noext&&S();continue;case"(":if(f){i+="(";continue}if(!n){i+="\\(";continue}p.push({type:n,start:b-1,reStart:i.length,open:s[n].open,close:s[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(f||!p.length){i+="\\)";continue}S(),u=!0;var T=p.pop();i+=T.close,"!"===T.type&&h.push(T),T.reEnd=i.length;continue;case"|":if(f||!p.length||d){i+="\\|",d=!1;continue}S(),i+="|";continue;case"[":if(S(),f){i+="\\"+w;continue}f=!0,v=b,g=i.length,i+=w;continue;case"]":if(b===v+1||!f){i+="\\"+w,d=!1;continue}if(f){var C=e.substring(v+1,b);try{RegExp("["+C+"]")}catch(e){var I=this.parse(C,m);i=i.substr(0,g)+"\\["+I[0]+"\\]",u=u||I[1],f=!1;continue}}u=!0,f=!1,i+=w;continue;default:S(),d?d=!1:!l[w]||"^"===w&&f||(i+="\\"),i+=w}for(f&&(C=e.substr(v+1),I=this.parse(C,m),i=i.substr(0,g)+"\\["+I[0],u=u||I[1]),T=p.pop();T;T=p.pop()){var A=i.slice(T.reStart+T.open.length);this.debug("setting tail",i,T),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",A,A,T,i);var O="*"===T.type?c:"?"===T.type?a:"\\"+T.type;u=!0,i=i.slice(0,T.reStart)+O+"\\("+A}S(),d&&(i+="\\\\");var R=!1;switch(i.charAt(0)){case".":case"[":case"(":R=!0}for(var P=h.length-1;P>-1;P--){var k=h[P],x=i.slice(0,k.reStart),D=i.slice(k.reStart,k.reEnd-8),N=i.slice(k.reEnd-8,k.reEnd),L=i.slice(k.reEnd);N+=L;var $=x.split("(").length-1,M=L;for(b=0;b<$;b++)M=M.replace(/\)[+*?]?/,"");var F="";""===(L=M)&&t!==m&&(F="$"),i=x+D+L+F+N}if(""!==i&&u&&(i="(?=.)"+i),R&&(i=_+i),t===m)return[i,u];if(!u)return e.replace(/\\(.)/g,"$1");var j=r.nocase?"i":"";try{var H=new RegExp("^"+i+"$",j)}catch(e){return new RegExp("$.")}return H._glob=e,H._src=i,H};var m={};p.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===o?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,r){var n=new h(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var o,i,s=this.set;for(this.debug(this.pattern,"set",s),i=e.length-1;i>=0&&!(o=e[i]);i--);for(i=0;i<s.length;i++){var a=s[i],c=e;if(r.matchBase&&1===a.length&&(c=[o]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,c=t.length;i<a&&s<c;i++,s++){this.debug("matchOne loop");var l,u=t[s],d=e[i];if(this.debug(t,u,d),!1===u)return!1;if(u===o){this.debug("GLOBSTAR",[t,u,d]);var p=i,h=s+1;if(h===c){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,h,f),this.matchOne(e.slice(p),t.slice(h),r))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,h);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",e,p,t,h),p!==a))}if("string"==typeof u?(l=n.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(i===a&&s===c)return!0;if(i===a)return r;if(s===c)return i===a-1&&""===e[i];throw new Error("wtf?")}},7824:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3414:(e,t,r)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=r(1267),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},778:(e,t,r)=>{var n=r(2479);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},4095:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?r:t,e.exports.posix=t,e.exports.win32=r},9069:(e,t,r)=>{var n=r(9491).ok;function o(e){return new Error("getopt: "+e)}function i(e,t,r){var o;for(n(e||""===e,"optstring is required"),n(e.constructor===String,"optstring must be a string"),n(t,"argv is required"),n(t.constructor===Array,"argv must be an array"),this.gop_argv=new Array(t.length),this.gop_options={},this.gop_aliases={},this.gop_optind=void 0!==r?r:2,this.gop_subind=0,o=0;o<t.length;o++)n(t[o].constructor===String,"argv must be string array"),this.gop_argv[o]=t[o];this.parseOptstr(e)}t.BasicParser=i,i.prototype.parseOptstr=function(e){var t,r,n,i,s;for(s=0,e.length>0&&":"==e[0]?(this.gop_silent=!0,s++):this.gop_silent=!1;s<e.length;){if(t=e[s],i=!1,!/^[\w\d\u1000-\u1100]$/.test(t))throw o("invalid optstring: only alphanumeric characters and unicode characters between \\u1000-\\u1100 may be used as options: "+t);for(s+1<e.length&&":"==e[s+1]&&(i=!0,s++),this.gop_options[t]=i;s+1<e.length&&"("==e[s+1];){if(s++,-1==(r=e.indexOf(")",s+1)))throw o('invalid optstring: missing ")" to match "(" at char '+s);n=e.substring(s+1,r),this.gop_aliases[n]=t,s=r}s++}},i.prototype.optind=function(){return this.gop_optind},i.prototype.getopt=function(){if(!(this.gop_optind>=this.gop_argv.length)){var e=this.gop_argv[this.gop_optind];if(0===this.gop_subind){if("-"==e||""===e||"-"!=e[0])return;if("--"==e)return this.gop_optind++,void(this.gop_subind=0);if("-"==e[1])return this.getoptLong();this.gop_subind++,n(this.gop_subind<e.length)}return this.getoptShort()}},i.prototype.getoptShort=function(){var e,t;return n(this.gop_optind<this.gop_argv.length),e=this.gop_argv[this.gop_optind],n(this.gop_subind<e.length),t=e[this.gop_subind],++this.gop_subind>=e.length&&(this.gop_optind++,this.gop_subind=0),t in this.gop_options?this.gop_options[t]?this.getoptArgument(t):{option:t}:this.errInvalidOption(t)},i.prototype.getoptLong=function(){var e,t,r,o;return n(0===this.gop_subind),n(this.gop_optind<this.gop_argv.length),e=this.gop_argv[this.gop_optind],n(e.length>2&&"-"==e[0]&&"-"==e[1]),o=e.indexOf("="),(t=e.substring(2,-1==o?e.length:o))in this.gop_aliases?(r=this.gop_aliases[t],n(r in this.gop_options),this.gop_options[r]?(-1==o?this.gop_optind++:this.gop_subind=o+1,this.getoptArgument(r)):-1!=o?this.errExtraArg(t):(this.gop_optind++,{option:r})):this.errInvalidOption(t)},i.prototype.getoptArgument=function(e){var t;return this.gop_optind>=this.gop_argv.length?this.errMissingArg(e):(t=this.gop_argv[this.gop_optind].substring(this.gop_subind),this.gop_optind++,this.gop_subind=0,{option:e,optarg:t})},i.prototype.errMissingArg=function(e){return this.gop_silent?{option:":",optopt:e}:(process.stderr.write("option requires an argument -- "+e+"\n"),{option:"?",optopt:e,error:!0})},i.prototype.errInvalidOption=function(e){return this.gop_silent||process.stderr.write("illegal option -- "+e+"\n"),{option:"?",optopt:e,error:!0}},i.prototype.errExtraArg=function(e){return this.gop_silent||process.stderr.write("option expects no argument -- "+e+"\n"),{option:"?",optopt:e,error:!0}}},5440:(e,t)=>{t.quote=function(e){return e.map((function(e){return e&&"object"==typeof e?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@\[\\\]^`{|}])/g,"$1\\$2")})).join(" ")};for(var r="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",n="",o=0;o<4;o++)n+=(Math.pow(16,8)*Math.random()).toString(16);t.parse=function(e,t,o){var i=function(e,t,o){var i=new RegExp(["("+r+")","((\\\\['\"|&;()<> \\t]|[^\\s'\"|&;()<> \\t])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')*"].join("|"),"g"),s=e.match(i).filter(Boolean),a=!1;return s?(t||(t={}),o||(o={}),s.map((function(e,i){if(!a){if(RegExp("^"+r+"$").test(e))return{op:e};for(var c=o.escape||"\\",l=!1,u=!1,d="",p=!1,h=0,f=e.length;h<f;h++){var m=e.charAt(h);if(p=p||!l&&("*"===m||"?"===m),u)d+=m,u=!1;else if(l)m===l?l=!1:"'"==l?d+=m:m===c?(h+=1,d+='"'===(m=e.charAt(h))||m===c||"$"===m?m:c+m):d+="$"===m?g():m;else if('"'===m||"'"===m)l=m;else{if(RegExp("^"+r+"$").test(m))return{op:e};if(RegExp("^#$").test(m))return a=!0,d.length?[d,{comment:e.slice(h+1)+s.slice(i+1).join(" ")}]:[{comment:e.slice(h+1)+s.slice(i+1).join(" ")}];m===c?u=!0:d+="$"===m?g():m}}return p?{op:"glob",pattern:d}:d}function g(){var r,o,i,s,a;if(h+=1,"{"===e.charAt(h)){if(h+=1,"}"===e.charAt(h))throw new Error("Bad substitution: "+e.substr(h-2,3));if((r=e.indexOf("}",h))<0)throw new Error("Bad substitution: "+e.substr(h));o=e.substr(h,r-h),h=r}else/[*@#?$!_\-]/.test(e.charAt(h))?(o=e.charAt(h),h+=1):(r=e.substr(h).match(/[^\w\d_]/))?(o=e.substr(h,r.index),h+=r.index-1):(o=e.substr(h),h=e.length);return i="",s=o,void 0===(a="function"==typeof t?t(s):t[s])&&""!=s?a="":void 0===a&&(a="$"),"object"==typeof a?i+n+JSON.stringify(a)+n:i+a}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])):[]}(e,t,o);return"function"!=typeof t?i:i.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var r=t.split(RegExp("("+n+".*?"+n+")","g"));return 1===r.length?e.concat(r[0]):e.concat(r.filter(Boolean).map((function(e){return RegExp("^"+n).test(e)?JSON.parse(e.split(n)[1]):e})))}),[])}},7908:(e,t,r)=>{var n,o=r(9491),i=r(5397),s=r(2361);function a(){u&&(u=!1,i.forEach((function(e){try{process.removeListener(e,l[e])}catch(e){}})),process.emit=f,process.reallyExit=p,n.count-=1)}function c(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof s&&(s=s.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new s).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===u&&d();var r="exit";return t&&t.alwaysLast&&(r="afterexit"),n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&a()}},e.exports.unload=a;var l={};i.forEach((function(e){l[e]=function(){process.listeners(e).length===n.count&&(a(),c("exit",null,e),c("afterexit",null,e),process.kill(process.pid,e))}})),e.exports.signals=function(){return i},e.exports.load=d;var u=!1;function d(){u||(u=!0,n.count+=1,i=i.filter((function(e){try{return process.on(e,l[e]),!0}catch(e){return!1}})),process.emit=m,process.reallyExit=h)}var p=process.reallyExit;function h(e){process.exitCode=e||0,c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var f=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=f.apply(this,arguments);return c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),r}return f.apply(this,arguments)}},5397:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},3717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4624);class o{constructor(e){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,o.isSmartBufferOptions(e))if(e.encoding&&(n.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(!(n.isFiniteInteger(e.size)&&e.size>0))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=Buffer.allocUnsafe(e.size)}else if(e.buff){if(!(e.buff instanceof Buffer))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=e.buff,this.length=e.buff.length}else this._buff=Buffer.allocUnsafe(4096);else{if(void 0!==e)throw new Error(n.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(4096)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){const t=e;return t&&(void 0!==t.encoding||void 0!==t.size||void 0!==t.buff)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return n.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return n.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return n.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return n.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let r;"number"==typeof e?(n.checkLengthValue(e),r=Math.min(e,this.length-this._readOffset)):(t=e,r=this.length-this._readOffset),void 0!==t&&n.checkEncoding(t);const o=this._buff.slice(this._readOffset,this._readOffset+r).toString(t||this._encoding);return this._readOffset+=r,o}insertString(e,t,r){return n.checkOffsetValue(t),this._handleString(e,!0,t,r)}writeString(e,t,r){return this._handleString(e,!1,t,r)}readStringNT(e){void 0!==e&&n.checkEncoding(e);let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}const r=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,r.toString(e||this._encoding)}insertStringNT(e,t,r){return n.checkOffsetValue(t),this.insertString(e,t,r),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,r){return this.writeString(e,t,r),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){void 0!==e&&n.checkLengthValue(e);const t="number"==typeof e?e:this.length,r=Math.min(this.length,this._readOffset+t),o=this._buff.slice(this._readOffset,r);return this._readOffset=r,o}insertBuffer(e,t){return n.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}const t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return n.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return void 0!==t&&n.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,"number"==typeof t?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){n.checkOffsetValue(e),n.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){n.checkOffsetValue(e),n.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){n.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){const t="string"==typeof e?e:this._encoding;return n.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,r,o){let i=this._writeOffset,s=this._encoding;"number"==typeof r?i=r:"string"==typeof r&&(n.checkEncoding(r),s=r),"string"==typeof o&&(n.checkEncoding(o),s=o);const a=Buffer.byteLength(e,s);return t?this.ensureInsertable(a,i):this._ensureWriteable(a,i),this._buff.write(e,i,a,s),t?this._writeOffset+=a:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,i+a):this._writeOffset+=a,this}_handleBuffer(e,t,r){const n="number"==typeof r?r:this._writeOffset;return t?this.ensureInsertable(e.length,n):this._ensureWriteable(e.length,n),e.copy(this._buff,n),t?this._writeOffset+=e.length:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,n+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let r=this._readOffset;if(void 0!==t&&(n.checkOffsetValue(t),r=t),r<0||r+e>this.length)throw new Error(n.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){n.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){const r="number"==typeof t?t:this._writeOffset;this._ensureCapacity(r+e),r+e>this.length&&(this.length=r+e)}_ensureCapacity(e){const t=this._buff.length;if(e>t){let r=this._buff,n=3*t/2+1;n<e&&(n=e),this._buff=Buffer.allocUnsafe(n),r.copy(this._buff,0,0,t)}}_readNumberValue(e,t,r){this.ensureReadable(t,r);const n=e.call(this._buff,"number"==typeof r?r:this._readOffset);return void 0===r&&(this._readOffset+=t),n}_insertNumberValue(e,t,r,o){return n.checkOffsetValue(o),this.ensureInsertable(t,o),e.call(this._buff,r,o),this._writeOffset+=t,this}_writeNumberValue(e,t,r,o){if("number"==typeof o){if(o<0)throw new Error(n.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);n.checkOffsetValue(o)}const i="number"==typeof o?o:this._writeOffset;return this._ensureWriteable(t,i),e.call(this._buff,r,i),"number"==typeof o?this._writeOffset=Math.max(this._writeOffset,i+t):this._writeOffset+=t,this}}t.SmartBuffer=o},4624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4300),o={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function i(e){return"number"==typeof e&&isFinite(e)&&function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}function s(e,t){if("number"!=typeof e)throw new Error(t?o.INVALID_OFFSET_NON_NUMBER:o.INVALID_LENGTH_NON_NUMBER);if(!i(e)||e<0)throw new Error(t?o.INVALID_OFFSET:o.INVALID_LENGTH)}t.ERRORS=o,t.checkEncoding=function(e){if(!n.Buffer.isEncoding(e))throw new Error(o.INVALID_ENCODING)},t.isFiniteInteger=i,t.checkLengthValue=function(e){s(e,!1)},t.checkOffsetValue=function(e){s(e,!0)},t.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw new Error(o.INVALID_TARGET_OFFSET)},t.bigIntAndBufferInt64Check=function(e){if("undefined"==typeof BigInt)throw new Error("Platform does not support JS BigInt type.");if(void 0===n.Buffer.prototype[e])throw new Error(`Platform does not support Buffer.prototype.${e}.`)}},6039:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SocksClientError=t.SocksClient=void 0;const o=r(2361),i=r(1808),s=r(413),a=r(3717),c=r(7282),l=r(8209),u=r(2524),d=r(6017);Object.defineProperty(t,"SocksClientError",{enumerable:!0,get:function(){return d.SocksClientError}});class p extends o.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),l.validateSocksClientOptions(e),this.setState(c.SocksClientState.Created)}static createConnection(e,t){return new Promise(((r,n)=>{try{l.validateSocksClientOptions(e,["connect"])}catch(e){return"function"==typeof t?(t(e),r()):n(e)}const o=new p(e);o.connect(e.existing_socket),o.once("established",(e=>{o.removeAllListeners(),"function"==typeof t?(t(null,e),r()):r(e)})),o.once("error",(e=>{o.removeAllListeners(),"function"==typeof t?(t(e),r()):n(e)}))}))}static createConnectionChain(e,t){return new Promise(((r,o)=>n(this,void 0,void 0,(function*(){try{l.validateSocksClientChainOptions(e)}catch(e){return"function"==typeof t?(t(e),r()):o(e)}let n;e.randomizeChain&&d.shuffleArray(e.proxies);try{for(let t=0;t<e.proxies.length;t++){const r=e.proxies[t],o=t===e.proxies.length-1?e.destination:{host:e.proxies[t+1].ipaddress,port:e.proxies[t+1].port},i=yield p.createConnection({command:"connect",proxy:r,destination:o});n||(n=i.socket)}"function"==typeof t?(t(null,{socket:n}),r()):r({socket:n})}catch(e){"function"==typeof t?(t(e),r()):o(e)}}))))}static createUDPFrame(e){const t=new a.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),i.isIPv4(e.remoteHost.host)?(t.writeUInt8(c.Socks5HostType.IPv4),t.writeUInt32BE(s.toLong(e.remoteHost.host))):i.isIPv6(e.remoteHost.host)?(t.writeUInt8(c.Socks5HostType.IPv6),t.writeBuffer(s.toBuffer(e.remoteHost.host))):(t.writeUInt8(c.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){const t=a.SmartBuffer.fromBuffer(e);t.readOffset=2;const r=t.readUInt8(),n=t.readUInt8();let o;return o=n===c.Socks5HostType.IPv4?s.fromLong(t.readUInt32BE()):n===c.Socks5HostType.IPv6?s.toString(t.readBuffer(16)):t.readString(t.readUInt8()),{frameNumber:r,remoteHost:{host:o,port:t.readUInt16BE()},data:t.readBuffer()}}setState(e){this.state!==c.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=e=>this.onDataReceivedHandler(e),this.onClose=()=>this.onCloseHandler(),this.onError=e=>this.onErrorHandler(e),this.onConnect=()=>this.onConnectHandler();const t=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||c.DEFAULT_TIMEOUT);t.unref&&"function"==typeof t.unref&&t.unref(),this.socket=e||new i.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(c.SocksClientState.Connecting),this.receiveBuffer=new u.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(e=>{setImmediate((()=>{if(this.receiveBuffer.length>0){const t=this.receiveBuffer.get(this.receiveBuffer.length);e.socket.emit("data",t)}e.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==c.SocksClientState.Established&&this.state!==c.SocksClientState.BoundWaitingForConnection&&this.closeSocket(c.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(c.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(c.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==c.SocksClientState.Established&&this.state!==c.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===c.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===c.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===c.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else{if(this.state!==c.SocksClientState.BoundWaitingForConnection){this.closeSocket(c.ERRORS.InternalError);break}4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse()}}onCloseHandler(){this.closeSocket(c.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==c.SocksClientState.Error&&(this.setState(c.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new d.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){const e=this.options.proxy.userId||"",t=new a.SmartBuffer;t.writeUInt8(4),t.writeUInt8(c.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),i.isIPv4(this.options.destination.host)?(t.writeBuffer(s.toBuffer(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=c.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==c.Socks4Response.Granted)this.closeSocket(`${c.ERRORS.Socks4ProxyRejectedConnection} - (${c.Socks4Response[e[1]]})`);else if(c.SocksCommand[this.options.command]===c.SocksCommand.bind){const t=a.SmartBuffer.fromBuffer(e);t.readOffset=2;const r={port:t.readUInt16BE(),host:s.fromLong(t.readUInt32BE())};"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress),this.setState(c.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:r,socket:this.socket})}else this.setState(c.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==c.Socks4Response.Granted)this.closeSocket(`${c.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${c.Socks4Response[e[1]]})`);else{const t=a.SmartBuffer.fromBuffer(e);t.readOffset=2;const r={port:t.readUInt16BE(),host:s.fromLong(t.readUInt32BE())};this.setState(c.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}sendSocks5InitialHandshake(){const e=new a.SmartBuffer;e.writeUInt8(5),this.options.proxy.userId||this.options.proxy.password?(e.writeUInt8(2),e.writeUInt8(c.Socks5Auth.NoAuth),e.writeUInt8(c.Socks5Auth.UserPass)):(e.writeUInt8(1),e.writeUInt8(c.Socks5Auth.NoAuth)),this.nextRequiredPacketBufferSize=c.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(c.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const e=this.receiveBuffer.get(2);5!==e[0]?this.closeSocket(c.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):255===e[1]?this.closeSocket(c.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===c.Socks5Auth.NoAuth?this.sendSocks5CommandRequest():e[1]===c.Socks5Auth.UserPass?this.sendSocks5UserPassAuthentication():this.closeSocket(c.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const e=this.options.proxy.userId||"",t=this.options.proxy.password||"",r=new a.SmartBuffer;r.writeUInt8(1),r.writeUInt8(Buffer.byteLength(e)),r.writeString(e),r.writeUInt8(Buffer.byteLength(t)),r.writeString(t),this.nextRequiredPacketBufferSize=c.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(r.toBuffer()),this.setState(c.SocksClientState.SentAuthentication)}handleInitialSocks5AuthenticationHandshakeResponse(){this.setState(c.SocksClientState.ReceivedAuthenticationResponse),0!==this.receiveBuffer.get(2)[1]?this.closeSocket(c.ERRORS.Socks5AuthenticationFailed):this.sendSocks5CommandRequest()}sendSocks5CommandRequest(){const e=new a.SmartBuffer;e.writeUInt8(5),e.writeUInt8(c.SocksCommand[this.options.command]),e.writeUInt8(0),i.isIPv4(this.options.destination.host)?(e.writeUInt8(c.Socks5HostType.IPv4),e.writeBuffer(s.toBuffer(this.options.destination.host))):i.isIPv6(this.options.destination.host)?(e.writeUInt8(c.Socks5HostType.IPv6),e.writeBuffer(s.toBuffer(this.options.destination.host))):(e.writeUInt8(c.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(c.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==c.Socks5Response.Granted)this.closeSocket(`${c.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${c.Socks5Response[e[1]]}`);else{const t=e[3];let r,n;if(t===c.Socks5HostType.IPv4){const e=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=a.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:s.fromLong(n.readUInt32BE()),port:n.readUInt16BE()},"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress)}else if(t===c.Socks5HostType.Hostname){const t=e[4],o=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);n=a.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),r={host:n.readString(t),port:n.readUInt16BE()}}else if(t===c.Socks5HostType.IPv6){const e=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=a.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:s.toString(n.readBuffer(16)),port:n.readUInt16BE()}}this.setState(c.SocksClientState.ReceivedFinalResponse),c.SocksCommand[this.options.command]===c.SocksCommand.connect?(this.setState(c.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})):c.SocksCommand[this.options.command]===c.SocksCommand.bind?(this.setState(c.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:r,socket:this.socket})):c.SocksCommand[this.options.command]===c.SocksCommand.associate&&(this.setState(c.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==c.Socks5Response.Granted)this.closeSocket(`${c.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${c.Socks5Response[e[1]]}`);else{const t=e[3];let r,n;if(t===c.Socks5HostType.IPv4){const e=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=a.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:s.fromLong(n.readUInt32BE()),port:n.readUInt16BE()},"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress)}else if(t===c.Socks5HostType.Hostname){const t=e[4],o=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);n=a.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),r={host:n.readString(t),port:n.readUInt16BE()}}else if(t===c.Socks5HostType.IPv6){const e=c.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=a.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:s.toString(n.readBuffer(16)),port:n.readUInt16BE()}}this.setState(c.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}t.SocksClient=p},7282:(e,t)=>{"use strict";var r,n,o,i,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.SOCKS_INCOMING_PACKET_SIZES=t.SocksClientState=t.Socks5Response=t.Socks5HostType=t.Socks5Auth=t.Socks4Response=t.SocksCommand=t.ERRORS=t.DEFAULT_TIMEOUT=void 0,t.DEFAULT_TIMEOUT=3e4,t.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},t.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:e=>e+7,Socks4Response:8},function(e){e[e.connect=1]="connect",e[e.bind=2]="bind",e[e.associate=3]="associate"}(r||(r={})),t.SocksCommand=r,function(e){e[e.Granted=90]="Granted",e[e.Failed=91]="Failed",e[e.Rejected=92]="Rejected",e[e.RejectedIdent=93]="RejectedIdent"}(n||(n={})),t.Socks4Response=n,function(e){e[e.NoAuth=0]="NoAuth",e[e.GSSApi=1]="GSSApi",e[e.UserPass=2]="UserPass"}(o||(o={})),t.Socks5Auth=o,function(e){e[e.Granted=0]="Granted",e[e.Failure=1]="Failure",e[e.NotAllowed=2]="NotAllowed",e[e.NetworkUnreachable=3]="NetworkUnreachable",e[e.HostUnreachable=4]="HostUnreachable",e[e.ConnectionRefused=5]="ConnectionRefused",e[e.TTLExpired=6]="TTLExpired",e[e.CommandNotSupported=7]="CommandNotSupported",e[e.AddressNotSupported=8]="AddressNotSupported"}(i||(i={})),t.Socks5Response=i,function(e){e[e.IPv4=1]="IPv4",e[e.Hostname=3]="Hostname",e[e.IPv6=4]="IPv6"}(s||(s={})),t.Socks5HostType=s,function(e){e[e.Created=0]="Created",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.SentInitialHandshake=3]="SentInitialHandshake",e[e.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",e[e.SentAuthentication=5]="SentAuthentication",e[e.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",e[e.SentFinalHandshake=7]="SentFinalHandshake",e[e.ReceivedFinalResponse=8]="ReceivedFinalResponse",e[e.BoundWaitingForConnection=9]="BoundWaitingForConnection",e[e.Established=10]="Established",e[e.Disconnected=11]="Disconnected",e[e.Error=99]="Error"}(a||(a={})),t.SocksClientState=a},8209:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSocksClientChainOptions=t.validateSocksClientOptions=void 0;const n=r(6017),o=r(7282),i=r(2781);function s(e){return e&&"string"==typeof e.host&&"number"==typeof e.port&&e.port>=0&&e.port<=65535}function a(e){return e&&("string"==typeof e.host||"string"==typeof e.ipaddress)&&"number"==typeof e.port&&e.port>=0&&e.port<=65535&&(4===e.type||5===e.type)}function c(e){return"number"==typeof e&&e>0}t.validateSocksClientOptions=function(e,t=["connect","bind","associate"]){if(!o.SocksCommand[e.command])throw new n.SocksClientError(o.ERRORS.InvalidSocksCommand,e);if(-1===t.indexOf(e.command))throw new n.SocksClientError(o.ERRORS.InvalidSocksCommandForOperation,e);if(!s(e.destination))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsDestination,e);if(!a(e.proxy))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxy,e);if(e.timeout&&!c(e.timeout))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsTimeout,e);if(e.existing_socket&&!(e.existing_socket instanceof i.Duplex))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsExistingSocket,e)},t.validateSocksClientChainOptions=function(e){if("connect"!==e.command)throw new n.SocksClientError(o.ERRORS.InvalidSocksCommandChain,e);if(!s(e.destination))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsDestination,e);if(!(e.proxies&&Array.isArray(e.proxies)&&e.proxies.length>=2))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxiesLength,e);if(e.proxies.forEach((t=>{if(!a(t))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxy,e)})),e.timeout&&!c(e.timeout))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsTimeout,e)}},2524:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiveBuffer=void 0,t.ReceiveBuffer=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){const t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}}},6017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=t.SocksClientError=void 0;class r extends Error{constructor(e,t){super(e),this.options=t}}t.SocksClientError=r,t.shuffleArray=function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}}},7874:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6039),t)},6200:(e,t,r)=>{"use strict";const n=r(1003),o=/\s/,i=/\r|\n/,s=/^(Host|Match)$/i,a=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,c=/^(?:CertificateFile|IdentityFile|User)$/i,l=/^(Include|IdentityFile)$/i,u=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function d(e,t){return t.hasOwnProperty(e.param)&&t[e.param]===e.value}function p(e){for(const t of e)if(s.test(t.param))for(const e of t.config)if(e.before)return e.before;return"  "}class h extends Array{compute(e){const t={},r=(e,r)=>{u.includes(e)?(t[e]||(t[e]=[])).push(r):null==t[e]&&(t[e]=r)};for(const t of this)1===t.type&&("Host"===t.param?n(t.value,e)&&(r(t.param,t.value),t.config.filter((e=>1===e.type)).forEach((e=>r(e.param,e.value)))):"Match"===t.param||r(t.param,t.value));return t}find(e={}){if("function"==typeof e)return super.find(e);if(!e||!("Host"in e)&&!("Match"in e))throw new Error("Can only find by Host or Match");return super.find((t=>d(t,e)))}remove(e={}){if(!e||!("Host"in e)&&!("Match"in e))throw new Error("Can only remove by Host or Match");const t="function"==typeof e?super.findIndex(e):super.findIndex((t=>d(t,e)));if(t>=0)return this.splice(t,1)}toString(){return this.constructor.stringify(this)}append(e){const t=p(this),r=this.length>0?this[this.length-1]:null;let n=r&&r.config||this,o=this,i=n.length>0?n[n.length-1]:r;i&&!i.after&&(i.after="\n");for(const r in e){const a={type:1,param:r,separator:" ",value:e[r],before:"",after:"\n"};s.test(r)?(n=o,i&&"\n"===i.after&&(i.after+="\n"),n.push(a),n=a.config=new h):(a.before=n===o?"":t,n.push(a)),i=a}return o}prepend(e,t=!1){const r=p(this);let n=this,o=0;if(t){for(;o<this.length&&!s.test(this[o].param);)o+=1;if(o>=this.length)return this.append(e)}let i=!1,a=0;for(const t in e){a+=1;const c={type:1,param:t,separator:" ",value:e[t],before:"",after:"\n"};s.test(t)?(n.splice(o,0,c),n=c.config=new h,i=!0):(a===Object.keys(e).length&&(c.after+="\n"),i?(c.before=r,n.push(c)):(n.splice(o,0,c),o+=1,l.test(t)&&(c.after+="\n")))}return n}static stringify(e){let t="";function r(e,t){return Array.isArray(e)?e.map((e=>r(e,o.test(e)))).join(" "):t?`"${e}"`:e}function n(e){const t=e.quoted||c.test(e.param)&&o.test(e.value),n=r(e.value,t);return`${e.param}${e.separator}${n}`}const i=e=>{t+=e.before,2===e.type?t+=e.content:1===e.type&&u.includes(e.param)?[].concat(e.value).forEach((function(r,o,i){t+=n({...e,value:r}),o<i.length-1&&(t+=`\n${e.before}`)})):1===e.type&&(t+=n(e)),t+=e.after,e.config&&e.config.forEach(i)};return e.forEach(i),t}static get DIRECTIVE(){return 1}static get COMMENT(){return 2}static parse(e){let t=0,r=l(),n=new h,c=n;function l(){return e[t++]}function u(){let e="";for(;o.test(r);)e+=r,r=l();return e}function d(){let e=u();return"="===r&&(e+=r,r=l()),e+u()}function p(){let e="",t=!1,n=!1;for(;r&&!i.test(r);)n?(e+='"'===r?r:`\\${r}`,n=!1):'"'!==r||e&&!t?"\\"===r?n=!0:e+=r:t=!t,r=l();if(t||n)throw new Error(`Unexpected line break at ${e}`);return e.trim()}function f(){const e=[];let t="",n=!1,o=!1;for(;r&&!i.test(r);)o?(t+='"'===r?r:`\\${r}`,o=!1):'"'===r?n=!n:"\\"===r?o=!0:n?t+=r:/[ \t]/.test(r)?t&&(e.push(t),t=""):t+=r,r=l();if(n||o)throw new Error(`Unexpected line break at ${e.concat(t).join(" ")}`);return t&&e.push(t),e.length>1?e:e[0]}function m(){const e=u(),t="#"===r?function(){let e="";for(;r&&!i.test(r);)e+=r,r=l();return{type:2,content:e}}():function(){const e=function(){let e="";for(;r&&/[^ \t=]/.test(r);)e+=r,r=l();return e}(),t=a.test(e),n={type:1,param:e,separator:d(),quoted:!t&&'"'===r,value:t?f():p()};return n.quoted||delete n.quoted,n}(),n=function(){let e="";for(;i.test(r);)e+=r,r=l();return e}();return t.before=e,t.after=n,t}for(;r;){let e=m();1===e.type&&s.test(e.param)?(n=c,n.push(e),n=e.config=new h):n.push(e)}return c}}e.exports=h},1003:e=>{"use strict";function t(e,t){return e=function(e,t){for(let t of"\\()[]{}.+^$|")e=e.replace(new RegExp("\\"+t,"g"),"\\"+t);return e}(e),e=e.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+e+")$").test(t)}e.exports=function(e,r){const n=Array.isArray(e)?e:e.split(/,/);let o=!1;for(const e of n){if("!"==e[0]&&t(e.slice(1),r))return!1;t(e,r)&&(o=!0)}return o}},2130:(e,t,r)=>{"use strict";const n=r(2037),o=r(6224),i=r(6560),{env:s}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const r=a||0;if("dumb"===s.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in s))||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},3299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCleanRemoteScript=void 0;const n=r(7674);t.getCleanRemoteScript=function(e,t){return t.platform===n.Platform.Windows?`\n\t\t\tGet-Process node | Where-Object Path -match ".*\\\\.vscode-server.*\\\\bin\\\\.*" | ForEach-Object {Stop-Process -Id $_.Id}\n\t\t\tRemove-Item -Force -Recurse $env:USERPROFILE\\${e}\\${t.cleanRemoteUserData?"":"bin"}\n\t\t`:`\n\t\t\tkill -9 \`ps ax | grep "out/server-main.js" | grep -v grep | awk '{print $1}'\`\n\t\t\trm -rf $HOME/${e}/${t.cleanRemoteUserData?"":"bin"}\n\t\t`}},9377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteCleanService=void 0;const n=r(9496),o=r(3299),i=r(3170),s=r(4938),a=r(9266),c=r(5806),l=r(7674),u=r(415),d=r(7174),p=r(6737),h=r(8904),f=r(364),m=r(3958);t.RemoteCleanService=class{constructor(e,t){this.deps={logger:t,timer:new m.Timer,serverDataPath:e}}async cleanRemoteServerAndUserData(e){return this._clean(e,!0)}async cleanRemoteServer(e){let t;try{await this._clean(e,!1),t=n.l10n.t("Killed VS Code Server on {0}.",e.hostName)}catch{t=n.l10n.t("Failed to kill VS Code Server on {0}.",e.hostName)}const r=n.l10n.t("Open Logs");if(await n.window.showInformationMessage(t,r)===r)return this.deps.logger.showLog()}async _clean(e,t){const r=await this.getCleanRemoteScriptLinux(t),o=await this.getCleanRemoteScriptWindows(t),h={deps:this.deps,useExecServer:!1,host:e};if(e.toString()===(0,u.getActiveRemote)()?.toString()&&(0,i.useLocalServer)())return await(0,c.killCurrentRemoteServer)(t),await(0,s.killLocalServer)(h),void await n.commands.executeCommand("vscode.newWindow",{remoteAuthority:null,reuseWindow:!0});if((0,i.useLocalServer)())await(0,a.runCommandOnRemote)(h,r,o),await(0,s.killLocalServer)(h);else{const t=await(0,i.getPlatformForHost)(e);if(!t)return;const n=t===l.Platform.Windows?o:r,s=await(0,d.generateMultiLineCommand)(h,t,n,{quoteForShell:!0});await(0,p.runSshTerminalCommandWithLogin)(h,{command:s,nickname:"Uninstall VS Code Server",systemInteractor:f.defaultSystemInteractor})}}async getCleanRemoteScriptLinux(e){const{serverDataFolderName:t}=await(0,h.getProductInfo)();return(0,o.getCleanRemoteScript)(t,{platform:l.Platform.Linux,cleanRemoteUserData:e})}async getCleanRemoteScriptWindows(e){const{serverDataFolderName:t}=await(0,h.getProductInfo)();return(0,o.getCleanRemoteScript)(t,{platform:l.Platform.Windows,cleanRemoteUserData:e})}}},1531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComposedInteractor=t.getDownloadRequestInteractor=t.RemoteServerProgressInteractor=t.getInstallScriptOutputInteractor=t.getServerErrorLogOutputInteractor=t.getInteractorForMsg=t.getInteractorForInstallWarning=t.DuoTwoFacInteractor=t.TwoFacInteractor=t.PasswordInteractor=t.getExitCode=t.PassphraseInteractor=t.DifferingHostKeyInteractor=t.FingerprintInteractor=t.MitmInteractor=void 0;const n=r(9496),o=r(9763),i=r(810),s=r(5207),a=r(5260),c=r(3725);class l{constructor(){}get id(){return l.ID}async onData(e){if(e.match("Port forwarding is disabled to avoid man-in-the-middle attacks."))throw o.SshResolverError.Create(o.SshResolverFailureReason.MitmPortForwardingDisabled,n.l10n.t("Port forwarding is disabled"));return{}}}t.MitmInteractor=l,l.ID="mitm";class u{constructor(e,t){this.params=e,this.confirmationProvider=t}get id(){return u.ID}async onData(e,t,r){const n={postAction:"keep"};let o;if((e=e.trim()).includes("Are you sure you want to continue connecting")&&(o=e.match(/fingerprint\sis\s(.+)\./))){this.params.deps.logger.debug("Detected fingerprint confirmation message"),n.postAction="consume",this.params.deps.logger.debug("Showing fingerprint confirmation dialog");const e=await this.confirmationProvider(this.params.host.hostName,o[1],t);e?(this.params.deps.logger.debug("Got fingerprint response: "+e),n.response=e):(this.params.deps.logger.debug("Fingerprint dialog canceled"),n.canceled=!0)}else if(s.isWindows&&(e.includes("The authenticity of host ")||""===e&&r?.detectedServerKey)){this.params.deps.logger.debug("Detected first line fingerprint confirmation message");const e=r?.detectedServerKey||"(unknown)";n.postAction="consume",this.params.deps.logger.debug("Showing fingerprint confirmation dialog");const o=await this.confirmationProvider(this.params.host.hostName,e,t);o?(this.params.deps.logger.debug("Got fingerprint response: "+o),n.response=o):(this.params.deps.logger.debug("Fingerprint dialog canceled"),n.canceled=!0)}return n}}t.FingerprintInteractor=u,u.ID="fingerprint";class d{constructor(e,t){this.confirmationProvider=e,this.logger=t}get id(){return d.ID}async onData(e,t,r){const n={postAction:"keep"};if((e=e.trim()).includes("Are you sure you want to continue connecting")&&e.includes("Offending key for IP in")&&e.includes("Matching host key in")){this.logger.debug('Detected "Offending key for IP in... Matching host key in...." continuation dialog.'),n.postAction="consume";const r=e.substring(e.indexOf("Warning"),e.indexOf("Are")).trim(),o=await this.confirmationProvider(r,t);o?(this.logger.debug("Got continuation response: "+o),n.response=o):(this.logger.debug("Continuation dialog canceled"),n.canceled=!0)}return n}}t.DifferingHostKeyInteractor=d,d.ID="differing host key";class p{constructor(e,t){this.passphraseProvider=e,this.logger=t}get id(){return p.ID}async onData(e,t){const r={postAction:"keep"},n=e.trim().split("\n");if(n.some((e=>e.indexOf("Enter passphrase for")>=0))){this.logger.debug("Detected passphrase message"),r.postAction="consume";const e=await this.passphraseProvider(void 0,void 0,t);"string"==typeof e?(this.logger.debug("Got passphrase response"),r.response=e,r.isPassword=!0):(this.logger.debug("Passphrase dialog canceled"),r.canceled=!0)}else n.some((e=>e.indexOf("Identity added:")>=0))&&(r.postAction="consume");return r}}t.PassphraseInteractor=p,p.ID="passphrase",t.getExitCode=function(e,t){const r=new RegExp(`${t}##([0-9]*)##`).exec(e);if(r)try{const e=parseInt(r[1]);return Number.isNaN(e)?void 0:e}catch(e){return}return 0};class h{constructor(e,t){this.passwordProvider=e,this.logger=t}get id(){return h.ID}async onData(e,t,r){const n={postAction:"keep"},o=function(e,t){if(e.includes("Password:"))return{user:""};const r=(0,c.stripEscapeSequences)(e).match(/([a-zA-Z0-9\-_@\.]*)'s password:/);return r?{user:r[1],message:t?t.detail:void 0}:void 0}(e,r);if(o&&"string"==typeof o.user){this.logger.debug("Showing password prompt"),n.postAction="consume";const e=await this.passwordProvider(o.user,o.message,t);"string"==typeof e?(this.logger.debug("Got password response"),n.response=e,n.isPassword=!0):(this.logger.debug("Password dialog canceled"),n.canceled=!0)}return n}}t.PasswordInteractor=h,h.ID="password";class f{constructor(e,t){this.verificationCodeProvider=e,this.logger=t}get id(){return f.ID}async onData(e,t){const r={postAction:"keep"};if(e.includes("Verification code:")){this.logger.debug("Detected verification code prompt"),r.postAction="consume";const e=await this.verificationCodeProvider("Enter verification code",t);"string"==typeof e?(this.logger.debug("Got verification code response"),r.response=e,r.isPassword=!0):(this.logger.debug("Verification code dialog canceled"),r.canceled=!0)}return r}}t.TwoFacInteractor=f,f.ID="2fa";class m{constructor(e,t){this.verificationCodeProvider=e,this.logger=t}get id(){return m.ID}async onData(e,t){const r={postAction:"keep"};if(e.includes("Passcode:")){this.logger.debug("Detected passcode prompt"),r.postAction="consume";const e=await this.verificationCodeProvider("Enter passcode",t);"string"==typeof e?(this.logger.debug("Got passcode response"),r.response=e,r.isPassword=!0):(this.logger.debug("passcode dialog canceled"),r.canceled=!0)}return r}}function g(e,t="consume"){const r="string"==typeof e?new RegExp((0,c.escapeRegExpCharacters)(e)):e;let n;const o=new Promise((e=>{n=e}));let i=!1;return{interactor:new class{get id(){return"anonymous"}async onData(e){if(i)return{};let o;return(o=(e=(0,c.stripEscapeSequences)(e)).match(r))?(i=!0,n(o),{postAction:t}):{}}},result:o}}t.DuoTwoFacInteractor=m,m.ID="duo-2fa",t.getInteractorForInstallWarning=function(e,t,r="consume"){return g(`${e}$$${t}$$`,r)},t.getInteractorForMsg=g,t.getServerErrorLogOutputInteractor=function(){const e=g(/'Server did not start successfully([\s\S]*?)End of server log/m,"keep");return{interactor:e.interactor,result:e.result.then((e=>{const t=e[0];return t&&(0,c.stripEscapeSequences)(t)}))}},t.getInstallScriptOutputInteractor=function(e){const t=g(new RegExp(`${e}: start([\\s\\S]*?)${e}: end|(${e}##[0-9]*##)`,"m"));return{interactor:t.interactor,result:t.result.then((e=>{const t=e[1]||e[2];return t&&(0,c.stripEscapeSequences)(t)}))}},t.RemoteServerProgressInteractor=class{constructor(e,t){this.progress=t,this.progressCodeRegex=new RegExp(`${e}%%([0-9]+)%%`)}get id(){return"anonymous"}updateProgress(e){const t=a.RemoteProgressMessages[e];t&&this.progress.report({message:t})}async onData(e){let t;if((t=(e=(0,c.stripEscapeSequences)(e)).match(this.progressCodeRegex))&&t[1]){const e=parseInt(t[1]);return this.updateProgress(e),{postAction:"consume"}}return{}}},t.getDownloadRequestInteractor=function(e,t){const r=function(e,t,r){const n=g(new RegExp(`${e}([\\s\\S]*?)${t}`,"m"));return{interactor:n.interactor,result:n.result.then((e=>{const t=e[1]&&(0,c.stripEscapeSequences)(e[1]);return(0,c.parseStringMap)(t,void 0,r)}))}}((0,i.getDownloadServerStartTrigger)(e),(0,i.getDownloadServerEndTrigger)(e),t);return{interactor:r.interactor,result:r.result.then((e=>{const{artifact:r,destFolder:i,destFolder2:s}=e;if(!r||!i)throw t.error("Got malformed request to download on client, missing data: "+JSON.stringify(e)),o.SshResolverError.Create(o.SshResolverFailureReason.BadLocalDownloadRequest,n.l10n.t("Client-side server download failed"));return{artifact:r,destPath:i+(s||"")}}))}},t.ComposedInteractor=class{constructor(e){this.interactors=e}get id(){return"composed"}async onData(e){for(const t of this.interactors){const r=await t.onData(e);if("consume"===r.postAction)return r}return{postAction:"keep"}}}},2017:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.openEmptyWindowOnSshHost=t.CommandService=void 0;const o=r(9496),i=r(9705),s=r(9173),a=r(2480),c=r(4938),l=r(415),u=r(8691),d=r(2386),p=r(3958),h=[];function f(e){return(t,r,n)=>{if("function"!=typeof n.value)throw new Error("not supported");h.push({commandId:e,method:n.value})}}function m(e){return!!e&&"string"==typeof e.host}class g{constructor(e,t,r,n,i){this.folderHistoryManager=t,this.cleanSvc=r,this.resolver=n,this.deps={logger:e,timer:new p.Timer,serverDataPath:i},this.disposables=h.map((({commandId:e,method:t})=>o.commands.registerCommand(e,((...e)=>t.apply(this,e)))))}showLog(){this.deps.logger.showLog()}openWebUI(){if(this.resolver.lastResolverResult&&"port"in this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.remoteListeningOn){const e=this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.remoteListeningOn.port;let t=o.Uri.parse("http://localhost"+(e?`:${e}`:""));this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.webUiAccessToken&&(t=t.with({query:`${a.webUITokenParameter}=${this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.webUiAccessToken}`})),o.env.openExternal(t)}}async openEmptyWindow(e){const t=m(e)?new d.HostInfo(e.host,e.userName,e.port):await(0,s.interactivelyPickSshHost)(this.deps.logger);t&&_(t)}async openEmptyWindowOnCurrentHost(){const e=(0,l.getActiveRemote)();e&&_(e)}async openEmptyWindowInCurrentWindow(e){const t=m(e)?new d.HostInfo(e.host,e.userName,e.port):await(0,s.interactivelyPickSshHost)(this.deps.logger);t&&_(t,!0)}async openConfigFile(){await(0,u.configureSshHosts)(this.deps.logger)}async cleanDevBox(){const e=await(0,s.interactivelyPickSshHost)(this.deps.logger);if(e)return this.cleanSvc.cleanRemoteServerAndUserData(e)}async cleanCurrentRemoteServer(){const e=(0,l.getActiveRemote)();if(e)return this.cleanSvc.cleanRemoteServer(e)}async cleanRemoteServer(){const e=await(0,s.interactivelyPickSshHost)(this.deps.logger);if(e)return this.cleanSvc.cleanRemoteServer(e)}async cleanLocalServer(){const e=await(0,s.interactivelyPickSshHost)(this.deps.logger);e&&await(0,c.killLocalServer)({deps:this.deps,host:e})}async getHelp(){return(0,i.getHelp)()}async getStarted(){return(0,i.getStarted)()}async reportIssue(){return(0,i.reportIssue)()}async settings(){return(0,i.openSettings)()}async provideFeedback(){return(0,i.provideFeedback)()}async addNewSshHost(){return(0,u.addSshHost)()}getActiveSshRemote(){return(0,l.getActiveRemote)()}async getConfiguredHostnames(){return await(0,u.getConfiguredSshHostNames)()}async openRemoteSshTarget(e,t){await _(e,!t)}async getFolderHistory(e){return this.folderHistoryManager.getFolders(e)}async deleteFolderFromHistory(e){this.folderHistoryManager.removeFolder(e)}dispose(){this.disposables.forEach((e=>e.dispose()))}}function v(e){return`ssh-remote+${d.HostInfo.toAuthorityString(e)}`}async function _(e,t=!1){await o.commands.executeCommand("vscode.newWindow",{remoteAuthority:v(e),reuseWindow:t})}t.CommandService=g,n([f("opensshremotes.showLog")],g.prototype,"showLog",null),n([f("opensshremotes.openWebUI")],g.prototype,"openWebUI",null),n([f("opensshremotes.openEmptyWindow")],g.prototype,"openEmptyWindow",null),n([f("opensshremotes.openEmptyWindowOnCurrentHost")],g.prototype,"openEmptyWindowOnCurrentHost",null),n([f("opensshremotes.openEmptyWindowInCurrentWindow")],g.prototype,"openEmptyWindowInCurrentWindow",null),n([f("opensshremotes.openConfigFile")],g.prototype,"openConfigFile",null),n([f("opensshremotes.cleanDevBox")],g.prototype,"cleanDevBox",null),n([f("opensshremotes.cleanCurrentRemoteServer")],g.prototype,"cleanCurrentRemoteServer",null),n([f("opensshremotes.cleanRemoteServer")],g.prototype,"cleanRemoteServer",null),n([f("opensshremotes.cleanLocalServer")],g.prototype,"cleanLocalServer",null),n([f("opensshremotes.getHelp")],g.prototype,"getHelp",null),n([f("opensshremotes.getStarted")],g.prototype,"getStarted",null),n([f("opensshremotes.reportIssue")],g.prototype,"reportIssue",null),n([f("opensshremotes.settings")],g.prototype,"settings",null),n([f("opensshremotes.provideFeedback")],g.prototype,"provideFeedback",null),n([f("opensshremotes.addNewSshHost")],g.prototype,"addNewSshHost",null),n([f("remote-internal.getActiveSshRemote")],g.prototype,"getActiveSshRemote",null),n([f("remote-internal.getConfiguredHostnames")],g.prototype,"getConfiguredHostnames",null),n([f("remote-internal.openRemoteSshTarget")],g.prototype,"openRemoteSshTarget",null),n([f("remote-internal.getSshFoldersHistory")],g.prototype,"getFolderHistory",null),n([f("remote-internal.deleteSshFolderFromHistory")],g.prototype,"deleteFolderFromHistory",null),t.openEmptyWindowOnSshHost=_},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickSshConfigurationFile=void 0;const n=r(9496),o=r(3170),i=r(8691);class s{constructor(e){this.label=e}}class a{constructor(){this.label=n.l10n.t("Help"),this.description=n.l10n.t("about SSH configuration files"),this.alwaysShow=!0}}class c{constructor(){this.label=n.l10n.t("Settings"),this.description=n.l10n.t("specify a custom configuration file"),this.alwaysShow=!0}}t.pickSshConfigurationFile=async function(e){const t=(0,o.sshConfigurationFile)();return await async function(e){return new Promise(((t,r)=>{const o=function(e){const t=n.window.createQuickPick();return t.ignoreFocusOut=!0,"string"==typeof e?(t.placeholder=n.l10n.t("Edit custom SSH configuration file"),t.items=[new s(e),new c,new a]):(t.placeholder=n.l10n.t("Select SSH configuration file to update"),t.items=[...e.map((e=>new s(e))),new c,new a]),t}(e);let i;o.onDidAccept((()=>{const e=o.selectedItems[0];e instanceof a?i={type:"command",id:"help"}:e instanceof c?i={type:"command",id:"settings"}:e.label&&(i={type:"file",path:e.label}),o.hide()})),o.onDidHide((()=>{t(i||void 0)})),o.show()}))}(t||(0,i.defaultSshConfigurationFiles)())}},7150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolverType=void 0,t.ResolverType="ssh-remote"},9329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRemoteUsingExecServer=t.tunnelToExecServer=t.ExecServerCache=void 0;const n=r(9676),o=r(7597),i=r(9598),s=r(6113),a=r(7147),c=r(5687),l=r(1017),u=r(9496),d=r(3170),p=r(9763),h=r(8286),f=r(8904),m=r(2208),g=r(9783);void 0===globalThis.crypto&&(globalThis.crypto=s.webcrypto);let v=0;class _{static get(e){return this.instance||(this.instance=new _(e)),this.instance}constructor(e){this.logger=e,this.servers=new Map}async getOrInsert(e,t){const r=this.servers.get(e);if(!r)return this.insert(e,t);try{const t=await r;if(await Promise.race([t.cnx.call("ping",{}).then((()=>!0)),new Promise((e=>setTimeout((()=>e(!1)),3e3)))]))return this.logger.debug(`Verified and reusing cached exec server for ${e}`),t;this.logger.debug(`Existing exec server for ${e} timed out`)}catch(t){this.logger.debug(`Existing exec server for ${e} errored (${t})`)}return this.insert(e,t)}insert(e,t){const r=t();return r.then((t=>{this.logger.debug(`Exec server for ${e} created and cached`),t.cnx.onClose((t=>{this.servers.get(e)===r&&(this.logger.debug(`Exec server for ${e} closed (${t||"gracefully"})`),this.servers.delete(e))}))}),(t=>{this.servers.get(e)===r&&(this.logger.error(`Exec server for ${e} failed: ${t}`),this.servers.delete(e))})),this.logger.debug(`Initizing new exec server for ${e}`),this.servers.set(e,r),r}}function y(e,t,r,n,o=10){c.get(t,{method:r,agent:(0,g.getAgent)()},(t=>{if(t.statusCode&&t.statusCode>=300&&t.statusCode<400&&t.headers.location&&o>0)return y(e,t.headers.location,r,n,o-1),void t.resume();t.on("data",(t=>e.call("httpbody",{req_id:n,complete:!1,segment:t}))),t.on("end",(()=>e.call("httpbody",{req_id:n,complete:!0,segment:new Uint8Array}))),e.call("httpheaders",{req_id:n,status_code:t.statusCode||503,headers:Object.entries(t.headers).flatMap((([e,t])=>t instanceof Array?t.map((t=>[e,t||""])):[[e,t||""]]))})})).on("error",(t=>{e.call("httpbody",{req_id:n,complete:!0,segment:Buffer.from(t.toString())})}))}async function S(e,t,c){return _.get(t).getOrInsert(e,(async()=>{const e=async function(){return b??(b=async function(){const e=await Promise.resolve().then((()=>r(6805)));let t=(0,a.readFileSync)(l.resolve(__dirname,e));for(let e=0;e+48<E.length;e+=48){const r=(0,s.createDecipheriv)("aes-256-cbc",E.slice(e+T,e+T+32),E.slice(e,e+T));t=Buffer.concat([r.update(t),r.final()])}await i.default(t)}().catch((e=>{throw b=void 0,e})))}(),{installResult:u,tunnelResult:d}=await c();t.info(`Resolving exec server at ${p.ListenTarget.display(d.localTarget)}`);const h=await new Promise(((e,t)=>{const r=p.ListenTarget.connect(d.localTarget);r.on("connect",(()=>e(new o.Connection(r,n.encode)))),r.on("error",(e=>t(e)))})),{challenge:f}=await h.call("challenge_issue",{token:u.execServer?.token});return await e,await h.call("challenge_verify",{response:i.sign(f)}),h.onNotification("makehttpreq",(({url:e,method:t,req_id:r})=>y(h,e,t,r))),{cnx:h,execServer:new o.ExecServer(h)}}))}t.ExecServerCache=_,t.tunnelToExecServer=S,t.resolveRemoteUsingExecServer=async function(e,t,r,n){const o="remotessh",{cnx:i,execServer:s}=await S(e,t,(()=>Promise.resolve({installResult:r,tunnelResult:n}))),a=await(0,f.getProductInfo)();return function(e,t){let r;e.onNotification("serverlog",(e=>{const n=2===e.level?"debug":5===e.level?"error":3===e.level?"trace":"info";t[n](`[server] ${e.line}`),(e=>{if(e.includes("Installing and setting up"))return r?.promise.resolve(),void u.window.withProgress({title:w,location:u.ProgressLocation.Notification},(e=>{const t=(0,h.getDeferred)();return r={promise:t,handle:e,lastPercent:0},t.promise}));if(!r)return;if(e.includes("Server setup complete"))return r.promise.resolve(),void(r=void 0);const t=e.match(/.*server download progress.* \((\d+)\%\)/);if(t){const[,e]=t,n=Number(e);r.handle.report({increment:n-r.lastPercent}),r.lastPercent=n}})(e.line)}))}(i,t),new u.ManagedResolvedAuthority((async()=>{const e=await s.serve({socketId:v++,extensions:(0,d.getSshDefaultExtensions)(),quality:a.quality,commit:a.commit,connectionToken:o,compress:!0}),t=new u.EventEmitter,r=new u.EventEmitter;return e.onEnd.then((()=>t.fire())),i.onClose((e=>r.fire(e))),{send:t=>e.write(t),end:()=>e.end(),onDidEnd:t.event,onDidClose:r.event,onDidReceiveMessage:e.onData}}),o)};const w=u.l10n.t("Downloading VS Code Server...");let b;const E=(new TextEncoder).encode(m.serverLicense.join("\n")),T=16},3170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxReconnectionAttempts=t.logLevel=t.LogLevel=t.suppressWindowsSshWarning=t.scriptOutputConnectTimeoutSeconds=t.connectTimeout=t.savePlatformForHost=t.interactivelyPickSshPlatform=t.getPlatformForHost=t.remotePlatform=t.remotePortRanges=t.force32BitWindows=t.showLoginTerminal=t.useLocalServer=t.remoteServerListenOnSocket=t.defaultForwardedPorts=t.serverInstallPath=t.sshPath=t.localDownload=t.sshConfigurationFile=t.useFlock=t.lockfilesInTmp=t.getSshDefaultExtensions=t.externalSshAskpass=t.enableRemoteCommand=t.enableDynamicForwarding=t.enableX11Forwarding=t.enableAgentForwarding=t.useExecServer=t.enableWebAccess=t.CONFIG_FILE_SETTING=void 0;const n=r(9496),o=r(7674),i=r(5207),s=r(3725);function a(){return!!n.workspace.getConfiguration().get("remote.SSH.remoteServerListenOnSocket")}function c(){const e=n.workspace.getConfiguration().get("remote.SSH.remotePlatform",{}),t={};return Object.keys(e).forEach((r=>{"macOS"===e[r]?t[r]=o.Platform.MacOS:"windows"===e[r]?t[r]=o.Platform.Windows:"linux"===e[r]&&(t[r]=o.Platform.Linux)})),t}async function l(e){const t=await n.window.showQuickPick([{label:"Linux",platform:o.Platform.Linux},{label:"Windows",platform:o.Platform.Windows},{label:"macOS",platform:o.Platform.MacOS}],{placeHolder:e,ignoreFocusOut:!0});if(t)return t.platform}t.CONFIG_FILE_SETTING="remote.SSH.configFile",t.enableWebAccess=function(){return!!n.workspace.getConfiguration().get("remote.SSH.enableWebAccess")},t.useExecServer=function(){return n.workspace.getConfiguration().get("remote.SSH.useExecServer")??"insider"===n.env.appQuality},t.enableAgentForwarding=function(){return!1!==n.workspace.getConfiguration().get("remote.SSH.enableAgentForwarding")},t.enableX11Forwarding=function(){return!1!==n.workspace.getConfiguration().get("remote.SSH.enableX11Forwarding")},t.enableDynamicForwarding=function(){return!1!==n.workspace.getConfiguration().get("remote.SSH.enableDynamicForwarding")},t.enableRemoteCommand=function(){return n.workspace.getConfiguration().get("remote.SSH.enableRemoteCommand")??!1},t.externalSshAskpass=function(){return n.workspace.getConfiguration().get("remote.SSH.externalSSH_ASKPASS")??!1},t.getSshDefaultExtensions=function(){const e=n.workspace.getConfiguration().get("remote.SSH.defaultExtensions"),t=Array.isArray(e)?e:[],r=/^[a-z0-9][a-z0-9\-]*\.[a-z0-9][a-z0-9\-]*$/i;return t.filter((e=>r.test(e)))},t.lockfilesInTmp=function(){return!!n.workspace.getConfiguration().get("remote.SSH.lockfilesInTmp")},t.useFlock=function(){return n.workspace.getConfiguration().get("remote.SSH.useFlock")??!0},t.sshConfigurationFile=function(){return n.workspace.getConfiguration().get(t.CONFIG_FILE_SETTING)},t.localDownload=function(){const e=n.workspace.getConfiguration().get("remote.SSH.allowLocalServerDownload");if("boolean"==typeof e&&!e)return"off";const t=n.workspace.getConfiguration().get("remote.SSH.localServerDownload");return"off"===t?"off":"always"===t?"always":"auto"},t.sshPath=function(){return n.workspace.getConfiguration().get("remote.SSH.path")},t.serverInstallPath=function(){return n.workspace.getConfiguration().get("remote.SSH.serverInstallPath")??{}},t.defaultForwardedPorts=function(){const e=n.workspace.getConfiguration().get("remote.SSH.defaultForwardedPorts");return Array.isArray(e)?e:[]},t.remoteServerListenOnSocket=a,t.useLocalServer=function(){if(a())return!1;const e=n.workspace.getConfiguration().inspect("remote.SSH.useLocalServer")?.globalValue;return"boolean"==typeof e?e:!i.isWindows},t.showLoginTerminal=function(){return!!n.workspace.getConfiguration().get("remote.SSH.showLoginTerminal")},t.force32BitWindows=function(){return!!n.workspace.getConfiguration().get("remote.SSH.force32bitWindows")},t.remotePortRanges=function(){const e=n.workspace.getConfiguration().get("remote.SSH.serverPickPortsFromRange",{}),t={};return Object.keys(e).forEach((r=>{const[n,o]=e[r].split("-").map((e=>Number(e)));t[r]={start:n,end:o}})),t},t.remotePlatform=c,t.getPlatformForHost=async function(e,t=!0){if(function(e){return(n.workspace.getConfiguration().get("remote.SSH.windowsRemotes")||[]).includes(e.hostName)}(e))return o.Platform.Windows;const r=c();if(r.hasOwnProperty(e.hostName))return r[e.hostName];for(const[t,n]of Object.entries(r))if(t.includes("*")&&new RegExp("^"+(0,s.escapeRegExpCharacters)(t).replace(/\\\*/g,".*")+"$","i").test(e.hostName))return n;return t?l(`Select the platform of the remote host "${e.hostName}"`):void 0},t.interactivelyPickSshPlatform=l,t.savePlatformForHost=async function(e,t,r,o){const i=n.workspace.getConfiguration().get("remote.SSH.remotePlatform",{});if(!i||i[e.hostName]!==t.toString()){!function(e,t){const r="Don't Show Again";e.globalState.get(u)||n.window.showInformationMessage(`You selected "${t.toString()}" as the remote platform - this will be stored in the setting "remote.SSH.remotePlatform" and can be changed there if needed.`,r).then((t=>{t===r&&e.globalState.update(u,!0)}))}(r,t);try{await n.workspace.getConfiguration("remote").update("SSH.remotePlatform",{...i,[e.hostName]:t.toString()},n.ConfigurationTarget.Global)}catch(e){o.error(`Failed to write \`remote.SSH.remotePlatform\`: ${e.toString()}`)}}};const u="suppressRemotePlatformNotification";function d(){return n.workspace.getConfiguration().get("remote.SSH.connectTimeout")||15}var p;t.connectTimeout=d,t.scriptOutputConnectTimeoutSeconds=function(){return 1e3*(d()+2)},t.suppressWindowsSshWarning=function(){return!!n.workspace.getConfiguration().get("remote.SSH.suppressWindowsSshWarning")},function(e){e[e.trace=1]="trace",e[e.debug=2]="debug",e[e.info=3]="info",e[e.warning=4]="warning",e[e.error=5]="error",e[e.critical=6]="critical",e[e.off=7]="off"}(p||(t.LogLevel=p={})),t.logLevel=function(){const e=n.workspace.getConfiguration().get("remote.SSH.logLevel")||"debug";return p[e]},t.maxReconnectionAttempts=function(){const e=n.workspace.getConfiguration().get("remote.SSH.maxReconnectionAttempts");return"number"==typeof e?e:Number.MAX_SAFE_INTEGER}},5760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderHistoryManager=t.FolderDescriptor=void 0;const n=r(9496),o=r(2386),i=r(7150);class s{constructor(e,t){this.remote=e,this.folder=t}static fromUri(e){if("untitled"===e.scheme)return null;const t=e.authority,[r,n]=t.split("+");return i.ResolverType===r?new s(n,e.path):null}toUri(){return n.Uri.parse(`vscode-remote://${i.ResolverType}+${this.remote}${this.folder}`)}}t.FolderDescriptor=s;class a{constructor(e){this.context=e}addFolders(e){const t=this.context.globalState.get(a.KEY),r=new c(t);r.openFolders(e),this.context.globalState.update(a.KEY,r.data)}removeFolder(e){const t=this.context.globalState.get(a.KEY),r=new c(t);r.deleteFolder(e)&&this.context.globalState.update(a.KEY,r.data)}getFolders(e){const t=this.context.globalState.get(a.KEY);return new c(t).getFolders(e)}}t.FolderHistoryManager=a,a.KEY="folder.history.v1";class c{constructor(e){this.historyData=Object.create(null),this._hostNamesToRemotes=null,e&&(function(e){const t=Object.keys(e);return!!t.length&&!Array.isArray(e[t[0]])}(e)&&(e=function(e){const t=Object.create(null);return Object.keys(e).forEach((r=>{t[r]=Object.keys(e[r])})),t}(e)),this.historyData=e)}get data(){return this.historyData}openFolders(e){e.forEach((e=>{const t=this.historyData[e.remote];let r=Array.isArray(t)?t:[];r=r.filter((t=>t!==e.folder)),r.unshift(e.folder),this.historyData[e.remote]=r}))}deleteFolder(e){let t=!1;const r=this.historyData[e.remote];if(r){const n=r.filter((t=>t!==e.folder));n.length!==r.length&&(t=!0,this.historyData[e.remote]=n),0===Object.keys(n).length&&(delete this.historyData[e.remote],t=!0)}return t}getFolders(e){let t=[];return(this.hostNamesToRemotes[e]||[]).forEach((e=>{const r=this.historyData[e];Array.isArray(r)&&r.forEach((r=>{t.push(new s(e,r))}))})),t}get hostNamesToRemotes(){if(!this._hostNamesToRemotes){this._hostNamesToRemotes=Object.create(null);let e=this._hostNamesToRemotes;Object.keys(this.historyData).forEach((t=>{const r=o.HostInfo.parse(t);let n=e[r.hostName];n||(n=[],e[r.hostName]=n),n.push(t)}))}return this._hostNamesToRemotes}}},9705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConnectionError=t.getHelp=t.getStarted=t.provideFeedback=t.openSettings=t.reportIssue=void 0;const n=r(9496),o=r(8691),i=r(7475);function s(){const{name:e,publisher:t,extensionPack:r}=(0,i.getPackageJson)(),o=[`${t}.${e}`];return r&&r.forEach((e=>o.push(e))),n.commands.executeCommand("workbench.action.openSettings",`@ext:${o.join(",")}`)}function a(){return n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/ssh"))}t.reportIssue=function(){const{name:e,publisher:t}=(0,i.getPackageJson)();return n.commands.executeCommand("vscode.openIssueReporter",`${t}.${e}`)},t.openSettings=s,t.provideFeedback=function(){return n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/ssh/provide-feedback"))},t.getStarted=function(){return n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/ssh/getting-started"))},t.getHelp=a;class c{constructor(){this.title="Reload Window"}async execute(){await n.commands.executeCommand("workbench.action.reloadWindow")}}const l=[new c,new class{constructor(){this.title=n.l10n.t("Open Recent...")}async execute(){await n.commands.executeCommand("workbench.action.openRecent")}},new class{constructor(){this.title=n.l10n.t("Open Documentation")}async execute(){await a()}},new class{constructor(){this.title=n.l10n.t("Open SSH Configuration File")}async execute(e){await(0,o.configureSshHosts)(e)}},new class{constructor(){this.title=n.l10n.t("Open Settings")}async execute(){s()}}],u=[new class{constructor(){this.title=n.l10n.t("Close Remote")}async execute(){await n.commands.executeCommand("workbench.action.remote.close")}},new class{constructor(e){this.moreActions=e,this.title=n.l10n.t("More Actions..."),this.isCloseAffordance=!0}async execute(e){const t=this.moreActions.map((e=>({label:e.title,action:e}))),r=await n.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:n.l10n.t("Pick an action to help resolve the problem.")});r&&await r.action.execute(e)}}(l),new class extends c{constructor(){super(...arguments),this.title=n.l10n.t("Retry")}}];t.showConnectionError=async function(e,t){e.endsWith(".")||(e+=".");const r=await n.window.showErrorMessage(e,{modal:!0},...u);r&&await r.execute(t)}},9173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interactivelyPickSshHost=void 0;const n=r(9496),o=r(8691),i=r(2386);class s{constructor(e){this.label=e}}class a{constructor(){this.label=n.l10n.t("Configure SSH Hosts..."),this.alwaysShow=!0}}class c{constructor(){this.label=n.l10n.t("{0} Add New SSH Host...","$(plus)"),this.alwaysShow=!0}}class l{get label(){return`➤ ${this.hostName}`}constructor(){this.hostName="",this.alwaysShow=!0}}t.interactivelyPickSshHost=async function(e){e.info("Picking SSH host");const t=await(0,o.getConfiguredSshHosts)(),r=await async function(e,t){return new Promise(((r,o)=>{const u=function(e){const t=e.map((e=>new s(e))),r=new a,o=new c,i=n.window.createQuickPick();i.ignoreFocusOut=!0,i.placeholder=n.l10n.t({message:"Select configured SSH host or enter user@host",comment:['Translate user@host such that both user and host are translated but joined by an "@" sign.']});const u=new l;let d=!1;const p=()=>{const e=[...t];d&&e.push(u),e.push(o),e.push(r),i.items=e};return p(),i.onDidChangeValue((e=>{u.hostName=e,d="string"==typeof e&&e.length>0,p()})),i}(e);let d;u.onDidAccept((async()=>{u.busy=!0;const e=u.selectedItems[0];if(e instanceof a)return void r({type:"command",id:"configure"});if(e instanceof c)return void r({type:"command",id:"new"});const n=e instanceof l?e.hostName:e.label;d=i.HostInfo.fromString(n),t.info(`Selected ${d.toString()}`),u.busy=!1,u.hide(),u.dispose()})),u.onDidHide((async()=>{r(d?{type:"host",host:d}:null)})),u.show()}))}(t,e);if(r){if("command"===r.type&&"configure"===r.id)return(0,o.configureSshHosts)(e),null;if("command"===r.type&&"new"===r.id)return n.commands.executeCommand("opensshremotes.addNewSshHost");if("host"===r.type)return r.host}return null}},5748:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptStartMarker=void 0,t.getScriptStartMarker=function(e){return`${e}: running`}},9763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SshResolverError=t.SshResolverErrorCode=t.SshResolverFailureReason=t.parseInstallScriptOutput=t.handleInstallErrorResult=t.handleInstallOutput=t.handleServerErrorOutput=t.ListenTarget=t.InstallExitCode=void 0;const n=r(9496),o=r(3170),i=r(7674),s=r(3725),a=r(1808);var c,l;function u(e,t,r){let n=t.match(/(?<=Error: ).*\n/);if(n=n||t.match(/(?=Could not find free port in range: ).+?(?:\(inclusive\).)/),n&&n[0])throw r.error(n[0]),g.ServerInstallError(e,n[0])}function d(e,t,r){if(e.exitCode!==c.AlreadyInProgress){if(e.exitCode===c.ServerDownloadFailed)throw r.error("Server download failed"),g.ServerInstallError(e,n.l10n.t("Downloading VS Code Server failed. Please try again later."));if(e.exitCode===c.NoDownloaderAvailable)throw r.error("Neither curl nor wget is installed - can't download the Server"),g.ServerInstallError(e,n.l10n.t("Downloading VS Code Server failed - please install either curl or wget on the remote."));if(e.exitCode===c.NoDownloaderAvailableForStatusCheck)throw r.error("Neither curl nor wget is installed - can't check VS Code Server status"),g.ServerInstallError(e,n.l10n.t("Checking VS Code Server status failed - please install either curl or wget on the remote."));if(e.exitCode===c.UnsupportedArch)throw r.error("Unsupported architecture"),g.ServerInstallError(e,n.l10n.t("The remote host's architecture is not supported"));if(e.exitCode===c.UnsupportedPlatform)throw r.error("Unsupported platform"),g.ServerInstallError(e,n.l10n.t("The remote host's platform is not supported"));if(e.exitCode!==c.StatusCheckFailed){if(e.exitCode===c.NeedInsidersArch)throw g.ServerInstallError(e,n.l10n.t("The remote host's architecture is only supported on VS Code Insiders"));if(e.exitCode===c.NeedInsidersWindows)throw g.ServerInstallError(e,n.l10n.t("Windows hosts are only supported on VS Code Insiders"));if(e.exitCode===c.ServerFailedToStart)throw g.ServerInstallError(e,n.l10n.t("The VS Code Server failed to start"));if(e.exitCode===c.ServerTerminatedCVE20201416)throw g.ServerInstallError(e,n.l10n.t("The VS Code Server terminated due to presence of CVE-2020-1416. Check the Remote-SSH output channel for more details."));if(e.exitCode===c.CreateInstallDirFailed)throw g.ServerInstallError(e,n.l10n.t("Failed to create the remote server's install directory"));if(e.exitCode===c.UnpackFailed)throw g.ServerInstallError(e,n.l10n.t("Failed to install the VS Code Server"));throw r.error(`Server installation failed with exit code ${e.exitCode} and output ${t}`),g.Create(f.UnhandledExitCode)}r.debug("Server status check failed - waiting and retrying")}else r.error("Server installation process already in progress - waiting and retrying")}!function(e){e[e.AlreadyInProgress=24]="AlreadyInProgress",e[e.ServerDownloadFailed=25]="ServerDownloadFailed",e[e.NoDownloaderAvailable=26]="NoDownloaderAvailable",e[e.NoDownloaderAvailableForStatusCheck=30]="NoDownloaderAvailableForStatusCheck",e[e.UnsupportedArch=27]="UnsupportedArch",e[e.StatusCheckFailed=28]="StatusCheckFailed",e[e.NeedInsidersArch=29]="NeedInsidersArch",e[e.ServerTransferFailed=31]="ServerTransferFailed",e[e.ServerFailedToStart=32]="ServerFailedToStart",e[e.NeedInsidersWindows=33]="NeedInsidersWindows",e[e.CreateInstallDirFailed=34]="CreateInstallDirFailed",e[e.UnsupportedPlatform=35]="UnsupportedPlatform",e[e.ServerTerminatedCVE20201416=36]="ServerTerminatedCVE20201416",e[e.UnpackFailed=37]="UnpackFailed"}(c||(t.InstallExitCode=c={})),function(e){e.display=function(e){return"port"in e?`port ${e.port}`:`socket ${e.socketPath}`},e.listen=function(e,t,r){"port"in t?e.listen(t.port,"127.0.0.1",r):e.listen(t.socketPath,r)},e.connect=function(e,t){return"port"in e?a.connect(e.port,"127.0.0.1",t):a.connect(e.socketPath,t)}}(l||(t.ListenTarget=l={})),t.handleServerErrorOutput=u,t.handleInstallOutput=function(e,t,r){!function(e){if(e.match(/WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!/))throw g.Create(f.MitmPortForwardingDisabled,n.l10n.t("Remote host key has changed, port forwarding is disabled"))}(t);const i=h(t,e.deps.logger);if((s=i)&&"number"==typeof s.exitCode)return r&&i.exitCode===c.ServerFailedToStart&&u(i,r,e.deps.logger),void d(i,t,e.deps.logger);if(i)return e.deps.logger.info(`Remote server is listening on ${l.display(i.serverConfiguration.remoteListeningOn)}`),i;throw function(e){if(e.match(/Network is unreachable/))throw g.Offline(n.l10n.t("Network is unreachable"));if(e.match(/Could not resolve hostname/))throw g.Offline(n.l10n.t("Could not resolve hostname"));if(e.match(/The process tried to write to a nonexistent pipe/))throw g.Offline(n.l10n.t("The process tried to write to a nonexistent pipe"));if(e.match(/Connection timed out/))throw g.Offline(n.l10n.t("The connection timed out"));if(e.match(/Operation timed out/))throw g.Offline(n.l10n.t("The operation timed out"));if(e.match(/No route to host/))throw g.Offline(n.l10n.t("No route to host"));if(e.match(/Can't assign requested address/))throw g.Offline(n.l10n.t("Can't assign requested address"))}(t),function(e,t){if(!t.trim())throw g.Create(f.EmptyOutput,"");const r=t.split("\n").reverse();for(const e of r){let t;if((t=e.match(/Too many authentication failures.*/))||(t=e.match(/Permission denied.*/)))throw g.Create(f.PermissionDenied,t[0])}if(t.match(/bash: (command )?not found/i))throw g.Create(f.NoBash,n.l10n.t("bash not found"));if(t.match(/shell request failed on channel \d/))throw g.Create(f.ShellRequestFailedOnChannel);if(t.match(/client_loop: send disconnect: Broken pipe/))throw g.Create(f.SendDisconnectBrokenPipe);const i=e.host.config;(0,o.enableRemoteCommand)()&&t.match(/Authenticated to .* ssh child died, shutting down/s)&&i&&i.RemoteCommand&&e.deps.logger.error("You have RemoteCommand in your SSH Config for this remote which could be the cause for this crash. Try reconnecting with `enableRemoteCommand` set to `false`.")}(e,t),e.deps.logger.error("Failed to parse remote port from server output"),g.Create(f.UnparsableOutput);var s},t.handleInstallErrorResult=d;const p=/^(?:[0-9.:]+:|\[[0-9a-f:]+]:)?(?<port>[0-9]+)$/;function h(e,t){const r=(0,s.parseStringMap)(e,void 0,t);let n;if(r.platform===i.Platform.Linux||r.platform===i.Platform.MacOS||r.platform===i.Platform.Windows)n=r.platform;else{if(!r.platform)return;n=void 0}const o=r.listeningOn&&p.exec(r.listeningOn),a=o?{port:Number(o.groups.port)}:r.listeningOn?{socketPath:r.listeningOn}:void 0;if(!n||r.exitCode){const e={remoteListeningOn:a,osReleaseId:r.osReleaseId,arch:r.arch,platform:n};return{exitCode:n?parseInt(r.exitCode,10):c.UnsupportedPlatform,serverConfiguration:e}}if(a)return{serverConfiguration:{remoteListeningOn:a,osReleaseId:r.osReleaseId,arch:r.arch,webUiAccessToken:r.webUiAccessToken,sshAuthSock:r.SSH_AUTH_SOCK,display:r.DISPLAY,tmpDir:r.tmpDir,platform:n,connectionToken:r.connectionToken,execServerToken:r.execServerToken},downloadTime:"string"==typeof r.downloadTime&&r.downloadTime?parseInt(r.downloadTime,10):void 0,installTime:"string"==typeof r.installTime&&r.installTime?parseInt(r.installTime,10):void 0,extInstallTime:"string"==typeof r.extInstallTime&&r.extInstallTime?parseInt(r.extInstallTime,10):void 0,serverStartTime:"string"==typeof r.serverStartTime&&r.serverStartTime?parseInt(r.serverStartTime,10):void 0,didLocalDownload:"string"==typeof r.didLocalDownload&&("1"===r.didLocalDownload||"True"===r.didLocalDownload)||void 0,installUnpackCode:"string"==typeof r.unpackResult?r.unpackResult:void 0}}var f,m;t.parseInstallScriptOutput=h,function(e){e.UnparsableOutput="UnparsableOutput",e.EmptyOutput="EmptyOutput",e.ExitCode="ExitCode",e.UnhandledExitCode="UnhandledExitCode",e.OfflineError="OfflineError",e.SshInstall="SshInstall",e.FindLocalPort="FindLocalPort",e.Timeout="Timeout",e.ExhaustedRetries="ExhaustedRetries",e.PermissionDenied="PermissionDenied",e.MitmPortForwardingDisabled="MitmPortForwardingDisabled",e.Canceled="Canceled",e.BadLocalDownloadRequest="BadLocalDownloadRequest",e.LocalLockTimeout="LocalLockTimeout",e.NoBash="NoBash",e.InvalidHostName="InvalidHostName",e.BadInstallScriptResult="BadInstallScriptResult",e.ShellRequestFailedOnChannel="ShellRequestFailed",e.InvalidPortRange="InvalidPortRange",e.SendDisconnectBrokenPipe="SendDisconnectBrokenPipe",e.LocalServerCrashed="LocalServerCrashed",e.Unknown="Unknown"}(f||(t.SshResolverFailureReason=f={})),function(e){e.NotAvailable="NotAvailable",e.TemporarilyNotAvailable="TemporarilyNotAvailable"}(m||(t.SshResolverErrorCode=m={}));class g extends Error{static ServerInstallError(e,t){return new g(t,m.NotAvailable,f.ExitCode,e)}static Create(e,t=""){return new g(t,m.NotAvailable,e)}static Offline(e){return new g(e,m.TemporarilyNotAvailable,f.OfflineError)}static Timeout(e){return new g(e,m.TemporarilyNotAvailable,f.Timeout)}static Canceled(){return new g(n.l10n.t("Connecting was canceled"),m.NotAvailable,f.Canceled)}constructor(e,t,r,n){super(e),this.handled=!1,this._message=e,this._code=t,this.failureReason=r,this.installErrorDetails=n,"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,g.prototype)}toRemoteAuthorityResolverError(){return this._code===m.NotAvailable?n.RemoteAuthorityResolverError.NotAvailable(this._message,this.handled):n.RemoteAuthorityResolverError.TemporarilyNotAvailable(this._message)}}t.SshResolverError=g},7907:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSshdParentPid=t.execServerInstallScript=t.serverInstallScript=void 0;const n=r(810),o=r(6737),i=r(1049),s=r(5260),a=r(8059),c=r(5748),l=r(9763);t.serverInstallScript=function({uuid:e,quality:r,commit:u,telemetryLevel:d,extensionIds:p,basePath:h,serverDataFolderName:f,serverApplicationName:m,enableWebAccess:g,printVars:v,localDownload:_,portRange:y,force32Bit:S}){const w=p&&p.length>0?p.map((e=>`"--install-extension", "${e}"`)).join(", "):'""',b="${uuid}",E=`\n$uuid = "${e}"\n"${(0,c.getScriptStartMarker)(b)}"\n"${(0,o.getPauseLogMarker)(e)}"\n$ProgressPreference = 'SilentlyContinue'\n$commitId = '${u}'\n\n# https://docs.microsoft.com/en-us/windows/win32/winprog64/wow64-implementation-details?redirectedfrom=MSDN\n$p = $env:PROCESSOR_ARCHITECTURE\n$arch = ${S?"'ia32'":"if (($p -eq 'AMD64') -or ($p -eq 'IA64')) { 'x64' } else { 'ia32' }"}\n\n$serverRoot = (Join-Path ${h??"(Resolve-Path ~)"} '${f}')\n$env:VSCODE_AGENT_FOLDER=$serverRoot\n$log = "$serverRoot\\.$commitId.log"\n$tokenFile = "$serverRoot\\.$commitId.token"\n$sDir = "$serverRoot\\bin\\$commitId"\n$sFile = "$serverRoot\\bin\\$commitId\\bin\\${m}.cmd"\n$quality = '${r}'\n$telemetryFlag = "--telemetry-level ${d}"\n$exts = ${w}\n$allowLocalDownload = ${"off"!==_?"$True":"$False"}\n$forceLocalDownload = ${"always"===_?"$True":"$False"}\n$global:didLocal = $False\n$global:gotUnpackResult = ''\n$global:totalDownloadTime = ''\n$global:totalInstallTime = ''\n$global:totalExtInstallTime = ''\n$global:totalServerStartTime = ''\n$global:secretToken = ''\n\nfunction printDetails {\n\t"listeningOn==$port=="\n\t"osReleaseId==windows=="\n\t"osVersion==$winVersion=="\n\t"arch==$arch=="\n\t"platform==windows=="\n\t"unpackResult==$gotUnpackResult=="\n\t"didLocalDownload==$didLocal=="\n\t"downloadTime==$totalDownloadTime=="\n\t"installTime==$totalInstallTime=="\n\t"extInstallTime==$totalExtInstallTime=="\n\t"serverStartTime==$totalServerStartTime=="\n}\n\nfunction getStopwatch {\n\treturn [system.diagnostics.stopwatch]::StartNew();\n}\n\n# failWithExitCode\nfunction q($code) {\n\t"\${uuid}: start"\n\t"exitCode==$code=="\n\tprintDetails\n\t"\${uuid}: end"\n}\n\n${t.getSshdParentPid}\n\nfunction exitIfNeeded {\n\tif ($launchedServerPid) {\n\t\tif (!(gps -Id $launchedServerPid)) {\n\t\t\t"server died, exit"\n\t\t\texit 0\n\t\t}\n\t} else {\n\t\tif (!(gps -Id $sshdPID)) {\n\t\t\t"sshd parent died, exit"\n\t\t\texit 0\n\t\t}\n\t}\n}\n\nfunction GetArtifactName {\n\t$webPart = "${g?"-web":""}"\n\t"server-win32-x64" + $webPart\n}\n\nfunction DownloadServer {\n\t$s = getStopwatch\n\t"Downloading server $arch"\n\t"${(0,s.getProgressOutputString)(b,1)}"\n\t$serverName = GetArtifactName\n\t$splat = @{\n\t\tUri="https://update.code.visualstudio.com/commit:$commitId/$serverName/$quality"\n\t\tTimeoutSec=20\n\t\tOutFile="vscode-server.zip"\n\t\tUseBasicParsing=$True\n\t}\n\n\t# Enable TLS1.2\n\t[Net.ServicePointManager]::SecurityProtocol = 'Tls12'\n\tirm @splat\n\n\t$s.Stop()\n\t$global:totalDownloadTime = $s.ElapsedMilliseconds\n}\n\nfunction InstallServer {\n\t$global:gotUnpackResult='success'\n\t$s = getStopwatch\n\n\ttry {\n\t\t# Unzip to tmp then move to destination to avoid "path too long"\n\t\t$randomDirName = [System.IO.Path]::GetRandomFileName()\n\t\t$tmpDest = "$env:TEMP\\$randomDirName"\n\t\t"Expanding server into $tmpDest"\n\t\t"${(0,s.getProgressOutputString)(b,2)}"\n\t\tExpand-Archive "vscode-server.zip" -DestinationPath "$tmpDest"\n\t\tcp -Recurse "$tmpDest\\vscode-*\\*" -Destination .\n\t\tdel -Recurse $tmpDest\n\t\t$s.Stop()\n\t\t$global:totalInstallTime = $s.ElapsedMilliseconds\n\t} catch {\n\t\t$global:gotUnpackResult='error'\n\t\t"Failed to unzip server. - $($_.ToString())"\n\t\tDoLocalDownloadOrFail ${l.InstallExitCode.UnpackFailed}\n\t\tInstallServer\n\t}\n\n\tif(!(Test-Path "$sFile")) {\n\t\t$global:gotUnpackResult='missingFiles'\n\t\t"Downloaded server is incomplete."\n\t\tDoLocalDownloadOrFail ${l.InstallExitCode.UnpackFailed}\n\t\tInstallServer\n\t}\n}\n\nfunction WriteConnectionToken {\n\t$fulluser = [System.Security.Principal.WindowsIdentity]::GetCurrent().Name\n\t$global:secretToken = "${(0,a.generateUuid)()}"\n\tni -it f $tokenFile -Force\n\ticacls $tokenFile /reset /Q\n\ticacls $tokenFile /setowner "$fulluser" /Q\n\ticacls $tokenFile /grant "$($fulluser):(R,W)" /Q\n\ticacls $tokenFile /inheritance:r /Q\n\t# This should write in UTF-8 with no BOM. Other methods of writing to a file write UTF-16 or UTF-8 with a BOM\n\t[System.IO.File]::WriteAllLines($tokenFile, $global:secretToken)\n}\n\nfunction SetPortFlag {\n    if(${y?"$True":"$False"}) {\n\t\treturn "--port=${y?.start??0}-${y?.end??0}"\n    }\n\n    return "--port=0"\n}\n\nfunction StartServer {\n\t$s = getStopwatch\n\tif(Test-Path $log) {\n\t\tdel $log\n\t}\n\t$escapedServerFile=$sFile -replace ' ', '\` '\n\tWriteConnectionToken\n\t$portFlag = SetPortFlag\n\t$args = "--start-server --host=127.0.0.1 --accept-server-license-terms --enable-remote-auto-shutdown $portFlag --connection-token-file '$tokenFile' $telemetryFlag $exts *> '$log'"\n\t$splat = @{\n\t\tFilePath = "powershell.exe"\n\t\tWindowStyle = "hidden"\n\t\tArgumentList = @(\n\t\t\t"-ExecutionPolicy", "Unrestricted", "-NoLogo", "-NoProfile", "-NonInteractive", "-c", "$escapedServerFile $args"\n\t\t)\n\t\tPassThru = $True\n\t}\n\t"Starting server: & '$sFile' $args"\n\t$global:launchedServerPid = (start @splat).ID\n\t$s.Stop()\n\t$global:totalServerStartTime = $s.ElapsedMilliseconds\n}\n\nfunction DoLocalDownload {\n\t$global:didLocal=$True\n\t"Trigger local server download"\n\t$serverName = GetArtifactName\n\t"${(0,n.getDownloadServerStartTrigger)(b)}"\n\t"artifact==$serverName=="\n\t"destFolder==$serverRoot\\bin\\=="\n\t"destFolder2==/$commitId\\vscode-server.zip=="\n\t"${(0,n.getDownloadServerEndTrigger)(b)}"\n\n\t"Waiting for client to transfer server archive..."\n\t"Waiting for $sDir\\vscode-server.zip.done and vscode-server.zip to exist"\n\n\twhile($True) {\n\t\tif(Test-Path "$sDir\\vscode-server.zip.done") {\n\t\t\tif(!(Test-Path "$sDir\\vscode-server.zip")) {\n\t\t\t\t"Transfer failed"\n\t\t\t\tq ${l.InstallExitCode.ServerTransferFailed}\n\t\t\t}\n\n\t\t\t"Transfer complete"\n\t\t\tdel $sDir\\vscode-server.zip.done\n\t\t\tbreak\n\t\t} else {\n\t\t\tStart-Sleep -Seconds 3\n\t\t\texitIfNeeded\n\t\t}\n\t}\n}\n\nfunction DoLocalDownloadOrFail($code) {\n\tif ($didLocal) {\n\t\t"Already attempted local download, failing"\n\t\tq $code\n\t} elseif($allowLocalDownload) {\n\t\tDoLocalDownload\n\t} else {\n\t\tq $code\n\t}\n}\n\nfunction InstallExtensions {\n\t# Install extensions if needed\n\tif ($exts -ne "") {\n\t\t$s = getStopwatch\n\t\t# Can't be inlined as a variable\n\t\t& "$sFile" $telemetryFlag @exts\n\t\t$s.Stop()\n\t\t$global:totalExtInstallTime = $s.ElapsedMilliseconds\n\t}\n}\n\nfunction acquireLock() {\n\t# Init lockfile\n\t$lockFilePath = (Join-Path "$sDir" "vscode-remote-lock.$commitId")\n\ttry {\n\t\t$null = ni $lockFilePath -it f -ea si\n\t} catch {\n\t\t"Could not create server lock file. - $($_.ToString())"\n\t\treturn\n\t}\n\n\t# Acquire lock\n\ttry {\n\t\t"Acquiring lock on $lockFilePath"\n\n\t\t# .NET API needs an absolute path\n\t\t$global:file = [System.io.File]::Open($lockFilePath, 'Open', 'Read', 'None')\n\t} catch {\n\t\t"Install already in progress... - $($_.ToString())"\n\t\tq ${l.InstallExitCode.AlreadyInProgress}\n\t}\n}\n\nfunction printResult() {\n\t"\${uuid}: start"\n\t${v.map((e=>`"${e}==$env:${e}=="`)).join("\n")}\n\tprintDetails\n\t"connectionToken==$global:secretToken=="\n\t"\${uuid}: end"\n}\n\nfunction main() {\n\t$global:sshdPID = getSshdParentPid\n\n\tif(!(Test-Path $sDir)) {\n\t\t$m = "Could not create server directory"\n\t\ttry {\n\t\t\t$null = ni -it d $sDir -f -ea si\n\t\t} catch {\n\t\t\t"$m. - $($_.ToString())"\n\t\t\treturn\n\t\t}\n\n\t\tif(!(Test-Path $sDir)) {\n\t\t\t"$m"\n\t\t\treturn\n\t\t}\n\t}\n\n\tcd $sDir\n\tacquireLock\n\n\ttry {\n\t\t"Looking for existing server in $sDir"\n\t\tif(Test-Path "$sFile") {\n\t\t\t"Found installed server"\n\t\t} else {\n\t\t\tif ($forceLocalDownload) {\n\t\t\t\tDoLocalDownload\n\t\t\t} else {\n\t\t\t\ttry { DownloadServer } catch {\n\t\t\t\t\t"Download failed. - $($_.ToString())"\n\t\t\t\t\tDoLocalDownloadOrFail ${l.InstallExitCode.ServerDownloadFailed}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tInstallServer\n\t\t}\n\n\t\t# Find running process by name (node) then commit in path\n\t\tif(!(Get-Process node -ErrorAction SilentlyContinue | Where-Object Path -Like "$sDir\\*")) {\n\t\t\tStartServer\n\t\t} else {\n\t\t\t"Server with $commitId is already running."\n\t\t\tInstallExtensions\n\t\t\tif (Test-Path $tokenFile) {\n\t\t\t\t$global:secretToken = $(cat $tokenFile)\n\t\t\t}\n\t\t}\n\n\t\t$listeningP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "Extension host agent listening on (\\d+)"\n\t\t}\n\n\t\t# Do not change this message\n\t\t$failedP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "!!!! Server terminated due to presence of CVE-2020-1416 !!!!"\n\t\t}\n\n\t\t$timeoutDate = (Get-Date).AddSeconds(4)\n\t\t$serverLogMsg = "Server did not start successfully. Full server log at $log >>>"\n\t\twhile ((Get-Date) -lt $timeoutDate) {\n\t\t\tif(Test-Path $log) {\n\t\t\t\t$listeningMatch = (sls @listeningP).Matches.Groups\n\t\t\t\tif($listeningMatch) {\n\t\t\t\t\t$global:port = $listeningMatch[1].Value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\t$failed = (sls @failedP).Matches.Groups\n\t\t\t\tif($failed) {\n\t\t\t\t\t$serverLogMsg\n\t\t\t\t\tcat $log\n\t\t\t\t\t"<<< End of server log"\n\t\t\t\t\tq ${l.InstallExitCode.ServerTerminatedCVE20201416}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsleep -Milliseconds 30\n\t\t}\n\n\t\tif (!$port) {\n\t\t\t$serverLogMsg\n\t\t\tcat $log\n\t\t\t"<<< End of server log"\n\t\t\tq ${l.InstallExitCode.ServerFailedToStart}\n\t\t}\n\t} catch {\n\t\t"Server failed to start. - $($_.ToString())"\n\t\t# TODO\n\t} finally {\n\t\t$file.Close()\n\t}\n\n\t# Get windows version\n\ttry {\n\t\t$global:winVersion = (gcim Win32_OperatingSystem).Version\n\t} catch {\n\t\t"Failed to find Windows version - $($_.ToString())"\n\t\t$global:winVersion = "unknown"\n\t}\n\n\tprintResult\n\n\t#\n\t# Start infinite loop, quit when orphaned (ssh connection closed)\n\t#\n\n\t"$pid, watching $sshdPID"\n\twhile ($True) {\n\t\texitIfNeeded\n\t\tsleep 30\n\t}\n}\n\n"${(0,o.getResumeLogMarker)(e)}"\nmain\n\n`;return(0,i.minifyPwsh)(E,["getSshdParentPid","exitIfNeeded","DownloadServer","InstallServer","DoLocalDownload","DoLocalDownloadOrFail","allowLocalDownload","forceLocalDownload","getStopwatch","totalDownloadTime","totalInstallTime","totalExtInstallTime","totalServerStartTime","commitId","serverRoot","quality","telemetryFlag","didLocal","gotUnpackResult","currentPID","parentPID","launchedServerPid","webPart","archPart","serverName","randomDirName","tmpDest","escapedServerDir","lockFilePath","timeoutDate","failedP","listeningP","listeningMatch","winVersion","tokenFile","secretToken","WriteConnectionToken","StartServer","SetPortFlag","InstallExtensions","printDetails","serverLogMsg","fulluser"])},t.execServerInstallScript=function({uuid:e,quality:r,commit:a,basePath:u,serverDataFolderName:d,printVars:p,localDownload:h,force32Bit:f,token:m}){const g="${uuid}",v=`\n$uuid = "${e}"\n"${(0,c.getScriptStartMarker)(g)}"\n"${(0,o.getPauseLogMarker)(e)}"\n$ProgressPreference = 'SilentlyContinue'\n$commitId = '${a}'\n\n# https://docs.microsoft.com/en-us/windows/win32/winprog64/wow64-implementation-details?redirectedfrom=MSDN\n$p = $env:PROCESSOR_ARCHITECTURE\n$arch = ${f?"'ia32'":"if (($p -eq 'AMD64') -or ($p -eq 'IA64')) { 'x64' } else { 'ia32' }"}\n\n$serverRoot = (Join-Path ${u??"(Resolve-Path ~)"} '${d}')\n$cliDataDir = (Join-Path "$serverRoot" 'cli')\n$env:VSCODE_AGENT_FOLDER=$serverRoot\n$log = New-TemporaryFile\n$cliNameInArchiveWithoutExe = "${"stable"===r?"code":"code-insiders"}"\n$cliNameInArchve = "$cliNameInArchiveWithoutExe.exe"\n$cliNameOnDisk = "$cliNameInArchiveWithoutExe-$commitId.exe"\n$cliPath = "$serverRoot\\$cliNameOnDisk"\n$quality = '${r}'\n$allowLocalDownload = ${"off"!==h?"$True":"$False"}\n$forceLocalDownload = ${"always"===h?"$True":"$False"}\n$global:didLocal = $False\n$global:gotUnpackResult = ''\n$global:totalDownloadTime = ''\n$global:totalInstallTime = ''\n$global:totalExtInstallTime = ''\n$global:totalServerStartTime = ''\n\nfunction printDetails {\n\t"listeningOn==$port=="\n\t"osReleaseId==windows=="\n\t"osVersion==$winVersion=="\n\t"arch==$arch=="\n\t"platform==windows=="\n\t"unpackResult==$gotUnpackResult=="\n\t"didLocalDownload==$didLocal=="\n\t"downloadTime==$totalDownloadTime=="\n\t"installTime==$totalInstallTime=="\n\t"extInstallTime==$totalExtInstallTime=="\n\t"serverStartTime==$totalServerStartTime=="\n\t"execServerToken==${m}=="\n}\n\nfunction getStopwatch {\n\treturn [system.diagnostics.stopwatch]::StartNew();\n}\n\n# failWithExitCode\nfunction q($code) {\n\t"\${uuid}: start"\n\t"exitCode==$code=="\n\tprintDetails\n\t"\${uuid}: end"\n}\n\n${t.getSshdParentPid}\n\nfunction exitIfNeeded {\n\tif ($launchedCli1Pid) {\n\t\tif (!(gps -Id $launchedCliPid)) {\n\t\t\t"server died, exit"\n\t\t\texit 0\n\t\t}\n\t} else {\n\t\tif (!(gps -Id $sshdPID)) {\n\t\t\t"sshd parent died, exit"\n\t\t\texit 0\n\t\t}\n\t}\n}\n\nfunction GetArtifactName {\n\t$archPart = if ($arch -eq 'x64') { "-$arch" } else { "" }\n\t"cli-win32$archPart"\n}\n\nfunction DownloadCli {\n\t$s = getStopwatch\n\t"Downloading cli $arch"\n\t"${(0,s.getProgressOutputString)(g,1)}"\n\t$an = GetArtifactName\n\t$splat = @{\n\t\tUri="https://update.code.visualstudio.com/commit:$commitId/$an/$quality"\n\t\tTimeoutSec=20\n\t\tOutFile="vscode-cli-$commitId.zip"\n\t\tUseBasicParsing=$True\n\t}\n\n\t# Enable TLS1.2\n\t[Net.ServicePointManager]::SecurityProtocol = 'Tls12'\n\tirm @splat\n\n\t$s.Stop()\n\t$global:totalDownloadTime = $s.ElapsedMilliseconds\n}\n\n\nfunction InstallCli {\n\t$global:gotUnpackResult='success'\n\t$s = getStopwatch\n\n\ttry {\n\t\t# Unzip to tmp then move to destination to avoid "path too long"\n\t\t$randomDirName = [System.IO.Path]::GetRandomFileName()\n\t\t$tmpDest = "$env:TEMP\\$randomDirName"\n\t\t"Expanding cli into $tmpDest"\n\t\t"${(0,s.getProgressOutputString)(g,2)}"\n\t\tExpand-Archive "vscode-cli-$commitId.zip" -DestinationPath "$tmpDest"\n\t\tcp "$tmpDest\\$cliNameInArchve" -Destination $cliPath\n\t\tdel -Recurse $tmpDest\n\t\tdel "vscode-cli-$commitId.zip"\n\t\t$s.Stop()\n\t\t$global:totalInstallTime = $s.ElapsedMilliseconds\n\t} catch {\n\t\t$global:gotUnpackResult='error'\n\t\t"Failed to unzip cli. - $($_.ToString())"\n\t\tDoLocalDownloadOrFail ${l.InstallExitCode.UnpackFailed}\n\t\tInstallCli\n\t}\n\n\tif(!(Test-Path "$cliPath")) {\n\t\t$global:gotUnpackResult='missingFiles'\n\t\t"Downloaded server is incomplete."\n\t\tDoLocalDownloadOrFail ${l.InstallExitCode.UnpackFailed}\n\t\tInstallCli\n\t}\n}\n\nfunction StartCli {\n\t$s = getStopwatch\n\tif(Test-Path $log) {\n\t\tdel $log\n\t}\n\t$escapedCliFile=$cliPath -replace ' ', '\` '\n\t$args = "command-shell --cli-data-dir '$cliDataDir' --parent-process-id $sshdPID --on-port --require-token ${m} *> '$log'"\n\t$splat = @{\n\t\tFilePath = "powershell.exe"\n\t\tWindowStyle = "hidden"\n\t\tArgumentList = @(\n\t\t\t"-ExecutionPolicy", "Unrestricted", "-NoLogo", "-NoProfile", "-NonInteractive", "-c", "$escapedCliFile $args"\n\t\t)\n\t\tPassThru = $True\n\t}\n\t"Starting cli: & '$cliPath' $args"\n\t$global:launchedCliPid = (start @splat).ID\n\t$s.Stop()\n\t$global:totalServerStartTime = $s.ElapsedMilliseconds\n}\n\nfunction DoLocalDownload {\n\t$global:didLocal=$True\n\t"Trigger local server download"\n\t$an = GetArtifactName\n\t"${(0,n.getDownloadServerStartTrigger)(g)}"\n\t"artifact==$an=="\n\t"destFolder==$serverRoot=="\n\t"destFolder2==/vscode-cli-$commitId.zip=="\n\t"${(0,n.getDownloadServerEndTrigger)(g)}"\n\n\t"Waiting for client to transfer server archive..."\n\t"Waiting for $serverRoot\\vscode-cli-$commitId.zip.done and vscode-cli-$commitId.zip to exist"\n\n\twhile($True) {\n\t\tif(Test-Path "$serverRoot\\vscode-cli-$commitId.zip.done") {\n\t\t\tif(!(Test-Path "$serverRoot\\vscode-cli-$commitId.zip")) {\n\t\t\t\t"Transfer failed"\n\t\t\t\tq ${l.InstallExitCode.ServerTransferFailed}\n\t\t\t}\n\n\t\t\t"Transfer complete"\n\t\t\tdel $serverRoot\\vscode-cli-$commitId.zip.done\n\t\t\tbreak\n\t\t} else {\n\t\t\tStart-Sleep -Seconds 3\n\t\t\texitIfNeeded\n\t\t}\n\t}\n}\n\nfunction DoLocalDownloadOrFail($code) {\n\tif ($didLocal) {\n\t\t"Already attempted local download, failing"\n\t\tq $code\n\t} elseif($allowLocalDownload) {\n\t\tDoLocalDownload\n\t} else {\n\t\tq $code\n\t}\n}\n\nfunction printResult() {\n\t"\${uuid}: start"\n\t${p.map((e=>`"${e}==$env:${e}=="`)).join("\n")}\n\tprintDetails\n\t"\${uuid}: end"\n}\n\nfunction main() {\n\t$global:sshdPID = getSshdParentPid\n\n\tif(!(Test-Path $serverRoot)) {\n\t\t$m = "Could not create CLI directory"\n\t\ttry {\n\t\t\t$null = ni -it d $serverRoot -f -ea si\n\t\t} catch {\n\t\t\t"$m. - $($_.ToString())"\n\t\t\treturn\n\t\t}\n\n\t\tif(!(Test-Path $serverRoot)) {\n\t\t\t"$m"\n\t\t\treturn\n\t\t}\n\t}\n\n\tcd $serverRoot\n\n\ttry {\n\t\t"Looking for existing CLI in $serverRoot"\n\t\tif(Test-Path "$cliPath") {\n\t\t\t"Found installed CLI"\n\t\t} else {\n\t\t\tif ($forceLocalDownload) {\n\t\t\t\tDoLocalDownload\n\t\t\t} else {\n\t\t\t\ttry { DownloadCli } catch {\n\t\t\t\t\t"Download failed. - $($_.ToString())"\n\t\t\t\t\tDoLocalDownloadOrFail ${l.InstallExitCode.ServerDownloadFailed}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tInstallCli\n\t\t}\n\n\t\tStartCli\n\n\t\t$listeningP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "Listening on 127.0.0.1:(.+)"\n\t\t}\n\n\t\t$timeoutDate = (Get-Date).AddSeconds(4)\n\t\t$serverLogMsg = "Server did not start successfully. Full server log at $log >>>"\n\t\twhile ((Get-Date) -lt $timeoutDate) {\n\t\t\tif(Test-Path $log) {\n\t\t\t\t$listeningMatch = (sls @listeningP).Matches.Groups\n\t\t\t\tif($listeningMatch) {\n\t\t\t\t\t$global:port = $listeningMatch[1].Value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tsleep -Milliseconds 30\n\t\t}\n\n\t\tif (!$port) {\n\t\t\t$serverLogMsg\n\t\t\tcat $log\n\t\t\t"<<< End of server log"\n\t\t\tq ${l.InstallExitCode.ServerFailedToStart}\n\t\t}\n\t} catch {\n\t\t"Server failed to start. - $($_.ToString())"\n\t\t"$($_.ScriptStackTrace)"\n\t}\n\n\t# Get windows version\n\ttry {\n\t\t$global:winVersion = (gcim Win32_OperatingSystem).Version\n\t} catch {\n\t\t"Failed to find Windows version - $($_.ToString())"\n\t\t$global:winVersion = "unknown"\n\t}\n\n\tprintResult\n\n\t#\n\t# Start infinite loop, quit when orphaned (ssh connection closed)\n\t#\n\n\t"$pid, watching $sshdPID"\n\twhile ($True) {\n\t\texitIfNeeded\n\t\tsleep 30\n\t}\n}\n\n"${(0,o.getResumeLogMarker)(e)}"\nmain\n\n`;return(0,i.minifyPwsh)(v,["getSshdParentPid","exitIfNeeded","cliNameInArchiveWithoutExe","cliNameInArchve","cliNameOnDisk","cliPath","DownloadCli","InstallCli","DoLocalDownload","DoLocalDownloadOrFail","allowLocalDownload","forceLocalDownload","getStopwatch","totalDownloadTime","totalInstallTime","totalExtInstallTime","totalServerStartTime","commitId","serverRoot","quality","telemetryFlag","didLocal","gotUnpackResult","currentPID","parentPID","launchedCliPid","archPart","cliArtifactName","randomDirName","tmpDest","escapedServerDir","timeoutDate","listeningP","listeningMatch","winVersion","StartCli","printDetails","serverLogMsg"])},t.getSshdParentPid="function getSshdParentPid {\n\t$currentPID = $PID\n\twhile ($True) {\n\t\t$parentPID = (gcim win32_process | ? processid -eq $currentPID).parentprocessid\n\t\tif (!$parentPID) {\n\t\t\t\"no sshd parent proc\"\n\t\t\texit 0\n\t\t}\n\n\t\tif ((gps -Id $parentPID).Name -eq 'sshd') {\n\t\t\treturn $parentPID\n\t\t}\n\n\t\t$currentPID = $parentPID\n\t}\n}"},2480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execServerInstallScript=t.serverInstallScript=t.webUITokenParameter=void 0;const n=r(810),o=r(5260),i=r(2208),s=r(8059),a=r(5748),c=r(9763);function l(e){return"off"!==e?"--tries=1":""}t.webUITokenParameter="tkn",t.serverInstallScript=function({uuid:e,quality:r,commit:u,telemetryLevel:d,extensionIds:p,basePath:h,serverDataFolderName:f,serverApplicationName:m,preventExit:g,enableWebAccess:v,lockfilesInTmp:_,useFlock:y,printVars:S,localDownload:w,portRange:b,serverListenOnSocket:E}){const T=p?p.map((e=>`--install-extension ${e}`)).join(" "):"";return`\necho "${(0,a.getScriptStartMarker)(e)}"\n\n#\n# Setup\n#\nVSC_TMP="\${XDG_RUNTIME_DIR:-\`echo /tmp\`}"\nCOMMIT_ID="${u}"\nSERVER_APP_NAME="${m}"\nEXTENSIONS="${T}"\nTELEMETRY="--telemetry-level ${d}"\nexport VSCODE_AGENT_FOLDER=${h??"$HOME"}/${f}\nALLOW_CLIENT_DOWNLOAD="${"off"!==w?1:0}"\nFORCE_CLIENT_DOWNLOAD="${"always"===w?1:0}"\nnow=\`date +%s\`\n\nPORT_FLAG=${E?"":b?`--port=${b.start}-${b.end}`:"--port=0"}\n\nSERVER_LISTEN_FLAG=${E?'--socket-path="$VSC_TMP/vscode-ssh-remote-server-sock-$now"':""}\nUNPACK_RESULT=\nDID_LOCAL_DOWNLOAD=0\nDOWNLOAD_TIME=\nINSTALL_TIME=\nEXT_INSTALL_TIME=\nSERVER_START_TIME=\nCONNECTION_TOKEN=\n\nVSCH_DIR="$VSCODE_AGENT_FOLDER/bin/$COMMIT_ID"\nVSCH_SERVER_SCRIPT="$VSCH_DIR/bin/$SERVER_APP_NAME"\nVSCH_LOGFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.log"\nVSCH_PIDFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.pid"\nVSCH_TOKENFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.token"\n\nfail_with_exitcode() {\n\techo "${e}: start"\n\techo "exitCode==$1=="\n\techo_common_results\n\techo "${e}: end"\n\texit 0\n}\n\necho_common_results() {\n\techo "listeningOn==$LISTENING_ON=="\n\techo "osReleaseId==$OSRELEASEID=="\n\techo "arch==$ARCH=="\n\techo "vscodeArch==$VSCODE_ARCH=="\n\techo "bitness==$BITNESS=="\n\techo "tmpDir==$VSC_TMP=="\n\techo "platform==$PLATFORM=="\n\techo "unpackResult==$UNPACK_RESULT=="\n\techo "didLocalDownload==$DID_LOCAL_DOWNLOAD=="\n\techo "downloadTime==$DOWNLOAD_TIME=="\n\techo "installTime==$INSTALL_TIME=="\n\techo "extInstallTime==$EXT_INSTALL_TIME=="\n\techo "serverStartTime==$SERVER_START_TIME=="\n}\n\n\nmillis() {\n\tif [[ $PLATFORM == linux ]]; then\n\t\techo $(($(date +%s%N)/1000000))\n\telse\n\t\t# Can't get actual millis on mac\n\t\techo $(($(date +%s)*1000))\n\tfi\n}\n\nelapsed() {\n\techo $(($(millis) - $1))\n}\n\nif [[ ! -d $VSCH_DIR ]]; then\n\tmkdir -p $VSCH_DIR\n\n\tif (( $? > 0 ))\n\tthen\n\t\techo "Creating the server install dir failed..."\n\t\tfail_with_exitcode ${c.InstallExitCode.CreateInstallDirFailed}\n\tfi\nfi\n\nprintenv_indent() {\n\techo "printenv:"\n\tprintenv | sed 's/^/    /'\n}\n\n\n\n#\n# Get OS name\n#\nOSRELEASEID=\`cat /etc/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\nif [[ -z $OSRELEASEID ]]\nthen\n\tOSRELEASEID=\`cat /usr/lib/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\n\tif [[ -z $OSRELEASEID ]]\n\tthen\n\t\tOSRELEASEID=\`uname -s\`\n\tfi\nfi\n\n\n#\n# Get host platform/architecture\n#\nUNAME=$(uname -s)\ncase $UNAME in\n\tLinux) PLATFORM=linux;;\n\tDarwin) PLATFORM=macOS;;\n\t*)\n\t\techo "Unsupported platform: $UNAME"\n\t\tfail_with_exitcode ${c.InstallExitCode.UnsupportedPlatform}\n\t\t;;\nesac\n\nBITNESS=$(getconf LONG_BIT)\nARCH=$(uname -m)\ncase $ARCH in\n\tx86_64) VSCODE_ARCH="x64";;\n\tarmv7l | armv8l)\n\t\tVSCODE_ARCH="armhf"\n\t\t;;\n\tarm64 | aarch64)\n\t\tif [[ $BITNESS == 32 ]]; then\n\t\t\t# Can have 32-bit userland on 64-bit kernel\n\t\t\tVSCODE_ARCH="armhf"\n\t\telse\n\t\t\tVSCODE_ARCH="arm64"\n\t\tfi\n\t\t;;\n\t*)\n\t\tOSRELEASE=$(uname -r)\n\t\tcase $OSRELEASE in\n\t\t\t*x86_64*) VSCODE_ARCH="x64";;\n\t\t\t*)\n\t\t\t\techo "Unsupported architecture: $ARCH"\n\t\t\t\tfail_with_exitcode ${c.InstallExitCode.UnsupportedArch}\n\t\t\t;;\n\t\tesac\n\t\t;;\nesac\n\nif [[ $PLATFORM == linux ]]; then\n\tPLATFORM_DOWNLOAD_PATH=server-linux-$VSCODE_ARCH\nelif [[ $VSCODE_ARCH == "arm64" ]]; then\n\tPLATFORM_DOWNLOAD_PATH=server-darwin-arm64\nelse\n\tPLATFORM_DOWNLOAD_PATH=server-darwin\nfi\n\n#\n# Verify linux prereqs\n#\nif [[ $PLATFORM == linux ]]; then\n\tif [[ -f /usr/lib64/libstdc++.so.6 ]]; then\n\t\t# Typical path\n\t\tlibstdc_path='/usr/lib64/libstdc++.so.6'\n\telif [[ -f /sbin/ldconfig ]]; then\n\t\t# Look up path\n\t\tlibstdc_path=\`/sbin/ldconfig -p | grep 'libstdc++' | sed 's/^.* => '//i\`\n\telse\n\t\techo "Warning: Can't find libstdc++.so or ldconfig, can't verify libstdc++ version"\n\tfi\n\n\tif [[ ! -z $libstdc_path ]]; then\n\t\t# can't use "strings", not included by default on some distros\n\t\tfound_glibcxx=0\n\t\treqd_glibcxx=304018 # 3.4.18\n\t\tglibcxx_versions=\`cat $libstdc_path | grep -a -o -E 'GLIBCXX_[[:digit:]]+\\.[[:digit:]]+\\.([[:digit:]]+)?' | sed 's/GLIBCXX_'//gi\`\n\t\twhile read -r version; do\n\t\t\tif [[ $version =~ ([[:digit:]]+)\\.([[:digit:]]+)(\\.([[:digit:]]+))? ]]; then\n\t\t\t\tmajor="\${BASH_REMATCH[1]}"\n\t\t\t\tminor="\${BASH_REMATCH[2]}"\n\t\t\t\tpatch="\${BASH_REMATCH[4]}"\n\n\t\t\t\ttotal=$(( $major*100000 + $minor*1000 ))\n\t\t\t\tif [[ ! -z $patch ]]; then\n\t\t\t\t\ttotal=$(( $total + $patch ))\n\t\t\t\tfi\n\n\t\t\t\tif (( $total >= $reqd_glibcxx )); then\n\t\t\t\t\tfound_glibcxx=1\n\t\t\t\t\tbreak\n\t\t\t\tfi\n\t\t\tfi\n\t\tdone <<< "$glibcxx_versions"\n\n\t\tif [[ $found_glibcxx == 0 ]]; then\n\t\t\techo "Missing GLIBCXX >= 3.4.18!"\n\t\t\techo "Found versions $glibcxx_versions"\n\t\tfi\n\tfi\n\treqd_glibc=217 # 2.17\n\tfound_glibc=0\n\tldd_version=\`ldd --version | head -n1\`\n\tif [[ $ldd_version =~ ^ldd.*([[:digit:]]+)\\.([[:digit:]]+) ]]; then\n\t\tmajor="\${BASH_REMATCH[1]}"\n\t\tminor="\${BASH_REMATCH[2]}"\n\n\t\ttotal=$(( $major*100 + $minor ))\n\t\tif (( $total >= $reqd_glibc )); then\n\t\t\tfound_glibc=1\n\t\tfi\n\tfi\n\n\tif [[ $found_glibc == 0 ]]; then\n\t\techo "Missing GLIBC >= 2.17!"\n\t\techo "Found version $ldd_version"\n\tfi\n\n\tif [[ $found_glibc == 0 || $found_glibcxx == 0 ]]; then\n\t\techo '${e}$$1$$'\n\tfi\nfi\n\n#\n# Acquire install lock\n#\nMAIN_LOCKFD=99\nCLEANUP_LOCKFD=98\n${function(e,t){return`\n\n\tuse_flock=${t?"1":"0"}\n\tif [[ $PLATFORM == "macOS" ]]; then\n\t\tuse_flock=0\n\tfi\n\n\t## Copyright (C) 2009 Przemyslaw Pawelczyk <przemoc@gmail.com>\n\t## This script is licensed under the terms of the MIT license.\n\t## https://opensource.org/licenses/MIT\n\n\tget_lockfile() {\n\t\tlockfiles_in_tmp=${e?"1":"0"}\n\t\tlockfile_name=vscode-remote-lock.$USER.$1\n\t\tif [[ $lockfiles_in_tmp == "1" ]]; then\n\t\t\techo "$VSC_TMP/$lockfile_name"\n\t\telse\n\t\t\techo "$VSCODE_AGENT_FOLDER/bin/$1/$lockfile_name"\n\t\tfi\n\t}\n\n\t# PRIVATE\n\t_lock() { flock -$1 $2; }\n\n\t_no_more_locking() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock u $2\n\t\t\t_lock xn $2 && rm -f $(get_lockfile $1)\n\t\telse\n\t\t\tlockfile_name=$(get_lockfile $1)\n\t\t\trm -f $lockfile_name\n\t\t\trm -f $lockfile_name.target\n\t\tfi\n\t}\n\n\t# PUBLIC - all take lock FD\n\n\tsetup_locking() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\teval "exec $2>\\"$(get_lockfile $1)\\"";\n\t\t\ttrap "_no_more_locking $1 $2" EXIT\n\t\tfi\n\t}\n\n\tsetup_lock_cleanup()  {\n\t\tif [[ $use_flock == "0" ]]; then\n\t\t\ttrap "_no_more_locking $1" EXIT\n\t\tfi\n\t}\n\n\t# obtain an exclusive lock immediately or fail\n\texlock_now() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock xn $1\n\t\telse\n\t\t\tlockfile_name=$(get_lockfile $2)\n\t\t\ttouch $lockfile_name.target\n\t\t\techo \\\\ln $lockfile_name.target $lockfile_name\n\t\t\t\\ln $lockfile_name.target $lockfile_name\n\t\tfi\n\t}\n\n\t# drop a lock\n\tunlock() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock u $1\n\t\telse\n\t\t\t_no_more_locking $2\n\t\tfi\n\t}\n`}(_,y)}\nsetup_locking $COMMIT_ID $MAIN_LOCKFD\n\necho "Acquiring lock on \`get_lockfile $COMMIT_ID\`"\nexlock_now $MAIN_LOCKFD $COMMIT_ID\nif (( $? > 0 ))\nthen\n\techo "Installation already in progress..."\n\techo "If you continue to see this message, you can try toggling the remote.SSH.useFlock setting"\n\tfail_with_exitcode ${c.InstallExitCode.AlreadyInProgress}\nfi\n\nsetup_lock_cleanup $COMMIT_ID $MAIN_LOCKFD\n\n#\n# Delete old servers if needed\n#\nTO_DELETE=$(ls -1 -t $VSCODE_AGENT_FOLDER/bin | tail -n +6)\nfor COMMIT_TO_DELETE in $TO_DELETE; do\n\techo "Found old VS Code install $COMMIT_TO_DELETE, attempting to clean up"\n\n\tsetup_locking $COMMIT_TO_DELETE $CLEANUP_LOCKFD\n\texlock_now $CLEANUP_LOCKFD $COMMIT_TO_DELETE\n\tif (( $? == 0 )); then\n\t\tsetup_lock_cleanup $COMMIT_TO_DELETE $CLEANUP_LOCKFD\n\t\tRUNNING="\`ps ax | grep $COMMIT_TO_DELETE | grep -v grep | wc -l | tr -d '[:space:]'\`"\n\t\tif [[ $RUNNING == 0 ]]; then\n\t\t\techo "Deleting old install from $VSCODE_AGENT_FOLDER/bin/$COMMIT_TO_DELETE"\n\t\t\trm -rf $VSCODE_AGENT_FOLDER/bin/$COMMIT_TO_DELETE\n\n\t\t\techo "Deleting old log file from $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.log"\n\t\t\trm $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.log\n\t\t\tif [[ -f $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.pid ]]; then\n\t\t\t\trm $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.pid\n\t\t\tfi\n\t\t\tif [[ -f $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.token ]]; then\n\t\t\t\trm $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.token\n\t\t\tfi\n\t\telse\n\t\t\techo "Install still has running processes, not deleting: $COMMIT_TO_DELETE"\n\t\tfi\n\telse\n\t\techo "Failed to acquire lock for install, not deleting: $COMMIT_TO_DELETE"\n\tfi\ndone\n\ndo_client_download() {\n\tDID_LOCAL_DOWNLOAD=1\n\techo "Trigger local server download"\n\techo ${(0,n.getDownloadServerStartTrigger)(e)}\n\techo artifact==$PLATFORM_DOWNLOAD_PATH==\n\techo destFolder==$VSCODE_AGENT_FOLDER/bin/==\n\techo destFolder2==/$COMMIT_ID/vscode-server.tar.gz==\n\techo ${(0,n.getDownloadServerEndTrigger)(e)}\n\techo "Waiting for client to transfer server archive..."\n\techo "Waiting for $VSCH_DIR/vscode-server.tar.gz.done and vscode-server.tar.gz to exist"\n\n\twhile true; do\n\t\tif [[ -f $VSCH_DIR/vscode-server.tar.gz.done ]]; then\n\t\t\tif [[ ! -f $VSCH_DIR/vscode-server.tar.gz ]]; then\n\t\t\t\techo "Found flag but not server tar - server transfer failed"\n\t\t\t\tfail_with_exitcode ${c.InstallExitCode.ServerTransferFailed}\n\t\t\tfi\n\n\t\t\techo "Found flag and server on host"\n\t\t\trm $VSCH_DIR/vscode-server.tar.gz.done\n\t\t\tbreak\n\t\telse\n\t\t\techo -n ' '\n\t\t\tsleep 3\n\t\tfi\n\tdone\n}\n\ndo_client_download_or_fail() {\n\tif [[ $DID_LOCAL_DOWNLOAD == "1" ]]; then\n\t\techo "Already attempted local download, failing"\n\t\tfail_with_exitcode $1\n\telif [[ $ALLOW_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\t\tLOCAL_DOWNLOAD_RESULT=success\n\telse\n\t\tfail_with_exitcode $1\n\tfi\n}\n\ndo_host_download() {\n\tstart=$(millis)\n\techo '${(0,o.getProgressOutputString)(e,1)}'\n\n\tif [[ $PLATFORM == linux ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=server-linux-$VSCODE_ARCH\n\telif [[ $VSCODE_ARCH == "arm64" ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=server-darwin-arm64\n\telse\n\t\tPLATFORM_DOWNLOAD_PATH=server-darwin\n\tfi\n\n\tDOWNLOAD_URL=https://update.code.visualstudio.com/commit:$COMMIT_ID/$PLATFORM_DOWNLOAD_PATH${v?"-web":""}/${r}\n\n\twget --version &> /dev/null\n\tif (( $? == 0 ))\n\tthen\n\t\techo "Downloading with wget"\n\t\tWGET_ERRORS=$(2>&1 wget ${l(w)} --connect-timeout=7 --dns-timeout=7 -nv -O vscode-server.tar.gz $DOWNLOAD_URL)\n\t\tif (( $? != 0 ))\n\t\tthen\n\t\t\techo "wget download failed"\n\t\t\techo $WGET_ERRORS\n\t\t\tprintenv_indent\n\n\t\t\tdo_client_download_or_fail ${c.InstallExitCode.ServerDownloadFailed}\n\t\telse\n\t\t\techo "Download complete"\n\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\techo "Downloading with curl"\n\t\t\tCURL_OUTPUT=$(curl --connect-timeout 7 -L $DOWNLOAD_URL --output vscode-server.tar.gz -w "%{http_code}")\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != 2??) ]]\n\t\t\tthen\n\t\t\t\techo "curl download failed"\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tprintenv_indent\n\n\t\t\t\tdo_client_download_or_fail ${c.InstallExitCode.ServerDownloadFailed}\n\t\t\telse\n\t\t\t\techo "Download complete"\n\t\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\t\tfi\n\t\telse\n\t\t\tprintenv_indent\n\t\t\techo "Neither wget nor curl is installed"\n\n\t\t\tdo_client_download_or_fail ${c.InstallExitCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\n}\n\ndo_install() {\n\tstart=$(millis)\n\techo '${(0,o.getProgressOutputString)(e,2)}'\n\tUNPACK_RESULT=success\n\techo 'tar --version:'\n\ttar --version\n\ttar -xf vscode-server.tar.gz\n\tTAR_EXIT=$?\n\tINSTALL_TIME=$(elapsed $start)\n\n\tif (( $TAR_EXIT > 0 ))\n\tthen\n\t\techo "ERROR: tar exited with non-0 exit code: $?"\n\t\tUNPACK_RESULT=error\n\t\tdo_client_download_or_fail ${c.InstallExitCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\tmv vscode-server*/* .\n\n\t# cheap sanity check\n\tif [[ ! -f $VSCH_DIR/node || ! -f $VSCH_SERVER_SCRIPT ]]\n\tthen\n\t\tUNPACK_RESULT=missingFiles\n\t\techo "ERROR: $VSCH_DIR/node or $VSCH_SERVER_SCRIPT don't exist"\n\t\tdo_client_download_or_fail ${c.InstallExitCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\t# Delete the leftover folder which might have -web prefix, and the .tar.gz\n\trm -rf vscode-server*\n}\n\ndo_extension_install() {\n\t# install extensions\n\tif [[ ! -z $EXTENSIONS ]]\n\tthen\n\t\techo "Installing extensions..."\n\t\tstart=$(millis)\n\t\t$VSCH_SERVER_SCRIPT $TELEMETRY $EXTENSIONS\n\t\tEXT_INSTALL_TIME=$(elapsed $start)\n\tfi\n}\n\n#\n# Install if needed\n#\nif [[ ! -f $VSCH_SERVER_SCRIPT ]]\nthen\n\techo "Installing to $VSCH_DIR..."\n\tSTASHED_WORKING_DIR="\`pwd\`"\n\tcd $VSCH_DIR\n\n\tif [[ $FORCE_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\telse\n\t\tdo_host_download\n\tfi\n\n\tdo_install\n\tcd $STASHED_WORKING_DIR\nelse\n\techo "Found existing installation at $VSCH_DIR..."\nfi\n\n\n#\n# Generate a new connection token\n#\nwrite_connection_token() {\n\trm $VSCH_TOKENFILE\n\tCONNECTION_TOKEN="${(0,s.generateUuid)()}"\n\ttouch $VSCH_TOKENFILE\n\tchmod 0700 $VSCH_TOKENFILE\n\techo $CONNECTION_TOKEN > $VSCH_TOKENFILE\n}\n\n#\n# Start the server\n#\nstart_server() {\n\techo "Running ssh connection command... $VSCH_SERVER_SCRIPT --start-server --host=127.0.0.1 --accept-server-license-terms --enable-remote-auto-shutdown $PORT_FLAG $TELEMETRY $SERVER_LISTEN_FLAG $EXTENSIONS &> \\"$VSCH_LOGFILE\\" < /dev/null"\n\tprintenv_indent\n\tstart=$(millis)\n\twrite_connection_token\n\tif [[ -f $VSCH_LOGFILE ]]; then\n\t\techo "Removing old logfile at $VSCH_LOGFILE"\n\t\trm $VSCH_LOGFILE # See #6265\n\tfi\n\t$VSCH_SERVER_SCRIPT --start-server --host=127.0.0.1 --accept-server-license-terms --enable-remote-auto-shutdown $PORT_FLAG $TELEMETRY $SERVER_LISTEN_FLAG $EXTENSIONS --connection-token-file $VSCH_TOKENFILE &> "$VSCH_LOGFILE" < /dev/null &\n\techo $! > "$VSCH_PIDFILE"\n\techo "Spawned remote server: $!"\n\n\tstopTime=$((SECONDS+15))\n\n\twhile (($SECONDS < $stopTime))\n\tdo\n\t\tLISTENING_ON=\`cat "$VSCH_LOGFILE" | grep -a -E 'Extension host agent listening on .+' | grep -v grep | sed 's/Extension host agent listening on //'\`\n\t\tif [[ $LISTENING_ON != '' ]]\n\t\tthen\n\t\t\tbreak\n\t\tfi\n\n\t\techo "Waiting for server log..."\n\t\tsleep .03\n\tdone\n\n\tSERVER_START_TIME=$(elapsed $start)\n}\n\necho "Checking $VSCH_LOGFILE and $VSCH_PIDFILE for a running server"\nif [[ -f $VSCH_PIDFILE ]]; then\n\tSERVER_PID=\`cat $VSCH_PIDFILE\`\n\techo "Looking for server with pid: $SERVER_PID"\n\tALL_PROCS=\`ps ax | grep "^\\s*$SERVER_PID\\s"\`\nelse\n\tALL_PROCS=\`ps ax\`\nfi\n\nRUNNING="\`echo $ALL_PROCS | grep $VSCH_SERVER_SCRIPT | grep -v grep | wc -l | tr -d '[:space:]'\`"\nif [[ $RUNNING == 0 ]]; then\n\tstart_server\nelif [[ ! -f $VSCH_LOGFILE ]]; then\n\techo "WARNING: VS Code Server is running but its logfile is missing. Don't delete the VS Code Server manually, run the command 'Uninstall VS Code Server'."\n\tstart_server\nelse\n\techo "Found running server..."\n\tdo_extension_install\n\tif [[ -f $VSCH_TOKENFILE ]]; then\n\t\tCONNECTION_TOKEN=\`cat $VSCH_TOKENFILE\`\n\tfi\nfi\n\necho " "\n${i.serverLicense.map((e=>`echo "${e}"`)).join("\n")}\necho " "\n\nLISTENING_ON=\`cat "$VSCH_LOGFILE" | grep -a -E 'Extension host agent listening on .+' | grep -v grep | sed 's/Extension host agent listening on //'\`\nWEBUITOKEN=\`cat "$VSCH_LOGFILE" | grep -a -E 'Web UI available at' | grep -o -E '${t.webUITokenParameter}=[0-9a-f-]+' | grep -o -E '[0-9a-f-]+'\`\nif [[ -z $LISTENING_ON ]]\nthen\n\techo "Server did not start successfully. Full server log at $VSCH_LOGFILE >>>"\n\tcat $VSCH_LOGFILE\n\techo "<<< End of server log"\n\tfail_with_exitcode ${c.InstallExitCode.ServerFailedToStart}\nfi\n\n#\n# If the server was already running, ensure that it won't shut down in the near future\n#\nif [[ $RUNNING != 0 ]]; then\n\t# In case the server is close to timing out and shutting down, ask it to delay shutdown\n\n\twget --version &> /dev/null\n\tif [[ $? == 0 && $LISTENING_ON =~ (^[[:digit:]]+$) ]]\n\tthen\n\t\techo "Checking server status on port $LISTENING_ON with wget"\n\t\tWGET_OUT=$(wget --no-proxy -nv -O - http://127.0.0.1:$LISTENING_ON/delay-shutdown 2>&1)\n\t\tif [[ $? != 0 ]]; then\n\t\t\techo $WGET_OUT\n\t\t\tfail_with_exitcode ${c.InstallExitCode.StatusCheckFailed}\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\tif [[ $LISTENING_ON =~ (^[[:digit:]]+$) ]]\n\t\t\tthen\n\t\t\t\techo "Checking server status on port $LISTENING_ON with curl"\n\t\t\t\tCURL_OUTPUT=$(curl --noproxy 127.0.0.1 -s http://127.0.0.1:$LISTENING_ON/delay-shutdown -w " %{http_code}")\n\t\t\telse\n\t\t\t\techo "Checking server status on socket $LISTENING_ON with curl"\n\t\t\t\tCURL_OUTPUT=$(curl --noproxy 127.0.0.1 -s --unix-socket $LISTENING_ON http://127.0.0.1/delay-shutdown -w " %{http_code}")\n\t\t\tfi\n\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != "OK 200") ]]; then\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tfail_with_exitcode ${c.InstallExitCode.StatusCheckFailed}\n\t\t\tfi\n\t\telse\n\t\t\techo "Neither wget nor curl is installed"\n\t\t\tfail_with_exitcode ${c.InstallExitCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\nfi\n\n\n# What we echo below cannot be wider than 80 characters\necho "${e}: start"\n${S.map((e=>`echo ${e}==$${e}==`)).join("\n")}\necho "webUiAccessToken==$WEBUITOKEN=="\necho_common_results\necho "connectionToken==$CONNECTION_TOKEN=="\necho "${e}: end"\n\nunlock $MAIN_LOCKFD $COMMIT_ID\n\n${g?"while true; do sleep 180; echo -n ' '; done":""}\n`},t.execServerInstallScript=function({uuid:e,quality:t,commit:r,telemetryLevel:i,extensionIds:s,basePath:u,serverDataFolderName:d,serverApplicationName:p,preventExit:h,printVars:f,localDownload:m,portRange:g,serverListenOnSocket:v,token:_}){const y=s?s.map((e=>`--install-extension ${e}`)).join(" "):"";return`\necho "${(0,a.getScriptStartMarker)(e)}"\n\n#\n# Setup\n#\nVSC_TMP="\${XDG_RUNTIME_DIR:-\`echo /tmp\`}"\nCOMMIT_ID="${r}"\nSERVER_APP_NAME="${p}"\nEXTENSIONS="${y}"\nTELEMETRY="--telemetry-level ${i}"\nexport VSCODE_AGENT_FOLDER=${u??"$HOME"}/${d}\nALLOW_CLIENT_DOWNLOAD="${"off"!==m?1:0}"\nFORCE_CLIENT_DOWNLOAD="${"always"===m?1:0}"\n\nCLI_NAME_IN_ARCHIVE=${"stable"===t?"code":"code-insiders"}\nCLI_NAME_ON_DISK=$CLI_NAME_IN_ARCHIVE-$COMMIT_ID\nCLI_PATH=$VSCODE_AGENT_FOLDER/$CLI_NAME_ON_DISK\nCLI_LOG_FILE="$VSCODE_AGENT_FOLDER/.cli.$COMMIT_ID.log"\n\nnow=\`date +%s\`\n\nPORT_FLAG=${v?"":g?`--port=${g.start}-${g.end}`:"--port=0"}\n\nUNPACK_RESULT=\nDID_LOCAL_DOWNLOAD=0\nDOWNLOAD_TIME=\nINSTALL_TIME=\nSERVER_START_TIME=\nCONNECTION_TOKEN=\n\n\nfail_with_exitcode() {\n\techo "${e}: start"\n\techo "exitCode==$1=="\n\techo_common_results\n\techo "${e}: end"\n\texit 0\n}\n\necho_common_results() {\n\techo "listeningOn==$LISTENING_ON=="\n\techo "osReleaseId==$OSRELEASEID=="\n\techo "arch==$ARCH=="\n\techo "vscodeArch==$VSCODE_ARCH=="\n\techo "bitness==$BITNESS=="\n\techo "tmpDir==$VSC_TMP=="\n\techo "platform==$PLATFORM=="\n\techo "unpackResult==$UNPACK_RESULT=="\n\techo "didLocalDownload==$DID_LOCAL_DOWNLOAD=="\n\techo "downloadTime==$DOWNLOAD_TIME=="\n\techo "installTime==$INSTALL_TIME=="\n\techo "serverStartTime==$SERVER_START_TIME=="\n\techo "execServerToken==${_}=="\n}\n\nmillis() {\n\tif [[ $PLATFORM == linux ]]; then\n\t\techo $(($(date +%s%N)/1000000))\n\telse\n\t\t# Can't get actual millis on mac\n\t\techo $(($(date +%s)*1000))\n\tfi\n}\n\nelapsed() {\n\techo $(($(millis) - $1))\n}\n\nif [[ ! -d $VSCODE_AGENT_FOLDER ]]; then\n\tmkdir -p $VSCODE_AGENT_FOLDER\n\n\tif (( $? > 0 ))\n\tthen\n\t\techo "Creating the server install dir failed..."\n\t\tfail_with_exitcode ${c.InstallExitCode.CreateInstallDirFailed}\n\tfi\nfi\n\nprintenv_indent() {\n\techo "printenv:"\n\tprintenv | sed 's/^/    /'\n}\n\n#\n# Get OS name\n#\nOSRELEASEID=\`cat /etc/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\nif [[ -z $OSRELEASEID ]]\nthen\n\tOSRELEASEID=\`cat /usr/lib/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\n\tif [[ -z $OSRELEASEID ]]\n\tthen\n\t\tOSRELEASEID=\`uname -s\`\n\tfi\nfi\n\n#\n# Get host platform/architecture\n#\nUNAME=$(uname -s)\ncase $UNAME in\n\tLinux) PLATFORM=linux;;\n\tDarwin) PLATFORM=macOS;;\n\t*)\n\t\techo "Unsupported platform: $UNAME"\n\t\tfail_with_exitcode ${c.InstallExitCode.UnsupportedPlatform}\n\t\t;;\nesac\n\nBITNESS=$(getconf LONG_BIT)\nARCH=$(uname -m)\ncase $ARCH in\n\tx86_64) VSCODE_ARCH="x64";;\n\tarmv7l | armv8l)\n\t\tVSCODE_ARCH="armhf"\n\t\t;;\n\tarm64 | aarch64)\n\t\tif [[ $BITNESS == 32 ]]; then\n\t\t\t# Can have 32-bit userland on 64-bit kernel\n\t\t\tVSCODE_ARCH="armhf"\n\t\telse\n\t\t\tVSCODE_ARCH="arm64"\n\t\tfi\n\t\t;;\n\t*)\n\t\tOSRELEASE=$(uname -r)\n\t\tcase $OSRELEASE in\n\t\t\t*x86_64*) VSCODE_ARCH="x64";;\n\t\t\t*)\n\t\t\t\techo "Unsupported architecture: $ARCH"\n\t\t\t\tfail_with_exitcode ${c.InstallExitCode.UnsupportedArch}\n\t\t\t;;\n\t\tesac\n\t\t;;\nesac\n\nif [[ $PLATFORM == linux ]]; then\n\tif [[ $VSCODE_ARCH == armhf ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=cli-linux-armhf\n\telse\n\t\tPLATFORM_DOWNLOAD_PATH=cli-alpine-$VSCODE_ARCH\n\tfi\nelif [[ $VSCODE_ARCH == "arm64" ]]; then\n\tPLATFORM_DOWNLOAD_PATH=cli-darwin-arm64\nelse\n\tPLATFORM_DOWNLOAD_PATH=cli-darwin-x64\nfi\n\n#\n# Delete old servers if needed\n#\nTO_DELETE=$(ls -1 -t $VSCODE_AGENT_FOLDER | grep cli | tail -n +6)\nfor CLI_TO_DELETE in $TO_DELETE; do\n\techo "Found old VS Code install $CLI_TO_DELETE, attempting to clean up"\n\n\tif (( $? == 0 )); then\n\t\techo "Deleting old install $VSCODE_AGENT_FOLDER/$CLI_TO_DELETE"\n\t\trm -rf $VSCODE_AGENT_FOLDER/$CLI_TO_DELETE\n\tfi\ndone\n\ndo_client_download() {\n\tDID_LOCAL_DOWNLOAD=1\n\techo "Trigger local server download"\n\techo ${(0,n.getDownloadServerStartTrigger)(e)}\n\techo artifact==$PLATFORM_DOWNLOAD_PATH==\n\techo destFolder==$VSCODE_AGENT_FOLDER==\n\techo destFolder2==/vscode-cli-$COMMIT_ID.tar.gz==\n\techo ${(0,n.getDownloadServerEndTrigger)(e)}\n\techo "Waiting for client to transfer server archive..."\n\techo "Waiting for $VSCODE_AGENT_FOLDER/vscode-cli-$COMMIT_ID.tar.gz.done and vscode-server.tar.gz to exist"\n\n\twhile true; do\n\t\tif [[ -f $VSCODE_AGENT_FOLDER/vscode-cli-$COMMIT_ID.tar.gz.done ]]; then\n\t\t\tif [[ ! -f $VSCODE_AGENT_FOLDER/vscode-cli-$COMMIT_ID.tar.gz ]]; then\n\t\t\t\techo "Found flag but not server tar - server transfer failed"\n\t\t\t\tfail_with_exitcode ${c.InstallExitCode.ServerTransferFailed}\n\t\t\tfi\n\n\t\t\techo "Found flag and server on host"\n\t\t\trm $VSCODE_AGENT_FOLDER/vscode-cli-$COMMIT_ID.tar.gz.done\n\t\t\tbreak\n\t\telse\n\t\t\techo -n ' '\n\t\t\tsleep 3\n\t\tfi\n\tdone\n}\n\ndo_client_download_or_fail() {\n\tif [[ $DID_LOCAL_DOWNLOAD == "1" ]]; then\n\t\techo "Already attempted local download, failing"\n\t\tfail_with_exitcode $1\n\telif [[ $ALLOW_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\t\tLOCAL_DOWNLOAD_RESULT=success\n\telse\n\t\tfail_with_exitcode $1\n\tfi\n}\n\ndo_host_download() {\n\tstart=$(millis)\n\techo '${(0,o.getProgressOutputString)(e,1)}'\n\n\tDOWNLOAD_URL=https://update.code.visualstudio.com/commit:$COMMIT_ID/$PLATFORM_DOWNLOAD_PATH/${t}\n\n\twget --version &> /dev/null\n\tif (( $? == 0 ))\n\tthen\n\t\techo "Downloading with wget"\n\t\tWGET_ERRORS=$(2>&1 wget ${l(m)} --connect-timeout=7 --dns-timeout=7 -nv -O vscode-cli-$COMMIT_ID.tar.gz $DOWNLOAD_URL)\n\t\tif (( $? != 0 ))\n\t\tthen\n\t\t\techo "wget download failed"\n\t\t\techo $WGET_ERRORS\n\t\t\tprintenv_indent\n\n\t\t\tdo_client_download_or_fail ${c.InstallExitCode.ServerDownloadFailed}\n\t\telse\n\t\t\techo "Download complete"\n\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\techo "Downloading with curl"\n\t\t\tCURL_OUTPUT=$(curl --connect-timeout 7 -L $DOWNLOAD_URL --output vscode-cli-$COMMIT_ID.tar.gz -w "%{http_code}")\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != 2??) ]]\n\t\t\tthen\n\t\t\t\techo "curl download failed"\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tprintenv_indent\n\n\t\t\t\tdo_client_download_or_fail ${c.InstallExitCode.ServerDownloadFailed}\n\t\t\telse\n\t\t\t\techo "Download complete"\n\t\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\t\tfi\n\t\telse\n\t\t\tprintenv_indent\n\t\t\techo "Neither wget nor curl is installed"\n\n\t\t\tdo_client_download_or_fail ${c.InstallExitCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\n}\n\ndo_install() {\n\tstart=$(millis)\n\techo '${(0,o.getProgressOutputString)(e,2)}'\n\tUNPACK_RESULT=success\n\techo 'tar --version:'\n\ttar --version\n\ttar -xf vscode-cli-$COMMIT_ID.tar.gz\n\tTAR_EXIT=$?\n\tINSTALL_TIME=$(elapsed $start)\n\n\tif (( $TAR_EXIT > 0 ))\n\tthen\n\t\techo "ERROR: tar exited with non-0 exit code: $?"\n\t\tUNPACK_RESULT=error\n\t\tdo_client_download_or_fail ${c.InstallExitCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\tmv $CLI_NAME_IN_ARCHIVE $CLI_PATH\n\n\t# cheap sanity check\n\teval "$CLI_PATH --version"\n\tif (( $? != 0 ))\n\tthen\n\t\tUNPACK_RESULT=missingFiles\n\t\techo "ERROR: $CLI_PATH don't exist"\n\t\tdo_client_download_or_fail ${c.InstallExitCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\t# Delete the leftover folder which might have -web prefix, and the .tar.gz\n\trm -rf vscode-cli*\n}\n\n#\n# Install if needed\n#\nif [[ ! -f $CLI_PATH ]]\nthen\n\techo "Installing to $VSCODE_AGENT_FOLDER..."\n\tSTASHED_WORKING_DIR="\`pwd\`"\n\tcd $VSCODE_AGENT_FOLDER\n\n\tif [[ $FORCE_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\telse\n\t\tdo_host_download\n\tfi\n\n\tdo_install\n\tcd $STASHED_WORKING_DIR\nelse\n\techo "Found existing installation at $VSCODE_AGENT_FOLDER..."\nfi\n\n\n#\n# Start the server\n#\nstart_server() {\n\techo "Running ssh connection command... $CLI_PATH command-shell --cli-data-dir $VSCODE_AGENT_FOLDER/cli --on-port --require-token ${_} --parent-process-id $$ &> \\"$CLI_LOG_FILE\\" < /dev/null"\n\tprintenv_indent\n\tstart=$(millis)\n\tif [[ -f $CLI_LOG_FILE ]]; then\n\t\techo "Removing old logfile at $CLI_LOG_FILE"\n\t\trm $CLI_LOG_FILE # See #6265\n\tfi\n\t$CLI_PATH command-shell --cli-data-dir $VSCODE_AGENT_FOLDER/cli --parent-process-id $$ --on-port --require-token ${_} &> "$CLI_LOG_FILE" < /dev/null &\n\techo "Spawned remote CLI: $!"\n\n\tstopTime=$((SECONDS+15))\n\n\twhile (($SECONDS < $stopTime))\n\tdo\n\t\tLISTENING_ON=\`cat "$CLI_LOG_FILE" | grep -a -E 'Listening on .+' | grep -v grep | sed 's/Listening on //'\`\n\t\tif [[ $LISTENING_ON != '' ]]\n\t\tthen\n\t\t\tbreak\n\t\tfi\n\n\t\techo "Waiting for server log..."\n\t\tsleep .03\n\tdone\n\n\tSERVER_START_TIME=$(elapsed $start)\n}\n\nstart_server\n\n# What we echo below cannot be wider than 80 characters\necho "${e}: start"\n${f.map((e=>`echo ${e}==$${e}==`)).join("\n")}\necho_common_results\necho "${e}: end"\n\nwhile true; do sleep 180; echo -n ' '; done\n`}},810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadAndCopyToHost=t.getScpFlag=t.getDownloadServerEndTrigger=t.getDownloadServerStartTrigger=void 0;const n=r(7147),o=r(1017),i=r(3837),s=r(9496),a=r(9763),c=r(7174),l=r(6737),u=r(8286),d=r(8904),p=i.promisify(n.exists),h=i.promisify(n.rename),f=i.promisify(n.mkdir);t.getDownloadServerStartTrigger=function(e){return`${e}:trigger_server_download`},t.getDownloadServerEndTrigger=function(e){return`${e}:trigger_server_download_end`},t.getScpFlag=async function(e){const t=e+".done";return await p(t)||await i.promisify(n.writeFile)(t,"finished\n"),o.basename(t)},t.downloadAndCopyToHost=async function(e,t,r,n){const i=e.deps;i.logger.debug(`Got request to download on client for ${JSON.stringify(n)}`);const m=function(e,t){return`https://update.code.visualstudio.com/commit:${t.commit}/${e.artifact}/${t.quality}`}(n,await(0,d.getProductInfo)()),g=n.destPath.split(/[\\/]/).pop();i.progress.report({message:s.l10n.t("Downloading VS Code Server locally")}),i.timer.mark(5);const v=await async function(e,t,r){r.debug("Downloading VS Code server locally...");const n=await s.commands.executeCommand("_workbench.downloadResource",s.Uri.parse(e));if(!n)throw new Error(s.l10n.t("Failed to download VS Code Server locally"));r.debug("Downloaded VS Code server to "+n.fsPath);const i=o.join(o.dirname(n.fsPath),`vscode_server_${Date.now()}`),a=o.join(i,t);return await p(i)||await f(i),await h(n.fsPath,a),r.debug("Renamed VS Code server to "+a),a}(m,g,i.logger);i.timer.mark(6);const _=await(0,c.generateScpCommand)(v,e.host,n.destPath,i.logger);i.progress.report({message:s.l10n.t("Copying VS Code Server to host with scp")}),i.logger.debug(`Copying file to remote with ${_}`);try{i.timer.mark(7),await(0,l.runSshTerminalCommandWithLogin)(e,{systemInteractor:t,command:_,cwd:o.dirname(v),nickname:"Copy server to host",revealTerminal:r}),i.timer.mark(8)}catch(e){if(e instanceof u.CanceledError)throw a.SshResolverError.Canceled();throw e}}},9266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runCommandOnRemote=void 0;const n=r(1531),o=r(5748),i=r(4938),s=r(5806),a=r(9759),c=r(8059);async function l(e,t,r){return(0,a.withCancellationTokenSource)((n=>(r.onCancellationRequested((()=>{n.cancel()})),(0,s.handleRequestWithInteractors)(e,t,n.token).finally((()=>{n.cancel()})))))}t.runCommandOnRemote=async function(e,t,r){const s=(0,c.randomString)(),a=(0,o.getScriptStartMarker)(s),u=`${s}: end`,d=(0,n.getInteractorForMsg)(new RegExp(`${a}(.*)${u}`));t=`echo '${a}'\n${t}\necho '${u}'`,r=`echo '${a}'\n${r}\necho '${u}'`;const p=await i.LocalServerManager.create(e,{authRequestHandler:l,interactor:d.interactor,marker:s}),h=p.connect(t,r);return new Promise(((t,r)=>{let n=!1;d.result.then((e=>{n=!0,t(e[1])})),h.then((t=>{n||e.deps.logger.error("Failed to run command. Got output: "+t),r(new Error("Failed to run command"))}))})).finally((()=>{p.terminate()}))}},5806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleRequestWithInteractors=t.killCurrentRemoteServer=t.tryInstallWithLocalServer=t.resolveWithLocalServer=void 0;const n=r(578),o=r(1808),i=r(2037),s=r(1017),a=r(9496),c=r(1531),l=r(3170),u=r(9763),d=r(810),p=r(4938),h=r(6723),f=r(7674),m=r(415),g=r(6737),v=r(8691),_=r(36),y=r(8286),S=r(9759),w=r(2386),b=r(132),E=r(3725),T=r(364);async function C(e,t){const r=e.deps,o=await function(e,t,r){const o=setTimeout((()=>{t.report({message:a.l10n.t("Waiting for other windows to connect")})}),1e3),c=function(e){return s.join(i.tmpdir(),`vscode-remote-ssh-${w.HostInfo.toPathString(e)}-install.lock`)}(e);return r.debug("Acquiring local install lock: "+c),new Promise(((e,t)=>{n.lock(c,{retries:240,retryWait:500,stale:24e4},(r=>{if(clearTimeout(o),r)return t(u.SshResolverError.Create(u.SshResolverFailureReason.LocalLockTimeout,"Timed out while waiting for the local startup lock"));e(c)}))}))}(e.host,r.progress,r.logger);let c;try{c=await t()}finally{await function(e,t){return new Promise((r=>{n.unlock(e,(n=>{n&&t.debug(`Failed to unlock ${e}: ${n.message}`),r()}))}))}(o,r.logger)}return c}function I(e){return`auth-prompt-${e.toString()}`}async function A(e,t){const{logger:r}=e.deps,n=function(e,t){const r=I(e.host),n=t.get(r);function o(){throw new Error("Invalid interwindow prompt data: "+n)}if(n){let t;e.deps.logger.debug("Found password prompt in other window: "+n);try{return t=JSON.parse(n),"string"==typeof t.ipcHandlePath&&t.promptMsg&&"string"==typeof t.promptMsg.message||o(),t}catch(e){o()}}return null}(e,t);if(n)return(0,S.withCancellationTokenSource)((async i=>{(async function(e,t,r){const n=I(e.host);let o;for(;!r.isCancellationRequested&&(o=t.get(n));)await(0,y.sleep)(1e3);o||e.deps.logger.debug("Detected password prompt handled in another window")})(e,t,i.token).then((()=>{i.cancel()}));try{const t=await D(e,n.promptMsg,i.token);t?(r.debug("Sending user response to primary window"),o.connect(n.ipcHandlePath).end(t.userResponse)):r.debug("User canceled prompt")}catch(e){if(!(e instanceof y.CanceledError))throw e}}))}const O=new Map,R=e=>`${e.host}-${e.useExecServer}`;t.resolveWithLocalServer=async function(e,t,r){const n=e.deps,o=R(e);O.get(o)?.dispose(),O.delete(o);const i=e.isReconnection?Date.now():void 0;let s=!0;const a=setTimeout((async()=>{for(e.deps.logger.debug("Starting to look for password prompt from another window");s;)await A(e,r),await(0,y.sleep)(1e3)}),1500);return await C(e,(async()=>{s=!1,clearTimeout(a);const c=await(0,p.findRunningServer)(e,i);if(c){const t=!!await(0,v.getConfigurationForHost)(e.host);return n.logger.debug("Found running server - short-circuiting install"),O.set(o,new p.LocalServerConnection(c,n.logger)),{retries:1,execServer:c.execServerToken?{token:c.execServerToken}:void 0,installScriptResult:{serverConfiguration:c},usedAuthMethods:new Set,newSocksPort:c.socksPort,remoteInConfigFile:t}}return await(0,m.installServer)(e,T.defaultSystemInteractor,t,r)})).finally((()=>s=!1))};const P=new Map;async function k(e,t,r,n){const i=e.deps,s=await(0,b.getIPCHandlePath)("askpass"),a=I(e.host);let c;return new Promise(((e,l)=>{c=o.createServer((t=>{let r="";t.on("data",(e=>{r+=e.toString()})),t.on("end",(()=>{i.logger.debug("Got password from another window"),e({userResponse:r,usedInteractors:new Set})}))})).listen(s,(()=>{i.logger.debug("Listening for interwindow password on "+s),i.logger.debug("Writing password prompt to globalState"),r.update(a,JSON.stringify({ipcHandlePath:s,promptMsg:t}))})),c.on("error",(e=>{const t="Failed to start interwindow auth prompt server: "+e.message;i.logger.error(t),l(new Error(t))})),n.onCancellationRequested((()=>{l(new y.CanceledError)}))})).finally((()=>{i.logger.debug("Cleaning up other-window auth server"),x(e.host,r),c.close()}))}function x(e,t){const r=I(e);t.update(r,"")}async function D(e,t,r){const{logger:n}=e.deps,o=new Set,i=function(e){const t=e.deps.logger;return[new c.FingerprintInteractor(e,g.showHostKeyConfirmation),new c.PassphraseInteractor(g.showPassphraseInputBox,t),new c.DifferingHostKeyInteractor(g.showDifferingHostConfirmation,t),new c.PasswordInteractor(g.showPasswordInputBox,t),new c.TwoFacInteractor(g.showVerificationCodeInputBox,t),new c.DuoTwoFacInteractor(g.showVerificationCodeInputBox,t),new h.UnrecognizedRequestInteractor]}(e);for(const e of i){const i=await e.onData(t.message,r,{detail:t.detail,detectedServerKey:t.detectedServerKey});if(i.canceled)return void n.debug("Interactor signaled cancel");if("consume"===i.postAction){o.add(e.id);const t=i.isPassword?i.response.replace(/./g,"*"):i.response;return n.debug("Interactor gave response: "+t),{userResponse:i.response,usedInteractors:o}}}}t.tryInstallWithLocalServer=async function e(t,{systemInteractor:r,linuxInstallScript:n,windowsInstallScript:o,socksPort:i,revealTerminalEvent:s,usedAuthMethods:h,marker:m,globalState:g,platform:v}){const y=t.deps,w=(0,c.getInstallScriptOutputInteractor)(m),b=(0,c.getServerErrorLogOutputInteractor)(),T=(0,c.getDownloadRequestInteractor)(m,y.logger),C=await(0,_.getPrereqsWarningInteractor)(m),I=new c.RemoteServerProgressInteractor(m,y.progress);let A;if("number"!=typeof i)throw new Error("Need socksPort defined to use local server");s((()=>{y.logger.showLog()})),x(t.host,g);const N=new c.ComposedInteractor([b.interactor,w.interactor,T.interactor,C,I]),L=await p.LocalServerManager.create(t,{socksPort:i,marker:m,interactor:N,usedInteractors:h,platform:v,authRequestHandler:(e,t,r)=>async function(e,t,r,n){return(0,S.withCancellationTokenSource)((o=>(r.onCancellationRequested((()=>{o.cancel()})),Promise.race([D(e,t,o.token),k(e,t,n,o.token)]).finally((()=>{o.cancel()})))))}(e,t,r,g)});P.set(R(t),L),A=L.connect(n,o);const $=T.result.then((async e=>{await(0,d.downloadAndCopyToHost)(t,r,void 0,e)}));let M,F=Promise.race([w.result,A]);b.result.then((e=>{M=e}));try{await Promise.race([F,$])}catch(e){throw L.terminate(),e}let j=await F;if("string"!=typeof j&&!j)throw u.SshResolverError.Create(u.SshResolverFailureReason.BadInstallScriptResult,"Got bad result from install script");y.logger.debug(`Received install output: ${(0,E.sanitizeInstallScriptOutput)(j)}`);try{const e=(0,u.handleInstallOutput)(t,j,M);return e?(e.serverConfiguration.platform=L.platform,(0,_.logInstallScriptResult)(e,y.logger),await L.persistConnectionDetails(e.serverConfiguration,i)&&O.set(R(t),new p.LocalServerManagerConnection(L)),e):(L.terminate(),null)}catch(c){if(L.terminate(),c instanceof u.SshResolverError&&c.failureReason===u.SshResolverFailureReason.SendDisconnectBrokenPipe&&!v){y.logger.debug("Error connecting, prompting to select platform. Issue related to remote-release issue #7272, temporary workaround due to OpenSSH regression.");const a=await(0,l.interactivelyPickSshPlatform)(`Error connecting, please select the platform of the remote host: "${t.host}"`);if(!a)throw y.logger.debug("Interactively Pick SSH Platform was canceled."),c;const u=await e(t,{systemInteractor:r,globalState:g,linuxInstallScript:n,windowsInstallScript:o,socksPort:i,marker:m,revealTerminalEvent:s,usedAuthMethods:h,platform:a});return u&&(u.storePlatform=!0),u}if(c instanceof u.SshResolverError&&c.failureReason===u.SshResolverFailureReason.ShellRequestFailedOnChannel&&!v){y.progress.report({message:a.l10n.t("Detected Windows host, need to reconnect")}),y.logger.debug("Detected Windows OpenSSH 7.9+ host, issue #2475. Reconnecting as Windows host.");const c=await e(t,{systemInteractor:r,globalState:g,linuxInstallScript:n,windowsInstallScript:o,socksPort:i,marker:m,revealTerminalEvent:s,usedAuthMethods:h,platform:f.Platform.Windows});return c&&(c.storePlatform=!0),c}throw c}},t.killCurrentRemoteServer=async function(e){let t=!1;for(const r of P.values())t=await r.killRemote(e)||t;return t},t.handleRequestWithInteractors=D},4938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killLocalServer=t.LocalServerManager=t.LocalServerManagerConnection=t.LocalServerConnection=t.findRunningServer=void 0;const n=r(2081),o=r(7147),i=r(1017),s=r(3837),a=r(3170),c=r(5748),l=r(9763),u=r(8049),d=r(6723),p=r(7674),h=r(7174),f=r(7475),m=r(2386),g=r(9783),v=r(132),_=r(5238),y=r(4460),S=r(8904),w=r(3725),b=s.promisify(o.readFile),E=s.promisify(o.exists);async function T(e){const t=e.useExecServer?"es":"tr";return i.join(e.deps.serverDataPath,await async function(e){const t=(0,f.getPackageJson)().version,r=await(0,S.getProductInfo)();return`vscode-ssh-host-${m.HostInfo.toPathString(e)}-${r.commit}-${t}`}(e.host)+"-"+t,u.dataFileName)}async function C(e,t){try{const r=await(0,g.httpGet)(void 0,{socketPath:e,path:"/delay-shutdown"},t);return"OK"===r||t.debug("Got unexpected result from running connection server: "+r),!0}catch(e){return t.debug("Server delay-shutdown request failed: "+e.message),!1}}async function I(e,t){const r=e.deps.logger,n=await async function(e){const t=await T(e);if(e.deps.logger.debug("Looking for existing server data file at "+t),await E(t)){const r=(await b(t)).toString();try{return JSON.parse(r)}catch(t){return void e.deps.logger.info("Found data file but it has bad contents: "+r)}}}(e);if(!n)return;const o={...n,connectionToken:n.connectionToken&&(0,w.sanitizeConnectionToken)(n.connectionToken)};if(r.debug(`Found local server running: ${JSON.stringify(o)}`),!(t&&n.startupTime+2e3<t))return await C(n.ipcHandlePath,r)?n:void r.debug("Existing server's health check failed, will start a new one");r.debug("Running server is stale. Ignoring")}t.findRunningServer=I,t.LocalServerConnection=class{constructor(e,t){this.serverKeepaliveTimer=P(e.ipcHandlePath,t)}dispose(){clearInterval(this.serverKeepaliveTimer)}},t.LocalServerManagerConnection=class{constructor(e){this.manager=e}dispose(){this.manager.disconnect()}};class A{constructor(e){this.interactor=e,this.stdout="",this.onDataQ=Promise.resolve()}async onData(e){return this.onDataQ=this.onDataQ.finally((()=>this._onData(e)))}async _onData(e){this.stdout+=e,"consume"===(await this.interactor.onData(this.stdout)).postAction&&(this.stdout="")}}var O;!function(e){e[e.Initial=0]="Initial",e[e.Connecting=1]="Connecting",e[e.Running=2]="Running",e[e.Connected=3]="Connected",e[e.Terminated=4]="Terminated"}(O||(O={}));class R{constructor(e,t,r,n,o){this.params=e,this.child=t,this.args=r,this.ipcHandlePath=n,this.askpass=o,this.startupTime=Date.now(),this.sshOutput="",this.stdout="",this.stderr="",this.stdoutHandler=async e=>{const t=(0,w.stripTrailingNewline)(e.toString()),r=(0,w.markLines)((0,w.sanitizeInstallScriptOutput)(t));if(this.deps.logger.debug(r),this.updateSshOutput((0,w.splitLines)(t)),this.stdout+=t,this.commandOutputMatcher&&await this.commandOutputMatcher({stdout:this.stdout}))return this.commandOutputMatcher=void 0,void(this.stdout="");this.state===O.Connecting&&t.includes((0,c.getScriptStartMarker)(this.args.marker))&&(this.params.deps.timer.mark(2),this.state=O.Running),this.interactorBuffer.onData(t)},this.stderrHandler=async e=>{const t=(0,w.stripTrailingNewline)(e.toString()),r=this.parseStderrLines(t);this.updateSshOutput(r.filter((e=>"trace"!==e.type)).map((e=>e.text))),this.stderr+=t,this.commandOutputMatcher&&this.commandOutputMatcher({stderr:this.stderr})?this.stderr="":r.forEach((e=>{this.parseAuthRequestDetail(e.text),"trace"===(e={text:(0,w.markLine)(e.text,"stderr"),type:e.type}).type?this.deps.logger.trace(e.text):this.deps.logger.info(e.text)}))},this.deps=this.params.deps,this.state=O.Initial,this.interactorBuffer=new A(this.args.interactor),this.askpass?.setAuthRequestHandler(this.askpassAuthRequestHandler.bind(this))}get platform(){return this._platform}static async create(e,t){const r=e.deps,{socksPort:o}=t,s="number"==typeof o?["-D",String(o)]:void 0,{serverDataFolderName:c}=await(0,S.getProductInfo)(),l=t.platform===p.Platform.Windows?"powershell":t.platform===p.Platform.Linux||t.platform===p.Platform.MacOS?"bash":void 0,u={serverId:R.NEXT_SERVER_ID++,ipcHandlePath:await(0,v.getIPCHandlePath)("askpass"),sshCommand:await(0,h.getSshCommandPath)(r.logger),sshArgs:["-v",...await(0,h.getSshConnectionArgs)(e,{cmdSegment:s,allowPortForward:!0,allowRemoteCommand:void 0===l}),...l?[l]:[]],serverDataFolderName:c,dataFilePath:e.deps.serverDataPath?await T(e):void 0};let f,m;void 0!==process.env.SSH_ASKPASS&&(0,a.externalSshAskpass)()||(f=new d.Askpass(e),m=await f.getEnv()),r.logger.debug(`Spawning local server with ${JSON.stringify(u)}`),r.logger.debug(`Local server env: ${JSON.stringify({SSH_AUTH_SOCK:process.env.SSH_AUTH_SOCK,SHELL:process.env.SHELL,...m})}`),r.timer.mark(1);const g=n.spawn(process.execPath,[i.join(__dirname,"localServer.js"),JSON.stringify(u)],{detached:!0,stdio:"pipe",env:{...process.env,...m}});return g.unref(),r.logger.debug("Spawned "+g.pid),new R(e,g,t,u.ipcHandlePath,f)}async askpassAuthRequestHandler(e,t,r){const n={message:t,detail:this.authRequestDetail,detectedServerKey:this.serverKey},o=await this.args.authRequestHandler(e,n,r);return o&&(this.serverKey=void 0),o}connect(e,t){return this.state=O.Connecting,this.keepaliveTimer=setTimeout((()=>{this.keepaliveTimer=P(this.ipcHandlePath,this.deps.logger)}),500),new Promise((async(r,n)=>{const o=()=>setTimeout((()=>{this.state===O.Connecting&&(n(l.SshResolverError.Timeout("Connecting with SSH timed out")),this.terminate())}),(0,a.scriptOutputConnectTimeoutSeconds)());let i=o();const s=this.askpass?.onAuthRequestReceived((()=>{clearTimeout(i)})),c=this.askpass?.onAuthRequestHandled((()=>{i=o()}));this.child.on("exit",(e=>{this.state=O.Terminated,this.deps.logger.debug(`Local server exit: ${e}`),r(this.sshOutput),this.cleanup()})),this.child.stdout.on("data",this.stdoutHandler),this.child.stderr.on("data",this.stderrHandler);try{await this._checkPlatformAndRunScript(e,t)}catch(e){n(e)}finally{s?.dispose(),c?.dispose()}})).finally((()=>{setTimeout((()=>{this.state===O.Connecting&&(this.deps.logger.debug("Connecting failed, terminating local server"),this.cleanup())}),10)}))}async killRemote(e){if(!this._platform)return this.deps.logger.error("Unexpectedly did not know platform of remote."),!1;const t={platform:this._platform,cleanRemoteUserData:e};try{const e=await(0,g.httpPost)(void 0,JSON.stringify(t),{socketPath:this.ipcHandlePath,path:"/kill-remote"},this.deps.logger);return this.deps.logger.debug(e),!0}catch(e){return this.deps.logger.debug("Server kill-remote request failed: "+e.message),!1}}async _checkPlatformAndRunScript(e,t){if(await this.waitForReady(),this._platform=await this.probeServerPlatform(),this.deps.logger.debug("Platform: "+this._platform),this._platform===p.Platform.Windows){const e=(0,h.getEscapedPowershellCommandForLocalServer)(t,this.deps.logger);await this.startPowershellAndWait(),this.execute(e)}else{const t=`function mainScriptWrapper {\n ${e}\n }\n mainScriptWrapper`,r=await this.probeShell();this.deps.logger.debug("Shell: "+r),this.deps.logger.debug(`Creating bash subshell inside "${r}"`),await this.startBashAndWait(),this.execute(t)}}terminate(){this.state!==O.Terminated&&(this.state=O.Terminated,this.deps.logger.debug("Terminating local server"),this.cleanup())}disconnect(){var e;this.keepaliveTimer&&(e=this.keepaliveTimer,clearInterval(e),this.keepaliveTimer=void 0)}execute(e,t){t&&(this.commandOutputMatcher=t),this.child.stdin.write(`${e}\n`)}updateSshOutput(e){const t=e.filter((e=>!e.startsWith("local-server> "))).join("\n");t&&(this.sshOutput=this.sshOutput+t+"\n")}parseStderrLines(e){return(0,w.splitLines)(e).map((e=>{if(!e.startsWith("debug1:"))return{text:e};const t=e.match(/^debug1: Server host key: (.+)/);if(t){const r=t[1].trim();return this.serverKey=r.split(" ")[1]||r,{text:e}}return e.match(/debug1: Host .* is known and matches/)&&(this.serverKey=void 0),{text:e,type:"trace"}}))}parseAuthRequestDetail(e){e.match(/Permission denied/i)&&(this.authRequestDetail=e)}async probeShell(){return new Promise(((e,t)=>{this.execute("echo $SHELL",(t=>{if("stdout"in t){const r=t.stdout.substring(t.stdout.lastIndexOf("/")+1);return e(r),!0}return!1}))}))}async startPowershellAndWait(){return new Promise(((e,t)=>{this.execute("powershell -NoProfile",(t=>!(!("stdout"in t)||!t.stdout.match(/Windows PowerShell/)||(e(),0))))}))}async startBashAndWait(){return new Promise(((e,t)=>{let r=!1,n=0;const o=()=>{n++,r||(this.execute('echo "bash version: " $BASH_VERSION',i),n<=100?setTimeout((()=>{o()}),50):(t(l.SshResolverError.Timeout("Creating bash subshell timed out")),this.terminate()))},i=t=>!(!("stdout"in t)||!t.stdout.match(/bash version: .+/)||(r=!0,e(),0));this.execute("bash"),o()}))}async waitForReady(){const e=`ready: ${this.args.marker}`;return new Promise(((t,r)=>{this.execute(`echo '${e}'`,(r=>!(!("stdout"in r)||!r.stdout.includes(e)||(t(),0))))}))}async probeServerPlatform(){return new Promise(((e,t)=>{this.execute("uname -rsv",(t=>{let r;return"stdout"in t?t.stdout.includes("Darwin")?r=p.Platform.MacOS:t.stdout.toLowerCase().includes("msys")||t.stdout.toLowerCase().includes("windows32")||t.stdout.toLowerCase().includes("cygwin")||t.stdout.toLowerCase().includes("Windows_NT")?r=p.Platform.Windows:(t.stdout.includes("Linux")||t.stdout.toLowerCase().includes("bsd"))&&(r=p.Platform.Linux):t.stderr&&t.stderr.includes("uname")&&(r=p.Platform.Windows),!!r&&(e(r),!0)}))}))}cleanup(){this.disconnect(),this.child.kill()}getServerData(e,t){return{...e,pid:this.child.pid,ipcHandlePath:this.ipcHandlePath,socksPort:t,startupTime:this.startupTime}}async persistConnectionDetails(e,t){if(this.state=O.Connected,this.deps.timer.mark(3),this.deps.serverDataPath)try{this.askpass?.dispose();const r=this.getServerData(e,t),n=await T(this.params);return await(0,_.mkdirp)(i.dirname(n)),this.deps.logger.debug("Persisting server connection details to "+n),s.promisify(o.writeFile)(n,JSON.stringify(r,void 0,2)),r}catch(e){this.deps.logger.debug("Failed to persist local server connection details: "+e.message)}}}function P(e,t){const r=async()=>{await C(e,t)};return r(),setInterval(r,2e3)}t.LocalServerManager=R,R.NEXT_SERVER_ID=1,t.killLocalServer=async function(e){for(const t of[!0,!1]){const r=await I({...e,useExecServer:t},void 0);r&&await(0,y.killTree)(r.pid,e.deps.logger)}}},8049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataFileName=void 0,t.dataFileName="data.json"},6723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnrecognizedRequestInteractor=t.Askpass=void 0;const n=r(7147),o=r(3685),i=r(1017),s=r(3837),a=r(9496),c=r(6737),l=r(132),u=r(5207);t.Askpass=class{constructor(e){this.params=e,this._onAuthRequestReceived=new a.EventEmitter,this.onAuthRequestReceived=this._onAuthRequestReceived.event,this._onAuthRequestHandled=new a.EventEmitter,this.onAuthRequestHandled=this._onAuthRequestHandled.event,this._usedInteractors=new Set,this.enabled=!0,this.requestQ=Promise.resolve(),this.isCanceled=!1,this.currentHandlerCancelTokenSource=null,this.authRequestHandler=null,this.server=o.createServer(((e,t)=>this.onRequest(e,t))),this.server.setTimeout(6e5),this.ipcHandlePathPromise=this.setup().catch((e=>(console.error(e),"")))}get usedInteractors(){return this._usedInteractors}setAuthRequestHandler(e){this.authRequestHandler=e}async setup(){this.ipcHandlePath=await(0,l.getIPCHandlePath)("askpass");try{this.params.deps.logger.debug("askpass server listening on "+this.ipcHandlePath),this.server.listen(this.ipcHandlePath),this.server.on("error",(e=>console.error(e)))}catch(e){console.error("Could not launch ssh askpass helper."),this.enabled=!1}return this.ipcHandlePath}onRequest(e,t){this._onAuthRequestReceived.fire(),this.currentHandlerCancelTokenSource&&this.currentHandlerCancelTokenSource.cancel(),this.requestQ=this.requestQ.finally((()=>new Promise(((r,n)=>{const o=[];e.setEncoding("utf8"),e.on("data",(e=>o.push(e))),t.on("timeout",(()=>{this.params.deps.logger.debug("Askpass request timed out"),e.socket.destroy(),this.currentHandlerCancelTokenSource&&(this.currentHandlerCancelTokenSource.cancel(),this.currentHandlerCancelTokenSource=null)})),e.on("end",(async()=>{const e=o.join("");try{const r=await this.handleRequest(e);t.writeHead(200),t.end(JSON.stringify(r)),this._onAuthRequestHandled.fire()}catch(e){this.params.deps.logger.error(e.message),t.writeHead(500),t.end(),n(new Error(e.message))}r()}))}))))}async handleRequest(e){if(this.params.deps.logger.debug("Got askpass request: "+e),this.isCanceled)return{canceled:!0};let t,r;try{if(t=JSON.parse(e).request,"string"!=typeof t)throw new Error('Missing "request" property')}catch(e){throw new Error("Got malformed askpass request: "+e.message)}try{if(this.currentHandlerCancelTokenSource=new a.CancellationTokenSource,!this.authRequestHandler)throw new Error("No authRequestHandler registered");const e=await this.authRequestHandler(this.params,t,this.currentHandlerCancelTokenSource.token);this.currentHandlerCancelTokenSource.dispose(),this.currentHandlerCancelTokenSource=null,void 0===e||void 0===e.userResponse?(this.isCanceled=!0,r={canceled:!0}):(r={response:e.userResponse},this._usedInteractors=e.usedInteractors)}catch(e){throw new Error("Handling auth request failed: "+e.stack)}return r}async getEnv(){if(!this.enabled)return{SSH_ASKPASS:i.join(__dirname,"askpass-empty.sh")};const e=u.isWindows?"askpass.bat":"askpass.sh";return{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:i.join(__dirname,"local-server",e),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:i.join(__dirname,"askpass-main.js"),VSCODE_SSH_ASKPASS_HANDLE:await this.ipcHandlePathPromise}}async dispose(){this.server.close(),this.ipcHandlePath&&await s.promisify(n.exists)(this.ipcHandlePath)&&"win32"!==process.platform&&await s.promisify(n.unlink)(this.ipcHandlePath)}};class d{get id(){return d.ID}async onData(e){const t={postAction:"keep"},r=await(0,c.showInputBox)(e);return"string"!=typeof r?t.canceled=!0:(t.response=r,t.postAction="consume",t.isPassword=!0),t}}t.UnrecognizedRequestInteractor=d,d.ID="unrecognizedRequest"},7674:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=t.warnForPreviewPlatform=void 0,t.warnForPreviewPlatform=function(e,t){"aarch64"!==e.arch&&"arm64"!==e.arch||t.info(`** Note: Support for architecture "${e.arch}" is in preview **`)},function(e){e.Linux="linux",e.Windows="windows",e.MacOS="macOS"}(r||(t.Platform=r={}))},1790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guessRemoteCloud=t.RemoteCloud=void 0;const n=r(9496),o=r(6737),i=r(4514),s=r(364),a=r(7674);var c;async function l(e,t,r){return!!(await h("http://169.254.169.254/metadata/instance?api-version=2019-03-11",e,t,r,{Metadata:"true"})).match(/azEnvironment/)}async function u(e,t,r){return!!(await h("http://169.254.169.254/metadata/v1/id",e,t,r)).match(/^\d{9}/)}async function d(e,t,r){return!!(await h("http://169.254.169.254/latest/meta-data/instance-id",e,t,r)).match(/^i-[0-9a-f]{8}/)}async function p(e,t,r){return!!(await h("http://metadata.google.internal/computeMetadata/v1/instance/id",e,t,r,{"Metadata-Flavor":"Google"})).match(/^\d{10}/)}async function h(e,t,r,c,l){const u=r===a.Platform.Windows?function(e,t){let r="";return t&&(r=`-Headers @{${Object.keys(t).map((e=>`\\"${e}\\"=\\"${t[e]}\\"`)).join("; ")}}`),`powershell -Command "$ProgressPreference = 'SilentlyContinue'; (Invoke-WebRequest -TimeoutSec 7 -Uri ${e} -UseBasicParsing ${r}).Content"`}(e,l):function(e,t){let r="";return t&&(r=Object.keys(t).map((e=>`--header='${e}:${t[e]}'`)).join(" ")),`wget --version > /dev/null\nif [ $? -eq 0 ]\nthen\n\twget --connect-timeout=7 --tries=1 --dns-timeout=7 -q ${r} -O - ${e}\nelse\n\tcurl --version > /dev/null\n\tif [ $? -eq 0 ]\n\tthen\n\t\tcurl --connect-timeout 7 -s ${r} ${e}\n\tfi\nfi`}(e,l),d=n.Uri.parse(`vscode-remote://${t}/`);return await(0,o.runInteractiveSshTerminalCommand)({cwd:d,command:u,logger:new i.NullLogger,nickname:"Check remote",systemInteractor:s.defaultSystemInteractor,host:c,terminalIsWindows:r===a.Platform.Windows})}!function(e){e.Azure="azure",e.AWS="aws",e.DigitalOcean="digitalocean",e.GCP="gcp"}(c||(t.RemoteCloud=c={})),t.guessRemoteCloud=async function(e,t,r){const n=[c.Azure,c.AWS,c.DigitalOcean,c.GCP],o=await Promise.allSettled([l(e,t,r),d(e,t,r),u(e,t,r),p(e,t,r)]);for(let e=0;e<o.length;e++){let t=o[e];if("fulfilled"===t.status&&t.value&&e<n.length)return n[e]}}},415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdown=t.getActiveRemote=t.installServer=t.storePlatform=t.resolveExecServer=t.resolve=void 0;const n=r(9496),o=r(3170),i=r(9763),s=r(2480),a=r(7907),c=r(5806),l=r(7674),u=r(5068),d=r(2681),p=r(8691),h=r(5065),f=r(36),m=r(5537),g=r(8904),v=r(364),_=r(8059),y=r(6105),S=r(4608),w="remote.sshContext";let b;const E=new Map,T=(e,t)=>`${e}-${t.useExecServer}`;let C=null;async function I(e,t,r){const n=T(t,e);let s,a=E.get(n);if(a||(a={manager:new d.SshAuthSockManager(t,e.deps),port:void 0},E.set(n,a)),!a.port)if((0,o.enableDynamicForwarding)()||(0,o.useLocalServer)())try{a.port=await(0,m.findAnyFreePort)()}catch(e){throw i.SshResolverError.Create(i.SshResolverFailureReason.FindLocalPort,"Failed to find a free local port for dynamic forwarding")}else a.port=void 0;(0,o.useLocalServer)()?(s=await(0,c.resolveWithLocalServer)(e,a.port,r.globalState),s.newSocksPort&&(a.port=s.newSocksPort)):s=await O(e,v.defaultSystemInteractor,a.port,r.globalState);const l=await(0,h.createTunnel)(e,{platform:s.installScriptResult.serverConfiguration.platform,socksPort:a.port,name:"VS Code Server",remoteListeningOn:s.installScriptResult.serverConfiguration.remoteListeningOn});if(!l)throw new Error("Expected to have opened primary tunnel");return e.deps.logger.info(`Resolved "${t}" to "${i.ListenTarget.display(l.localTarget)}"`),{installResult:s,tunnelResult:l}}function A(e,t,r,n){setTimeout((()=>{(0,o.savePlatformForHost)(t,e,r,n)}),4e3)}async function O(e,t,r,d,h=(0,_.randomString)()){const m=e.deps,v=(0,o.remotePortRanges)()[e.host.hostName];if(v&&v.end<v.start)throw i.SshResolverError.Create(i.SshResolverFailureReason.InvalidPortRange,"Invaid port range set");const S=(0,o.serverInstallPath)()[e.host.hostName],w=m.telemetry.getTelemetryLevel(),b=(0,_.randomString)(),E=await async function(e,t,r,n,i,c,l){const u=await(0,g.getProductInfo)();l.info(`Using commit id "${u.commit}" and quality "${u.quality}" for server`);const d=(0,o.getSshDefaultExtensions)(),p={uuid:n,basePath:e,serverDataFolderName:u.serverDataFolderName,serverApplicationName:u.serverApplicationName,quality:u.quality,commit:u.commit,telemetryLevel:i,extensionIds:d,printVars:(0,o.enableAgentForwarding)()&&(0,o.enableDynamicForwarding)()?["SSH_AUTH_SOCK"]:[],localDownload:(0,o.localDownload)(),enableWebAccess:(0,o.enableWebAccess)(),portRange:r},h={...p,force32Bit:(0,o.force32BitWindows)()},f={...p,preventExit:!!t&&!(0,o.useLocalServer)(),lockfilesInTmp:(0,o.lockfilesInTmp)(),useFlock:(0,o.useFlock)(),serverListenOnSocket:(0,o.remoteServerListenOnSocket)()};return(0,o.enableX11Forwarding)()&&(f.printVars=[...f.printVars,"DISPLAY"]),{linuxInstallScript:(0,s.serverInstallScript)(f),linuxExecServerInstallScript:(0,s.execServerInstallScript)({...f,token:c}),windowsInstallScript:(0,a.serverInstallScript)(h),windowsExecServerInstallScript:(0,a.execServerInstallScript)({...h,token:c})}}(S,r,v,h,w,b,m.logger);return m.logger.info("Install and start server if needed"),(0,u.withShowDetailsEvent)((async s=>{const a=(g=m.progress,v=`([details](command:${u.SHOW_DETAILS_COMMAND} "Show details")) `,{report(e){e.message?g.report({message:v+e.message}):g.report(e)}});var g,v;a.report({message:n.l10n.t("Initializing VS Code Server")});const _=await(0,o.getPlatformForHost)(e.host,!(0,o.useLocalServer)());let S=0;e:for(;S++<30;){const u=!!await(0,p.getConfigurationForHost)(e.host),g=new Set;try{let p;const v=e.useExecServer?{linux:E.linuxExecServerInstallScript,windows:E.windowsExecServerInstallScript}:{linux:E.linuxInstallScript,windows:E.windowsInstallScript};if((0,o.useLocalServer)())p=await(0,c.tryInstallWithLocalServer)(e,{systemInteractor:t,linuxInstallScript:v.linux,windowsInstallScript:v.windows,socksPort:r,marker:h,revealTerminalEvent:s,usedAuthMethods:g,globalState:d,platform:_});else{if(!_)throw m.logger.debug("getPlatformForHost was canceled"),i.SshResolverError.Canceled();const n=_===l.Platform.Windows?v.windows:v.linux;p=await(0,f.tryInstall)(e,{systemInteractor:t,command:await(0,f.generateSshCommand)(e,_,n,r),marker:h,platform:_,revealTerminalEvent:s,usedAuthMethods:g})}if(p)return{installScriptResult:p,retries:S,usedAuthMethods:g,remoteInConfigFile:u,execServer:e.useExecServer?{token:b}:void 0};a.report({message:n.l10n.t("Connect to VS Code Server - retry {0}",S)}),await(0,y.wait)(1e3);continue e}catch(t){throw t instanceof i.SshResolverError&&(t.retries=S,t.usedAuthMethods=g,t.remoteInConfigFile=u,t.wasExecServer=e.useExecServer),t}}throw i.SshResolverError.Create(i.SshResolverFailureReason.ExhaustedRetries)}))}t.resolve=async function(e,t,o,i){const{installResult:s,tunnelResult:a}=await I(e,t,o);if(C??(C=new S.VariablesManager(o.environmentVariableCollection,e.deps)),b=e.host,n.commands.executeCommand("setContext",w,!0),i.push(function(e,t,r){const o=t.port?`:${t.port}`:"",i=`SSH: ${t.hostName}${o}`,s=r===l.Platform.Windows;return n.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e,formatting:{label:"${path}",separator:s?"\\":"/",workspaceSuffix:i,tildify:!0,normalizeDriveLetter:!0}})}(t,e.host,s.installScriptResult.serverConfiguration.platform)),s.execServer){const{resolveRemoteUsingExecServer:n}=await Promise.resolve().then((()=>r(9329)));return{serverInstallationResult:s,resolvedAuthority:await n(t,e.deps.logger,s,a)}}if(!("port"in a.localTarget))throw new Error("Non-exec servers must forward a port, not a socket");const c=new n.ResolvedAuthority("127.0.0.1",a.localTarget.port,s.installScriptResult.serverConfiguration.connectionToken||void 0),u=E.get(T(t,e))?.manager,d=function(e,t,r,n,o){let i={};const s=t.installScriptResult.serverConfiguration.sshAuthSock||r.sshAuthSock;s&&(i={...i,...e?.update(s,t.installScriptResult.serverConfiguration.tmpDir,n,t.installScriptResult.serverConfiguration.platform)});const a=t.installScriptResult.serverConfiguration.display;return a&&(i={...i,DISPLAY:a}),Object.keys(i).length&&o.info(`Remote extension host environment: ${JSON.stringify(i)}`),i}(u,s,a,e.host,e.deps.logger);return C.update(d),c.extensionHostEnv=d,c.environmentTunnels=(await(0,p.localForwardsForHost)(e.host)).map((e=>({localAddress:e.localAddress+":"+e.localPort,remoteAddress:{host:e.remoteAddress,port:e.remotePort}}))),{serverInstallationResult:s,resolvedAuthority:c}},t.resolveExecServer=async function(e,t,n){const{tunnelToExecServer:o}=await Promise.resolve().then((()=>r(9329))),{execServer:i}=await o(t,e.deps.logger,(async()=>{const r=await I({...e,useExecServer:!0},t,n);return r.installResult.installScriptResult.storePlatform&&A(r.installResult.installScriptResult.serverConfiguration.platform,e.host,n,e.deps.logger),r}));return i},t.storePlatform=A,t.installServer=O,t.getActiveRemote=function(){return b},t.shutdown=function(){n.commands.executeCommand("setContext",w,!1),b=void 0}},5068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withShowDetailsEvent=t.SHOW_DETAILS_COMMAND=void 0;const n=r(9496);let o;t.SHOW_DETAILS_COMMAND="opensshremotes.showDetails",n.commands.registerCommand(t.SHOW_DETAILS_COMMAND,(()=>{o&&o.fire()})),t.withShowDetailsEvent=async function(e){if(o)throw new Error("withRevealTerminalEvent can only be called once at a time globally within the app");o=new n.EventEmitter;try{return await e(o.event)}finally{o.dispose(),o=void 0}}},2681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SshAuthSockManager=void 0;const n=r(9496),o=r(6737),i=r(364),s=r(7674);t.SshAuthSockManager=class{constructor(e,t){this.remoteAuthority=e,this.deps=t,this.sessionId=Math.floor(1e9*Math.random())}update(e,t,r,a){const c=a===s.Platform.Windows?`${t}\\vscode-ssh-auth-sock-${this.sessionId}`:`${t}/vscode-ssh-auth-sock-${this.sessionId}`,l=a===s.Platform.Windows?`mklink "${c}" "${e}"`:`ln -f -s "${e}" "${c}"`,u=n.Uri.parse(`vscode-remote://${this.remoteAuthority}/`);return this.deps.logger.debug("Updating $SSH_AUTH_SOCK: "+l),(0,o.runInteractiveSshTerminalCommand)({cwd:u,command:l,logger:this.deps.logger,nickname:"Update SSH_AUTH_SOCK",systemInteractor:i.defaultSystemInteractor,host:r,terminalIsWindows:a===s.Platform.Windows}).then((e=>{e&&this.deps.logger.debug('"Update SSH_AUTH_SOCK" task produced unexpected output, it may have failed')})),{SSH_AUTH_SOCK:c}}}},7174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateScpCommand=t.handleSshNotFoundError=t.ScpNotFoundError=t.SshNotFoundError=t.getSshCommand=t.getSshCommandPath=t.getEscapedPowershellCommandForLocalServer=t.getEncodedPowershellCommand=t.generateMultiLineCommand=t.getSshConnectionArgs=void 0;const n=r(2081),o=r(7147),i=r(1017),s=r(3837),a=r(9496),c=r(3170),l=r(810),u=r(7674),d=r(8691),p=r(5238),h=r(5207),f=r(3725);async function m(e,t){const r=e.host,n=(t&&t.cmdSegment)??[],o=t&&t.allowPortForward?[]:["-o","ClearAllForwardings=true"],i=t?.quoteForShell||!1,s=t?.allowRemoteCommand??!0,a=await(0,d.getConfigurationForHost)(r);return["-T",...n,...o,...y(a),...v(a,s,e.deps.logger),...await w(i,r,e.deps.logger),...S(r),_(r,i)].filter((e=>!!e))}async function g(e,t,r){const n=(r&&r.cmdSegment)??[],o=r&&r.allowPortForward?"":"-o ClearAllForwardings=true",i=await(0,d.getConfigurationForHost)(e),s=r?.quoteForShell||!1,a=r?.allowRemoteCommand??!0;return["-T",...n,o,...y(i),...v(i,a,t),...await w(s,e,t),...S(e),_(e,s)].filter((e=>!!e))}function v(e,t,r){if((0,c.enableRemoteCommand)()&&(0,c.useLocalServer)()){if(t)return[];e&&e.RemoteCommand&&r.info('Cannot use RemoteCommand if you have this remote in your "remote.SSH.remotePlatform" setting.')}return e&&e.RemoteCommand?["-o","RemoteCommand=none"]:[]}function _(e,t){(0,d.assertValidHost)(e);const r=e.hostName,n=e.user?`${e.user}@${r}`:r;return t?(0,f.quoteForShellIfNeeded)(n,h.isWindows):n}function y(e){return h.isWindows||e&&e.ConnectTimeout?[]:["-o",`ConnectTimeout=${(0,c.connectTimeout)()}`]}function S(e){return e.port?["-p",e.port+""]:[]}async function w(e,t,r){let n=[],o=(0,c.sshConfigurationFile)();return!o&&h.isWindows&&(0,c.useLocalServer)()&&(o=await(0,d.getConfigurationFileForHost)(t)),o&&(o=(0,p.untildify)(o),r.info(`Using SSH config file "${o}"`),n=["-F",e?(0,f.quoteForShellIfNeeded)(o,h.isWindows):o]),n}let b,E;async function T(e){return await C(e),b}async function C(e){const t=(0,c.sshPath)();if("string"!=typeof b||t&&t!==E)try{E=await P(t,e),b=h.isWindows&&"ssh"!==E?(0,f.quoteForShell)(E,h.isWindows):(0,f.quoteForShellIfNeeded)(E,h.isWindows)}catch(t){throw e.error("Finding installed ssh failed: "+t.message),t}return b}var I;async function A(e,t){return await O(e,t)!==I.NotFound}async function O(e,t){return new Promise(((r,o)=>{t.debug(`Checking ssh with "${e} -V"`);const i=[],s=[],a=n.spawn(e,["-V"]);a.stdout.on("data",(e=>{i.push(e),t.debug("stdout> "+e.toString())})),a.stderr.on("data",(e=>{s.push(e),t.debug("> "+e.toString())})),a.on("error",(e=>{t.debug("Got error from ssh: "+e.message),clearTimeout(l),r(I.NotFound)}));let c=!1;const l=setTimeout((()=>{c=!0,t.debug("ssh is not exiting, continuing"),r(I.NotFound),a.kill()}),1e4);a.on("exit",(e=>{if(c)return;if(clearTimeout(l),e)return t.debug("ssh exited with code: "+e),void r(I.NotFound);const n=Buffer.concat(i).toString("utf8").trim(),o=Buffer.concat(s).toString("utf8").trim()||n;o&&(o.match(/OpenSSH_for_Windows/i)?r(I.WindowsSsh):o.match(/OpenSSH/i)?r(I.Other):(t.debug("ssh output did not match /OpenSSH/"),r(I.NotFound)))}))}))}t.getSshConnectionArgs=m,t.generateMultiLineCommand=async function(e,t,r,n){const a=e.deps;let c;if(t===u.Platform.Windows?(c=await async function(e,t,r){return[await T(t),...await g(e,t,r),"powershell"].join(" ")}(e.host,a.logger,n),r=r.replace(/\}\n/g,"}\n\n"),a.logger.debug(`Remote command length: ${r.length}/8192 characters`),r.length>8192&&a.logger.error('Warning: Remote install script may be too long. If it hangs during connecting, try reducing the length of your setting "remote.SSH.defaultExtensions".')):c=[await T(a.logger),...await m(e,n),"bash"].join(" "),a.logger.debug("Running script with connection command: "+c),h.isWindows){if(!process.env.TEMP)throw new Error("The TEMP environment variable must be set");const t=Math.floor(1e9*Math.random()),n=i.join(process.env.TEMP,`vscode-linux-multi-line-command-${(0,p.sanitizeFileName)(e.host.hostName)}-${t}.sh`);try{await s.promisify(o.writeFile)(n,r)}catch(e){throw new Error(`Failed to write install script to path ${n}. ${e.message}`)}return`type "${n}" | ${c}`}return`${c} << 'EOSSH'\n${r}\nEOSSH`},t.getEncodedPowershellCommand=function(e,t,r){const n=`powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -EncodedCommand ${t?"":"\\"}$([Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes([Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('${Buffer.from(e,"utf8").toString("base64")}')))))  # RemoteSSHConfigurationScript`;return r.debug(`Remote command length: ${n.length}/8192 characters`),n},t.getEscapedPowershellCommandForLocalServer=function(e,t){const r=Buffer.from(e,"utf8").toString("base64");return t.debug(`Remote command length: ${r.length}/8192 characters`),`powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -Command "\`$remoteSSHConfigurationScript=[Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes([Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('${r}')))); powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -EncodedCommand \`$remoteSSHConfigurationScript"`},t.getSshCommandPath=async function(e){return await C(e),E},t.getSshCommand=T,function(e){e[e.NotFound=0]="NotFound",e[e.WindowsSsh=1]="WindowsSsh",e[e.Other=2]="Other"}(I||(I={}));const R=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432");async function P(e,t){if(e){if(await A(e,t))return e;t.error(`The specified path ${e} is not a valid SSH binary`)}return h.isWindows?async function(e){const t=process.env.PATH;let r=[];if(t&&(r=t.split(";").filter((e=>i.isAbsolute(e))).map((e=>i.join(e,"ssh.exe")))),r.push(i.join(process.env.windir,"System32\\OpenSSH\\ssh.exe"),i.join(process.env.ProgramFiles,"Git\\usr\\bin\\ssh.exe"),i.join(process.env["ProgramFiles(x86)"],"Git\\usr\\bin\\ssh.exe")),R&&r){const e=process.env.SystemRoot||"C:\\WINDOWS",t=i.join(e,"Sysnative","OpenSSH","ssh.exe");r.unshift(t)}if((0,c.useLocalServer)()){for(const t of r){if(await O(t,e)===I.Other)return t;e.trace("Preferring non-windows OpenSSH, skipping")}!function(){if(!(0,c.suppressWindowsSshWarning)()){const e=a.l10n.t("Don't Show Again");a.window.showWarningMessage(a.l10n.t({message:"Failed to find a non-Windows SSH installed. Password prompts may not be displayed properly! Disable `remote.SSH.useLocalServer` if needed.",comment:['{Locked="`remote.SSH.useLocalServer`"}',"Do not translate `remote.SSH.useLocalServer`, it is a VS Code command."]}),e).then((t=>{t===e&&a.workspace.getConfiguration("remote").update("SSH.suppressWindowsSshWarning",!0,!0)}))}}()}for(const t of r)if(await A(t,e))return t;throw new k}(t):async function(e){if(e.debug("PATH: "+process.env.PATH),await A("ssh",e))return"ssh";throw new Error("ssh is not on the PATH")}(t)}class k extends Error{constructor(){super("ssh installation not found")}}t.SshNotFoundError=k;class x extends Error{constructor(){super("scp installation not found")}}t.ScpNotFoundError=x;const D=a.l10n.t("Learn More");async function N(e){const t=await async function(e){const t=await P((0,c.sshPath)(),e),r=h.isWindows?"scp.exe":"scp",o="ssh"===t?"scp":i.join(i.dirname(t),r);"scp"!==o&&e.debug(`Expecting scp to be next to ssh at ${o}`);const s=await async function(e,t){return new Promise(((r,o)=>{t.debug(`Testing scp with "${e}"`);const i=[],s=[],a=n.spawn(e);a.stdout.on("data",(e=>i.push(e))),a.stderr.on("data",(e=>s.push(e))),a.on("error",(e=>{t.debug("Got error from scp: "+e.message),r(!1)})),a.on("exit",(e=>{t.debug("scp exited with code: "+e);const n=Buffer.concat(i).toString("utf8").trim();n&&t.debug("Got stdout from scp: "+n);const o=Buffer.concat(s).toString("utf8").trim();o&&t.debug("Got stderr from scp: "+o);const a=o||n;a&&(a.match(/usage: scp/i)?r(!0):(t.debug("ssh output did not match /usage: scp/"),r(!1)))}))}))}(o,e);if(!s)throw new x;return o}(e);return(0,f.quoteForShellIfNeeded)(t,h.isWindows)}t.handleSshNotFoundError=async function(){const e=await a.window.showErrorMessage(a.l10n.t("An SSH installation couldn't be found"),{modal:!0},{title:D});if(e&&e.title===D)return a.commands.executeCommand("opensshremotes.getStarted")},t.generateScpCommand=async function(e,t,r,n){const o=(0,f.quoteForShellIfNeeded)(await(0,l.getScpFlag)(e),h.isWindows),s=i.dirname(r);e=(0,f.quoteForShellIfNeeded)(i.basename(e),h.isWindows);const a=await(0,d.getConfigurationForHost)(t);return`${[await N(n),...y(a),...await w(!0,t,n)].filter((e=>!!e)).join(" ")} ${e} ${o} ${_(t,!0)}:${(0,f.quoteForShellIfNeeded)(s,h.isWindows)}`}},6737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runInteractiveSshTerminalCommand=t.getResumeLogMarker=t.getPauseLogMarker=t.runSshTerminalCommandWithLogin=t.showDifferingHostConfirmation=t.showHostKeyConfirmation=t.showInputBox=t.showVerificationCodeInputBox=t.showPasswordInputBox=t.showPassphraseInputBox=void 0;const n=r(2037),o=r(1017),i=r(9496),s=r(1531),a=r(3170),c=r(8691),l=r(1163),u=r(8286),d=r(9759),p=r(5207),h=r(3725);function f(e,t,r){const n=e?`"${e}"`:"";return v(i.l10n.t("Enter passphrase for ssh key {0}",n),t,r)}function m(e,t,r){return v(e?i.l10n.t("Enter password for {0}",e):i.l10n.t("Enter password"),t,r)}function g(e,t){return v(e,void 0,t)}async function v(e,t,r){return new Promise(((n,o)=>{const s=i.window.createInputBox();s.placeholder=e,s.prompt=t,s.password=!0,s.ignoreFocusOut=!0;let a=!1;s.onDidAccept((()=>{a=!0;const e=s.value;s.dispose(),n(e)})),s.onDidHide((()=>{a||n(void 0)})),s.show(),r&&r.onCancellationRequested((()=>{o(new u.CanceledError),s.dispose()}))}))}t.showPassphraseInputBox=f,t.showPasswordInputBox=m,t.showVerificationCodeInputBox=g,t.showInputBox=v;class _{constructor(e,t){this.label=e,this.value=t,this.isCloseAffordance=!0,this.title=e}}async function y(e,t,r){return w(i.l10n.t('"{0}" has fingerprint "{1}".',e,t),i.l10n.t("Are you sure you want to continue?"),r)}async function S(e,t){return w(e,i.l10n.t("Are you sure you want to continue connecting?"),t)}async function w(e,t,r){return new Promise(((n,o)=>{const s=i.window.createQuickPick();s.canSelectMany=!1,s.title=e,s.items=[new _(i.l10n.t("Continue"),"yes"),new _(i.l10n.t("Cancel"),"no")],s.placeholder=t;let a=!1;s.onDidAccept((async()=>{a=!0;const e=s.selectedItems[0].value;s.dispose(),n(e)})),s.onDidHide((()=>{a||n(void 0)})),s.show(),r&&r.onCancellationRequested((()=>{s.hide(),o(new u.CanceledError)}))}))}function b(e){return`${e}: pauseLog`}function E(e){return`${e}: resumeLog`}function T(e){const t=[];let{systemInteractor:r,command:o,interactors:s,nickname:c,logger:l,token:f}=e,m=!1;return new Promise((async(g,v)=>{let _,y,S,w,T="";function I(){y&&(y.dispose(),y=void 0),S&&(S.dispose(),S=void 0),_&&(_.dispose(),_=void 0),w&&w.dispose(),(0,d.dispose)(t)}function A(e=!1){if(I(),l.debug(`"${c}" terminal command ${e?"canceled":"done"}`),e)return v(new u.CanceledError);const t=e?"":(0,h.lastNonemptyLine)(T);g(t||"")}function O(e){I(),l.error(`"${c}" process failed: ${e}`),v(e)}f&&(w=f.onCancellationRequested((()=>{A(!0)})));const R=e.cwd&&"vscode-remote"===e.cwd.scheme;if(R&&!e.host)throw new Error("Invalid terminal request, missing host");if(R&&"boolean"!=typeof e.terminalIsWindows)throw new Error("Invalid terminal request, missing terminalIsWindows");const P="boolean"==typeof e.terminalIsWindows?e.terminalIsWindows:p.isWindows;try{let u;u=e.sendText?"":P?`/c (${o}) & exit /b 0`:["-c",o+"\nexit 0"],e.cwd&&l.debug("Using cwd: "+e.cwd);const d={cwd:e.cwd||(P?i.Uri.file(n.homedir()||"c:\\"):i.Uri.file(n.homedir()||"/")),name:c,shellPath:C(P,l),shellArgs:u,hideFromUser:!0,isTransient:!0};let p=Promise.resolve();if(y=r.onDidWriteTerminalData((async t=>{t.terminal===S&&(p=p.finally((()=>async function(t){if(function(t){let r;if(e.marker){const n=b(e.marker),o=t.lastIndexOf(n);o>=0&&(t=t.substring(0,o+n.length),r=!0);const i=t.lastIndexOf(E(e.marker));i>=0&&(t=t.substring(i),r=!1)}m&&(0,a.logLevel)()!==a.LogLevel.trace||function(e,t,r){const n=(e=(0,h.sanitizeInstallScriptOutput)(e)).replace(/\r?\n$/,"");if((0,a.logLevel)()===a.LogLevel.trace)r.debug(`"${t}" terminal received data: "${n}"`);else{if(" "===n)return;const e=n.split(/\n/).map((e=>`> ${e}`)).join("\n");r.debug(e)}}(t,c,l),"boolean"==typeof r&&(m=r)}(t.data),T+=t.data,s)for(const r of s)try{const t=await r.onData(T);if("consume"===t.postAction&&(e.usedInteractors&&e.usedInteractors.add(r.id),T=""),t.canceled)return e.usedInteractors&&e.usedInteractors.add(r.id),void A(!0);if("string"==typeof t.response){e.usedInteractors&&e.usedInteractors.add(r.id),S.sendText(`${t.response}\n`);const n=t.isPassword?t.response.replace(/./g,"*"):t.response;l.debug(`"${c}" wrote data to terminal: "${n}"`)}}catch(t){O(t)}}(t))))})),S=r.createTerminal(d),e.revealTerminal&&t.push(e.revealTerminal((()=>{S&&S.show()}))),e.sendText){const t=P?`(${e.sendText}) & exit /b 0`:e.sendText+"\nexit 0";S.sendText(t),l.debug(`"${c}" wrote data to terminal: "${e.sendText}"`)}e.allowShowTerminal&&(0,a.showLoginTerminal)()&&S.show(),_=r.onDidCloseTerminal((e=>{e===S&&(S=void 0,A())}))}catch(e){O(e)}}))}function C(e,t){if(e){if(process.env.SystemRoot){const e=o.join(process.env.SystemRoot,"System32","cmd.exe");return t.debug("Terminal shell path: "+e),e}return"cmd.exe"}return"/bin/sh"}t.showHostKeyConfirmation=y,t.showDifferingHostConfirmation=S,t.runSshTerminalCommandWithLogin=async function(e,t){let r;const n=(0,a.showLoginTerminal)();let o=[];t.interactor&&o.push(t.interactor),n||o.push(new s.MitmInteractor,new s.FingerprintInteractor(e,y),new s.PassphraseInteractor((async e=>(r=await f(e),r)),e.deps.logger),new s.DifferingHostKeyInteractor(S,e.deps.logger),new s.PasswordInteractor(m,e.deps.logger),new s.TwoFacInteractor(g,e.deps.logger),new s.DuoTwoFacInteractor(g,e.deps.logger));const u=await T({systemInteractor:t.systemInteractor,command:t.command,interactors:o,usedInteractors:t.usedInteractors,nickname:t.nickname,logger:e.deps.logger,token:t.token,marker:t.marker,revealTerminal:t.revealTerminal,allowShowTerminal:!0,cwd:t.cwd?i.Uri.file(t.cwd):void 0});if(r){e.deps.logger.debug("User entered passphrase");const t=await(0,c.getConfigurationForHost)(e.host);e.deps.logger.debug("Passphrase was entered and ssh config entry was found - adding SSH key to agent");const n=t&&t.IdentityFile&&t.IdentityFile[0]||void 0;await(0,l.addKeyToSshAgent)(n,(async()=>r),e.deps.logger)}return u},t.getPauseLogMarker=b,t.getResumeLogMarker=E,t.runInteractiveSshTerminalCommand=T},7676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sshCommandToConfig=t.CommandParseError=void 0;const n=r(9069),o=r(5440),i={1:e=>e.Protocol="1",2:e=>e.Protocol="2",4:e=>e.AddressFamily="inet",6:e=>e.AddressFamily="inet6",A:e=>e.ForwardAgent="yes",b:(e,t)=>e.BindAddress=t,C:e=>e.Compression="yes",c:(e,t)=>e.Cipher=t,D:(e,t)=>e.DynamicForward=t,e:null,F:null,f:null,g:e=>e.GatewayPorts="yes",I:(e,t)=>e.SmartcardDevice=t,i:(e,t)=>e.IdentityFile=t,J:(e,t)=>e.ProxyJump=t,K:e=>e.GSSAPIAuthentication="yes",k:e=>e.GSSAPIDelegateCredentials="no",L:(e,t)=>{const r=t.match(/^((.*):?\d+)?:(.+?)?$/);if(r){const[,n,,o]=r;if(n&&o)return void(e.LocalForward=`${n} ${o}`);throw new s(`LocalFoward needs a listener and a destination separate by a colon. ${t} does not match.`)}let n=t.indexOf(":");if(-1===n)throw new s(`LocalFoward needs a listener and a destination separate by a colon. ${t} does not match.`);e.LocalForward=`${t.substring(0,n)} ${t.substring(n+1)}`},l:(e,t)=>e.User=t,M:e=>e.ControlMaster="yes",m:(e,t)=>e.MACs=t,N:null,n:null,o:(e,t)=>{const r=t.indexOf("=");if(-1===r)throw new s(`Argument missing for option ${t}`);e[t.slice(0,r)]=t.slice(r+1)},p:(e,t)=>e.Port=t,q:null,R:(e,t)=>e.RemoteForward=t,S:(e,t)=>e.ControlPath=t,s:null,T:null,t:null,V:null,v:e=>e.LogLevel="verbose",W:(e,t)=>e.RemoteForward=t,w:(e,t)=>e.TunnelDevice=t,X:e=>e.ForwardX11="yes",x:e=>e.ForwardX11="no",Y:e=>e.ForwardX11Trusted="yes",y:null};class s extends Error{}function a(e,t){const r=new n.BasicParser(":1246ab:c:e:fgi:kl:m:no:p:qstvxAB:CD:E:F:GI:J:KL:MNO:PQ:R:S:TVw:W:XYy",e,0);for(;;){const e=r.getopt();if(!e)break;if(":"===e.option)throw new s(`Expected flag -${e.optopt} to have an argument but it did not`);if("?"===e.option)throw new s(`Unknown flag ${e.optopt}`);const n=i[e.option];n&&n(t,e.optarg)}return r.optind()}function c(e){let t;try{t=new URL(e)}catch{}if(t&&"ssh:"===t.protocol)return t;const r=e.lastIndexOf("@");if(-1===r)return{hostname:e};let n=e.slice(r+1),o=e.slice(0,r);const i=o.indexOf(":");let s;-1!==i&&(o=o.slice(0,i));const a=n.indexOf(":");return-1!==a&&(s=n.slice(a+1),n=n.slice(0,a)),{hostname:n,username:o,port:s}}t.CommandParseError=s,t.sshCommandToConfig=function(e){const t=(0,o.parse)(e);"ssh"===t[0]&&t.shift();const r={};for(let e=0;e<t.length;e++)if(e+=a(t.slice(e),r),e<t.length&&!r.Host){const{hostname:n,port:o,username:i}=c(t[e]);r.Host=n,r.HostName=n,!r.Port&&o&&(r.Port=o),!r.User&&i&&(r.User=i)}if(!r.Host)throw new s("Missing host in SSH connection string");const{Host:n,HostName:i,...l}=r;return{Host:n,HostName:i,...l}}},8691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidHost=t.addSshHost=t.configureSshHosts=t.onDidChangeSshConfiguration=t.localForwardsForHost=t.getConfigurationFileForHost=t._getConfigurationForHost=t.getConfigurationForHost=t.getConfiguredSshHostNames=t.getConfiguredSshHosts=t.getSshConfigurationFiles=t.defaultSshConfigurationFiles=void 0;const n=r(7147),o=r(2884),i=r(2037),s=r(1017),a=r(6200),c=r(3837),l=r(9496),u=r(2017),d=r(3808),p=r(3170),h=r(9763),f=r(7676),m=r(7475),g=r(2386),v=r(5238),_=r(5207),y=c.promisify(n.readFile),S=c.promisify(n.writeFile),w=c.promisify(n.exists),b=c.promisify(n.stat),E=c.promisify(n.chmod),T=c.promisify(o),C=s.resolve(i.homedir(),".ssh/config"),I=process.env.ALLUSERSPROFILE||process.env.PROGRAMDATA||"C:\\ProgramData",A=_.isWindows?`${I}\\ssh\\ssh_config`:"/etc/ssh/ssh_config";function O(){return[C,A]}function R(){const e=(0,p.sshConfigurationFile)();return e?[e]:O()}async function P(){const e={};for(let t of R()){const r=k(await N(t));Object.keys(r).forEach((t=>e[t]=r[t]))}return e}function k(e){const t=Object.create(null);return function(e){const t=new Set;return e.filter((e=>M(e)||F(e))).forEach((e=>{if(F(e)){const r=function(e){let t=("string"==typeof e.value?e.value:e.value.join(" ")).match(/(".*?"|[^"\s]+)(?=\s*)/g);if(t){const e=t.findIndex((e=>"host"===e.toLowerCase()));if(-1!==e&&e<t.length)return[t[e+1].replace(/['"]+/g,"")]}return"string"==typeof e.value?[e.value]:e.value}(e);U(r).forEach((e=>t.add(e)))}else U(e.value).forEach((e=>t.add(e)))})),Array.from(t.keys())}(e).forEach((r=>{const n=e.compute(r);n.HostName?t[r]=n.HostName:t[r]=r})),t}async function x(e){return D(e,R())}async function D(e,t){for(let r of t){const t=(await N(r)).compute(e.hostName);if(t&&t.HostName)return t.IdentityFile&&(t.IdentityFile=t.IdentityFile.map((e=>(0,v.untildify)(e)))),t}return null}async function N(e,t=!0){const r=await async function(e){return e=(0,v.untildify)(e),await w(e)?(await y(e)).toString("utf8"):""}(e),n=function(e){function t(e){e.param=H.get(e.param.toLowerCase())||e.param}return e.filter($).forEach((e=>{t(e),M(e)&&e.config.filter($).forEach(t)})),e}((0,a.parse)(r));return t&&await async function(e,t){for(let r=0;r<e.length;r++){const n=e[r];if($(n)&&"include"===n.param.toLowerCase()){let r=(0,v.untildify)(n.value);_.isWindows&&r.match(/^\/[a-z]:/i)&&(r=r.substr(1)),s.isAbsolute(r)||(r=s.resolve(s.dirname(t),r));try{let t=await T(r);for(let r of t)(await b(r)).isFile()&&await L(e,r)}catch(e){console.error(`Failed to resolve "${n.param} ${n.value}": ${e.message}`)}}}}(n,e),n}async function L(e,t){const r=(await y(t)).toString(),n=(0,a.parse)(r);e.push(...n)}function $(e){return 1===e.type}function M(e){return $(e)&&"Host"===e.param&&!!e.value&&!!e.config}function F(e){return $(e)&&"Match"===e.param&&!!e.value&&!!e.config}function j(e){const t=e.split(":");return{address:t[1]?t[0]:"localhost",port:parseInt(t[1]?t[1]:t[0])}}t.defaultSshConfigurationFiles=O,t.getSshConfigurationFiles=R,t.getConfiguredSshHosts=async function(){return Object.keys(await P())},t.getConfiguredSshHostNames=P,t.getConfigurationForHost=x,t._getConfigurationForHost=D,t.getConfigurationFileForHost=async function(e,t=R()){for(let r of t){const t=(await N(r)).compute(e.hostName);if(t&&t.HostName)return r}},t.localForwardsForHost=async function(e){const t=await x(e);return t?.LocalForward?(Array.isArray(t.LocalForward)?t.LocalForward:[t.LocalForward]).map((e=>{const[t,r]=e.split(/[\t ]+/),n=j(t),o=j(r);return{localPort:n.port,localAddress:n.address,remotePort:o.port,remoteAddress:o.address}})):[]};const H=new Map([["host","Host"],["hostname","HostName"],["identityfile","IdentityFile"],["user","User"],["port","Port"],["connecttimeout","ConnectTimeout"],["remotecommand","RemoteCommand"],["localforward","LocalForward"]]);function U(e){return(Array.isArray(e)?e:[e]).filter((e=>!(e.match(/[?*]/)||e.match(/^\s*$/)||e.match(/^!/))))}const B=new l.EventEmitter,q=B.event;t.onDidChangeSshConfiguration=q,l.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration(p.CONFIG_FILE_SETTING)&&B.fire()}));class V{constructor(e){this.logger=e,this.fileBeingWatched=new Set}startWatching(e){this.logger.debug(`ConfigFileWatcher: start watching ${e.toString()}`),this.fileBeingWatched.add(e.toString()),this.saveListener||(this.logger.debug("ConfigFileWatcher: adding save listener"),this.saveListener=l.workspace.onDidSaveTextDocument((e=>this.documentSaved(e)))),this.closeListener||(this.logger.debug("ConfigFileWatcher: adding close listener"),this.closeListener=l.workspace.onDidCloseTextDocument((e=>this.documentClosed(e))))}stopWatching(e){this.logger.debug(`ConfigFileWatcher: stop watching ${e.toString()}`),this.fileBeingWatched.delete(e.toString()),0===this.fileBeingWatched.size&&(this.saveListener&&(this.logger.debug("ConfigFileWatcher: removing save listener"),this.saveListener.dispose(),this.saveListener=void 0),this.closeListener&&(this.logger.debug("ConfigFileWatcher: removing close listener"),this.closeListener.dispose(),this.closeListener=void 0))}documentSaved(e){this.logger.debug(`ConfigFileWatcher: saving ${e.uri}`),this.fileBeingWatched.has(e.uri.toString())&&(this.logger.debug(`ConfigFileWatcher: firing change event for ${e.uri}`),B.fire())}documentClosed(e){this.logger.debug(`ConfigFileWatcher: closing ${e.uri}`),this.fileBeingWatched.has(e.uri.toString())&&this.stopWatching(e.uri)}}let G;t.configureSshHosts=async function(e){const t=await(0,d.pickSshConfigurationFile)();if(t)if("command"===t.type)"help"===t.id?l.env.openExternal(l.Uri.parse("https://aka.ms/vscode-remote/ssh/config-file")):"settings"===t.id&&async function(){const{name:e,publisher:t,extensionPack:r}=(0,m.getPackageJson)(),n=[`${t}.${e}`];r&&r.forEach((e=>n.push(e))),await l.commands.executeCommand("workbench.action.openSettings",`@ext:${n.join(",")} config file`)}();else if("file"===t.type){let r=t.path;if(r){r=(0,v.untildify)(r);const t=l.Uri.file(r);G||(G=new V(e)),G.startWatching(t),await w(r)?await l.commands.executeCommand("vscode.open",t):await async function(e){const t=s.dirname(e);await w(t)||(await(0,v.mkdirp)(t),_.isWindows||e!==C||await E(t,448)),await S(e,""),_.isWindows||e!==C||await E(e,384);const r=await l.window.showTextDocument(l.Uri.file(e));await r.insertSnippet(new l.SnippetString("# Read more about SSH config files: https://linux.die.net/man/5/ssh_config\nHost ${1:alias}\n    HostName ${2:hostname}\n    User ${3:user}"))}(r)}}},t.addSshHost=async function(){const e=await new Promise(((e,t)=>{const r=l.window.createInputBox();r.title=l.l10n.t("Enter SSH Connection Command"),r.placeholder="E.g. ssh hello@microsoft.com -A",r.ignoreFocusOut=!0,r.onDidAccept((()=>{e(r.value.trim()||void 0),r.dispose()})),r.onDidHide((()=>{e(void 0)})),r.show()}));if(!e)return;let t;try{t=(0,f.sshCommandToConfig)(e)}catch(e){if(!(e instanceof f.CommandParseError))throw e;return void l.window.showErrorMessage(e.message)}const r=await(0,d.pickSshConfigurationFile)(l.l10n.t("Config file to save in"));if(!r||"file"!==r.type)return;const n=await N(r.path,!1);n.prepend(t,!0),await async function(e,t){e=(0,v.untildify)(e),await(0,v.mkdirp)(s.dirname(e)),await S(e,t.toString())}(r.path,n),B.fire();const o=l.l10n.t("Open Config"),i=l.l10n.t("Connect");switch(await l.window.showInformationMessage(l.l10n.t("Host added!"),o,i)){case o:const e=await l.workspace.openTextDocument((0,v.untildify)(r.path));await l.window.showTextDocument(e);break;case i:const n=new g.HostInfo(t.Host);(0,u.openEmptyWindowOnSshHost)(n)}};const W="\\'\"`!%\r\n".split("");t.assertValidHost=function(e){if(e.hostName.startsWith("-"))throw h.SshResolverError.Create(h.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH host name cannot begin with {0}","-"));if(e.user?.startsWith("-"))throw h.SshResolverError.Create(h.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH user name cannot begin with {0}","-"));W.forEach((t=>{if(e.hostName.includes(t))throw h.SshResolverError.Create(h.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH host name cannot include the character {0}",t));if(e.user?.includes(t))throw h.SshResolverError.Create(h.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH user name cannot include the character {0}",t))}))}},1163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyToSshAgent=void 0;const n=r(7147),o=r(2037),i=r(1017),s=r(3837),a=r(1531),c=r(6737),l=r(5207),u=r(364),d=r(8059),p=s.promisify(n.writeFile);t.addKeyToSshAgent=async function(e,t,r){const n=(0,d.randomString)(),s=await async function(e,t){return l.isWindows?await async function(e,t){e=e||"";const r=o.tmpdir(),n=i.join(r,"vscode_add_ssh_key_to_agent.ps1"),s=`\n\t\t# Check if it's already in the ssh-agent\n\t\t$KEY = "${e}"\n\t\tif ($KEY -ne "") {\n\t\t\t$KEY = (Resolve-Path "${e}").toString()\n\t\t}\n\n\t\techo 'PS: adding key to ssh-agent'\n\t\techo ssh-add $KEY\n\t\tssh-add $KEY\n\t\tif ($LASTEXITCODE -ne 0) {\n\t\t\techo ${t}##5##\n\t\t}\n\t`;return await p(n,s),{command:"",sendText:`powershell -ExecutionPolicy Bypass ${n}`}}(e,t):function(e,t){return{command:`\nINSTALL_SCRIPT=\`mktemp\`.sh\ncat << 'EOF' > $INSTALL_SCRIPT\n\t# expand the key path to be absolute\n\tKEY="\`echo ${e=e||""}\`"\n\techo SHELL-SCRIPT: KEY=$KEY\n\techo SHELL-SCRIPT: adding key to ssh-agent\n\tssh-add ${e}\n\tif (( $? > 0 ))\n\tthen\n\t\techo ${t}##5##\n\tfi\nEOF\n\nchmod +x $INSTALL_SCRIPT\n\n/bin/bash -ilc $INSTALL_SCRIPT\n`}}(e,t)}(e,n),h=new a.PassphraseInteractor(t,r),f={id:"ssh-add",onData:async e=>{let t=(0,a.getExitCode)(e,n);if(void 0===t)r.error("Malformed exit code from ssh-add script, failed to add key to ssh agent.");else{if(0===t)return h.onData(e);r.error("ssh-add failed"),r.error("Consider setting up the ssh agent: https://aka.ms/vscode-remote/troubleshooting#_setting-up-the-ssh-agent")}return{}}};r.debug("Executing add-ssh-key:\n"+(s.sendText||s.command)),await(0,c.runInteractiveSshTerminalCommand)({systemInteractor:u.defaultSystemInteractor,command:s.command,sendText:s.sendText,interactors:[f],nickname:"add-ssh-key",allowShowTerminal:!0,logger:r})}},5065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTunnel=void 0;const n=r(1808),o=r(7874),i=r(9496),s=r(1531),a=r(3170),c=r(9763),l=r(7674),u=r(5068),d=r(7174),p=r(6737),h=r(8691),f=r(9759),m=r(5537),g=r(3725),v=r(364),_=r(6105),y=r(7147),S=r(7907);class w extends class{constructor(e,t,r,n){this.host=e,this.remoteTarget=t,this.localTarget=r,this.name=n}close(){E(this)}}{constructor(e,t,r,n,o){super(e,t,r,n),this.tokenSource=o}set sshAuthSock(e){this._sshAuthSock=e}get sshAuthSock(){return this._sshAuthSock}dispose(){this.tokenSource.cancel()}}let b=[];function E(e){b=b.filter((t=>t!==e)),e.dispose()}t.createTunnel=async function(e,{remoteListeningOn:t,platform:r,preferredTarget:_,name:S,socksPort:A}){try{let O;if(!_||"port"in _)try{O={port:await async function(e){if("number"==typeof e){let t=await m.findFreePortFrom(e,1,3e3);if(t>0)return t}return await m.findAnyFreePort()}(_?.port)}}catch(e){throw c.SshResolverError.Create(c.SshResolverFailureReason.FindLocalPort,i.l10n.t("Failed to find a free local port: {0}",e.message))}else O=_;const R=A&&"port"in t?await async function(e,t,r,s,a){e.deps.progress.report({message:i.l10n.t("Setting up SSH tunnel")});const l=await(0,h.getConfigurationForHost)(e.host),u=l&&n.isIPv6(l.HostName)||"inet6"===l?.AddressFamily?"::1":"127.0.0.1",d=new i.CancellationTokenSource,p=new w(e.host,{port:s},t,a,d);b.push(p);const m=await async function(e,t,r,i,s){const a={proxy:{host:i,port:t,type:5},command:"connect",destination:{host:"127.0.0.1",port:r}};let l=0;return new Promise((i=>{s.debug(`Starting forwarding server. local ${c.ListenTarget.display(e)} -> socksPort ${t} -> remotePort ${r}`);const u=[],d=n.createServer((async t=>{try{l<10&&s.debug(`[Forwarding server ${c.ListenTarget.display(e)}] Got connection ${l++}`);const r=await o.SocksClient.createConnection(a);t.pipe(r.socket),r.socket.pipe(t),u.push({dispose(){t.end(),r.socket.end()}})}catch(e){s.error(`Failed to set up socket for dynamic port forward to remote port ${r}: ${e.message}. Is the remote port correct?`)}}));c.ListenTarget.listen(d,e,(()=>{s.debug("Forwarding server listening on "+c.ListenTarget.display(e)),i({dispose(){d.close(),(0,f.dispose)(u)}})}))}))}(t,r,s,u,e.deps.logger);return d.token.onCancellationRequested((()=>{(0,f.dispose)(m)})),p}(e,O,A,t.port,S):await async function(e,t,r,n,o){const h=e.deps;return(0,u.withShowDetailsEvent)((async f=>{let m;h.progress.report({message:`([details](command:${u.SHOW_DETAILS_COMMAND} "${i.l10n.t("Show details in terminal")}")) ${i.l10n.t("Setting up SSH tunnel")}`});const _=await async function(e,t,r,n){let o;o=t===l.Platform.Windows?`${(0,a.enableAgentForwarding)()?"echo $env:SSH_AUTH_SOCK; ":""}echo '${C}'; ${T}`:`${(0,a.enableAgentForwarding)()?"echo $SSH_AUTH_SOCK && ":""}echo -e '${C}' && while true; do sleep 180; echo -n ' '; done`;const i=e=>"port"in e?`127.0.0.1:${e.port}`:e.socketPath.startsWith("\\\\.\\pipe\\")?"/"+e.socketPath.slice(1):e.socketPath,s=`${i(n)}:${i(r)}`;return(0,d.generateMultiLineCommand)(e,t,o,{cmdSegment:["-L",s],allowPortForward:!0,quoteForShell:!0})}(e,t,r,n);h.logger.debug(`Spawning tunnel with: ${_}`);const y=new i.CancellationTokenSource;m=new w(e.host,r,n,o,y),b.push(m);const S=(0,s.getInteractorForMsg)(new RegExp(`(SSH_AUTH_SOCK=(.*)\\r?\\n)?${C}`));(0,p.runSshTerminalCommandWithLogin)(e,{systemInteractor:v.defaultSystemInteractor,command:_,nickname:"SSH Tunnel",interactor:S.interactor,revealTerminal:f,token:y.token}).then((()=>{h.logger.debug("SSH tunnel command completed unexpectedly")}),(e=>{h.logger.debug("SSH tunnel command completed unexpectedly with error: "+(e&&e.message))})).finally((()=>{E(m)}));const I=await S.result,A=I&&I[2]&&(0,g.stripEscapeSequences)(I[2]);return m.sshAuthSock=A,h.logger.info(`Spawned SSH tunnel between local ${c.ListenTarget.display(n)} and remote target ${c.ListenTarget.display(r)}`),m}))}(e,r,t,O,S);return e.deps.progress.report({message:i.l10n.t("Waiting for port forwarding to be ready")}),e.deps.logger.info("Waiting for ssh tunnel to be ready"),"port"in O?await async function(e,t=1e4){return I((async()=>!await m.isFreePort(e)),t)}(O.port):await async function(e,t=1e6){return I((async()=>{try{return await y.promises.access(e),!0}catch{return!1}}),t)}(O.socketPath),e.deps.logger.info(`Tunneled ${c.ListenTarget.display(t)} to local ${c.ListenTarget.display(O)}`),{localTarget:R.localTarget,sshAuthSock:R.sshAuthSock}}catch(t){const r=t.message||t;throw e.deps.logger.error(`Error establishing tunnel (${r}).`),new Error(i.l10n.t("Error establishing tunnel ({0}).",`${r}`))}};const T=`\n${S.getSshdParentPid}\n\n$sshdPID = getSshdParentPid\n\nwhile ($True) {\n\tif (!(gps -Id $sshdPID)) {\n\t\t"sshd parent died, exit"\n\t\texit 0\n\t}\n\tsleep 30\n}\n`,C="Connected to SSH Host - Please do not close this terminal";async function I(e,t){let r=0;for(;!await e();){if(r>t)throw new Error(i.l10n.t("Max wait time exhausted"));await(0,_.wait)(100),r+=100}}},36:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrereqsWarningInteractor=t.logInstallScriptResult=t.generateSshCommand=t.tryInstall=void 0;const n=r(9496),o=r(1531),i=r(3170),s=r(5748),a=r(9763),c=r(810),l=r(7674),u=r(7174),d=r(6737),p=r(8286),h=r(3725);function f(e,t){const r=(0,o.getInteractorForMsg)((0,s.getScriptStartMarker)(e),"keep");return r.result.then((()=>{t.mark(2)})),r.interactor}function m(e,t){const r={...e,serverConfiguration:{...e.serverConfiguration,connectionToken:e.serverConfiguration.connectionToken&&(0,h.sanitizeConnectionToken)(e.serverConfiguration.connectionToken)}};t.debug(`Parsed server configuration: ${JSON.stringify(r)}`),(0,l.warnForPreviewPlatform)(e.serverConfiguration,t)}async function g(e){const t=(0,o.getInteractorForInstallWarning)(e,1);return t.result.then((async()=>{const e=await n.window.showWarningMessage(n.l10n.t("The remote host may not meet VS Code Server's prerequisites for glibc and libstdc++"),{id:"moreInfo",title:n.l10n.t("More Info")});e&&"moreInfo"===e.id&&await n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/linux-prerequisites"))})),t.interactor}t.tryInstall=async function(e,{systemInteractor:t,command:r,revealTerminalEvent:s,usedAuthMethods:l,marker:u}){const v=e.deps,_=(0,o.getInstallScriptOutputInteractor)(u),y=(0,o.getServerErrorLogOutputInteractor)(),S=(0,o.getDownloadRequestInteractor)(u,v.logger),w=new n.CancellationTokenSource,b=new o.RemoteServerProgressInteractor(u,v.progress);let E;const T=await async function(e){const t=(0,o.getInteractorForMsg)("","keep"),r=(0,p.getDeferred)(),n=setTimeout((()=>{r.reject(a.SshResolverError.Timeout("Connecting with SSH timed out"))}),(0,i.scriptOutputConnectTimeoutSeconds)());return t.result.then((()=>{e.debug("Got some output, clearing connection timeout"),clearTimeout(n)})),{interactor:t.interactor,result:r.promise}}(v.logger),C=await g(u),I=new o.ComposedInteractor([y.interactor,T.interactor,_.interactor,S.interactor,C,b,f(u,v.timer)]);v.timer.mark(1),E=(0,d.runSshTerminalCommandWithLogin)(e,{interactor:I,marker:u,systemInteractor:t,command:r,nickname:"install",usedInteractors:l,revealTerminal:s,token:w.token}).catch((e=>{if(e instanceof p.CanceledError)throw a.SshResolverError.Canceled();throw e})),E.then((e=>{v.logger.debug("Install terminal quit with output: "+e)}),(()=>{}));const A=S.result.then((async r=>{await(0,c.downloadAndCopyToHost)(e,t,s,r).catch((e=>{throw e instanceof a.SshResolverError&&e.failureReason===a.SshResolverFailureReason.Canceled&&w.cancel(),e}))}));let O,R;try{let e=Promise.race([_.result,T.result,E]);y.result.then((e=>{R=e})),await Promise.race([e,A]);let t=await e;if(!t)throw a.SshResolverError.Create(a.SshResolverFailureReason.BadInstallScriptResult,"Got bad result from install script");O=t}catch(e){throw v.timer.mark(3),e}v.timer.mark(3),v.logger.debug(`Received install output: ${(0,h.sanitizeInstallScriptOutput)(O)}`);const P=(0,a.handleInstallOutput)(e,O,R);return P?(m(P,v.logger),P.storePlatform=!0,P):null},t.generateSshCommand=async function(e,t,r,n){const o=n?{cmdSegment:["-D",String(n)],allowPortForward:!0}:{};return o.quoteForShell=!0,await(0,u.generateMultiLineCommand)(e,t,r,o)},t.logInstallScriptResult=m,t.getPrereqsWarningInteractor=g},8286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanceledError=t.sleep=t.getDeferred=void 0,t.getDeferred=function(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return{resolve:e,reject:t,promise:r}},t.sleep=function(e){return new Promise((t=>{setTimeout(t,e)}))};class r extends Error{constructor(){super("Canceled")}}t.CanceledError=r},9759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withCancellationTokenSource=t.withDisposable=t.dispose=t.addDisposableListener=void 0;const n=r(9496);async function o(e,t){try{return await t()}finally{e.dispose()}}t.addDisposableListener=function(e,t,r){return e.on(t,r),{dispose(){e.removeListener(t,r)}}},t.dispose=function e(t,...r){return Array.isArray(t)?(t.forEach((e=>e&&e.dispose())),[]):0===r.length?t?(t.dispose(),t):void 0:(e(t),e(r),[])},t.withDisposable=o,t.withCancellationTokenSource=function(e){const t=new n.CancellationTokenSource;return o(t,(()=>e(t)))}},7475:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.getPackageJson=void 0,t.getPackageJson=function(){return n||(n=r(4147)),n}},662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonFalsy=void 0,t.nonFalsy=function(e){return e.filter((e=>!!e))}},2386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostInfo=void 0;const n=r(5677),o=r(1808),i=r(8691);class s{constructor(e,t,r,n){this.hostName=e,this.user=t,this.port=r,this.config=n}toString(){return this.user?`${this.user}@${this.hostName}`:this.hostName}static toPathString(e){return n.fast1a32hex(e.toString())}static toAuthorityString(e){if(e.user||e.hostName.toLowerCase()!==e.hostName||e.port||e.hostName.match(/[\/\\\+]/)){const t={hostName:e.hostName};e.user&&(t.user=e.user),e.port&&(t.port=e.port);const r=JSON.stringify(t);return Buffer.from(r,"utf8").toString("hex")}return e.hostName}static async parseWithConfig(e){const t=this.parse(e),r=await(0,i.getConfigurationForHost)(t);return r?new s(t.hostName,t.user,t.port,r):t}static parse(e){try{const t=JSON.parse(Buffer.from(e,"hex").toString("utf8"));if(t&&t.hostName)return new s(t.hostName,t.user,t.port)}catch(e){}return s.fromString(e)}static fromString(e){const t=e.match(/^(?:(.*)@)?(.+?)$/);if(t){const[,e,r]=t;let n;if(e&&""!==e&&(n=e),o.isIPv6(r))return new s(r,n,void 0);let i=r.match(/^\[(.+?)\](?::(\d+))?$/);if(i){const[,e,t]=i;if(o.isIPv6(e))return new s(e,n,t?parseInt(t,10):void 0)}if(i=r.match(/^(.+?)(?::(\d+))?$/),i){const[,e,t]=i;return new s(e,n,t?parseInt(t,10):void 0)}}return new s(e)}}t.HostInfo=s},9783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpPost=t.httpGet=t.getAgent=void 0;const n=r(3685),o=r(5687),i=r(7310),s=r(9496),a=r(6018);let c;t.getAgent=()=>{if(!c){const e=s.workspace.getConfiguration("http").get("proxy");c=e?new a.HttpsProxyAgent(e):void 0}return c},t.httpGet=function(e,t={},r){return new Promise(((s,a)=>{t={rejectUnauthorized:!1,...t};let c=n.get;if(e){const r=i.parse(e);t={...r},c="https:"===r.protocol?o.get:n.get}c(t,(e=>{let t="";e.on("data",(e=>t+=e)),e.on("end",(()=>{200===e.statusCode?s(t):(r.error("HTTP GET failed with: "+e.statusCode+" "+e.statusMessage),a(new Error(t.trim())))}))})).on("error",(e=>{a(e)}))}))},t.httpPost=function(e,t,r={},s){return new Promise(((a,c)=>{r={rejectUnauthorized:!1,method:"POST",...r};const l=e=>{let t="";e.on("data",(e=>t+=e)),e.on("end",(()=>{200===e.statusCode?a(t):(s.error("HTTP POST failed with: "+e.statusCode+" "+e.statusMessage),c(new Error(t.trim())))}))};let u;if(e){const t=i.parse(e);r={...t},"https:"===t.protocol&&(u=o.request(r,l))}else u=n.request(r,l);u.write(t),u.end()}))}},132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIPCHandlePath=void 0;const n=r(3837),o=r(6113),i=r(1017),s=r(2037);t.getIPCHandlePath=async function(e,t=20){const r=n.promisify(o.randomBytes),a=function(e,t){return"win32"===process.platform?`\\\\.\\pipe\\vscode-ssh-${e}-${t}-sock`:process.env.XDG_RUNTIME_DIR?i.join(process.env.XDG_RUNTIME_DIR,`vscode-ssh-${e}-${t}.sock`):i.join(s.tmpdir(),`vscode-ssh-${e}-${t}.sock`)}(e,(await r(t)).toString("hex"));return a}},4514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullLogger=t.Logger=void 0;const n=r(9496),o=r(3725),i=r(3170);function s(e,t){return(""+e).padStart(t,"0")}t.Logger=class{constructor(e){this.disposables=[],this.outputChannel=n.window.createOutputChannel(e),this.disposables.push(this.outputChannel),this.logCurrentLogLevel()}showLog(){return this.outputChannel.show()}info(e){this.log(e,i.LogLevel.info)}trace(e){this.log(e,i.LogLevel.trace)}debug(e){this.log(e,i.LogLevel.debug)}error(e){this.log(e,i.LogLevel.error)}logCurrentLogLevel(){this.info("Log Level: "+(0,i.logLevel)())}log(e,t){e=String(e),(0,i.logLevel)()!==i.LogLevel.trace&&(e=(0,o.stripEscapeSequences)(e));const r=function(){const e=new Date;return`[${s(e.getHours(),2)}:${s(e.getMinutes(),2)}:${s(e.getSeconds(),2)}.${s(e.getMilliseconds(),3)}] `}();t>=(0,i.logLevel)()&&this.outputChannel.appendLine(r+e)}dispose(){this.outputChannel.dispose()}},t.NullLogger=class{showLog(){}info(e){}trace(e){}debug(e){}error(e){}dispose(){}}},5848:(e,t)=>{"use strict";function r(e,t){const r={};for(let n in e)t(n,e)&&(r[n]=e[n]);return r}function n(e,t){const r={};for(const n of Object.keys(e)){const o=e[n];r[n]=t(o,n)}return r}function o(e){return r(e,((e,t)=>void 0!==t[e]))}Object.defineProperty(t,"__esModule",{value:!0}),t.removeUndefinedsRecursive=t.removeUndefineds=t.mapValues=t.filterObject=void 0,t.filterObject=r,t.mapValues=n,t.removeUndefineds=o,t.removeUndefinedsRecursive=function e(t){return n(o(t),(t=>"object"==typeof t?e(t):t))}},5238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeFileName=t.mkdirp=t.untildify=void 0;const n=r(2037),o=r(7147),i=r(1017),s=r(3837),a=s.promisify(o.mkdir),c=s.promisify(o.exists);async function l(e,t,r){if(!(t>=r||await c(e))){const n=i.dirname(e);n!==e&&await l(n,++t,r),await a(e)}}t.untildify=function(e){return e.replace(/^~($|\/|\\)/,`${n.homedir()}$1`)},t.mkdirp=async function(e){return await l(e,0,100)},t.sanitizeFileName=function(e){return e.replace(/[^a-z0-9._]/g,"-")}},5207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=void 0,t.isWindows="win32"===process.platform},5537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFreePort=t.findAnyFreePort=t.findFreePortFrom=t.randomPort=void 0;const n=r(1808);function o(e,t,r){if(0===t)return r(0);const s=new n.Socket;s.once("connect",(()=>(i(s),o(e+1,t-1,r)))),s.once("data",(()=>{})),s.once("error",(n=>(i(s),"ECONNREFUSED"!==n.code?o(e+1,t-1,r):r(e)))),s.connect(e,"127.0.0.1")}function i(e){try{e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(e){console.error(e)}}t.randomPort=function(){return 1025+Math.floor(64510*Math.random())},t.findFreePortFrom=function(e,t=300,r=3e3){let n=!1;return new Promise((i=>{const s=setTimeout((()=>{if(!n)return n=!0,i(0)}),r);o(e,t,(e=>{if(!n)return n=!0,clearTimeout(s),i(e)}))}))},t.findAnyFreePort=function(){return new Promise(((e,t)=>{const r=n.createServer();r.on("error",t),r.listen(0,"127.0.0.1",(()=>{const{port:t}=r.address();r.close((()=>{e(t)}))}))}))},t.isFreePort=async function(e){return new Promise((t=>{const r=new n.Socket;r.once("connect",(()=>{i(r),t(!1)})),r.once("data",(()=>{})),r.once("error",(e=>{i(r),t("ECONNREFUSED"===e.code)})),r.connect(e,"127.0.0.1")}))}},1049:(e,t)=>{"use strict";function r(e){return n(e)+"_"}function n(e){const t=e%26,r=Math.floor(e/26);return(r>0?n(r-1):"")+String.fromCharCode(t+"a".charCodeAt(0))}function o(e,t){t=[...t].sort(((e,t)=>e[0].length-t[0].length));for(let[r,n]of t)e=e.replace(new RegExp(`\\b${r}\\b`,"g"),n);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.minifyNames=t.minNameForNumber=t.minifyPwsh=void 0,t.minifyPwsh=function(e,t){return e=o(e,t.map(((e,t)=>[e,r(t)]))),(e=(e=(e=e.replace(/^(\s*\$[a-z_]+) = /gim,"$1=")).split("\n").filter((e=>!e.match(/^\s*#/))).join("\n")).split("\n").map((e=>e.replace(/^\s+/,""))).join("\n")).replace(/\n\n+/g,"\n")},t.minNameForNumber=r,t.minifyNames=o},4460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killTree=void 0;const n=r(1017),o=r(2081),i=r(3837);t.killTree=async function(e,t){let r;if("win32"===process.platform){const t=process.env.WINDIR||"C:\\Windows";r=`${n.join(t,"System32","taskkill.exe")} /F /T /PID ${e}`}else r=`"${n.join(__dirname,"./utils/terminateProcess.sh")}" ${e.toString()}`;try{t.debug(`Killing process with command "${r}"`);const e=await i.promisify(o.exec)(r);e.stdout&&t.debug("stdout: "+e.stdout),e.stderr&&t.debug("stderr: "+e.stderr)}catch(e){t.error("Killing server failed: "+e.message)}}},8904:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProductInfo=void 0;const n=r(7147),o=r(1017),i=r(3837),s=r(9496);let a;async function c(){if(!a){const e=await(0,i.promisify)(n.readFile)(o.join(s.env.appRoot,"product.json"),"utf8");a=JSON.parse(e)}return a}t.getProductInfo=async function(){let e=await c();return e.commit&&e.serverDataFolderName||(e={commit:"3c133b63c6e17e2fe33f37db93a6d43e78a262c5",quality:"insider",serverDataFolderName:".vscode-server-oss",serverApplicationName:"code-server-insiders",version:"dev-insiders"}),e}},5260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgressOutputString=t.RemoteProgressMessages=void 0;const n=r(9496);t.RemoteProgressMessages={1:n.l10n.t("Downloading VS Code Server"),2:n.l10n.t("Installing VS Code Server")},t.getProgressOutputString=function(e,t){return`${e}%%${t}%%`}},2208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serverLicense=void 0,t.serverLicense=["*","* Visual Studio Code Server","*","* By using the software, you agree to","* the Visual Studio Code Server License Terms (https://aka.ms/vscode-server-license) and","* the Microsoft Privacy Statement (https://privacy.microsoft.com/en-US/privacystatement).","*"]},3725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringMap=t.stripAllNewlines=t.escapeRegExpCharacters=t.splitLines=t.markLine=t.markLines=t.sanitizeConnectionToken=t.sanitizeInstallScriptOutput=t.stripTrailingNewline=t.quoteForShellIfNeeded=t.quoteForShell=t.stripEscapeSequences=t.lastNonemptyLine=void 0;const n=r(5207);function o(e){return e.replace(/\x1b\[\??[0-9]{0,3}(;[0-9]{1,3})?[a-zA-Z]/g,"").replace(/\u0008/g,"").replace(/\r/g,"")}function i(e,t){return t?`"${e}"`:`'${e}'`}function s(e){return e.replace(/\r?\n$/,"")}function a(e){return e.replace(/[a-z]/g,"a").replace(/[A-Z]/g,"A").replace(/[0-9]/g,"1")}function c(e){return e.split(/\r?\n/g)}t.lastNonemptyLine=function(e){const t=c(e);if(n.isWindows){let e="";for(let r=t.length-1;r>=0;r--){const n=o(t[r]);if(n.match(/The process tried to write to a nonexistent pipe/))e=n;else if(n)return n}if(e)return e}const r=t.filter((e=>!!e));return r[r.length-1]},t.stripEscapeSequences=o,t.quoteForShell=i,t.quoteForShellIfNeeded=function(e,t){return e.match(/[^a-z0-9]/)?i(e,t):e},t.stripTrailingNewline=s,t.sanitizeInstallScriptOutput=function(e){return function(e){return e.replace(/connectionToken==(.*)==/,((e,t)=>`connectionToken==${a(t)}==`))}(e)},t.sanitizeConnectionToken=a,t.markLines=function(e,t=""){return c(s(e)).map((e=>`${t}> ${e}`)).join("\n")},t.markLine=function(e,t=""){return`${t}> ${e}`},t.splitLines=c,t.escapeRegExpCharacters=function(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")},t.stripAllNewlines=function(e){return e.replace(/\r?\n/,"")},t.parseStringMap=function(e,t="==",r){e=e.trim().replace(/\r?\n/g,"");const n={};for(let o=0;o<e.length;){const i=e.indexOf(t,o),s=e.indexOf(t,i+t.length);if(-1===i||-1===s)return r.trace("Stopped parsing output early. Remaining text: "+e.substring(o)),n;const a=e.slice(i+t.length,s);n[e.slice(o,i)]=a,o=s+t.length;const c=e.substr(o).match(/^\s+/);c&&c[0]&&(o+=c[0].length)}return n}},364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSystemInteractor=void 0;const n=r(9496);t.defaultSystemInteractor={createTerminal:n.window.createTerminal,onDidCloseTerminal:n.window.onDidCloseTerminal,onDidWriteTerminalData:n.window.onDidWriteTerminalData}},4156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Telemetry=t.createTelemetryReporter=void 0;const n=r(9877),o=r(1531),i=r(3170),s=r(6723),a=r(9763),c=r(7475),l=r(5848);t.createTelemetryReporter=async function(e){const t=(0,c.getPackageJson)(),r=new n.default(`${t.publisher}.${t.name}`,t.version,t.aiKey);return e.subscriptions.push(r),r},t.Telemetry=class{constructor(e,t,r){this.reporter=e,this.resolveAttempt=t,this.logger=r}getCommonMeasures(e,t,r,n){const o=e.computeStats(),i={resolveAttempts:this.resolveAttempt,retries:t,isExecServer:n?1:0,"timing.totalResolveTime":o.totalResolveTime,"timing.preSshTime":o.preSshTime,"timing.establishSshTime":o.establishSshTime,"timing.scriptTime":o.scriptTime,"timing.localDownloadTime":o.localDownloadTime,"timing.scpTime":o.scpTime,"timing.downloadTime":r?.downloadTime,"timing.installTime":r?.installTime,"timing.serverStartTime":r?.serverStartTime,"timing.extInstallTime":r?.extInstallTime};return(0,l.removeUndefineds)(i)}getCommonProperties(e,t,r){return{osReleaseId:(e&&e.serverConfiguration.osReleaseId)??"",arch:(e&&e.serverConfiguration.arch)??"",askedPw:t&&t.has(o.PasswordInteractor.ID)?"1":"0",askedPassphrase:t&&t.has(o.PassphraseInteractor.ID)?"1":"0",asked2fa:t&&t.has(o.TwoFacInteractor.ID)?"1":"0",askedHostKey:t&&t.has(o.FingerprintInteractor.ID)?"1":"0",remoteInConfigFile:r?"1":"0",gotUnrecognizedPrompt:t&&t.has(s.UnrecognizedRequestInteractor.ID)?"1":"0",dynamicForwarding:(0,i.enableDynamicForwarding)()?"1":"0",localServer:(0,i.useLocalServer)()?"1":"0",didLocalDownload:e?.didLocalDownload?"1":"0",installUnpackCode:e?.installUnpackCode?"1":"0"}}getTelemetryLevel(){return this.reporter.telemetryLevel}install(e,t){this.sendTelemetryEvent("resolver",{...this.getCommonProperties(e.installScriptResult,e.usedAuthMethods,e.remoteInConfigFile),outcome:"success"},this.getCommonMeasures(t,e.retries,e.installScriptResult,!!e.execServer))}success(e,t){this.sendTelemetryEvent("resolver",{...this.getCommonProperties(e.installScriptResult,e.usedAuthMethods,e.remoteInConfigFile),outcome:"success"},this.getCommonMeasures(t,e.retries,e.installScriptResult,!!e.execServer))}failure(e,t,r,n,o,i,s){const c={exitCode:n&&n.exitCode,...this.getCommonMeasures(t,o,n,r)},u=(0,l.removeUndefineds)(c);this.sendTelemetryEvent("resolver",{...this.getCommonProperties(n,i,s),outcome:"failure",reason:e,exitCodeLabel:n?a.InstallExitCode[n.exitCode]:""},u)}reportExtraInfo(e){this.sendTelemetryEvent("extraInfo",{remoteCloud:e?e.toString():""},{})}sendTelemetryEvent(e,t,r){const n={eventName:e,properties:t,measures:r};this.logger.trace(`TELEMETRY: ${JSON.stringify(n)}`),this.reporter.sendTelemetryEvent(e,t,r)}}},3958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawTimer=t.Timer=void 0,t.Timer=class{constructor(){this.timer=new r}mark(e){this.timer.mark(e)}computeStats(){return{totalResolveTime:this.timer.getDuration(0,4),preSshTime:this.timer.getDuration(0,1),establishSshTime:this.timer.getDuration(1,2),scriptTime:this.timer.getDuration(1,3),localDownloadTime:this.timer.getDuration(5,6),scpTime:this.timer.getDuration(7,8)}}};class r{constructor(){this.times=new Map}mark(e){this.times.set(e,Date.now())}getDuration(e,t){const r=this.times.get(e),n=this.times.get(t);if("number"==typeof r&&"number"==typeof n)return n-r}}t.RawTimer=r},8059:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.randomString=void 0;const n=r(6113),o="0123456789abcdef";t.randomString=function(e=12){let t="";for(let r=0;r<e;r++){const e=Math.floor(o.length*Math.random());t+=o[e]}return t},t.generateUuid=function(){return n.randomUUID()}},6105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=void 0,t.wait=async function(e){return new Promise(((t,r)=>{setTimeout((()=>t()),e)}))}},4608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesManager=void 0,t.VariablesManager=class{constructor(e,t){this.collection=e,this.deps=t,e.persistent=!1}update(e){this.deps.logger.trace(`Updating terminal environments: ${JSON.stringify(e)}`);for(let t in e)this.collection.replace(t,e[t])}}},2660:function(e,t){var r;r=function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const i=r,s=Promise,a=Promise.prototype.then,c=Promise.resolve.bind(s),l=Promise.reject.bind(s);function u(e){return new s(e)}function d(e){return c(e)}function p(e){return l(e)}function h(e,t,r){return a.call(e,t,r)}function f(e,t,r){h(h(e,t,r),void 0,i)}function m(e,t){f(e,t)}function g(e,t){f(e,void 0,t)}function v(e,t,r){return h(e,t,r)}function _(e){h(e,void 0,i)}const y=(()=>{const e=n&&n.queueMicrotask;if("function"==typeof e)return e;const t=d(void 0);return e=>h(t,e)})();function S(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function w(e,t,r){try{return d(S(e,t,r))}catch(e){return p(e)}}class b{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function E(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?A(e):"closed"===t._state?function(e){A(e),P(e)}(e):O(e,t._storedError)}function T(e,t){return Sr(e._ownerReadableStream,t)}function C(e){"readable"===e._ownerReadableStream._state?R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){O(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function I(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function A(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function O(e,t){A(e),R(e,t)}function R(e,t){void 0!==e._closedPromise_reject&&(_(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function P(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const k=t("[[AbortSteps]]"),x=t("[[ErrorSteps]]"),D=t("[[CancelSteps]]"),N=t("[[PullSteps]]"),L=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},$=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function M(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function F(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function j(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function H(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function U(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function B(e){return Number(e)}function q(e){return 0===e?0:e}function V(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=q(n),!L(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return q($(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return L(n)&&0!==n?n:0}function G(e,t){if(!_r(e))throw new TypeError(`${t} is not a ReadableStream.`)}function W(e){return new Q(e)}function z(e,t){e._reader._readRequests.push(t)}function K(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function X(e){return e._reader._readRequests.length}function Y(e){const t=e._reader;return void 0!==t&&!!J(t)}class Q{constructor(e){if(H(e,1,"ReadableStreamDefaultReader"),G(e,"First parameter"),yr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,e),this._readRequests=new b}get closed(){return J(this)?this._closedPromise:p(ee("closed"))}cancel(e){return J(this)?void 0===this._ownerReadableStream?p(I("cancel")):T(this,e):p(ee("cancel"))}read(){if(!J(this))return p(ee("read"));if(void 0===this._ownerReadableStream)return p(I("read from"));let e,t;const r=u(((r,n)=>{e=r,t=n}));return Z(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!J(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}}function J(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Q}function Z(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[N](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Q.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Q.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class re{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?v(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?v(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return p(I("iterate"));let t,r;const n=u(((e,n)=>{t=e,r=n}));return Z(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,y((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,C(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,C(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return p(I("finish iterating"));if(!this._preventCancel){const r=T(t,e);return C(t),v(r,(()=>({value:e,done:!0})))}return C(t),d({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():p(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):p(ie("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(ne,te);const se=Number.isNaN||function(e){return e!=e};function ae(e){return e.slice()}function ce(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function le(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return ce(o,0,e,t,n),o}function ue(e){const t=le(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function de(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function pe(e,t,r){if("number"!=typeof(n=r)||se(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function he(e){e._queue=new b,e._queueTotalSize=0}class fe{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ve(this))throw je("view");return this._view}respond(e){if(!ve(this))throw je("respond");if(H(e,1,"respond"),e=V(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,$e(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ve(this))throw je("respondWithNewView");if(H(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Me(this._associatedReadableByteStreamController,e)}}Object.defineProperties(fe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(fe.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ge(this))throw He("byobRequest");return Ne(this)}get desiredSize(){if(!ge(this))throw He("desiredSize");return Le(this)}close(){if(!ge(this))throw He("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);ke(this)}enqueue(e){if(!ge(this))throw He("enqueue");if(H(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);xe(this,e)}error(e){if(!ge(this))throw He("error");De(this,e)}[D](e){ye(this),he(this);const t=this._cancelAlgorithm(e);return Pe(this),t}[N](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ce(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}z(t,e),_e(this)}}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function ve(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof fe}function _e(e){const t=function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(Y(t)&&X(t)>0)||!!(Ve(t)&&qe(t)>0)||Le(e)>0)}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,f(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,_e(e))}),(t=>{De(e,t)}))))}function ye(e){Ie(e),e._pendingPullIntos=new b}function Se(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=we(t);"default"===t.readerType?K(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function we(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function be(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Ee(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,s=i-i%r;let a=o,c=!1;s>n&&(a=s-t.bytesFilled,c=!0);const l=e._queue;for(;a>0;){const r=l.peek(),n=Math.min(a,r.byteLength),o=t.byteOffset+t.bytesFilled;ce(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?l.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Te(0,n,t),a-=n}return c}function Te(e,t,r){r.bytesFilled+=t}function Ce(e){0===e._queueTotalSize&&e._closeRequested?(Pe(e),wr(e._controlledReadableByteStream)):_e(e)}function Ie(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ae(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Ee(e,t)&&(Re(e),Se(e._controlledReadableByteStream,t))}}function Oe(e,t){const r=e._pendingPullIntos.peek();Ie(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(Ve(r))for(;qe(r)>0;)Se(r,Re(e))}(e):function(e,t,r){if(Te(0,t,r),r.bytesFilled<r.elementSize)return;Re(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,o=le(r.buffer,t-n,t);be(e,o,0,o.byteLength)}r.bytesFilled-=n,Se(e._controlledReadableByteStream,r),Ae(e)}(e,t,r),_e(e)}function Re(e){return e._pendingPullIntos.shift()}function Pe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ke(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw De(e,t),t}Pe(e),wr(t)}}function xe(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,o=t.byteOffset,i=t.byteLength,s=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Ie(e),Y(r)?0===X(r)?be(e,s,o,i):(e._pendingPullIntos.length>0&&Re(e),K(r,new Uint8Array(s,o,i),!1)):Ve(r)?(be(e,s,o,i),Ae(e)):be(e,s,o,i),_e(e)}function De(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(ye(e),he(e),Pe(e),br(r,t))}function Ne(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(fe.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function Le(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function $e(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Oe(e,t)}function Me(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,Oe(e,n)}function Fe(e,t,r,n,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,he(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new b,e._readableStreamController=t,f(d(r()),(()=>{t._started=!0,_e(t)}),(e=>{De(t,e)}))}function je(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function He(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ue(e){return new Ge(e)}function Be(e,t){e._reader._readIntoRequests.push(t)}function qe(e){return e._reader._readIntoRequests.length}function Ve(e){const t=e._reader;return void 0!==t&&!!We(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ge{constructor(e){if(H(e,1,"ReadableStreamBYOBReader"),G(e,"First parameter"),yr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ge(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,e),this._readIntoRequests=new b}get closed(){return We(this)?this._closedPromise:p(Ke("closed"))}cancel(e){return We(this)?void 0===this._ownerReadableStream?p(I("cancel")):T(this,e):p(Ke("cancel"))}read(e){if(!We(this))return p(Ke("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return p(I("read from"));let t,r;const n=u(((e,n)=>{t=e,r=n}));return ze(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!We(this))throw Ke("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}}function We(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Ge}function ze(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,s=t.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void Be(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ee(e,a)){const t=we(a);return Ce(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return De(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(a),Be(n,r),_e(e)}else{const e=new i(a.buffer,a.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Ke(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Xe(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(se(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ye(e){const{size:t}=e;return t||(()=>1)}function Qe(e,t){M(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:B(r),size:void 0===n?void 0:Je(n,`${t} has member 'size' that`)}}function Je(e,t){return F(e,t),t=>B(e(t))}function Ze(e,t,r){return F(e,r),r=>w(e,t,[r])}function et(e,t,r){return F(e,r),()=>w(e,t,[])}function tt(e,t,r){return F(e,r),r=>S(e,t,[r])}function rt(e,t,r){return F(e,r),(r,n)=>w(e,t,[r,n])}function nt(e,t){if(!ct(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ge.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const ot="function"==typeof AbortController;class it{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");const r=Qe(t,"Second parameter"),n=function(e,t){M(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:Ze(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:et(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:tt(o,e,`${t} has member 'start' that`),write:void 0===s?void 0:rt(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(at(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Ye(r);!function(e,t,r,n){const o=Object.create(Ct.prototype);let i=()=>{},s=()=>d(void 0),a=()=>d(void 0),c=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.write&&(s=e=>t.write(e,o)),void 0!==t.close&&(a=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),At(e,o,i,s,a,c,r,n)}(this,n,Xe(r,1),o)}get locked(){if(!ct(this))throw Nt("locked");return lt(this)}abort(e){return ct(this)?lt(this)?p(new TypeError("Cannot abort a stream that already has a writer")):ut(this,e):p(Nt("abort"))}close(){return ct(this)?lt(this)?p(new TypeError("Cannot close a stream that already has a writer")):mt(this)?p(new TypeError("Cannot close an already-closing stream")):dt(this):p(Nt("close"))}getWriter(){if(!ct(this))throw Nt("getWriter");return st(this)}}function st(e){return new _t(e)}function at(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new b,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof it}function lt(e){return void 0!==e._writer}function ut(e,t){var r;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const i=u(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||ht(e,t),i}function dt(e){const t=e._state;if("closed"===t||"errored"===t)return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=u(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&Wt(n),pe(o=e._writableStreamController,Tt,0),Pt(o),r}function pt(e,t){"writable"!==e._state?ft(e):ht(e,t)}function ht(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&wt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&ft(e)}function ft(e){e._state="errored",e._writableStreamController[x]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new b,void 0===e._pendingAbortRequest)return void gt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void gt(e);f(e._writableStreamController[k](r._reason),(()=>{r._resolve(),gt(e)}),(t=>{r._reject(t),gt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function gt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Ht(t,e._storedError)}function vt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Bt(e)}(r):Wt(r)),e._backpressure=t}Object.defineProperties(it.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(it.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class _t{constructor(e){if(H(e,1,"WritableStreamDefaultWriter"),nt(e,"First parameter"),lt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?Bt(this):Vt(this),Ft(this);else if("erroring"===t)qt(this,e._storedError),Ft(this);else if("closed"===t)Vt(this),Ft(this),Ut(this);else{const t=e._storedError;qt(this,t),jt(this,t)}}get closed(){return yt(this)?this._closedPromise:p($t("closed"))}get desiredSize(){if(!yt(this))throw $t("desiredSize");if(void 0===this._ownerWritableStream)throw Mt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Rt(t._writableStreamController)}(this)}get ready(){return yt(this)?this._readyPromise:p($t("ready"))}abort(e){return yt(this)?void 0===this._ownerWritableStream?p(Mt("abort")):function(e,t){return ut(e._ownerWritableStream,t)}(this,e):p($t("abort"))}close(){if(!yt(this))return p($t("close"));const e=this._ownerWritableStream;return void 0===e?p(Mt("close")):mt(e)?p(new TypeError("Cannot close an already-closing stream")):St(this)}releaseLock(){if(!yt(this))throw $t("releaseLock");void 0!==this._ownerWritableStream&&bt(this)}write(e){return yt(this)?void 0===this._ownerWritableStream?p(Mt("write to")):Et(this,e):p($t("write"))}}function yt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof _t}function St(e){return dt(e._ownerWritableStream)}function wt(e,t){"pending"===e._readyPromiseState?Gt(e,t):function(e,t){qt(e,t)}(e,t)}function bt(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");wt(e,r),function(e,t){"pending"===e._closedPromiseState?Ht(e,t):function(e,t){jt(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Et(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return kt(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return p(Mt("write to"));const i=r._state;if("errored"===i)return p(r._storedError);if(mt(r)||"closed"===i)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return p(r._storedError);const s=function(e){return u(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{pe(e,t,r)}catch(t){return void kt(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||vt(n,xt(e)),Pt(e)}(n,t,o),s}Object.defineProperties(_t.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(_t.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Tt={};class Ct{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!It(this))throw Lt("abortReason");return this._abortReason}get signal(){if(!It(this))throw Lt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!It(this))throw Lt("error");"writable"===this._controlledWritableStream._state&&Dt(this,e)}[k](e){const t=this._abortAlgorithm(e);return Ot(this),t}[x](){he(this)}}function It(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Ct}function At(e,t,r,n,o,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,he(t),t._abortReason=void 0,t._abortController=function(){if(ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const c=xt(t);vt(e,c),f(d(r()),(()=>{t._started=!0,Pt(t)}),(r=>{t._started=!0,pt(e,r)}))}function Ot(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Rt(e){return e._strategyHWM-e._queueTotalSize}function Pt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void ft(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===Tt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),de(e);const r=e._closeAlgorithm();Ot(e),f(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ut(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),pt(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),f(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(de(e),!mt(r)&&"writable"===t){const t=xt(e);vt(r,t)}Pt(e)}),(t=>{"writable"===r._state&&Ot(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,pt(e,t)}(r,t)}))}(e,r)}function kt(e,t){"writable"===e._controlledWritableStream._state&&Dt(e,t)}function xt(e){return Rt(e)<=0}function Dt(e,t){const r=e._controlledWritableStream;Ot(e),ht(r,t)}function Nt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Lt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function $t(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Mt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ft(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function jt(e,t){Ft(e),Ht(e,t)}function Ht(e,t){void 0!==e._closedPromise_reject&&(_(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ut(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Bt(e){e._readyPromise=u(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function qt(e,t){Bt(e),Gt(e,t)}function Vt(e){Bt(e),Wt(e)}function Gt(e,t){void 0!==e._readyPromise_reject&&(_(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Wt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Ct.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ct.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const zt="undefined"!=typeof DOMException?DOMException:void 0,Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(zt)?zt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Xt(e,t,n,o,i,s){const a=W(e),c=st(t);e._disturbed=!0;let l=!1,v=d(void 0);return u(((y,S)=>{let w;if(void 0!==s){if(w=()=>{const r=new Kt("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===t._state?ut(t,r):d(void 0))),i||n.push((()=>"readable"===e._state?Sr(e,r):d(void 0))),O((()=>Promise.all(n.map((e=>e())))),!0,r)},s.aborted)return void w();s.addEventListener("abort",w)}var b,E,T;if(A(e,a._closedPromise,(e=>{o?R(!0,e):O((()=>ut(t,e)),!0,e)})),A(t,c._closedPromise,(t=>{i?R(!0,t):O((()=>Sr(e,t)),!0,t)})),b=e,E=a._closedPromise,T=()=>{n?R():O((()=>function(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?d(void 0):"errored"===r?p(t._storedError):St(e)}(c)))},"closed"===b._state?T():m(E,T),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?R(!0,t):O((()=>Sr(e,t)),!0,t)}function I(){const e=v;return h(v,(()=>e!==v?I():void 0))}function A(e,t,r){"errored"===e._state?r(e._storedError):g(t,r)}function O(e,r,n){function o(){f(e(),(()=>P(r,n)),(e=>P(!0,e)))}l||(l=!0,"writable"!==t._state||mt(t)?o():m(I(),o))}function R(e,r){l||(l=!0,"writable"!==t._state||mt(t)?P(e,r):m(I(),(()=>P(e,r))))}function P(e,t){bt(c),C(a),void 0!==s&&s.removeEventListener("abort",w),e?S(t):y(void 0)}_(u(((e,t)=>{!function n(o){o?e():h(l?d(!0):h(c._readyPromise,(()=>u(((e,t)=>{Z(a,{_chunkSteps:t=>{v=h(Et(c,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),n,t)}(!1)})))}))}class Yt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Qt(this))throw ar("desiredSize");return or(this)}close(){if(!Qt(this))throw ar("close");if(!ir(this))throw new TypeError("The stream is not in a state that permits close");tr(this)}enqueue(e){if(!Qt(this))throw ar("enqueue");if(!ir(this))throw new TypeError("The stream is not in a state that permits enqueue");return rr(this,e)}error(e){if(!Qt(this))throw ar("error");nr(this,e)}[D](e){he(this);const t=this._cancelAlgorithm(e);return er(this),t}[N](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=de(this);this._closeRequested&&0===this._queue.length?(er(this),wr(t)):Jt(this),e._chunkSteps(r)}else z(t,e),Jt(this)}}function Qt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Yt}function Jt(e){Zt(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,f(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Jt(e))}),(t=>{nr(e,t)}))))}function Zt(e){const t=e._controlledReadableStream;return!!ir(e)&&!!e._started&&(!!(yr(t)&&X(t)>0)||or(e)>0)}function er(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tr(e){if(!ir(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(er(e),wr(t))}function rr(e,t){if(!ir(e))return;const r=e._controlledReadableStream;if(yr(r)&&X(r)>0)K(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw nr(e,t),t}try{pe(e,t,r)}catch(t){throw nr(e,t),t}}Jt(e)}function nr(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(he(e),er(e),br(r,t))}function or(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ir(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function sr(e,t,r,n,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,he(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,f(d(r()),(()=>{t._started=!0,Jt(t)}),(e=>{nr(t,e)}))}function ar(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function cr(e,t,r){return F(e,r),r=>w(e,t,[r])}function lr(e,t,r){return F(e,r),r=>w(e,t,[r])}function ur(e,t,r){return F(e,r),r=>S(e,t,[r])}function dr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function pr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function hr(e,t){M(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:i}}Object.defineProperties(Yt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Yt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class fr{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");const r=Qe(t,"Second parameter"),n=function(e,t){M(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,o=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:V(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:cr(o,r,`${t} has member 'cancel' that`),pull:void 0===i?void 0:lr(i,r,`${t} has member 'pull' that`),start:void 0===s?void 0:ur(s,r,`${t} has member 'start' that`),type:void 0===a?void 0:dr(a,`${t} has member 'type' that`)}}(e,"First parameter");if(vr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let o=()=>{},i=()=>d(void 0),s=()=>d(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(i=()=>t.pull(n)),void 0!==t.cancel&&(s=e=>t.cancel(e));const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Fe(e,n,o,i,s,r,a)}(this,n,Xe(r,0))}else{const e=Ye(r);!function(e,t,r,n){const o=Object.create(Yt.prototype);let i=()=>{},s=()=>d(void 0),a=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.pull&&(s=()=>t.pull(o)),void 0!==t.cancel&&(a=e=>t.cancel(e)),sr(e,o,i,s,a,r,n)}(this,n,Xe(r,1),e)}}get locked(){if(!_r(this))throw Er("locked");return yr(this)}cancel(e){return _r(this)?yr(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):Sr(this,e):p(Er("cancel"))}getReader(e){if(!_r(this))throw Er("getReader");return void 0===function(e,t){M(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:pr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?W(this):Ue(this)}pipeThrough(e,t={}){if(!_r(this))throw Er("pipeThrough");H(e,1,"pipeThrough");const r=function(e,t){M(e,t);const r=null==e?void 0:e.readable;U(r,"readable","ReadableWritablePair"),G(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return U(n,"writable","ReadableWritablePair"),nt(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=hr(t,"Second parameter");if(yr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(lt(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return _(Xt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!_r(this))return p(Er("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!ct(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=hr(t,"Second parameter")}catch(e){return p(e)}return yr(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):lt(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!_r(this))throw Er("tee");return ae(ge((e=this)._readableStreamController)?function(e){let t,r,n,o,i,s=W(e),a=!1,c=!1,l=!1,p=!1,h=!1;const f=u((e=>{i=e}));function m(e){g(e._closedPromise,(t=>{e===s&&(De(n._readableStreamController,t),De(o._readableStreamController,t),p&&h||i(void 0))}))}function v(){We(s)&&(C(s),s=W(e),m(s)),Z(s,{_chunkSteps:t=>{y((()=>{c=!1,l=!1;const r=t;let s=t;if(!p&&!h)try{s=ue(t)}catch(t){return De(n._readableStreamController,t),De(o._readableStreamController,t),void i(Sr(e,t))}p||xe(n._readableStreamController,r),h||xe(o._readableStreamController,s),a=!1,c?S():l&&w()}))},_closeSteps:()=>{a=!1,p||ke(n._readableStreamController),h||ke(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&$e(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&$e(o._readableStreamController,0),p&&h||i(void 0)},_errorSteps:()=>{a=!1}})}function _(t,r){J(s)&&(C(s),s=Ue(e),m(s));const u=r?o:n,d=r?n:o;ze(s,t,{_chunkSteps:t=>{y((()=>{c=!1,l=!1;const n=r?h:p;if(r?p:h)n||Me(u._readableStreamController,t);else{let r;try{r=ue(t)}catch(t){return De(u._readableStreamController,t),De(d._readableStreamController,t),void i(Sr(e,t))}n||Me(u._readableStreamController,t),xe(d._readableStreamController,r)}a=!1,c?S():l&&w()}))},_closeSteps:e=>{a=!1;const t=r?h:p,n=r?p:h;t||ke(u._readableStreamController),n||ke(d._readableStreamController),void 0!==e&&(t||Me(u._readableStreamController,e),!n&&d._readableStreamController._pendingPullIntos.length>0&&$e(d._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{a=!1}})}function S(){if(a)return c=!0,d(void 0);a=!0;const e=Ne(n._readableStreamController);return null===e?v():_(e._view,!1),d(void 0)}function w(){if(a)return l=!0,d(void 0);a=!0;const e=Ne(o._readableStreamController);return null===e?v():_(e._view,!0),d(void 0)}function b(){}return n=gr(b,S,(function(n){if(p=!0,t=n,h){const n=ae([t,r]),o=Sr(e,n);i(o)}return f})),o=gr(b,w,(function(n){if(h=!0,r=n,p){const n=ae([t,r]),o=Sr(e,n);i(o)}return f})),m(s),[n,o]}(e):function(e,t){const r=W(e);let n,o,i,s,a,c=!1,l=!1,p=!1,h=!1;const f=u((e=>{a=e}));function m(){return c?(l=!0,d(void 0)):(c=!0,Z(r,{_chunkSteps:e=>{y((()=>{l=!1;const t=e,r=e;p||rr(i._readableStreamController,t),h||rr(s._readableStreamController,r),c=!1,l&&m()}))},_closeSteps:()=>{c=!1,p||tr(i._readableStreamController),h||tr(s._readableStreamController),p&&h||a(void 0)},_errorSteps:()=>{c=!1}}),d(void 0))}function v(){}return i=mr(v,m,(function(t){if(p=!0,n=t,h){const t=ae([n,o]),r=Sr(e,t);a(r)}return f})),s=mr(v,m,(function(t){if(h=!0,o=t,p){const t=ae([n,o]),r=Sr(e,t);a(r)}return f})),g(r._closedPromise,(e=>{nr(i._readableStreamController,e),nr(s._readableStreamController,e),p&&h||a(void 0)})),[i,s]}(e));var e}values(e){if(!_r(this))throw Er("values");return function(e,t){const r=W(e),n=new re(r,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e,t){M(e,"First parameter");const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e).preventCancel)}}function mr(e,t,r,n=1,o=(()=>1)){const i=Object.create(fr.prototype);return vr(i),sr(i,Object.create(Yt.prototype),e,t,r,n,o),i}function gr(e,t,r){const n=Object.create(fr.prototype);return vr(n),Fe(n,Object.create(me.prototype),e,t,r,0,void 0),n}function vr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function _r(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof fr}function yr(e){return void 0!==e._reader}function Sr(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return p(e._storedError);wr(e);const n=e._reader;return void 0!==n&&We(n)&&(n._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),n._readIntoRequests=new b),v(e._readableStreamController[D](t),r)}function wr(e){e._state="closed";const t=e._reader;void 0!==t&&(P(t),J(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new b))}function br(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(R(r,t),J(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new b):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new b))}function Er(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Tr(e,t){M(e,t);const r=null==e?void 0:e.highWaterMark;return U(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:B(r)}}Object.defineProperties(fr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(fr.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(fr.prototype,t.asyncIterator,{value:fr.prototype.values,writable:!0,configurable:!0});const Cr=e=>e.byteLength;try{Object.defineProperty(Cr,"name",{value:"size",configurable:!0})}catch(e){}class Ir{constructor(e){H(e,1,"ByteLengthQueuingStrategy"),e=Tr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Or(this))throw Ar("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Or(this))throw Ar("size");return Cr}}function Ar(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Or(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Ir}Object.defineProperties(Ir.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ir.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Rr=()=>1;try{Object.defineProperty(Rr,"name",{value:"size",configurable:!0})}catch(e){}class Pr{constructor(e){H(e,1,"CountQueuingStrategy"),e=Tr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!xr(this))throw kr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!xr(this))throw kr("size");return Rr}}function kr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function xr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Pr}function Dr(e,t,r){return F(e,r),r=>w(e,t,[r])}function Nr(e,t,r){return F(e,r),r=>S(e,t,[r])}function Lr(e,t,r){return F(e,r),(r,n)=>w(e,t,[r,n])}Object.defineProperties(Pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Pr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class $r{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Qe(t,"Second parameter"),o=Qe(r,"Third parameter"),i=function(e,t){M(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:Dr(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Nr(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:Lr(i,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=Xe(o,0),a=Ye(o),c=Xe(n,1),l=Ye(n);let h;!function(e,t,r,n,o,i){function s(){return t}e._writable=function(e,t,r,n,o=1,i=(()=>1)){const s=Object.create(it.prototype);return at(s),At(s,Object.create(Ct.prototype),e,t,r,n,o,i),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?v(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Gr(r,t)})):Gr(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return qr(r),v(n,(()=>{if("errored"===t._state)throw t._storedError;tr(t._readableStreamController)}),(r=>{throw Fr(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return Fr(e,t),d(void 0)}(e,t)}),r,n),e._readable=mr(s,(function(){return function(e){return Hr(e,!1),e._backpressureChangePromise}(e)}),(function(t){return jr(e,t),d(void 0)}),o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Hr(e,!0),e._transformStreamController=void 0}(this,u((e=>{h=e})),c,l,s,a),function(e,t){const r=Object.create(Ur.prototype);let n=e=>{try{return Vr(r,e),d(void 0)}catch(e){return p(e)}},o=()=>d(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(o=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,o)}(this,i),void 0!==i.start?h(i.start(this._transformStreamController)):h(void 0)}get readable(){if(!Mr(this))throw zr("readable");return this._readable}get writable(){if(!Mr(this))throw zr("writable");return this._writable}}function Mr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof $r}function Fr(e,t){nr(e._readable._readableStreamController,t),jr(e,t)}function jr(e,t){qr(e._transformStreamController),kt(e._writable._writableStreamController,t),e._backpressure&&Hr(e,!1)}function Hr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties($r.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty($r.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Ur{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Br(this))throw Wr("desiredSize");return or(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!Br(this))throw Wr("enqueue");Vr(this,e)}error(e){if(!Br(this))throw Wr("error");var t;t=e,Fr(this._controlledTransformStream,t)}terminate(){if(!Br(this))throw Wr("terminate");!function(e){const t=e._controlledTransformStream;tr(t._readable._readableStreamController);jr(t,new TypeError("TransformStream terminated"))}(this)}}function Br(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Ur}function qr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Vr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!ir(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{rr(n,t)}catch(e){throw jr(r,e),r._readable._storedError}const o=function(e){return!Zt(e)}(n);o!==r._backpressure&&Hr(r,!0)}function Gr(e,t){return v(e._transformAlgorithm(t),void 0,(t=>{throw Fr(e._controlledTransformStream,t),t}))}function Wr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function zr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Ur.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ur.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Ir,e.CountQueuingStrategy=Pr,e.ReadableByteStreamController=me,e.ReadableStream=fr,e.ReadableStreamBYOBReader=Ge,e.ReadableStreamBYOBRequest=fe,e.ReadableStreamDefaultController=Yt,e.ReadableStreamDefaultReader=Q,e.TransformStream=$r,e.TransformStreamDefaultController=Ur,e.WritableStream=it,e.WritableStreamDefaultController=Ct,e.WritableStreamDefaultWriter=_t,Object.defineProperty(e,"__esModule",{value:!0})},r(t)},2479:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},6805:(e,t,r)=>{"use strict";e.exports=r.p+"49797d6d995d4dec5bc5.wasm"},9166:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},852:e=>{"use strict";e.exports=require("async_hooks")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6206:e=>{"use strict";e.exports=require("console")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},8188:e=>{"use strict";e.exports=require("module")},1808:e=>{"use strict";e.exports=require("net")},7742:e=>{"use strict";e.exports=require("node:process")},2477:e=>{"use strict";e.exports=require("node:stream/web")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},2781:e=>{"use strict";e.exports=require("stream")},9512:e=>{"use strict";e.exports=require("timers")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},1267:e=>{"use strict";e.exports=require("worker_threads")},9796:e=>{"use strict";e.exports=require("zlib")},7135:(e,t,r)=>{if(!globalThis.ReadableStream)try{const e=r(7742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(2477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(2660))}try{const{Blob:e}=r(4300);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===r.size&&e.close()}})})}catch(e){}},7923:(e,t,r)=>{"use strict";function n(e,t){return t?t.aborted?Promise.resolve(void 0):new Promise((r=>{const n=o(e,(e=>{t.removeEventListener("abort",i),r(e)})),i=()=>{n.dispose(),t.removeEventListener("abort",i),r(void 0)};t.addEventListener("abort",i)})):new Promise((t=>o(e,t)))}r.r(t),r.d(t,{EventEmitter:()=>i,once:()=>o,toPromise:()=>n});const o=(e,t)=>{const r=e((e=>{t(e),r.dispose()}));return r};class i{constructor(){this.event=(e,t,r)=>{const n=this.add(t?e.bind(t):e);return r?.push(n),n}}get size(){return this.listeners?"function"==typeof this.listeners?1:this.listeners.length:0}fire(e){if(this.listeners)if("function"==typeof this.listeners)this.listeners(e);else for(const t of this.listeners)t(e)}dispose(){this.listeners=void 0}add(e){return this.listeners?"function"==typeof this.listeners?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.rm(e)}}rm(e){if(!this.listeners)return;if("function"==typeof this.listeners)return void(this.listeners===e&&(this.listeners=void 0));const t=this.listeners.indexOf(e);-1!==t&&(2===this.listeners.length?this.listeners=0===t?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}},9676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataViewIndexOutOfBoundsError:()=>U,DecodeError:()=>S,Decoder:()=>V,EXT_TIMESTAMP:()=>w,Encoder:()=>P,ExtData:()=>_,ExtensionCodec:()=>O,decode:()=>W,decodeArrayStream:()=>ee,decodeAsync:()=>Z,decodeMulti:()=>z,decodeMultiStream:()=>te,decodeStream:()=>re,decodeTimestampExtension:()=>I,decodeTimestampToTimeSpec:()=>C,encode:()=>x,encodeDateToTimeSpec:()=>E,encodeTimeSpecToTimestamp:()=>b,encodeTimestampExtension:()=>T});var n,o,i,s=4294967295;function a(e,t,r){var n=Math.floor(r/4294967296),o=r;e.setUint32(t,n),e.setUint32(t+4,o)}function c(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var l=("undefined"==typeof process||"never"!==(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function u(e){for(var t=e.length,r=0,n=0;n<t;){var o=e.charCodeAt(n++);if(0!=(4294967168&o))if(0==(4294965248&o))r+=2;else{if(o>=55296&&o<=56319&&n<t){var i=e.charCodeAt(n);56320==(64512&i)&&(++n,o=((1023&o)<<10)+(1023&i)+65536)}r+=0==(4294901760&o)?3:4}else r++}return r}var d=l?new TextEncoder:void 0,p=l?"undefined"!=typeof process&&"force"!==(null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.TEXT_ENCODING)?200:0:s,h=(null==d?void 0:d.encodeInto)?function(e,t,r){d.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(d.encode(e),r)};function f(e,t,r){for(var n=t,o=n+r,i=[],s="";n<o;){var a=e[n++];if(0==(128&a))i.push(a);else if(192==(224&a)){var c=63&e[n++];i.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[n++];var l=63&e[n++];i.push((31&a)<<12|c<<6|l)}else if(240==(248&a)){var u=(7&a)<<18|(c=63&e[n++])<<12|(l=63&e[n++])<<6|63&e[n++];u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u)}else i.push(a);i.length>=4096&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(s+=String.fromCharCode.apply(String,i)),s}var m,g=l?new TextDecoder:null,v=l?"undefined"!=typeof process&&"force"!==(null===(i=null===process||void 0===process?void 0:process.env)||void 0===i?void 0:i.TEXT_DECODER)?200:0:s,_=function(e,t){this.type=e,this.data=t},y=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),S=function(e){function t(r){var n=e.call(this,r)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(n,o),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return y(t,e),t}(Error),w=-1;function b(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=17179869183){if(0===n&&r<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,r),o}var i=r/4294967296,s=4294967295&r;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,n<<2|3&i),t.setUint32(4,s),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,n),a(t,4,r),o}function E(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),o=Math.floor(n/1e9);return{sec:r+o,nsec:n-1e9*o}}function T(e){return e instanceof Date?b(E(e)):null}function C(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:c(t,4),nsec:t.getUint32(0)};default:throw new S("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function I(e){var t=C(e);return new Date(1e3*t.sec+t.nsec/1e6)}var A={type:w,encode:T,decode:I},O=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(A)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var o=1+t;this.builtInEncoders[o]=r,this.builtInDecoders[o]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(n=this.builtInEncoders[r])&&null!=(o=n(e,t)))return new _(-1-r,o);for(r=0;r<this.encoders.length;r++){var n,o;if(null!=(n=this.encoders[r])&&null!=(o=n(e,t)))return new _(r,o)}return e instanceof _?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new _(t,e)},e.defaultCodec=new e,e}();function R(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var P=function(){function e(e,t,r,n,o,i,s,a){void 0===e&&(e=O.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=100),void 0===n&&(n=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=s,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>p){var t=u(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),h(e,this.bytes,this.pos),this.pos+=t}else t=u(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){for(var n=e.length,o=r,i=0;i<n;){var s=e.charCodeAt(i++);if(0!=(4294967168&s)){if(0==(4294965248&s))t[o++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&i<n){var a=e.charCodeAt(i);56320==(64512&a)&&(++i,s=((1023&s)<<10)+(1023&a)+65536)}0==(4294901760&s)?(t[o++]=s>>12&15|224,t[o++]=s>>6&63|128):(t[o++]=s>>18&7|240,t[o++]=s>>12&63|128,t[o++]=s>>6&63|128)}t[o++]=63&s|128}else t[o++]=s}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var r=R(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: ".concat(r));this.writeU8(221),this.writeU32(r)}for(var n=0,o=e;n<o.length;n++){var i=o[n];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,o=t;n<o.length;n++)void 0!==e[o[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: ".concat(n));this.writeU8(223),this.writeU32(n)}for(var o=0,i=r;o<i.length;o++){var s=i[o],a=e[s];this.ignoreUndefined&&void 0===a||(this.encodeString(s),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,r){var n=r/4294967296,o=r;e.setUint32(t,n),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),a(this.view,this.pos,e),this.pos+=8},e}(),k={};function x(e,t){return void 0===t&&(t=k),new P(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}function D(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var N=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,o=this.caches[r-1];n<o.length;n++){for(var i=o[n],s=i.bytes,a=0;a<r;a++)if(s[a]!==e[t+a])continue e;return i.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var o=f(e,t,r),i=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(i,o),o},e}(),L=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},$=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}},M=function(e){return this instanceof M?(this.v=e,this):new M(e)},F=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof M?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},j=new DataView(new ArrayBuffer(0)),H=new Uint8Array(j.buffer),U=function(){try{j.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),B=new U("Insufficient data"),q=new N,V=function(){function e(e,t,r,n,o,i,a,c){void 0===e&&(e=O.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=s),void 0===n&&(n=s),void 0===o&&(o=s),void 0===i&&(i=s),void 0===a&&(a=s),void 0===c&&(c=q),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=o,this.maxMapLength=i,this.maxExtLength=a,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=j,this.bytes=H,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=R(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=R(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=R(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return L(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,r,n,o,i,s,a,c;return i=this,s=void 0,c=function(){var i,s,a,c,l,u,d,p;return L(this,(function(h){switch(h.label){case 0:i=!1,h.label=1;case 1:h.trys.push([1,6,7,12]),t=$(e),h.label=2;case 2:return[4,t.next()];case 3:if((r=h.sent()).done)return[3,5];if(a=r.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{s=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof U))throw e}this.totalPos+=this.pos,h.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=h.sent(),n={error:c},[3,12];case 7:return h.trys.push([7,,10,11]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:h.sent(),h.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,s]}throw u=(l=this).headByte,d=l.pos,p=l.totalPos,new RangeError("Insufficient data in parsing ".concat(D(u)," at ").concat(p," (").concat(d," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(r,n)}o((c=c.apply(i,s||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return F(this,arguments,(function(){var r,n,o,i,s,a,c,l,u;return L(this,(function(d){switch(d.label){case 0:r=t,n=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=$(e),d.label=2;case 2:return[4,M(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(s=i.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(n=this.readArraySize(),r=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,M(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=d.sent())instanceof U))throw a;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),l={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(u=o.return)?[4,M(u.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(l)throw l.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!=(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new S("Unrecognized type byte: ".concat(D(e)));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(void 0,"string"!=(s=typeof t)&&"number"!==s)throw new S("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new S("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var s},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new S("Unrecognized array type byte: ".concat(D(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new S("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new S("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new S("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw B;var n,o=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>v?function(e,t,r){var n=e.subarray(t,t+r);return g.decode(n)}(this.bytes,o,e):f(this.bytes,o,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new S("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw B;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new S("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,r=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r},e.prototype.readI64=function(){var e=c(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),G={};function W(e,t){return void 0===t&&(t=G),new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function z(e,t){return void 0===t&&(t=G),new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var K=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},X=function(e){return this instanceof X?(this.v=e,this):new X(e)},Y=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof X?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}};function Q(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}function J(e){return null!=e[Symbol.asyncIterator]?e:function(e){return Y(this,arguments,(function(){var t,r,n,o;return K(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,X(t.read())];case 3:return r=i.sent(),n=r.done,o=r.value,n?[4,X(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return Q(o),[4,X(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}function Z(e,t){return void 0===t&&(t=G),r=this,n=void 0,i=function(){var r;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(n){return r=J(e),[2,new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{c(i.next(e))}catch(e){t(e)}}function a(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(s,a)}c((i=i.apply(r,n||[])).next())}));var r,n,o,i}function ee(e,t){void 0===t&&(t=G);var r=J(e);return new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function te(e,t){void 0===t&&(t=G);var r=J(e);return new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function re(e,t){return void 0===t&&(t=G),te(e,t)}},4193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(5006);const o=class extends n.Z{#e=0;#t="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#e=n),this.#t=String(t)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.Z&&/^(File)$/.test(e[Symbol.toStringTag])}}},749:(e,t,r)=>{"use strict";r.d(t,{t6:()=>a.Z,$B:()=>s.Z,xB:()=>u,SX:()=>l,e2:()=>d,RA:()=>p});const n=require("node:fs"),o=require("node:path");var i=r(3414),s=r(4193),a=r(5006);const{stat:c}=n.promises,l=(e,t)=>h((0,n.statSync)(e),e,t),u=(e,t)=>c(e).then((r=>h(r,e,t))),d=(e,t)=>c(e).then((r=>f(r,e,t))),p=(e,t)=>f((0,n.statSync)(e),e,t),h=(e,t,r="")=>new a.Z([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),f=(e,t,r="")=>new s.Z([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],(0,o.basename)(t),{type:r,lastModified:e.mtimeMs});class m{#r;#n;constructor(e){this.#r=e.path,this.#n=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new m({path:this.#r,lastModified:this.lastModified,size:t-e,start:this.#n+e})}async*stream(){const{mtimeMs:e}=await c(this.#r);if(e>this.lastModified)throw new i("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,n.createReadStream)(this.#r,{start:this.#n,end:this.#n+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},5006:(e,t,r)=>{"use strict";async function*n(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),o=r.buffer.slice(e,e+n);e+=o.byteLength,yield new Uint8Array(o)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}r.d(t,{Z:()=>i}),r(7135);const o=class e{#o=[];#i="";#s=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`),this.#s+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#o.push(t)}this.#a=`${void 0===r.endings?"transparent":r.endings}`;const o=void 0===r.type?"":String(r.type);this.#i=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#s}get type(){return this.#i}async text(){const e=new TextDecoder;let t="";for await(const r of n(this.#o,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of n(this.#o,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=n(this.#o,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),s=r<0?Math.max(o+r,0):Math.min(r,o);const a=Math.max(s-i,0),c=this.#o,l=[];let u=0;for(const e of c){if(u>=a)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,s-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(i,Math.min(t,s)),u+=r.byteLength):(r=e.slice(i,Math.min(t,s)),u+=r.size),s-=t,l.push(r),i=0}}const d=new e([],{type:String(n).toLowerCase()});return d.#s=a,d.#o=l,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const i=o},9951:(e,t,r)=>{"use strict";r.d(t,{Ct:()=>h,au:()=>f});var n=r(5006),o=r(4193),{toStringTag:i,iterator:s,hasInstance:a}=Symbol,c=Math.random,l="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[i])?[(r=void 0!==r?r+"":"File"==t[i]?t.name:"blob",e),t.name!==r||"blob"==t[i]?new o.Z([t],r,t):t]:[e,t+""]),d=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),p=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const h=class{#c=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[i](){return"FormData"}[s](){return this.entries()}static[a](e){return e&&"object"==typeof e&&"FormData"===e[i]&&!l.some((t=>"function"!=typeof e[t]))}append(...e){p("append",arguments,2),this.#c.push(u(...e))}delete(e){p("delete",arguments,1),e+="",this.#c=this.#c.filter((([t])=>t!==e))}get(e){p("get",arguments,1),e+="";for(var t=this.#c,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return p("getAll",arguments,1),t=[],e+="",this.#c.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return p("has",arguments,1),e+="",this.#c.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(p("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){p("set",arguments,2);var t=[],r=!0;e=u(...e),this.#c.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#c=t}*entries(){yield*this.#c}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function f(e,t=n.Z){var r=`${c()}${c()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],i=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(i+d(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(i+d(t)+`"; filename="${d(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${r}--`),new t(o,{type:"multipart/form-data; boundary="+r})}},4126:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AbortError:()=>j,Blob:()=>H.t6,FetchError:()=>p,File:()=>H.$B,FormData:()=>u.Ct,Headers:()=>C,Request:()=>F,Response:()=>R,blobFrom:()=>H.xB,blobFromSync:()=>H.SX,default:()=>B,fileFrom:()=>H.e2,fileFromSync:()=>H.RA,isRedirect:()=>A});const n=require("node:http"),o=require("node:https"),i=require("node:zlib"),s=require("node:stream"),a=require("node:buffer"),c=require("node:util");var l=r(5006),u=r(9951);class d extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class p extends d{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const h=Symbol.toStringTag,f=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[h],m=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[h]),g=(0,c.promisify)(s.pipeline),v=Symbol("Body internals");class _{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:f(e)?e=a.Buffer.from(e.toString()):m(e)||a.Buffer.isBuffer(e)||(c.types.isAnyArrayBuffer(e)?e=a.Buffer.from(e):ArrayBuffer.isView(e)?e=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof u.Ct?r=(e=(0,u.au)(e)).type.split("=")[1]:e=a.Buffer.from(String(e))));let n=e;a.Buffer.isBuffer(e)?n=s.Readable.from(e):m(e)&&(n=s.Readable.from(e.stream())),this[v]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",(e=>{const t=e instanceof d?e:new p(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[v].error=t}))}get body(){return this[v].stream}get bodyUsed(){return this[v].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await y(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new u.Ct,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await r.e(713).then(r.bind(r,1713));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[v].body&&this[v].body.type||"",t=await this.arrayBuffer();return new l.Z([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await y(this);return(new TextDecoder).decode(e)}buffer(){return y(this)}}async function y(e){if(e[v].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[v].disturbed=!0,e[v].error)throw e[v].error;const{body:t}=e;if(null===t)return a.Buffer.alloc(0);if(!(t instanceof s))return a.Buffer.alloc(0);const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new p(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=o.length,r.push(o)}}catch(t){throw t instanceof d?t:new p(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new p(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?a.Buffer.from(r.join("")):a.Buffer.concat(r,n)}catch(t){throw new p(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}_.prototype.buffer=(0,c.deprecate)(_.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(_.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,c.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const S=(e,t)=>{let r,n,{body:o}=e[v];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof s&&"function"!=typeof o.getBoundary&&(r=new s.PassThrough({highWaterMark:t}),n=new s.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[v].stream=r,o=n),o},w=(0,c.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),b=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":f(e)?"application/x-www-form-urlencoded;charset=UTF-8":m(e)?e.type||null:a.Buffer.isBuffer(e)||c.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof u.Ct?`multipart/form-data; boundary=${t[v].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${w(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",E="function"==typeof n.validateHeaderName?n.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},T="function"==typeof n.validateHeaderValue?n.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class C extends URLSearchParams{constructor(e){let t=[];if(e instanceof C){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||c.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||c.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(E(e),T(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(E(r),T(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(E(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}Object.defineProperties(C.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const I=new Set([301,302,303,307,308]),A=e=>I.has(e),O=Symbol("Response internals");class R extends _{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new C(t.headers);if(null!==e&&!n.has("Content-Type")){const t=b(e,this);t&&n.append("Content-Type",t)}this[O]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[O].type}get url(){return this[O].url||""}get status(){return this[O].status}get ok(){return this[O].status>=200&&this[O].status<300}get redirected(){return this[O].counter>0}get statusText(){return this[O].statusText}get headers(){return this[O].headers}get highWaterMark(){return this[O].highWaterMark}clone(){return new R(S(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!A(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new R(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new R(null,{status:0,statusText:""});return e[O].type="error",e}static json(e,t={}){const r=JSON.stringify(e);if(void 0===r)throw new TypeError("data is not JSON serializable");const n=new C(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new R(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(R.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const P=require("node:url"),k=require("node:net");function x(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const D=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function N(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,k.isIP)(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const L=Symbol("Request internals"),$=e=>"object"==typeof e&&"object"==typeof e[L],M=(0,c.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class F extends _{constructor(e,t={}){let r;if($(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!$(t)&&"data"in t&&M(),(null!=t.body||$(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:$(e)&&null!==e.body?S(e):null;super(o,{size:t.size||e.size||0});const i=new C(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=b(o,this);e&&i.set("Content-Type",e)}let s=$(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&("object"!=typeof(a=s)||"AbortSignal"!==a[h]&&"EventTarget"!==a[h]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[L]={method:n,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:r,signal:s,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[L].method}get url(){return(0,P.format)(this[L].parsedURL)}get headers(){return this[L].headers}get redirect(){return this[L].redirect}get signal(){return this[L].signal}get referrer(){return"no-referrer"===this[L].referrer?"":"client"===this[L].referrer?"about:client":this[L].referrer?this[L].referrer.toString():void 0}get referrerPolicy(){return this[L].referrerPolicy}set referrerPolicy(e){this[L].referrerPolicy=function(e){if(!D.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new F(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(F.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});class j extends d{constructor(e,t="aborted"){super(e,t)}}var H=r(749);const U=new Set(["data:","http:","https:"]);async function B(e,t){return new Promise(((r,c)=>{const l=new F(e,t),{parsedURL:u,options:d}=(e=>{const{parsedURL:t}=e[L],r=new C(e[L].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[v];return null===t?0:m(t)?t.size:a.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[L].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=x(o),s=x(o,!0);i.toString().length>4096&&(i=s),t&&(i=t(i)),r&&(s=r(s));const a=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return i;case"strict-origin":return N(i)&&!N(a)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return i.origin===a.origin?i:N(i)&&!N(a)?"no-referrer":s;case"same-origin":return i.origin===a.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===a.origin?i:s;case"no-referrer-when-downgrade":return N(i)&&!N(a)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[L].referrer="no-referrer",e[L].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t)),r.has("Connection")||o||r.set("Connection","close");const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}})(l);if(!U.has(u.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===u.protocol){const e=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",o=!1;const i=r[0]||"text/plain";let s=i;for(let e=1;e<r.length;e++)"base64"===r[e]?o=!0:r[e]&&(s+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(s+=";charset=US-ASCII",n="US-ASCII");const a=o?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,a);return l.type=i,l.typeFull=s,l.charset=n,l}(l.url),t=new R(e,{headers:{"Content-Type":e.typeFull}});return void r(t)}const h=("https:"===u.protocol?o:n).request,{signal:f}=l;let _=null;const y=()=>{const e=new j("The operation was aborted.");c(e),l.body&&l.body instanceof s.Readable&&l.body.destroy(e),_&&_.body&&_.body.emit("error",e)};if(f&&f.aborted)return void y();const w=()=>{y(),I()},b=h(u.toString(),d);f&&f.addEventListener("abort",w);const I=()=>{b.abort(),f&&f.removeEventListener("abort",w)};b.on("error",(e=>{c(new p(`request to ${l.url} failed, reason: ${e.message}`,"system",e)),I()})),function(e,t){const r=a.Buffer.from("0\r\n\r\n");let n,o=!1,i=!1;e.on("response",(e=>{const{headers:t}=e;o="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const s=()=>{if(o&&!i){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{_&&_.body&&_.body.destroy(e)})(e)}},c=e=>{i=0===a.Buffer.compare(e.slice(-5),r),!i&&n&&(i=0===a.Buffer.compare(n.slice(-3),r.slice(0,3))&&0===a.Buffer.compare(e.slice(-2),r.slice(3))),n=e};t.prependListener("close",s),t.on("data",c),e.on("close",(()=>{t.removeListener("close",s),t.removeListener("data",c)}))}))}(b),process.version<"v14"&&b.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(_&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",_.body.emit("error",e)}}))})),b.on("response",(e=>{b.setTimeout(0);const n=function(e=[]){return new C(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return E(e),T(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(A(e.statusCode)){const i=n.get("Location");let a=null;try{a=null===i?null:new URL(i,l.url)}catch{if("manual"!==l.redirect)return c(new p(`uri requested responds with an invalid redirect URL: ${i}`,"invalid-redirect")),void I()}switch(l.redirect){case"error":return c(new p(`uri requested responds with a redirect, redirect mode is set to error: ${l.url}`,"no-redirect")),void I();case"manual":break;case"follow":{if(null===a)break;if(l.counter>=l.follow)return c(new p(`maximum redirect reached at: ${l.url}`,"max-redirect")),void I();const i={headers:new C(l.headers),follow:l.follow,counter:l.counter+1,agent:l.agent,compress:l.compress,method:l.method,body:S(l),signal:l.signal,size:l.size,referrer:l.referrer,referrerPolicy:l.referrerPolicy};if(!((e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)})(l.url,a)||(o=l.url,new URL(a).protocol!==new URL(o).protocol))for(const e of["authorization","www-authenticate","cookie","cookie2"])i.headers.delete(e);if(303!==e.statusCode&&l.body&&t.body instanceof s.Readable)return c(new p("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void I();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==l.method)||(i.method="GET",i.body=void 0,i.headers.delete("content-length"));const u=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&D.has(e)&&(r=e);return r}(n);return u&&(i.referrerPolicy=u),r(B(new F(a,i))),void I()}default:return c(new TypeError(`Redirect option '${l.redirect}' is not a valid value of RequestRedirect`))}}var o;f&&e.once("end",(()=>{f.removeEventListener("abort",w)}));let a=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&c(e)}));process.version<"v12.10"&&e.on("aborted",w);const u={url:l.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:l.size,counter:l.counter,highWaterMark:l.highWaterMark},d=n.get("Content-Encoding");if(!l.compress||"HEAD"===l.method||null===d||204===e.statusCode||304===e.statusCode)return _=new R(a,u),void r(_);const h={flush:i.Z_SYNC_FLUSH,finishFlush:i.Z_SYNC_FLUSH};if("gzip"===d||"x-gzip"===d)return a=(0,s.pipeline)(a,i.createGunzip(h),(e=>{e&&c(e)})),_=new R(a,u),void r(_);if("deflate"===d||"x-deflate"===d){const t=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&c(e)}));return t.once("data",(e=>{a=8==(15&e[0])?(0,s.pipeline)(a,i.createInflate(),(e=>{e&&c(e)})):(0,s.pipeline)(a,i.createInflateRaw(),(e=>{e&&c(e)})),_=new R(a,u),r(_)})),void t.once("end",(()=>{_||(_=new R(a,u),r(_))}))}if("br"===d)return a=(0,s.pipeline)(a,i.createBrotliDecompress(),(e=>{e&&c(e)})),_=new R(a,u),void r(_);_=new R(a,u),r(_)})),(async(e,{body:t})=>{null===t?e.end():await g(t,e)})(b,l).catch(c)}))}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"remote-ssh","displayName":"Remote - SSH","description":"%description%","version":"0.107.1","publisher":"ms-vscode-remote","icon":"resources/remote-ssh.png","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-remote-release.git"},"bugs":{"url":"https://github.com/Microsoft/vscode-remote-release/issues"},"license":"SEE LICENSE IN LICENSE.txt","engines":{"vscode":"^1.84.0-insider"},"extensionKind":["ui"],"enabledApiProposals":["resolvers","tunnels","terminalDataWriteEvent","contribViewsRemote","telemetry","contribRemoteHelp"],"extensionPack":["ms-vscode-remote.remote-ssh-edit","ms-vscode.remote-explorer"],"categories":["Other"],"keywords":["remote development","remote","ssh"],"api":"none","activationEvents":["onCommand:remote-internal.getSshFoldersHistory","onCommand:remote-internal.deleteSshFolderFromHistory","onCommand:remote-internal.getActiveSshRemote","onCommand:remote-internal.getConfiguredHostnames","onCommand:remote-internal.openRemoteSshTarget","onResolveRemoteAuthority:ssh-remote"],"l10n":"./l10n","main":"./out/extension","aiKey":"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255","capabilities":{"untrustedWorkspaces":{"supported":true}},"contributes":{"remoteHelp":{"getStarted":"https://aka.ms/vscode-remote/ssh/getting-started","feedback":"https://aka.ms/vscode-remote/ssh/provide-feedback","documentation":"https://aka.ms/vscode-remote/ssh","issues":"https://aka.ms/vscode-remote/ssh/issues","remoteName":["ssh-remote"]},"configuration":{"title":"Remote - SSH","properties":{"remote.SSH.configFile":{"type":"string","description":"%setting.configFile.description%","default":"","scope":"application"},"remote.SSH.showLoginTerminal":{"type":"boolean","description":"%setting.showLoginTerminal.description%","scope":"application","default":false},"remote.SSH.defaultForwardedPorts":{"type":"array","items":{"type":"object","required":["remotePort"],"properties":{"name":{"type":"string"},"remotePort":{"type":"number"},"localPort":{"type":"number"}}},"description":"%setting.defaultForwardedPorts.description%","default":[]},"remote.SSH.defaultExtensions":{"type":"array","items":{"type":"string"},"description":"%setting.defaultExtensions.description%","scope":"application"},"remote.SSH.path":{"type":"string","description":"%setting.path.description%","default":"","scope":"application"},"remote.SSH.serverInstallPath":{"type":"object","description":"%setting.serverInstallPath.description%","scope":"application","additionalProperties":{"type":"string"}},"remote.SSH.lockfilesInTmp":{"type":"boolean","markdownDescription":"%setting.lockfilesInTmp.description%","scope":"application","default":false},"remote.SSH.useFlock":{"type":"boolean","markdownDescription":"%setting.useFlock.description%","scope":"application","default":true},"remote.SSH.enableDynamicForwarding":{"type":"boolean","description":"%setting.enableDynamicForwarding.description%","scope":"application","default":true},"remote.SSH.enableAgentForwarding":{"type":"boolean","markdownDescription":"%setting.enableAgentForwarding.description%","scope":"application","default":true},"remote.SSH.enableX11Forwarding":{"type":"boolean","markdownDescription":"%setting.enableX11Forwarding.description%","scope":"application","default":true},"remote.SSH.useExecServer":{"type":"boolean","markdownDescription":"%setting.useExecServer.description%","scope":"application","tags":["experimental"]},"remote.SSH.enableRemoteCommand":{"type":"boolean","markdownDescription":"%setting.enableRemoteCommand.description%","scope":"application","default":false},"remote.SSH.externalSSH_ASKPASS":{"type":"boolean","markdownDescription":"%setting.externalSSH_ASKPASS.description%","scope":"application","default":false},"remote.SSH.allowLocalServerDownload":{"type":"boolean","description":"%setting.allowLocalServerDownload.description%","markdownDeprecationMessage":"%setting.allowLocalServerDownload.deprecationMessage%","scope":"application","default":true},"remote.SSH.localServerDownload":{"type":"string","description":"%setting.localServerDownload.description%","enum":["auto","always","off"],"enumDescriptions":["%setting.localServerDownload.auto.description%","%setting.localServerDownload.always.description%","%setting.localServerDownload.off.description%"],"scope":"application","default":"auto"},"remote.SSH.windowsRemotes":{"type":"array","markdownDescription":"%setting.windowsRemotes.description%","deprecationMessage":"%setting.windowsRemotes.deprecationMessage%","default":[],"items":{"type":"string"},"scope":"application"},"remote.SSH.useLocalServer":{"type":"boolean","markdownDescription":"%setting.useLocalServer.description%","scope":"application","default":true},"remote.SSH.connectTimeout":{"type":"number","description":"%setting.connectTimeout.description%","default":15,"scope":"application","minimum":1},"remote.SSH.logLevel":{"type":"string","description":"%setting.logLevel.description%","default":"debug","scope":"application","enum":["debug","trace"]},"remote.SSH.maxReconnectionAttempts":{"type":["number","null"],"markdownDescription":"%setting.maxReconnectionAttempts.description%","default":null,"scope":"application","maximum":8,"minimum":0},"remote.SSH.suppressWindowsSshWarning":{"type":"boolean","description":"%setting.suppressWindowsSshWarning.description%","default":false,"scope":"application"},"remote.SSH.remotePlatform":{"type":"object","markdownDescription":"%setting.remotePlatform.description%","scope":"application","additionalProperties":{"type":"string","enum":["macOS","windows","linux"]}},"remote.SSH.remoteServerListenOnSocket":{"type":"boolean","default":false,"markdownDescription":"%setting.remoteServerListenOnSocket.description%"},"remote.SSH.serverPickPortsFromRange":{"type":"object","markdownDescription":"%setting.serverPickPortsFromRange.description%","scope":"application","additionalProperties":{"type":"string","pattern":"^\\\\d+-\\\\d+$"}}}},"commands":[{"command":"opensshremotes.openWebUI","title":"%commands.openWebUI.title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindow","title":"%commands.openEmptyWindow,title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindowOnCurrentHost","title":"%commands.openEmptyWindowOnCurrentHost.title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindowInCurrentWindow","title":"%commands.openEmptyWindowInCurrentWindow.title%","category":"Remote-SSH"},{"command":"opensshremotes.openConfigFile","title":"%commands.openConfigFile.title%","category":"Remote-SSH"},{"command":"opensshremotes.addNewSshHost","title":"%commands.addNewSshHost.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanDevBox","title":"%commands.cleanDevBox.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanRemoteServer","title":"%commands.cleanRemoteServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanCurrentRemoteServer","title":"%commands.cleanCurrentRemoteServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanLocalServer","title":"%commands.cleanLocalServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.getHelp","title":"%commands.getHelp.title%","category":"Remote-SSH"},{"command":"opensshremotes.getStarted","title":"%commands.getStarted.title%","category":"Remote-SSH"},{"command":"opensshremotes.reportIssue","title":"%commands.reportIssue.title%","category":"Remote-SSH"},{"command":"opensshremotes.settings","title":"%commands.settings.title%","category":"Remote-SSH"},{"command":"opensshremotes.provideFeedback","title":"%commands.provideFeedback.title%","category":"Remote-SSH"},{"command":"opensshremotes.showLog","title":"%commands.showLog.title%","category":"Remote-SSH"}],"resourceLabelFormatters":[{"scheme":"vscode-remote","authority":"ssh-remote+*","formatting":{"label":"${path}","separator":"/","tildify":true,"workspaceSuffix":"SSH"}}],"menus":{"statusBar/remoteIndicator":[{"command":"opensshremotes.openEmptyWindow","group":"remote_20_ssh-remote_1general@1"},{"command":"opensshremotes.openEmptyWindowInCurrentWindow","group":"remote_20_ssh-remote_1general@2"}],"commandPalette":[{"command":"opensshremotes.getStarted","when":"!remoteName && !virtualWorkspace || remoteName =~ /^ssh-remote$/ && remoteConnectionState == disconnected"},{"command":"opensshremotes.openEmptyWindowOnCurrentHost","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected"},{"command":"opensshremotes.provideFeedback","when":"remoteName =~ /^ssh-remote$/"},{"command":"opensshremotes.cleanCurrentRemoteServer","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected"},{"command":"opensshremotes.cleanLocalServer","when":"config.remote.SSH.useLocalServer"},{"command":"opensshremotes.openWebUI","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected && config.remote.SSH.enableWebAccess"}]}},"scripts":{"lint":"eslint \\"src/**/*.ts\\"","postinstall":"npm run downloadapi","downloadapi":"vscode-dts main","postdownloadapi":"vscode-dts dev","vscode:prepublish":"webpack --mode production","compile":"webpack --mode development","watch":"webpack --mode development --watch","package":"vsce package --yarn","pretest":"tsc -p . --outDir out-test","test":"node ./out-test/test/runTests.js"},"devDependencies":{"@types/glob":"^8.1.0","@types/lockfile":"^1.0.1","@types/minimist":"^1.2.1","@types/mocha":"^8.0.4","@types/node":"^16.18.11","@types/shell-quote":"^1.7.0","@types/sinon":"^9.0.8","@types/webpack":"^5.28.0","@typescript-eslint/eslint-plugin":"^6.4.0","@typescript-eslint/parser":"^6.4.0","@vscode/test-electron":"^2.3.4","@vscode/vsce":"^2.6.4","copy-webpack-plugin":"^9.0.1","eslint":"^8.47.0","mocha":"^9.2.0","sinon":"^9.2.1","ts-loader":"^9.2.3","typescript":"^5.1.6","vscode-dts":"^0.3.3","webpack":"^5.76.0","webpack-cli":"^4.7.2"},"dependencies":{"@enonic/fnv-plus":"^1.3.0","@microsoft/dev-tunnels-contracts":"^1.0.7411","@vscode-internal/remote-web-rpc":"^2.1.5","@vscode-internal/vsda":"0.0.1","@vscode/extension-telemetry":"^0.6.2","glob":"^7.1.6","https-proxy-agent":"^7.0.2","lockfile":"^1.0.4","minimist":"^1.2.6","posix-getopt":"^1.2.0","shell-quote":"^1.7.3","socks":"^2.5.0","ssh-config":"^4.1.1"}}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".js",r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",(()=>{r.b=require("url").pathToFileURL(__filename);var e={898:1};r.f.require=(t,n)=>{e[t]||(t=>{var n=t.modules,o=t.ids,i=t.runtime;for(var s in n)r.o(n,s)&&(r.m[s]=n[s]);i&&i(r);for(var a=0;a<o.length;a++)e[o[a]]=1})(require("./"+r.u(t)))}})();var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=e.Resolver=void 0;const t=r(9496),o=r(9377),i=r(2017),s=r(7150),a=r(3170),c=r(5760),l=r(9705),u=r(9763),d=r(1790),p=r(415),h=r(7174),f=r(8691),m=r(7475),g=r(662),v=r(2386),_=r(4514),y=r(4156),S=r(3958),w=r(8904);class b{constructor(e,r,n,o,i){this.folderHistoryManager=e,this.workspaceFolderDescriptors=r,this.logger=n,this.telemetryReporter=o,this.extensionContext=i,this.candidatePortSource=t.CandidatePortSource.Output,this.disposables=i.subscriptions,this.serverDataPath=i.globalStoragePath}logAllSettings(){this.logger.debug(`"remote.SSH.useLocalServer": ${(0,a.useLocalServer)()}`),this.logger.debug(`"remote.SSH.useExecServer": ${(0,a.useExecServer)()}`),(0,a.useLocalServer)()||(this.logger.debug(`"remote.SSH.showLoginTerminal": ${(0,a.showLoginTerminal)()}`),this.logger.debug(`"remote.SSH.remotePlatform": ${JSON.stringify((0,a.remotePlatform)())}`)),this.logger.debug(`"remote.SSH.path": ${(0,a.sshPath)()}`),this.logger.debug(`"remote.SSH.configFile": ${(0,a.sshConfigurationFile)()}`),this.logger.debug(`"remote.SSH.useFlock": ${(0,a.useFlock)()}`),this.logger.debug(`"remote.SSH.lockfilesInTmp": ${(0,a.lockfilesInTmp)()}`),this.logger.debug(`"remote.SSH.localServerDownload": ${(0,a.localDownload)()}`),this.logger.debug(`"remote.SSH.remoteServerListenOnSocket": ${(0,a.remoteServerListenOnSocket)()}`),this.logger.debug(`"remote.SSH.showLoginTerminal": ${(0,a.showLoginTerminal)()}`),this.logger.debug(`"remote.SSH.defaultExtensions": ${JSON.stringify((0,a.getSshDefaultExtensions)())}`),this.logger.debug(`"remote.SSH.loglevel": ${(0,a.logLevel)()}`),(0,a.maxReconnectionAttempts)()<Number.MAX_SAFE_INTEGER&&this.logger.debug(`"remote.SSH.maxReconnectionAttempts": ${JSON.stringify((0,a.maxReconnectionAttempts)())}`),this.logger.debug(`"remote.SSH.enableDynamicForwarding": ${(0,a.enableDynamicForwarding)()}`),this.logger.debug(`"remote.SSH.enableRemoteCommand": ${(0,a.enableRemoteCommand)()}`),this.logger.debug(`"remote.SSH.serverPickPortsFromRange": ${JSON.stringify((0,a.remotePortRanges)())}`),this.logger.debug(`"remote.SSH.serverInstallPath": ${JSON.stringify((0,a.serverInstallPath)())}`)}async resolveExecServer(e,t){const[r,n]=e.split("+");if(s.ResolverType!==r)throw new Error(`SSH Resolver called for invalid protocol "${r}"`);this.logger.info(`Opening exec server for ${e}`);const o=await v.HostInfo.parseWithConfig(n),i=new y.Telemetry(await this.telemetryReporter,t.resolveAttempt,E),a=new S.Timer,c={host:o,useExecServer:!0,deps:{logger:this.logger,progress:{report:()=>{}},serverDataPath:this.serverDataPath,timer:a,telemetry:i},isReconnection:t.resolveAttempt>1};try{return await(0,p.resolveExecServer)(c,e,this.extensionContext)}catch(t){throw this.logger.error(`Error opening exec server for ${e}: ${t}`),t}}async resolve(e,r){const n=new S.Timer;n.mark(0),t.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0);const o=r.resolveAttempt>1;o&&this.logger.debug("------\n\n\n\n"),this.logger.debug(`SSH Resolver called for "${e}", attempt ${r.resolveAttempt}${o?", (Reconnection)":""}`),o||this.logAllSettings();const[i,c]=e.split("+");if(s.ResolverType!==i)throw new Error(`SSH Resolver called for invalid protocol "${i}"`);const l=await v.HostInfo.parseWithConfig(c);this.logger.debug(`SSH Resolver called for host: ${l}`),this.logger.info(`Setting up SSH remote "${l.hostName}"`);const u=new y.Telemetry(await this.telemetryReporter,r.resolveAttempt,E);try{return(0,f.assertValidHost)(l),await t.window.withProgress({location:t.ProgressLocation.Notification,title:t.l10n.t("Setting up SSH Host {0}",l.hostName),cancellable:!1},(async i=>{const s=this.lastResolverResult?.serverInstallationResult,c={host:l,useExecServer:void 0!==s?!!s.execServer:(0,a.useExecServer)(),deps:{logger:this.logger,progress:i,serverDataPath:this.serverDataPath,timer:n,telemetry:u},isReconnection:1!==r.resolveAttempt},h=await(0,p.resolve)(c,e,this.extensionContext,this.disposables),f=h.serverInstallationResult;return o||(0,d.guessRemoteCloud)(e,f.installScriptResult.serverConfiguration.platform,l).then((e=>{u.reportExtraInfo(e)})).finally((()=>{(0,a.defaultForwardedPorts)().forEach((e=>{t.workspace.openTunnel({remoteAddress:{host:"localhost",port:e.remotePort},localAddressPort:e.localPort,label:e.name})}))})),n.mark(4),u.success(f,n),this.folderHistoryManager.addFolders(this.workspaceFolderDescriptors),this.lastResolverResult=h,f.installScriptResult.storePlatform&&(0,p.storePlatform)(f.installScriptResult.serverConfiguration.platform,l,this.extensionContext,E),h.resolvedAuthority}))}catch(e){throw n.mark(4),E.error("Resolver error: "+(e.stack||e.message)),await this.handleResolverFailure(e,l,r,u,n)}finally{this.logger.info("------\n\n\n\n")}}async handleResolverFailure(e,r,n,o,i){if(e instanceof h.SshNotFoundError)return(0,h.handleSshNotFoundError)(),o.failure(u.SshResolverFailureReason.SshInstall,i,!1),t.RemoteAuthorityResolverError.NotAvailable(e.message,!0);if(1===n.resolveAttempt){let n;E.showLog(),n=e.message?t.l10n.t('Could not establish connection to "{0}": {1}',r.hostName,e.message):t.l10n.t('Could not establish connection to "{0}"',r.hostName),e.handled=!0,(0,l.showConnectionError)(n,E);const o=e instanceof u.SshResolverError?e.failureReason:u.SshResolverFailureReason.Unknown;(e=u.SshResolverError.Create(o,e.message)).handled=!0}else e instanceof u.SshResolverError&&(e.handled=!1);const s=(0,a.maxReconnectionAttempts)();if(n.resolveAttempt>1&&n.resolveAttempt-1>=s){E.debug(`maxReconnectionAttempts: ${s}. Reconnection attempt count reached`);const t=e instanceof u.SshResolverError?e.failureReason:u.SshResolverFailureReason.Unknown;e=u.SshResolverError.Create(t,e.message)}const c=!!await(0,f.getConfigurationForHost)(r);return e instanceof u.SshResolverError?(o.failure(e.failureReason,i,e.wasExecServer,e.installErrorDetails,e.retries,e.usedAuthMethods,c),e.toRemoteAuthorityResolverError()):(o.failure(u.SshResolverFailureReason.Unknown,i,void 0,void 0,void 0,void 0,c),e)}}let E;e.Resolver=b,e.activate=function(e){E=new _.Logger("Remote - SSH"),e.subscriptions.push(t.Disposable.from(E));const r=new c.FolderHistoryManager(e),n=function(){if(t.workspace.workspaceFile){const e=(0,g.nonFalsy)([c.FolderDescriptor.fromUri(t.workspace.workspaceFile)]);return t.commands.executeCommand("remote-internal.setActiveFolders",e),e}const e=t.workspace.workspaceFolders;if(e){const r=(0,g.nonFalsy)(e.map((e=>c.FolderDescriptor.fromUri(e.uri))));return t.commands.executeCommand("remote-internal.setActiveFolders",r),r}return[]}(),a=new b(r,n,E,(0,y.createTelemetryReporter)(e),e);t.workspace.registerRemoteAuthorityResolver(s.ResolverType,a);const l=new o.RemoteCleanService(e.globalStoragePath,E),u=new i.CommandService(E,r,l,a,e.globalStoragePath);e.subscriptions.push(u),async function(e){const t=(await(0,w.getProductInfo)()).version,{name:r,version:n}=(0,m.getPackageJson)();e.info(`VS Code version: ${t}`),e.info(`Remote-SSH version: ${r}@${n}`),e.info(`${process.platform} ${process.arch}`)}(E)},e.deactivate=function(){(0,p.shutdown)()}})();var o=exports;for(var i in n)o[i]=n[i];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map