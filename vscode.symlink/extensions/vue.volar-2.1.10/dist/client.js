"use strict";var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ji=T(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.stringArray=xt.array=xt.func=xt.error=xt.number=xt.string=xt.boolean=void 0;function OD(t){return t===!0||t===!1}xt.boolean=OD;function ph(t){return typeof t=="string"||t instanceof String}xt.string=ph;function ND(t){return typeof t=="number"||t instanceof Number}xt.number=ND;function FD(t){return t instanceof Error}xt.error=FD;function MD(t){return typeof t=="function"}xt.func=MD;function gh(t){return Array.isArray(t)}xt.array=gh;function AD(t){return gh(t)&&t.every(e=>ph(e))}xt.stringArray=AD});var Ou=T(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.Message=Z.NotificationType9=Z.NotificationType8=Z.NotificationType7=Z.NotificationType6=Z.NotificationType5=Z.NotificationType4=Z.NotificationType3=Z.NotificationType2=Z.NotificationType1=Z.NotificationType0=Z.NotificationType=Z.RequestType9=Z.RequestType8=Z.RequestType7=Z.RequestType6=Z.RequestType5=Z.RequestType4=Z.RequestType3=Z.RequestType2=Z.RequestType1=Z.RequestType=Z.RequestType0=Z.AbstractMessageSignature=Z.ParameterStructures=Z.ResponseError=Z.ErrorCodes=void 0;var gi=ji(),uu;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(uu||(Z.ErrorCodes=uu={}));var lu=class t extends Error{constructor(e,n,r){super(n),this.code=gi.number(e)?e:uu.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Z.ResponseError=lu;var Yt=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Z.ParameterStructures=Yt;Yt.auto=new Yt("auto");Yt.byPosition=new Yt("byPosition");Yt.byName=new Yt("byName");var We=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Yt.auto}};Z.AbstractMessageSignature=We;var du=class extends We{constructor(e){super(e,0)}};Z.RequestType0=du;var fu=class extends We{constructor(e,n=Yt.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Z.RequestType=fu;var pu=class extends We{constructor(e,n=Yt.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Z.RequestType1=pu;var gu=class extends We{constructor(e){super(e,2)}};Z.RequestType2=gu;var hu=class extends We{constructor(e){super(e,3)}};Z.RequestType3=hu;var mu=class extends We{constructor(e){super(e,4)}};Z.RequestType4=mu;var vu=class extends We{constructor(e){super(e,5)}};Z.RequestType5=vu;var yu=class extends We{constructor(e){super(e,6)}};Z.RequestType6=yu;var wu=class extends We{constructor(e){super(e,7)}};Z.RequestType7=wu;var bu=class extends We{constructor(e){super(e,8)}};Z.RequestType8=bu;var Cu=class extends We{constructor(e){super(e,9)}};Z.RequestType9=Cu;var _u=class extends We{constructor(e,n=Yt.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Z.NotificationType=_u;var Su=class extends We{constructor(e){super(e,0)}};Z.NotificationType0=Su;var Du=class extends We{constructor(e,n=Yt.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Z.NotificationType1=Du;var Ru=class extends We{constructor(e){super(e,2)}};Z.NotificationType2=Ru;var Tu=class extends We{constructor(e){super(e,3)}};Z.NotificationType3=Tu;var Pu=class extends We{constructor(e){super(e,4)}};Z.NotificationType4=Pu;var Eu=class extends We{constructor(e){super(e,5)}};Z.NotificationType5=Eu;var qu=class extends We{constructor(e){super(e,6)}};Z.NotificationType6=qu;var ku=class extends We{constructor(e){super(e,7)}};Z.NotificationType7=ku;var xu=class extends We{constructor(e){super(e,8)}};Z.NotificationType8=xu;var Iu=class extends We{constructor(e){super(e,9)}};Z.NotificationType9=Iu;var hh;(function(t){function e(i){let s=i;return s&&gi.string(s.method)&&(gi.string(s.id)||gi.number(s.id))}t.isRequest=e;function n(i){let s=i;return s&&gi.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(gi.string(s.id)||gi.number(s.id)||s.id===null)}t.isResponse=r})(hh||(Z.Message=hh={}))});var Fu=T(Ur=>{"use strict";var mh;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.LRUCache=Ur.LinkedMap=Ur.Touch=void 0;var It;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(It||(Ur.Touch=It={}));var No=class{constructor(){this[mh]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=It.None){let r=this._map.get(e);if(r)return n!==It.None&&this.touch(r,n),r.value}set(e,n,r=It.None){let i=this._map.get(e);if(i)i.value=n,r!==It.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case It.None:this.addItemLast(i);break;case It.First:this.addItemFirst(i);break;case It.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(mh=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==It.First&&n!==It.Last)){if(n===It.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===It.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Ur.LinkedMap=No;var Nu=class extends No{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=It.AsNew){return super.get(e,n)}peek(e){return super.get(e,It.None)}set(e,n){return super.set(e,n,It.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ur.LRUCache=Nu});var yh=T(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Disposable=void 0;var vh;(function(t){function e(n){return{dispose:n}}t.create=e})(vh||(Fo.Disposable=vh={}))});var Vr=T(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var Mu;function Au(){if(Mu===void 0)throw new Error("No runtime abstraction layer installed");return Mu}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Mu=n}t.install=e})(Au||(Au={}));Lu.default=Au});var Hi=T($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.Emitter=$i.Event=void 0;var LD=Vr(),wh;(function(t){let e={dispose(){}};t.None=function(){return e}})(wh||($i.Event=wh={}));var ju=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){(0,LD.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Mo=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new ju),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};$i.Emitter=Mo;Mo._noop=function(){}});var jo=T(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.CancellationTokenSource=Ui.CancellationToken=void 0;var jD=Vr(),$D=ji(),$u=Hi(),Ao;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$u.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$u.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||$D.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Ao||(Ui.CancellationToken=Ao={}));var HD=Object.freeze(function(t,e){let n=(0,jD.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Lo=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?HD:(this._emitter||(this._emitter=new $u.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Hu=class{get token(){return this._token||(this._token=new Lo),this._token}cancel(){this._token?this._token.cancel():this._token=Ao.Cancelled}dispose(){this._token?this._token instanceof Lo&&this._token.dispose():this._token=Ao.None}};Ui.CancellationTokenSource=Hu});var bh=T(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.SharedArrayReceiverStrategy=Vi.SharedArraySenderStrategy=void 0;var UD=jo(),Is;(function(t){t.Continue=0,t.Cancelled=1})(Is||(Is={}));var Uu=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Is.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Is.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Vi.SharedArraySenderStrategy=Uu;var Vu=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Is.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Wu=class{constructor(e){this.token=new Vu(e)}cancel(){}dispose(){}},Ku=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new UD.CancellationTokenSource:new Wu(n)}};Vi.SharedArrayReceiverStrategy=Ku});var Bu=T($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.Semaphore=void 0;var VD=Vr(),zu=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,VD.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};$o.Semaphore=zu});var _h=T(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.ReadableStreamMessageReader=Wr.AbstractMessageReader=Wr.MessageReader=void 0;var Xu=Vr(),Wi=ji(),Gu=Hi(),WD=Bu(),Ch;(function(t){function e(n){let r=n;return r&&Wi.func(r.listen)&&Wi.func(r.dispose)&&Wi.func(r.onError)&&Wi.func(r.onClose)&&Wi.func(r.onPartialMessage)}t.is=e})(Ch||(Wr.MessageReader=Ch={}));var Ho=class{constructor(){this.errorEmitter=new Gu.Emitter,this.closeEmitter=new Gu.Emitter,this.partialMessageEmitter=new Gu.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Wi.string(e.message)?e.message:"unknown"}`)}};Wr.AbstractMessageReader=Ho;var Ju;(function(t){function e(n){let r,i,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Xu.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(Ju||(Ju={}));var Yu=class extends Ho{constructor(e,n){super(),this.readable=e,this.options=Ju.fromOptions(n),this.buffer=(0,Xu.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new WD.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Xu.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Wr.ReadableStreamMessageReader=Yu});var Ph=T(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.WriteableStreamMessageWriter=Kr.AbstractMessageWriter=Kr.MessageWriter=void 0;var Sh=Vr(),Os=ji(),KD=Bu(),Dh=Hi(),zD="Content-Length: ",Rh=`\r
`,Th;(function(t){function e(n){let r=n;return r&&Os.func(r.dispose)&&Os.func(r.onClose)&&Os.func(r.onError)&&Os.func(r.write)}t.is=e})(Th||(Kr.MessageWriter=Th={}));var Uo=class{constructor(){this.errorEmitter=new Dh.Emitter,this.closeEmitter=new Dh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Os.string(e.message)?e.message:"unknown"}`)}};Kr.AbstractMessageWriter=Uo;var Qu;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Sh.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Sh.default)().applicationJson.encoder}}t.fromOptions=e})(Qu||(Qu={}));var Zu=class extends Uo{constructor(e,n){super(),this.writable=e,this.options=Qu.fromOptions(n),this.errorCount=0,this.writeSemaphore=new KD.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(zD,r.byteLength.toString(),Rh),i.push(Rh),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Kr.WriteableStreamMessageWriter=Zu});var Eh=T(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.AbstractMessageBuffer=void 0;var BD=13,GD=10,XD=`\r
`,el=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case BD:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case GD:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}s+=u.byteLength,r++}if(n!==4)return;let o=this._read(s+i),a=new Map,c=this.toString(o,"ascii").split(XD);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],d=f.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let g=f.substr(0,d),w=f.substr(d+1).trim();a.set(e?g.toLowerCase():g,w)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Vo.AbstractMessageBuffer=el});var Oh=T(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.createMessageConnection=ce.ConnectionOptions=ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.RequestCancellationReceiverStrategy=ce.IdCancellationReceiverStrategy=ce.ConnectionStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=ce.NullLogger=ce.ProgressType=ce.ProgressToken=void 0;var qh=Vr(),Qe=ji(),re=Ou(),kh=Fu(),Ns=Hi(),tl=jo(),As;(function(t){t.type=new re.NotificationType("$/cancelRequest")})(As||(As={}));var nl;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(nl||(ce.ProgressToken=nl={}));var Fs;(function(t){t.type=new re.NotificationType("$/progress")})(Fs||(Fs={}));var rl=class{constructor(){}};ce.ProgressType=rl;var il;(function(t){function e(n){return Qe.func(n)}t.is=e})(il||(il={}));ce.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ee;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Ee||(ce.Trace=Ee={}));var xh;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(xh||(ce.TraceValues=xh={}));(function(t){function e(r){if(!Qe.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Ee||(ce.Trace=Ee={}));var fn;(function(t){t.Text="text",t.JSON="json"})(fn||(ce.TraceFormat=fn={}));(function(t){function e(n){return Qe.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(fn||(ce.TraceFormat=fn={}));var sl;(function(t){t.type=new re.NotificationType("$/setTrace")})(sl||(ce.SetTraceNotification=sl={}));var Wo;(function(t){t.type=new re.NotificationType("$/logTrace")})(Wo||(ce.LogTraceNotification=Wo={}));var Ms;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Ms||(ce.ConnectionErrors=Ms={}));var Ki=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};ce.ConnectionError=Ki;var ol;(function(t){function e(n){let r=n;return r&&Qe.func(r.cancelUndispatched)}t.is=e})(ol||(ce.ConnectionStrategy=ol={}));var Ko;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&Qe.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Qe.func(r.dispose))}t.is=e})(Ko||(ce.IdCancellationReceiverStrategy=Ko={}));var al;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&Qe.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Qe.func(r.dispose))}t.is=e})(al||(ce.RequestCancellationReceiverStrategy=al={}));var zo;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new tl.CancellationTokenSource}});function e(n){return Ko.is(n)||al.is(n)}t.is=e})(zo||(ce.CancellationReceiverStrategy=zo={}));var Bo;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(As.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Qe.func(r.sendCancellation)&&Qe.func(r.cleanup)}t.is=e})(Bo||(ce.CancellationSenderStrategy=Bo={}));var Go;(function(t){t.Message=Object.freeze({receiver:zo.Message,sender:Bo.Message});function e(n){let r=n;return r&&zo.is(r.receiver)&&Bo.is(r.sender)}t.is=e})(Go||(ce.CancellationStrategy=Go={}));var Xo;(function(t){function e(n){let r=n;return r&&Qe.func(r.handleMessage)}t.is=e})(Xo||(ce.MessageStrategy=Xo={}));var Ih;(function(t){function e(n){let r=n;return r&&(Go.is(r.cancellationStrategy)||ol.is(r.connectionStrategy)||Xo.is(r.messageStrategy))}t.is=e})(Ih||(ce.ConnectionOptions=Ih={}));var Vn;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Vn||(Vn={}));function JD(t,e,n,r){let i=n!==void 0?n:ce.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,d,g=new Map,w=new Map,v,q=new kh.LinkedMap,k=new Map,O=new Set,A=new Map,F=Ee.Off,j=fn.Text,H,te=Vn.New,G=new Ns.Emitter,ne=new Ns.Emitter,pe=new Ns.Emitter,ct=new Ns.Emitter,nt=new Ns.Emitter,dt=r&&r.cancellationStrategy?r.cancellationStrategy:Go.Message;function Cn(C){if(C===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+C.toString()}function jt(C){return C===null?"res-unknown-"+(++a).toString():"res-"+C.toString()}function _t(){return"not-"+(++o).toString()}function St(C,N){re.Message.isRequest(N)?C.set(Cn(N.id),N):re.Message.isResponse(N)?C.set(jt(N.id),N):C.set(_t(),N)}function An(C){}function Qn(){return te===Vn.Listening}function Ue(){return te===Vn.Closed}function Gt(){return te===Vn.Disposed}function $t(){(te===Vn.New||te===Vn.Listening)&&(te=Vn.Closed,ne.fire(void 0))}function Dt(C){G.fire([C,void 0,void 0])}function Ar(C){G.fire(C)}t.onClose($t),t.onError(Dt),e.onClose($t),e.onError(Ar);function Zn(){v||q.size===0||(v=(0,qh.default)().timer.setImmediate(()=>{v=void 0,mr()}))}function er(C){re.Message.isRequest(C)?tr(C):re.Message.isNotification(C)?jn(C):re.Message.isResponse(C)?Ln(C):nr(C)}function mr(){if(q.size===0)return;let C=q.shift();try{let N=r?.messageStrategy;Xo.is(N)?N.handleMessage(C,er):er(C)}finally{Zn()}}let Lr=C=>{try{if(re.Message.isNotification(C)&&C.method===As.type.method){let N=C.params.id,V=Cn(N),z=q.get(V);if(re.Message.isRequest(z)){let _e=r?.connectionStrategy,ke=_e&&_e.cancelUndispatched?_e.cancelUndispatched(z,An):void 0;if(ke&&(ke.error!==void 0||ke.result!==void 0)){q.delete(V),A.delete(N),ke.id=z.id,_n(ke,C.method,Date.now()),e.write(ke).catch(()=>i.error("Sending response for canceled message failed."));return}}let De=A.get(N);if(De!==void 0){De.cancel(),Sn(C);return}else O.add(N)}St(q,C)}finally{Zn()}};function tr(C){if(Gt())return;function N(de,Te,me){let Ae={jsonrpc:c,id:C.id};de instanceof re.ResponseError?Ae.error=de.toJson():Ae.result=de===void 0?null:de,_n(Ae,Te,me),e.write(Ae).catch(()=>i.error("Sending response failed."))}function V(de,Te,me){let Ae={jsonrpc:c,id:C.id,error:de.toJson()};_n(Ae,Te,me),e.write(Ae).catch(()=>i.error("Sending response failed."))}function z(de,Te,me){de===void 0&&(de=null);let Ae={jsonrpc:c,id:C.id,result:de};_n(Ae,Te,me),e.write(Ae).catch(()=>i.error("Sending response failed."))}jr(C);let De=f.get(C.method),_e,ke;De&&(_e=De.type,ke=De.handler);let Me=Date.now();if(ke||u){let de=C.id??String(Date.now()),Te=Ko.is(dt.receiver)?dt.receiver.createCancellationTokenSource(de):dt.receiver.createCancellationTokenSource(C);C.id!==null&&O.has(C.id)&&Te.cancel(),C.id!==null&&A.set(de,Te);try{let me;if(ke)if(C.params===void 0){if(_e!==void 0&&_e.numberOfParams!==0){V(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${C.method} defines ${_e.numberOfParams} params but received none.`),C.method,Me);return}me=ke(Te.token)}else if(Array.isArray(C.params)){if(_e!==void 0&&_e.parameterStructures===re.ParameterStructures.byName){V(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${C.method} defines parameters by name but received parameters by position`),C.method,Me);return}me=ke(...C.params,Te.token)}else{if(_e!==void 0&&_e.parameterStructures===re.ParameterStructures.byPosition){V(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${C.method} defines parameters by position but received parameters by name`),C.method,Me);return}me=ke(C.params,Te.token)}else u&&(me=u(C.method,C.params,Te.token));let Ae=me;me?Ae.then?Ae.then(rt=>{A.delete(de),N(rt,C.method,Me)},rt=>{A.delete(de),rt instanceof re.ResponseError?V(rt,C.method,Me):rt&&Qe.string(rt.message)?V(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${C.method} failed with message: ${rt.message}`),C.method,Me):V(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${C.method} failed unexpectedly without providing any details.`),C.method,Me)}):(A.delete(de),N(me,C.method,Me)):(A.delete(de),z(me,C.method,Me))}catch(me){A.delete(de),me instanceof re.ResponseError?N(me,C.method,Me):me&&Qe.string(me.message)?V(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${C.method} failed with message: ${me.message}`),C.method,Me):V(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${C.method} failed unexpectedly without providing any details.`),C.method,Me)}}else V(new re.ResponseError(re.ErrorCodes.MethodNotFound,`Unhandled method ${C.method}`),C.method,Me)}function Ln(C){if(!Gt())if(C.id===null)C.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(C.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let N=C.id,V=k.get(N);if(rr(C,V),V!==void 0){k.delete(N);try{if(C.error){let z=C.error;V.reject(new re.ResponseError(z.code,z.message,z.data))}else if(C.result!==void 0)V.resolve(C.result);else throw new Error("Should never happen.")}catch(z){z.message?i.error(`Response handler '${V.method}' failed with message: ${z.message}`):i.error(`Response handler '${V.method}' failed unexpectedly.`)}}}}function jn(C){if(Gt())return;let N,V;if(C.method===As.type.method){let z=C.params.id;O.delete(z),Sn(C);return}else{let z=g.get(C.method);z&&(V=z.handler,N=z.type)}if(V||d)try{if(Sn(C),V)if(C.params===void 0)N!==void 0&&N.numberOfParams!==0&&N.parameterStructures!==re.ParameterStructures.byName&&i.error(`Notification ${C.method} defines ${N.numberOfParams} params but received none.`),V();else if(Array.isArray(C.params)){let z=C.params;C.method===Fs.type.method&&z.length===2&&nl.is(z[0])?V({token:z[0],value:z[1]}):(N!==void 0&&(N.parameterStructures===re.ParameterStructures.byName&&i.error(`Notification ${C.method} defines parameters by name but received parameters by position`),N.numberOfParams!==C.params.length&&i.error(`Notification ${C.method} defines ${N.numberOfParams} params but received ${z.length} arguments`)),V(...z))}else N!==void 0&&N.parameterStructures===re.ParameterStructures.byPosition&&i.error(`Notification ${C.method} defines parameters by position but received parameters by name`),V(C.params);else d&&d(C.method,C.params)}catch(z){z.message?i.error(`Notification handler '${C.method}' failed with message: ${z.message}`):i.error(`Notification handler '${C.method}' failed unexpectedly.`)}else pe.fire(C)}function nr(C){if(!C){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(C,null,4)}`);let N=C;if(Qe.string(N.id)||Qe.number(N.id)){let V=N.id,z=k.get(V);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function ft(C){if(C!=null)switch(F){case Ee.Verbose:return JSON.stringify(C,null,4);case Ee.Compact:return JSON.stringify(C);default:return}}function vr(C){if(!(F===Ee.Off||!H))if(j===fn.Text){let N;(F===Ee.Verbose||F===Ee.Compact)&&C.params&&(N=`Params: ${ft(C.params)}

`),H.log(`Sending request '${C.method} - (${C.id})'.`,N)}else ut("send-request",C)}function $n(C){if(!(F===Ee.Off||!H))if(j===fn.Text){let N;(F===Ee.Verbose||F===Ee.Compact)&&(C.params?N=`Params: ${ft(C.params)}

`:N=`No parameters provided.

`),H.log(`Sending notification '${C.method}'.`,N)}else ut("send-notification",C)}function _n(C,N,V){if(!(F===Ee.Off||!H))if(j===fn.Text){let z;(F===Ee.Verbose||F===Ee.Compact)&&(C.error&&C.error.data?z=`Error data: ${ft(C.error.data)}

`:C.result?z=`Result: ${ft(C.result)}

`:C.error===void 0&&(z=`No result returned.

`)),H.log(`Sending response '${N} - (${C.id})'. Processing request took ${Date.now()-V}ms`,z)}else ut("send-response",C)}function jr(C){if(!(F===Ee.Off||!H))if(j===fn.Text){let N;(F===Ee.Verbose||F===Ee.Compact)&&C.params&&(N=`Params: ${ft(C.params)}

`),H.log(`Received request '${C.method} - (${C.id})'.`,N)}else ut("receive-request",C)}function Sn(C){if(!(F===Ee.Off||!H||C.method===Wo.type.method))if(j===fn.Text){let N;(F===Ee.Verbose||F===Ee.Compact)&&(C.params?N=`Params: ${ft(C.params)}

`:N=`No parameters provided.

`),H.log(`Received notification '${C.method}'.`,N)}else ut("receive-notification",C)}function rr(C,N){if(!(F===Ee.Off||!H))if(j===fn.Text){let V;if((F===Ee.Verbose||F===Ee.Compact)&&(C.error&&C.error.data?V=`Error data: ${ft(C.error.data)}

`:C.result?V=`Result: ${ft(C.result)}

`:C.error===void 0&&(V=`No result returned.

`)),N){let z=C.error?` Request failed: ${C.error.message} (${C.error.code}).`:"";H.log(`Received response '${N.method} - (${C.id})' in ${Date.now()-N.timerStart}ms.${z}`,V)}else H.log(`Received response ${C.id} without active response promise.`,V)}else ut("receive-response",C)}function ut(C,N){if(!H||F===Ee.Off)return;let V={isLSPMessage:!0,type:C,message:N,timestamp:Date.now()};H.log(V)}function kt(){if(Ue())throw new Ki(Ms.Closed,"Connection is closed.");if(Gt())throw new Ki(Ms.Disposed,"Connection is disposed.")}function Rt(){if(Qn())throw new Ki(Ms.AlreadyListening,"Connection is already listening")}function ln(){if(!Qn())throw new Error("Call listen() first.")}function Xt(C){return C===void 0?null:C}function ir(C){if(C!==null)return C}function yr(C){return C!=null&&!Array.isArray(C)&&typeof C=="object"}function Hn(C,N){switch(C){case re.ParameterStructures.auto:return yr(N)?ir(N):[Xt(N)];case re.ParameterStructures.byName:if(!yr(N))throw new Error("Received parameters by name but param is not an object literal.");return ir(N);case re.ParameterStructures.byPosition:return[Xt(N)];default:throw new Error(`Unknown parameter structure ${C.toString()}`)}}function wr(C,N){let V,z=C.numberOfParams;switch(z){case 0:V=void 0;break;case 1:V=Hn(C.parameterStructures,N[0]);break;default:V=[];for(let De=0;De<N.length&&De<z;De++)V.push(Xt(N[De]));if(N.length<z)for(let De=N.length;De<z;De++)V.push(null);break}return V}let Ht={sendNotification:(C,...N)=>{kt();let V,z;if(Qe.string(C)){V=C;let _e=N[0],ke=0,Me=re.ParameterStructures.auto;re.ParameterStructures.is(_e)&&(ke=1,Me=_e);let de=N.length,Te=de-ke;switch(Te){case 0:z=void 0;break;case 1:z=Hn(Me,N[ke]);break;default:if(Me===re.ParameterStructures.byName)throw new Error(`Received ${Te} parameters for 'by Name' notification parameter structure.`);z=N.slice(ke,de).map(me=>Xt(me));break}}else{let _e=N;V=C.method,z=wr(C,_e)}let De={jsonrpc:c,method:V,params:z};return $n(De),e.write(De).catch(_e=>{throw i.error("Sending notification failed."),_e})},onNotification:(C,N)=>{kt();let V;return Qe.func(C)?d=C:N&&(Qe.string(C)?(V=C,g.set(C,{type:void 0,handler:N})):(V=C.method,g.set(C.method,{type:C,handler:N}))),{dispose:()=>{V!==void 0?g.delete(V):d=void 0}}},onProgress:(C,N,V)=>{if(w.has(N))throw new Error(`Progress handler for token ${N} already registered`);return w.set(N,V),{dispose:()=>{w.delete(N)}}},sendProgress:(C,N,V)=>Ht.sendNotification(Fs.type,{token:N,value:V}),onUnhandledProgress:ct.event,sendRequest:(C,...N)=>{kt(),ln();let V,z,De;if(Qe.string(C)){V=C;let de=N[0],Te=N[N.length-1],me=0,Ae=re.ParameterStructures.auto;re.ParameterStructures.is(de)&&(me=1,Ae=de);let rt=N.length;tl.CancellationToken.is(Te)&&(rt=rt-1,De=Te);let vt=rt-me;switch(vt){case 0:z=void 0;break;case 1:z=Hn(Ae,N[me]);break;default:if(Ae===re.ParameterStructures.byName)throw new Error(`Received ${vt} parameters for 'by Name' request parameter structure.`);z=N.slice(me,rt).map($r=>Xt($r));break}}else{let de=N;V=C.method,z=wr(C,de);let Te=C.numberOfParams;De=tl.CancellationToken.is(de[Te])?de[Te]:void 0}let _e=s++,ke;De&&(ke=De.onCancellationRequested(()=>{let de=dt.sender.sendCancellation(Ht,_e);return de===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${_e}`),Promise.resolve()):de.catch(()=>{i.log(`Sending cancellation messages for id ${_e} failed`)})}));let Me={jsonrpc:c,id:_e,method:V,params:z};return vr(Me),typeof dt.sender.enableCancellation=="function"&&dt.sender.enableCancellation(Me),new Promise(async(de,Te)=>{let me=vt=>{de(vt),dt.sender.cleanup(_e),ke?.dispose()},Ae=vt=>{Te(vt),dt.sender.cleanup(_e),ke?.dispose()},rt={method:V,timerStart:Date.now(),resolve:me,reject:Ae};try{await e.write(Me),k.set(_e,rt)}catch(vt){throw i.error("Sending request failed."),rt.reject(new re.ResponseError(re.ErrorCodes.MessageWriteError,vt.message?vt.message:"Unknown reason")),vt}})},onRequest:(C,N)=>{kt();let V=null;return il.is(C)?(V=void 0,u=C):Qe.string(C)?(V=null,N!==void 0&&(V=C,f.set(C,{handler:N,type:void 0}))):N!==void 0&&(V=C.method,f.set(C.method,{type:C,handler:N})),{dispose:()=>{V!==null&&(V!==void 0?f.delete(V):u=void 0)}}},hasPendingResponse:()=>k.size>0,trace:async(C,N,V)=>{let z=!1,De=fn.Text;V!==void 0&&(Qe.boolean(V)?z=V:(z=V.sendNotification||!1,De=V.traceFormat||fn.Text)),F=C,j=De,F===Ee.Off?H=void 0:H=N,z&&!Ue()&&!Gt()&&await Ht.sendNotification(sl.type,{value:Ee.toString(C)})},onError:G.event,onClose:ne.event,onUnhandledNotification:pe.event,onDispose:nt.event,end:()=>{e.end()},dispose:()=>{if(Gt())return;te=Vn.Disposed,nt.fire(void 0);let C=new re.ResponseError(re.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let N of k.values())N.reject(C);k=new Map,A=new Map,O=new Set,q=new kh.LinkedMap,Qe.func(e.dispose)&&e.dispose(),Qe.func(t.dispose)&&t.dispose()},listen:()=>{kt(),Rt(),te=Vn.Listening,t.listen(Lr)},inspect:()=>{(0,qh.default)().console.log("inspect")}};return Ht.onNotification(Wo.type,C=>{if(F===Ee.Off||!H)return;let N=F===Ee.Verbose||F===Ee.Compact;H.log(C.message,N?C.verbose:void 0)}),Ht.onNotification(Fs.type,C=>{let N=w.get(C.token);N?N(C.value):ct.fire(C)}),Ht}ce.createMessageConnection=JD});var Jo=T(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.ProgressType=I.ProgressToken=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.AbstractMessageBuffer=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.SharedArrayReceiverStrategy=I.SharedArraySenderStrategy=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.LRUCache=I.Touch=I.LinkedMap=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.Message=I.RAL=void 0;I.MessageStrategy=I.CancellationStrategy=I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.TraceValues=I.Trace=void 0;var Ve=Ou();Object.defineProperty(I,"Message",{enumerable:!0,get:function(){return Ve.Message}});Object.defineProperty(I,"RequestType",{enumerable:!0,get:function(){return Ve.RequestType}});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:function(){return Ve.RequestType0}});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:function(){return Ve.RequestType1}});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:function(){return Ve.RequestType2}});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:function(){return Ve.RequestType3}});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:function(){return Ve.RequestType4}});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:function(){return Ve.RequestType5}});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:function(){return Ve.RequestType6}});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:function(){return Ve.RequestType7}});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:function(){return Ve.RequestType8}});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:function(){return Ve.RequestType9}});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:function(){return Ve.ResponseError}});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:function(){return Ve.ErrorCodes}});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:function(){return Ve.NotificationType}});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:function(){return Ve.NotificationType0}});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:function(){return Ve.NotificationType1}});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:function(){return Ve.NotificationType2}});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:function(){return Ve.NotificationType3}});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:function(){return Ve.NotificationType4}});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:function(){return Ve.NotificationType5}});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:function(){return Ve.NotificationType6}});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:function(){return Ve.NotificationType7}});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:function(){return Ve.NotificationType8}});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:function(){return Ve.NotificationType9}});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:function(){return Ve.ParameterStructures}});var cl=Fu();Object.defineProperty(I,"LinkedMap",{enumerable:!0,get:function(){return cl.LinkedMap}});Object.defineProperty(I,"LRUCache",{enumerable:!0,get:function(){return cl.LRUCache}});Object.defineProperty(I,"Touch",{enumerable:!0,get:function(){return cl.Touch}});var YD=yh();Object.defineProperty(I,"Disposable",{enumerable:!0,get:function(){return YD.Disposable}});var Nh=Hi();Object.defineProperty(I,"Event",{enumerable:!0,get:function(){return Nh.Event}});Object.defineProperty(I,"Emitter",{enumerable:!0,get:function(){return Nh.Emitter}});var Fh=jo();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:function(){return Fh.CancellationTokenSource}});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:function(){return Fh.CancellationToken}});var Mh=bh();Object.defineProperty(I,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Mh.SharedArraySenderStrategy}});Object.defineProperty(I,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Mh.SharedArrayReceiverStrategy}});var ul=_h();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:function(){return ul.MessageReader}});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:function(){return ul.AbstractMessageReader}});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return ul.ReadableStreamMessageReader}});var ll=Ph();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:function(){return ll.MessageWriter}});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:function(){return ll.AbstractMessageWriter}});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ll.WriteableStreamMessageWriter}});var QD=Eh();Object.defineProperty(I,"AbstractMessageBuffer",{enumerable:!0,get:function(){return QD.AbstractMessageBuffer}});var Pt=Oh();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:function(){return Pt.ConnectionStrategy}});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:function(){return Pt.ConnectionOptions}});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:function(){return Pt.NullLogger}});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:function(){return Pt.createMessageConnection}});Object.defineProperty(I,"ProgressToken",{enumerable:!0,get:function(){return Pt.ProgressToken}});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:function(){return Pt.ProgressType}});Object.defineProperty(I,"Trace",{enumerable:!0,get:function(){return Pt.Trace}});Object.defineProperty(I,"TraceValues",{enumerable:!0,get:function(){return Pt.TraceValues}});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:function(){return Pt.TraceFormat}});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:function(){return Pt.SetTraceNotification}});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:function(){return Pt.LogTraceNotification}});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:function(){return Pt.ConnectionErrors}});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:function(){return Pt.ConnectionError}});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Pt.CancellationReceiverStrategy}});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Pt.CancellationSenderStrategy}});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:function(){return Pt.CancellationStrategy}});Object.defineProperty(I,"MessageStrategy",{enumerable:!0,get:function(){return Pt.MessageStrategy}});var ZD=Vr();I.RAL=ZD.default});var jh=T(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var Ah=require("util"),br=Jo(),Yo=class t extends br.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Ah.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Yo.emptyBuffer=Buffer.allocUnsafe(0);var dl=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),br.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),br.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),br.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),br.Disposable.create(()=>this.stream.off("data",e))}},fl=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),br.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),br.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),br.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Lh=Object.freeze({messageBuffer:Object.freeze({create:t=>new Yo(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Ah.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new dl(t),asWritableStream:t=>new fl(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function pl(){return Lh}(function(t){function e(){br.RAL.install(Lh)}t.install=e})(pl||(pl={}));gl.default=pl});var vi=T(be=>{"use strict";var eR=be&&be.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),tR=be&&be.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&eR(e,t,n)};Object.defineProperty(be,"__esModule",{value:!0});be.createMessageConnection=be.createServerSocketTransport=be.createClientSocketTransport=be.createServerPipeTransport=be.createClientPipeTransport=be.generateRandomPipeName=be.StreamMessageWriter=be.StreamMessageReader=be.SocketMessageWriter=be.SocketMessageReader=be.PortMessageWriter=be.PortMessageReader=be.IPCMessageWriter=be.IPCMessageReader=void 0;var zi=jh();zi.default.install();var $h=require("path"),nR=require("os"),rR=require("crypto"),ea=require("net"),pn=Jo();tR(Jo(),be);var hl=class extends pn.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),pn.Disposable.create(()=>this.process.off("message",e))}};be.IPCMessageReader=hl;var ml=class extends pn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};be.IPCMessageWriter=ml;var vl=class extends pn.AbstractMessageReader{constructor(e){super(),this.onData=new pn.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};be.PortMessageReader=vl;var yl=class extends pn.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};be.PortMessageWriter=yl;var hi=class extends pn.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,zi.default)().stream.asReadableStream(e),n)}};be.SocketMessageReader=hi;var mi=class extends pn.WriteableStreamMessageWriter{constructor(e,n){super((0,zi.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};be.SocketMessageWriter=mi;var Qo=class extends pn.ReadableStreamMessageReader{constructor(e,n){super((0,zi.default)().stream.asReadableStream(e),n)}};be.StreamMessageReader=Qo;var Zo=class extends pn.WriteableStreamMessageWriter{constructor(e,n){super((0,zi.default)().stream.asWritableStream(e),n)}};be.StreamMessageWriter=Zo;var Hh=process.env.XDG_RUNTIME_DIR,iR=new Map([["linux",107],["darwin",103]]);function sR(){let t=(0,rR.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Hh?e=$h.join(Hh,`vscode-ipc-${t}.sock`):e=$h.join(nR.tmpdir(),`vscode-${t}.sock`);let n=iR.get(process.platform);return n!==void 0&&e.length>n&&(0,zi.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}be.generateRandomPipeName=sR;function oR(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,ea.createServer)(a=>{o.close(),n([new hi(a,e),new mi(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}be.createClientPipeTransport=oR;function aR(t,e="utf-8"){let n=(0,ea.createConnection)(t);return[new hi(n,e),new mi(n,e)]}be.createServerPipeTransport=aR;function cR(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,ea.createServer)(a=>{o.close(),n([new hi(a,e),new mi(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}be.createClientSocketTransport=cR;function uR(t,e="utf-8"){let n=(0,ea.createConnection)(t,"127.0.0.1");return[new hi(n,e),new mi(n,e)]}be.createServerSocketTransport=uR;function lR(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function dR(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function fR(t,e,n,r){n||(n=pn.NullLogger);let i=lR(t)?new Qo(t):t,s=dR(e)?new Zo(e):e;return pn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,pn.createMessageConnection)(i,s,n,r)}be.createMessageConnection=fR});var wl=T((yN,Uh)=>{"use strict";Uh.exports=vi()});var na=T((Vh,ta)=>{"use strict";(function(t){if(typeof ta=="object"&&typeof ta.exports=="object"){var e=t(require,Vh);e!==void 0&&(ta.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(m){function _(S){return typeof S=="string"}m.is=_})(n||(e.DocumentUri=n={}));var r;(function(m){function _(S){return typeof S=="string"}m.is=_})(r||(e.URI=r={}));var i;(function(m){m.MIN_VALUE=-2147483648,m.MAX_VALUE=2147483647;function _(S){return typeof S=="number"&&m.MIN_VALUE<=S&&S<=m.MAX_VALUE}m.is=_})(i||(e.integer=i={}));var s;(function(m){m.MIN_VALUE=0,m.MAX_VALUE=2147483647;function _(S){return typeof S=="number"&&m.MIN_VALUE<=S&&S<=m.MAX_VALUE}m.is=_})(s||(e.uinteger=s={}));var o;(function(m){function _(y,p){return y===Number.MAX_VALUE&&(y=s.MAX_VALUE),p===Number.MAX_VALUE&&(p=s.MAX_VALUE),{line:y,character:p}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&R.uinteger(p.line)&&R.uinteger(p.character)}m.is=S})(o||(e.Position=o={}));var a;(function(m){function _(y,p,E,M){if(R.uinteger(y)&&R.uinteger(p)&&R.uinteger(E)&&R.uinteger(M))return{start:o.create(y,p),end:o.create(E,M)};if(o.is(y)&&o.is(p))return{start:y,end:p};throw new Error("Range#create called with invalid arguments[".concat(y,", ").concat(p,", ").concat(E,", ").concat(M,"]"))}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&o.is(p.start)&&o.is(p.end)}m.is=S})(a||(e.Range=a={}));var c;(function(m){function _(y,p){return{uri:y,range:p}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&a.is(p.range)&&(R.string(p.uri)||R.undefined(p.uri))}m.is=S})(c||(e.Location=c={}));var u;(function(m){function _(y,p,E,M){return{targetUri:y,targetRange:p,targetSelectionRange:E,originSelectionRange:M}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&a.is(p.targetRange)&&R.string(p.targetUri)&&a.is(p.targetSelectionRange)&&(a.is(p.originSelectionRange)||R.undefined(p.originSelectionRange))}m.is=S})(u||(e.LocationLink=u={}));var f;(function(m){function _(y,p,E,M){return{red:y,green:p,blue:E,alpha:M}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&R.numberRange(p.red,0,1)&&R.numberRange(p.green,0,1)&&R.numberRange(p.blue,0,1)&&R.numberRange(p.alpha,0,1)}m.is=S})(f||(e.Color=f={}));var d;(function(m){function _(y,p){return{range:y,color:p}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&a.is(p.range)&&f.is(p.color)}m.is=S})(d||(e.ColorInformation=d={}));var g;(function(m){function _(y,p,E){return{label:y,textEdit:p,additionalTextEdits:E}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&R.string(p.label)&&(R.undefined(p.textEdit)||H.is(p))&&(R.undefined(p.additionalTextEdits)||R.typedArray(p.additionalTextEdits,H.is))}m.is=S})(g||(e.ColorPresentation=g={}));var w;(function(m){m.Comment="comment",m.Imports="imports",m.Region="region"})(w||(e.FoldingRangeKind=w={}));var v;(function(m){function _(y,p,E,M,oe,Be){var Le={startLine:y,endLine:p};return R.defined(E)&&(Le.startCharacter=E),R.defined(M)&&(Le.endCharacter=M),R.defined(oe)&&(Le.kind=oe),R.defined(Be)&&(Le.collapsedText=Be),Le}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&R.uinteger(p.startLine)&&R.uinteger(p.startLine)&&(R.undefined(p.startCharacter)||R.uinteger(p.startCharacter))&&(R.undefined(p.endCharacter)||R.uinteger(p.endCharacter))&&(R.undefined(p.kind)||R.string(p.kind))}m.is=S})(v||(e.FoldingRange=v={}));var q;(function(m){function _(y,p){return{location:y,message:p}}m.create=_;function S(y){var p=y;return R.defined(p)&&c.is(p.location)&&R.string(p.message)}m.is=S})(q||(e.DiagnosticRelatedInformation=q={}));var k;(function(m){m.Error=1,m.Warning=2,m.Information=3,m.Hint=4})(k||(e.DiagnosticSeverity=k={}));var O;(function(m){m.Unnecessary=1,m.Deprecated=2})(O||(e.DiagnosticTag=O={}));var A;(function(m){function _(S){var y=S;return R.objectLiteral(y)&&R.string(y.href)}m.is=_})(A||(e.CodeDescription=A={}));var F;(function(m){function _(y,p,E,M,oe,Be){var Le={range:y,message:p};return R.defined(E)&&(Le.severity=E),R.defined(M)&&(Le.code=M),R.defined(oe)&&(Le.source=oe),R.defined(Be)&&(Le.relatedInformation=Be),Le}m.create=_;function S(y){var p,E=y;return R.defined(E)&&a.is(E.range)&&R.string(E.message)&&(R.number(E.severity)||R.undefined(E.severity))&&(R.integer(E.code)||R.string(E.code)||R.undefined(E.code))&&(R.undefined(E.codeDescription)||R.string((p=E.codeDescription)===null||p===void 0?void 0:p.href))&&(R.string(E.source)||R.undefined(E.source))&&(R.undefined(E.relatedInformation)||R.typedArray(E.relatedInformation,q.is))}m.is=S})(F||(e.Diagnostic=F={}));var j;(function(m){function _(y,p){for(var E=[],M=2;M<arguments.length;M++)E[M-2]=arguments[M];var oe={title:y,command:p};return R.defined(E)&&E.length>0&&(oe.arguments=E),oe}m.create=_;function S(y){var p=y;return R.defined(p)&&R.string(p.title)&&R.string(p.command)}m.is=S})(j||(e.Command=j={}));var H;(function(m){function _(E,M){return{range:E,newText:M}}m.replace=_;function S(E,M){return{range:{start:E,end:E},newText:M}}m.insert=S;function y(E){return{range:E,newText:""}}m.del=y;function p(E){var M=E;return R.objectLiteral(M)&&R.string(M.newText)&&a.is(M.range)}m.is=p})(H||(e.TextEdit=H={}));var te;(function(m){function _(y,p,E){var M={label:y};return p!==void 0&&(M.needsConfirmation=p),E!==void 0&&(M.description=E),M}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&R.string(p.label)&&(R.boolean(p.needsConfirmation)||p.needsConfirmation===void 0)&&(R.string(p.description)||p.description===void 0)}m.is=S})(te||(e.ChangeAnnotation=te={}));var G;(function(m){function _(S){var y=S;return R.string(y)}m.is=_})(G||(e.ChangeAnnotationIdentifier=G={}));var ne;(function(m){function _(E,M,oe){return{range:E,newText:M,annotationId:oe}}m.replace=_;function S(E,M,oe){return{range:{start:E,end:E},newText:M,annotationId:oe}}m.insert=S;function y(E,M){return{range:E,newText:"",annotationId:M}}m.del=y;function p(E){var M=E;return H.is(M)&&(te.is(M.annotationId)||G.is(M.annotationId))}m.is=p})(ne||(e.AnnotatedTextEdit=ne={}));var pe;(function(m){function _(y,p){return{textDocument:y,edits:p}}m.create=_;function S(y){var p=y;return R.defined(p)&&Ue.is(p.textDocument)&&Array.isArray(p.edits)}m.is=S})(pe||(e.TextDocumentEdit=pe={}));var ct;(function(m){function _(y,p,E){var M={kind:"create",uri:y};return p!==void 0&&(p.overwrite!==void 0||p.ignoreIfExists!==void 0)&&(M.options=p),E!==void 0&&(M.annotationId=E),M}m.create=_;function S(y){var p=y;return p&&p.kind==="create"&&R.string(p.uri)&&(p.options===void 0||(p.options.overwrite===void 0||R.boolean(p.options.overwrite))&&(p.options.ignoreIfExists===void 0||R.boolean(p.options.ignoreIfExists)))&&(p.annotationId===void 0||G.is(p.annotationId))}m.is=S})(ct||(e.CreateFile=ct={}));var nt;(function(m){function _(y,p,E,M){var oe={kind:"rename",oldUri:y,newUri:p};return E!==void 0&&(E.overwrite!==void 0||E.ignoreIfExists!==void 0)&&(oe.options=E),M!==void 0&&(oe.annotationId=M),oe}m.create=_;function S(y){var p=y;return p&&p.kind==="rename"&&R.string(p.oldUri)&&R.string(p.newUri)&&(p.options===void 0||(p.options.overwrite===void 0||R.boolean(p.options.overwrite))&&(p.options.ignoreIfExists===void 0||R.boolean(p.options.ignoreIfExists)))&&(p.annotationId===void 0||G.is(p.annotationId))}m.is=S})(nt||(e.RenameFile=nt={}));var dt;(function(m){function _(y,p,E){var M={kind:"delete",uri:y};return p!==void 0&&(p.recursive!==void 0||p.ignoreIfNotExists!==void 0)&&(M.options=p),E!==void 0&&(M.annotationId=E),M}m.create=_;function S(y){var p=y;return p&&p.kind==="delete"&&R.string(p.uri)&&(p.options===void 0||(p.options.recursive===void 0||R.boolean(p.options.recursive))&&(p.options.ignoreIfNotExists===void 0||R.boolean(p.options.ignoreIfNotExists)))&&(p.annotationId===void 0||G.is(p.annotationId))}m.is=S})(dt||(e.DeleteFile=dt={}));var Cn;(function(m){function _(S){var y=S;return y&&(y.changes!==void 0||y.documentChanges!==void 0)&&(y.documentChanges===void 0||y.documentChanges.every(function(p){return R.string(p.kind)?ct.is(p)||nt.is(p)||dt.is(p):pe.is(p)}))}m.is=_})(Cn||(e.WorkspaceEdit=Cn={}));var jt=function(){function m(_,S){this.edits=_,this.changeAnnotations=S}return m.prototype.insert=function(_,S,y){var p,E;if(y===void 0?p=H.insert(_,S):G.is(y)?(E=y,p=ne.insert(_,S,y)):(this.assertChangeAnnotations(this.changeAnnotations),E=this.changeAnnotations.manage(y),p=ne.insert(_,S,E)),this.edits.push(p),E!==void 0)return E},m.prototype.replace=function(_,S,y){var p,E;if(y===void 0?p=H.replace(_,S):G.is(y)?(E=y,p=ne.replace(_,S,y)):(this.assertChangeAnnotations(this.changeAnnotations),E=this.changeAnnotations.manage(y),p=ne.replace(_,S,E)),this.edits.push(p),E!==void 0)return E},m.prototype.delete=function(_,S){var y,p;if(S===void 0?y=H.del(_):G.is(S)?(p=S,y=ne.del(_,S)):(this.assertChangeAnnotations(this.changeAnnotations),p=this.changeAnnotations.manage(S),y=ne.del(_,p)),this.edits.push(y),p!==void 0)return p},m.prototype.add=function(_){this.edits.push(_)},m.prototype.all=function(){return this.edits},m.prototype.clear=function(){this.edits.splice(0,this.edits.length)},m.prototype.assertChangeAnnotations=function(_){if(_===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},m}(),_t=function(){function m(_){this._annotations=_===void 0?Object.create(null):_,this._counter=0,this._size=0}return m.prototype.all=function(){return this._annotations},Object.defineProperty(m.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),m.prototype.manage=function(_,S){var y;if(G.is(_)?y=_:(y=this.nextId(),S=_),this._annotations[y]!==void 0)throw new Error("Id ".concat(y," is already in use."));if(S===void 0)throw new Error("No annotation provided for id ".concat(y));return this._annotations[y]=S,this._size++,y},m.prototype.nextId=function(){return this._counter++,this._counter.toString()},m}(),St=function(){function m(_){var S=this;this._textEditChanges=Object.create(null),_!==void 0?(this._workspaceEdit=_,_.documentChanges?(this._changeAnnotations=new _t(_.changeAnnotations),_.changeAnnotations=this._changeAnnotations.all(),_.documentChanges.forEach(function(y){if(pe.is(y)){var p=new jt(y.edits,S._changeAnnotations);S._textEditChanges[y.textDocument.uri]=p}})):_.changes&&Object.keys(_.changes).forEach(function(y){var p=new jt(_.changes[y]);S._textEditChanges[y]=p})):this._workspaceEdit={}}return Object.defineProperty(m.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),m.prototype.getTextEditChange=function(_){if(Ue.is(_)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S={uri:_.uri,version:_.version},y=this._textEditChanges[S.uri];if(!y){var p=[],E={textDocument:S,edits:p};this._workspaceEdit.documentChanges.push(E),y=new jt(p,this._changeAnnotations),this._textEditChanges[S.uri]=y}return y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var y=this._textEditChanges[_];if(!y){var p=[];this._workspaceEdit.changes[_]=p,y=new jt(p),this._textEditChanges[_]=y}return y}},m.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new _t,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},m.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},m.prototype.createFile=function(_,S,y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var p;te.is(S)||G.is(S)?p=S:y=S;var E,M;if(p===void 0?E=ct.create(_,y):(M=G.is(p)?p:this._changeAnnotations.manage(p),E=ct.create(_,y,M)),this._workspaceEdit.documentChanges.push(E),M!==void 0)return M},m.prototype.renameFile=function(_,S,y,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E;te.is(y)||G.is(y)?E=y:p=y;var M,oe;if(E===void 0?M=nt.create(_,S,p):(oe=G.is(E)?E:this._changeAnnotations.manage(E),M=nt.create(_,S,p,oe)),this._workspaceEdit.documentChanges.push(M),oe!==void 0)return oe},m.prototype.deleteFile=function(_,S,y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var p;te.is(S)||G.is(S)?p=S:y=S;var E,M;if(p===void 0?E=dt.create(_,y):(M=G.is(p)?p:this._changeAnnotations.manage(p),E=dt.create(_,y,M)),this._workspaceEdit.documentChanges.push(E),M!==void 0)return M},m}();e.WorkspaceChange=St;var An;(function(m){function _(y){return{uri:y}}m.create=_;function S(y){var p=y;return R.defined(p)&&R.string(p.uri)}m.is=S})(An||(e.TextDocumentIdentifier=An={}));var Qn;(function(m){function _(y,p){return{uri:y,version:p}}m.create=_;function S(y){var p=y;return R.defined(p)&&R.string(p.uri)&&R.integer(p.version)}m.is=S})(Qn||(e.VersionedTextDocumentIdentifier=Qn={}));var Ue;(function(m){function _(y,p){return{uri:y,version:p}}m.create=_;function S(y){var p=y;return R.defined(p)&&R.string(p.uri)&&(p.version===null||R.integer(p.version))}m.is=S})(Ue||(e.OptionalVersionedTextDocumentIdentifier=Ue={}));var Gt;(function(m){function _(y,p,E,M){return{uri:y,languageId:p,version:E,text:M}}m.create=_;function S(y){var p=y;return R.defined(p)&&R.string(p.uri)&&R.string(p.languageId)&&R.integer(p.version)&&R.string(p.text)}m.is=S})(Gt||(e.TextDocumentItem=Gt={}));var $t;(function(m){m.PlainText="plaintext",m.Markdown="markdown";function _(S){var y=S;return y===m.PlainText||y===m.Markdown}m.is=_})($t||(e.MarkupKind=$t={}));var Dt;(function(m){function _(S){var y=S;return R.objectLiteral(S)&&$t.is(y.kind)&&R.string(y.value)}m.is=_})(Dt||(e.MarkupContent=Dt={}));var Ar;(function(m){m.Text=1,m.Method=2,m.Function=3,m.Constructor=4,m.Field=5,m.Variable=6,m.Class=7,m.Interface=8,m.Module=9,m.Property=10,m.Unit=11,m.Value=12,m.Enum=13,m.Keyword=14,m.Snippet=15,m.Color=16,m.File=17,m.Reference=18,m.Folder=19,m.EnumMember=20,m.Constant=21,m.Struct=22,m.Event=23,m.Operator=24,m.TypeParameter=25})(Ar||(e.CompletionItemKind=Ar={}));var Zn;(function(m){m.PlainText=1,m.Snippet=2})(Zn||(e.InsertTextFormat=Zn={}));var er;(function(m){m.Deprecated=1})(er||(e.CompletionItemTag=er={}));var mr;(function(m){function _(y,p,E){return{newText:y,insert:p,replace:E}}m.create=_;function S(y){var p=y;return p&&R.string(p.newText)&&a.is(p.insert)&&a.is(p.replace)}m.is=S})(mr||(e.InsertReplaceEdit=mr={}));var Lr;(function(m){m.asIs=1,m.adjustIndentation=2})(Lr||(e.InsertTextMode=Lr={}));var tr;(function(m){function _(S){var y=S;return y&&(R.string(y.detail)||y.detail===void 0)&&(R.string(y.description)||y.description===void 0)}m.is=_})(tr||(e.CompletionItemLabelDetails=tr={}));var Ln;(function(m){function _(S){return{label:S}}m.create=_})(Ln||(e.CompletionItem=Ln={}));var jn;(function(m){function _(S,y){return{items:S||[],isIncomplete:!!y}}m.create=_})(jn||(e.CompletionList=jn={}));var nr;(function(m){function _(y){return y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}m.fromPlainText=_;function S(y){var p=y;return R.string(p)||R.objectLiteral(p)&&R.string(p.language)&&R.string(p.value)}m.is=S})(nr||(e.MarkedString=nr={}));var ft;(function(m){function _(S){var y=S;return!!y&&R.objectLiteral(y)&&(Dt.is(y.contents)||nr.is(y.contents)||R.typedArray(y.contents,nr.is))&&(S.range===void 0||a.is(S.range))}m.is=_})(ft||(e.Hover=ft={}));var vr;(function(m){function _(S,y){return y?{label:S,documentation:y}:{label:S}}m.create=_})(vr||(e.ParameterInformation=vr={}));var $n;(function(m){function _(S,y){for(var p=[],E=2;E<arguments.length;E++)p[E-2]=arguments[E];var M={label:S};return R.defined(y)&&(M.documentation=y),R.defined(p)?M.parameters=p:M.parameters=[],M}m.create=_})($n||(e.SignatureInformation=$n={}));var _n;(function(m){m.Text=1,m.Read=2,m.Write=3})(_n||(e.DocumentHighlightKind=_n={}));var jr;(function(m){function _(S,y){var p={range:S};return R.number(y)&&(p.kind=y),p}m.create=_})(jr||(e.DocumentHighlight=jr={}));var Sn;(function(m){m.File=1,m.Module=2,m.Namespace=3,m.Package=4,m.Class=5,m.Method=6,m.Property=7,m.Field=8,m.Constructor=9,m.Enum=10,m.Interface=11,m.Function=12,m.Variable=13,m.Constant=14,m.String=15,m.Number=16,m.Boolean=17,m.Array=18,m.Object=19,m.Key=20,m.Null=21,m.EnumMember=22,m.Struct=23,m.Event=24,m.Operator=25,m.TypeParameter=26})(Sn||(e.SymbolKind=Sn={}));var rr;(function(m){m.Deprecated=1})(rr||(e.SymbolTag=rr={}));var ut;(function(m){function _(S,y,p,E,M){var oe={name:S,kind:y,location:{uri:E,range:p}};return M&&(oe.containerName=M),oe}m.create=_})(ut||(e.SymbolInformation=ut={}));var kt;(function(m){function _(S,y,p,E){return E!==void 0?{name:S,kind:y,location:{uri:p,range:E}}:{name:S,kind:y,location:{uri:p}}}m.create=_})(kt||(e.WorkspaceSymbol=kt={}));var Rt;(function(m){function _(y,p,E,M,oe,Be){var Le={name:y,detail:p,kind:E,range:M,selectionRange:oe};return Be!==void 0&&(Le.children=Be),Le}m.create=_;function S(y){var p=y;return p&&R.string(p.name)&&R.number(p.kind)&&a.is(p.range)&&a.is(p.selectionRange)&&(p.detail===void 0||R.string(p.detail))&&(p.deprecated===void 0||R.boolean(p.deprecated))&&(p.children===void 0||Array.isArray(p.children))&&(p.tags===void 0||Array.isArray(p.tags))}m.is=S})(Rt||(e.DocumentSymbol=Rt={}));var ln;(function(m){m.Empty="",m.QuickFix="quickfix",m.Refactor="refactor",m.RefactorExtract="refactor.extract",m.RefactorInline="refactor.inline",m.RefactorRewrite="refactor.rewrite",m.Source="source",m.SourceOrganizeImports="source.organizeImports",m.SourceFixAll="source.fixAll"})(ln||(e.CodeActionKind=ln={}));var Xt;(function(m){m.Invoked=1,m.Automatic=2})(Xt||(e.CodeActionTriggerKind=Xt={}));var ir;(function(m){function _(y,p,E){var M={diagnostics:y};return p!=null&&(M.only=p),E!=null&&(M.triggerKind=E),M}m.create=_;function S(y){var p=y;return R.defined(p)&&R.typedArray(p.diagnostics,F.is)&&(p.only===void 0||R.typedArray(p.only,R.string))&&(p.triggerKind===void 0||p.triggerKind===Xt.Invoked||p.triggerKind===Xt.Automatic)}m.is=S})(ir||(e.CodeActionContext=ir={}));var yr;(function(m){function _(y,p,E){var M={title:y},oe=!0;return typeof p=="string"?(oe=!1,M.kind=p):j.is(p)?M.command=p:M.edit=p,oe&&E!==void 0&&(M.kind=E),M}m.create=_;function S(y){var p=y;return p&&R.string(p.title)&&(p.diagnostics===void 0||R.typedArray(p.diagnostics,F.is))&&(p.kind===void 0||R.string(p.kind))&&(p.edit!==void 0||p.command!==void 0)&&(p.command===void 0||j.is(p.command))&&(p.isPreferred===void 0||R.boolean(p.isPreferred))&&(p.edit===void 0||Cn.is(p.edit))}m.is=S})(yr||(e.CodeAction=yr={}));var Hn;(function(m){function _(y,p){var E={range:y};return R.defined(p)&&(E.data=p),E}m.create=_;function S(y){var p=y;return R.defined(p)&&a.is(p.range)&&(R.undefined(p.command)||j.is(p.command))}m.is=S})(Hn||(e.CodeLens=Hn={}));var wr;(function(m){function _(y,p){return{tabSize:y,insertSpaces:p}}m.create=_;function S(y){var p=y;return R.defined(p)&&R.uinteger(p.tabSize)&&R.boolean(p.insertSpaces)}m.is=S})(wr||(e.FormattingOptions=wr={}));var Ht;(function(m){function _(y,p,E){return{range:y,target:p,data:E}}m.create=_;function S(y){var p=y;return R.defined(p)&&a.is(p.range)&&(R.undefined(p.target)||R.string(p.target))}m.is=S})(Ht||(e.DocumentLink=Ht={}));var C;(function(m){function _(y,p){return{range:y,parent:p}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&a.is(p.range)&&(p.parent===void 0||m.is(p.parent))}m.is=S})(C||(e.SelectionRange=C={}));var N;(function(m){m.namespace="namespace",m.type="type",m.class="class",m.enum="enum",m.interface="interface",m.struct="struct",m.typeParameter="typeParameter",m.parameter="parameter",m.variable="variable",m.property="property",m.enumMember="enumMember",m.event="event",m.function="function",m.method="method",m.macro="macro",m.keyword="keyword",m.modifier="modifier",m.comment="comment",m.string="string",m.number="number",m.regexp="regexp",m.operator="operator",m.decorator="decorator"})(N||(e.SemanticTokenTypes=N={}));var V;(function(m){m.declaration="declaration",m.definition="definition",m.readonly="readonly",m.static="static",m.deprecated="deprecated",m.abstract="abstract",m.async="async",m.modification="modification",m.documentation="documentation",m.defaultLibrary="defaultLibrary"})(V||(e.SemanticTokenModifiers=V={}));var z;(function(m){function _(S){var y=S;return R.objectLiteral(y)&&(y.resultId===void 0||typeof y.resultId=="string")&&Array.isArray(y.data)&&(y.data.length===0||typeof y.data[0]=="number")}m.is=_})(z||(e.SemanticTokens=z={}));var De;(function(m){function _(y,p){return{range:y,text:p}}m.create=_;function S(y){var p=y;return p!=null&&a.is(p.range)&&R.string(p.text)}m.is=S})(De||(e.InlineValueText=De={}));var _e;(function(m){function _(y,p,E){return{range:y,variableName:p,caseSensitiveLookup:E}}m.create=_;function S(y){var p=y;return p!=null&&a.is(p.range)&&R.boolean(p.caseSensitiveLookup)&&(R.string(p.variableName)||p.variableName===void 0)}m.is=S})(_e||(e.InlineValueVariableLookup=_e={}));var ke;(function(m){function _(y,p){return{range:y,expression:p}}m.create=_;function S(y){var p=y;return p!=null&&a.is(p.range)&&(R.string(p.expression)||p.expression===void 0)}m.is=S})(ke||(e.InlineValueEvaluatableExpression=ke={}));var Me;(function(m){function _(y,p){return{frameId:y,stoppedLocation:p}}m.create=_;function S(y){var p=y;return R.defined(p)&&a.is(y.stoppedLocation)}m.is=S})(Me||(e.InlineValueContext=Me={}));var de;(function(m){m.Type=1,m.Parameter=2;function _(S){return S===1||S===2}m.is=_})(de||(e.InlayHintKind=de={}));var Te;(function(m){function _(y){return{value:y}}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&(p.tooltip===void 0||R.string(p.tooltip)||Dt.is(p.tooltip))&&(p.location===void 0||c.is(p.location))&&(p.command===void 0||j.is(p.command))}m.is=S})(Te||(e.InlayHintLabelPart=Te={}));var me;(function(m){function _(y,p,E){var M={position:y,label:p};return E!==void 0&&(M.kind=E),M}m.create=_;function S(y){var p=y;return R.objectLiteral(p)&&o.is(p.position)&&(R.string(p.label)||R.typedArray(p.label,Te.is))&&(p.kind===void 0||de.is(p.kind))&&p.textEdits===void 0||R.typedArray(p.textEdits,H.is)&&(p.tooltip===void 0||R.string(p.tooltip)||Dt.is(p.tooltip))&&(p.paddingLeft===void 0||R.boolean(p.paddingLeft))&&(p.paddingRight===void 0||R.boolean(p.paddingRight))}m.is=S})(me||(e.InlayHint=me={}));var Ae;(function(m){function _(S){return{kind:"snippet",value:S}}m.createSnippet=_})(Ae||(e.StringValue=Ae={}));var rt;(function(m){function _(S,y,p,E){return{insertText:S,filterText:y,range:p,command:E}}m.create=_})(rt||(e.InlineCompletionItem=rt={}));var vt;(function(m){function _(S){return{items:S}}m.create=_})(vt||(e.InlineCompletionList=vt={}));var $r;(function(m){m.Invoked=0,m.Automatic=1})($r||(e.InlineCompletionTriggerKind=$r={}));var Hr;(function(m){function _(S,y){return{range:S,text:y}}m.create=_})(Hr||(e.SelectedCompletionInfo=Hr={}));var h;(function(m){function _(S,y){return{triggerKind:S,selectedCompletionInfo:y}}m.create=_})(h||(e.InlineCompletionContext=h={}));var x;(function(m){function _(S){var y=S;return R.objectLiteral(y)&&r.is(y.uri)&&R.string(y.name)}m.is=_})(x||(e.WorkspaceFolder=x={})),e.EOL=[`
`,`\r
`,"\r"];var Y;(function(m){function _(E,M,oe,Be){return new Pe(E,M,oe,Be)}m.create=_;function S(E){var M=E;return!!(R.defined(M)&&R.string(M.uri)&&(R.undefined(M.languageId)||R.string(M.languageId))&&R.uinteger(M.lineCount)&&R.func(M.getText)&&R.func(M.positionAt)&&R.func(M.offsetAt))}m.is=S;function y(E,M){for(var oe=E.getText(),Be=p(M,function(sr,l){var D=sr.range.start.line-l.range.start.line;return D===0?sr.range.start.character-l.range.start.character:D}),Le=oe.length,Jt=Be.length-1;Jt>=0;Jt--){var dn=Be[Jt],Un=E.offsetAt(dn.range.start),he=E.offsetAt(dn.range.end);if(he<=Le)oe=oe.substring(0,Un)+dn.newText+oe.substring(he,oe.length);else throw new Error("Overlapping edit");Le=Un}return oe}m.applyEdits=y;function p(E,M){if(E.length<=1)return E;var oe=E.length/2|0,Be=E.slice(0,oe),Le=E.slice(oe);p(Be,M),p(Le,M);for(var Jt=0,dn=0,Un=0;Jt<Be.length&&dn<Le.length;){var he=M(Be[Jt],Le[dn]);he<=0?E[Un++]=Be[Jt++]:E[Un++]=Le[dn++]}for(;Jt<Be.length;)E[Un++]=Be[Jt++];for(;dn<Le.length;)E[Un++]=Le[dn++];return E}})(Y||(e.TextDocument=Y={}));var Pe=function(){function m(_,S,y,p){this._uri=_,this._languageId=S,this._version=y,this._content=p,this._lineOffsets=void 0}return Object.defineProperty(m.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),m.prototype.getText=function(_){if(_){var S=this.offsetAt(_.start),y=this.offsetAt(_.end);return this._content.substring(S,y)}return this._content},m.prototype.update=function(_,S){this._content=_.text,this._version=S,this._lineOffsets=void 0},m.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var _=[],S=this._content,y=!0,p=0;p<S.length;p++){y&&(_.push(p),y=!1);var E=S.charAt(p);y=E==="\r"||E===`
`,E==="\r"&&p+1<S.length&&S.charAt(p+1)===`
`&&p++}y&&S.length>0&&_.push(S.length),this._lineOffsets=_}return this._lineOffsets},m.prototype.positionAt=function(_){_=Math.max(Math.min(_,this._content.length),0);var S=this.getLineOffsets(),y=0,p=S.length;if(p===0)return o.create(0,_);for(;y<p;){var E=Math.floor((y+p)/2);S[E]>_?p=E:y=E+1}var M=y-1;return o.create(M,_-S[M])},m.prototype.offsetAt=function(_){var S=this.getLineOffsets();if(_.line>=S.length)return this._content.length;if(_.line<0)return 0;var y=S[_.line],p=_.line+1<S.length?S[_.line+1]:this._content.length;return Math.max(Math.min(y+_.character,p),y)},Object.defineProperty(m.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),m}(),R;(function(m){var _=Object.prototype.toString;function S(he){return typeof he<"u"}m.defined=S;function y(he){return typeof he>"u"}m.undefined=y;function p(he){return he===!0||he===!1}m.boolean=p;function E(he){return _.call(he)==="[object String]"}m.string=E;function M(he){return _.call(he)==="[object Number]"}m.number=M;function oe(he,sr,l){return _.call(he)==="[object Number]"&&sr<=he&&he<=l}m.numberRange=oe;function Be(he){return _.call(he)==="[object Number]"&&-2147483648<=he&&he<=2147483647}m.integer=Be;function Le(he){return _.call(he)==="[object Number]"&&0<=he&&he<=2147483647}m.uinteger=Le;function Jt(he){return _.call(he)==="[object Function]"}m.func=Jt;function dn(he){return he!==null&&typeof he=="object"}m.objectLiteral=dn;function Un(he,sr){return Array.isArray(he)&&he.every(sr)}m.typedArray=Un})(R||(R={}))})});var Ge=T(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ProtocolNotificationType=Qt.ProtocolNotificationType0=Qt.ProtocolRequestType=Qt.ProtocolRequestType0=Qt.RegistrationType=Qt.MessageDirection=void 0;var Bi=vi(),Wh;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Wh||(Qt.MessageDirection=Wh={}));var bl=class{constructor(e){this.method=e}};Qt.RegistrationType=bl;var Cl=class extends Bi.RequestType0{constructor(e){super(e)}};Qt.ProtocolRequestType0=Cl;var _l=class extends Bi.RequestType{constructor(e){super(e,Bi.ParameterStructures.byName)}};Qt.ProtocolRequestType=_l;var Sl=class extends Bi.NotificationType0{constructor(e){super(e)}};Qt.ProtocolNotificationType0=Sl;var Dl=class extends Bi.NotificationType{constructor(e){super(e,Bi.ParameterStructures.byName)}};Qt.ProtocolNotificationType=Dl});var ra=T(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.objectLiteral=pt.typedArray=pt.stringArray=pt.array=pt.func=pt.error=pt.number=pt.string=pt.boolean=void 0;function pR(t){return t===!0||t===!1}pt.boolean=pR;function Kh(t){return typeof t=="string"||t instanceof String}pt.string=Kh;function gR(t){return typeof t=="number"||t instanceof Number}pt.number=gR;function hR(t){return t instanceof Error}pt.error=hR;function mR(t){return typeof t=="function"}pt.func=mR;function zh(t){return Array.isArray(t)}pt.array=zh;function vR(t){return zh(t)&&t.every(e=>Kh(e))}pt.stringArray=vR;function yR(t,e){return Array.isArray(t)&&t.every(e)}pt.typedArray=yR;function wR(t){return t!==null&&typeof t=="object"}pt.objectLiteral=wR});var Xh=T(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.ImplementationRequest=void 0;var Bh=Ge(),Gh;(function(t){t.method="textDocument/implementation",t.messageDirection=Bh.MessageDirection.clientToServer,t.type=new Bh.ProtocolRequestType(t.method)})(Gh||(ia.ImplementationRequest=Gh={}))});var Qh=T(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.TypeDefinitionRequest=void 0;var Jh=Ge(),Yh;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Jh.MessageDirection.clientToServer,t.type=new Jh.ProtocolRequestType(t.method)})(Yh||(sa.TypeDefinitionRequest=Yh={}))});var tm=T(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.DidChangeWorkspaceFoldersNotification=Gi.WorkspaceFoldersRequest=void 0;var oa=Ge(),Zh;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=oa.MessageDirection.serverToClient,t.type=new oa.ProtocolRequestType0(t.method)})(Zh||(Gi.WorkspaceFoldersRequest=Zh={}));var em;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolNotificationType(t.method)})(em||(Gi.DidChangeWorkspaceFoldersNotification=em={}))});var im=T(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.ConfigurationRequest=void 0;var nm=Ge(),rm;(function(t){t.method="workspace/configuration",t.messageDirection=nm.MessageDirection.serverToClient,t.type=new nm.ProtocolRequestType(t.method)})(rm||(aa.ConfigurationRequest=rm={}))});var am=T(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.ColorPresentationRequest=Xi.DocumentColorRequest=void 0;var ca=Ge(),sm;(function(t){t.method="textDocument/documentColor",t.messageDirection=ca.MessageDirection.clientToServer,t.type=new ca.ProtocolRequestType(t.method)})(sm||(Xi.DocumentColorRequest=sm={}));var om;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=ca.MessageDirection.clientToServer,t.type=new ca.ProtocolRequestType(t.method)})(om||(Xi.ColorPresentationRequest=om={}))});var lm=T(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.FoldingRangeRefreshRequest=Ji.FoldingRangeRequest=void 0;var ua=Ge(),cm;(function(t){t.method="textDocument/foldingRange",t.messageDirection=ua.MessageDirection.clientToServer,t.type=new ua.ProtocolRequestType(t.method)})(cm||(Ji.FoldingRangeRequest=cm={}));var um;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=ua.MessageDirection.serverToClient,t.type=new ua.ProtocolRequestType0(t.method)})(um||(Ji.FoldingRangeRefreshRequest=um={}))});var pm=T(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.DeclarationRequest=void 0;var dm=Ge(),fm;(function(t){t.method="textDocument/declaration",t.messageDirection=dm.MessageDirection.clientToServer,t.type=new dm.ProtocolRequestType(t.method)})(fm||(la.DeclarationRequest=fm={}))});var mm=T(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.SelectionRangeRequest=void 0;var gm=Ge(),hm;(function(t){t.method="textDocument/selectionRange",t.messageDirection=gm.MessageDirection.clientToServer,t.type=new gm.ProtocolRequestType(t.method)})(hm||(da.SelectionRangeRequest=hm={}))});var bm=T(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.WorkDoneProgressCancelNotification=zr.WorkDoneProgressCreateRequest=zr.WorkDoneProgress=void 0;var bR=vi(),fa=Ge(),vm;(function(t){t.type=new bR.ProgressType;function e(n){return n===t.type}t.is=e})(vm||(zr.WorkDoneProgress=vm={}));var ym;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=fa.MessageDirection.serverToClient,t.type=new fa.ProtocolRequestType(t.method)})(ym||(zr.WorkDoneProgressCreateRequest=ym={}));var wm;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=fa.MessageDirection.clientToServer,t.type=new fa.ProtocolNotificationType(t.method)})(wm||(zr.WorkDoneProgressCancelNotification=wm={}))});var Dm=T(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.CallHierarchyOutgoingCallsRequest=Br.CallHierarchyIncomingCallsRequest=Br.CallHierarchyPrepareRequest=void 0;var Yi=Ge(),Cm;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Yi.MessageDirection.clientToServer,t.type=new Yi.ProtocolRequestType(t.method)})(Cm||(Br.CallHierarchyPrepareRequest=Cm={}));var _m;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Yi.MessageDirection.clientToServer,t.type=new Yi.ProtocolRequestType(t.method)})(_m||(Br.CallHierarchyIncomingCallsRequest=_m={}));var Sm;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Yi.MessageDirection.clientToServer,t.type=new Yi.ProtocolRequestType(t.method)})(Sm||(Br.CallHierarchyOutgoingCallsRequest=Sm={}))});var km=T(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.SemanticTokensRefreshRequest=Zt.SemanticTokensRangeRequest=Zt.SemanticTokensDeltaRequest=Zt.SemanticTokensRequest=Zt.SemanticTokensRegistrationType=Zt.TokenFormat=void 0;var Cr=Ge(),Rm;(function(t){t.Relative="relative"})(Rm||(Zt.TokenFormat=Rm={}));var Ls;(function(t){t.method="textDocument/semanticTokens",t.type=new Cr.RegistrationType(t.method)})(Ls||(Zt.SemanticTokensRegistrationType=Ls={}));var Tm;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Cr.MessageDirection.clientToServer,t.type=new Cr.ProtocolRequestType(t.method),t.registrationMethod=Ls.method})(Tm||(Zt.SemanticTokensRequest=Tm={}));var Pm;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Cr.MessageDirection.clientToServer,t.type=new Cr.ProtocolRequestType(t.method),t.registrationMethod=Ls.method})(Pm||(Zt.SemanticTokensDeltaRequest=Pm={}));var Em;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Cr.MessageDirection.clientToServer,t.type=new Cr.ProtocolRequestType(t.method),t.registrationMethod=Ls.method})(Em||(Zt.SemanticTokensRangeRequest=Em={}));var qm;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Cr.MessageDirection.serverToClient,t.type=new Cr.ProtocolRequestType0(t.method)})(qm||(Zt.SemanticTokensRefreshRequest=qm={}))});var Om=T(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.ShowDocumentRequest=void 0;var xm=Ge(),Im;(function(t){t.method="window/showDocument",t.messageDirection=xm.MessageDirection.serverToClient,t.type=new xm.ProtocolRequestType(t.method)})(Im||(pa.ShowDocumentRequest=Im={}))});var Mm=T(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.LinkedEditingRangeRequest=void 0;var Nm=Ge(),Fm;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Nm.MessageDirection.clientToServer,t.type=new Nm.ProtocolRequestType(t.method)})(Fm||(ga.LinkedEditingRangeRequest=Fm={}))});var Wm=T(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.WillDeleteFilesRequest=Ot.DidDeleteFilesNotification=Ot.DidRenameFilesNotification=Ot.WillRenameFilesRequest=Ot.DidCreateFilesNotification=Ot.WillCreateFilesRequest=Ot.FileOperationPatternKind=void 0;var Dn=Ge(),Am;(function(t){t.file="file",t.folder="folder"})(Am||(Ot.FileOperationPatternKind=Am={}));var Lm;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Dn.MessageDirection.clientToServer,t.type=new Dn.ProtocolRequestType(t.method)})(Lm||(Ot.WillCreateFilesRequest=Lm={}));var jm;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Dn.MessageDirection.clientToServer,t.type=new Dn.ProtocolNotificationType(t.method)})(jm||(Ot.DidCreateFilesNotification=jm={}));var $m;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Dn.MessageDirection.clientToServer,t.type=new Dn.ProtocolRequestType(t.method)})($m||(Ot.WillRenameFilesRequest=$m={}));var Hm;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Dn.MessageDirection.clientToServer,t.type=new Dn.ProtocolNotificationType(t.method)})(Hm||(Ot.DidRenameFilesNotification=Hm={}));var Um;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Dn.MessageDirection.clientToServer,t.type=new Dn.ProtocolNotificationType(t.method)})(Um||(Ot.DidDeleteFilesNotification=Um={}));var Vm;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Dn.MessageDirection.clientToServer,t.type=new Dn.ProtocolRequestType(t.method)})(Vm||(Ot.WillDeleteFilesRequest=Vm={}))});var Xm=T(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.MonikerRequest=Gr.MonikerKind=Gr.UniquenessLevel=void 0;var Km=Ge(),zm;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(zm||(Gr.UniquenessLevel=zm={}));var Bm;(function(t){t.$import="import",t.$export="export",t.local="local"})(Bm||(Gr.MonikerKind=Bm={}));var Gm;(function(t){t.method="textDocument/moniker",t.messageDirection=Km.MessageDirection.clientToServer,t.type=new Km.ProtocolRequestType(t.method)})(Gm||(Gr.MonikerRequest=Gm={}))});var Zm=T(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.TypeHierarchySubtypesRequest=Xr.TypeHierarchySupertypesRequest=Xr.TypeHierarchyPrepareRequest=void 0;var Qi=Ge(),Jm;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Qi.MessageDirection.clientToServer,t.type=new Qi.ProtocolRequestType(t.method)})(Jm||(Xr.TypeHierarchyPrepareRequest=Jm={}));var Ym;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Qi.MessageDirection.clientToServer,t.type=new Qi.ProtocolRequestType(t.method)})(Ym||(Xr.TypeHierarchySupertypesRequest=Ym={}));var Qm;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Qi.MessageDirection.clientToServer,t.type=new Qi.ProtocolRequestType(t.method)})(Qm||(Xr.TypeHierarchySubtypesRequest=Qm={}))});var nv=T(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.InlineValueRefreshRequest=Zi.InlineValueRequest=void 0;var ha=Ge(),ev;(function(t){t.method="textDocument/inlineValue",t.messageDirection=ha.MessageDirection.clientToServer,t.type=new ha.ProtocolRequestType(t.method)})(ev||(Zi.InlineValueRequest=ev={}));var tv;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=ha.MessageDirection.serverToClient,t.type=new ha.ProtocolRequestType0(t.method)})(tv||(Zi.InlineValueRefreshRequest=tv={}))});var ov=T(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.InlayHintRefreshRequest=Jr.InlayHintResolveRequest=Jr.InlayHintRequest=void 0;var es=Ge(),rv;(function(t){t.method="textDocument/inlayHint",t.messageDirection=es.MessageDirection.clientToServer,t.type=new es.ProtocolRequestType(t.method)})(rv||(Jr.InlayHintRequest=rv={}));var iv;(function(t){t.method="inlayHint/resolve",t.messageDirection=es.MessageDirection.clientToServer,t.type=new es.ProtocolRequestType(t.method)})(iv||(Jr.InlayHintResolveRequest=iv={}));var sv;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=es.MessageDirection.serverToClient,t.type=new es.ProtocolRequestType0(t.method)})(sv||(Jr.InlayHintRefreshRequest=sv={}))});var pv=T(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.DiagnosticRefreshRequest=Rn.WorkspaceDiagnosticRequest=Rn.DocumentDiagnosticRequest=Rn.DocumentDiagnosticReportKind=Rn.DiagnosticServerCancellationData=void 0;var fv=vi(),CR=ra(),ts=Ge(),av;(function(t){function e(n){let r=n;return r&&CR.boolean(r.retriggerRequest)}t.is=e})(av||(Rn.DiagnosticServerCancellationData=av={}));var cv;(function(t){t.Full="full",t.Unchanged="unchanged"})(cv||(Rn.DocumentDiagnosticReportKind=cv={}));var uv;(function(t){t.method="textDocument/diagnostic",t.messageDirection=ts.MessageDirection.clientToServer,t.type=new ts.ProtocolRequestType(t.method),t.partialResult=new fv.ProgressType})(uv||(Rn.DocumentDiagnosticRequest=uv={}));var lv;(function(t){t.method="workspace/diagnostic",t.messageDirection=ts.MessageDirection.clientToServer,t.type=new ts.ProtocolRequestType(t.method),t.partialResult=new fv.ProgressType})(lv||(Rn.WorkspaceDiagnosticRequest=lv={}));var dv;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=ts.MessageDirection.serverToClient,t.type=new ts.ProtocolRequestType0(t.method)})(dv||(Rn.DiagnosticRefreshRequest=dv={}))});var bv=T(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.DidCloseNotebookDocumentNotification=it.DidSaveNotebookDocumentNotification=it.DidChangeNotebookDocumentNotification=it.NotebookCellArrayChange=it.DidOpenNotebookDocumentNotification=it.NotebookDocumentSyncRegistrationType=it.NotebookDocument=it.NotebookCell=it.ExecutionSummary=it.NotebookCellKind=void 0;var js=na(),Wn=ra(),ar=Ge(),Rl;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(Rl||(it.NotebookCellKind=Rl={}));var Tl;(function(t){function e(i,s){let o={executionOrder:i};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(i){let s=i;return Wn.objectLiteral(s)&&js.uinteger.is(s.executionOrder)&&(s.success===void 0||Wn.boolean(s.success))}t.is=n;function r(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}t.equals=r})(Tl||(it.ExecutionSummary=Tl={}));var ma;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return Wn.objectLiteral(o)&&Rl.is(o.kind)&&js.DocumentUri.is(o.document)&&(o.metadata===void 0||Wn.objectLiteral(o.metadata))}t.is=n;function r(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!i(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!Tl.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=r;function i(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],o[u]))return!1}if(Wn.objectLiteral(s)&&Wn.objectLiteral(o)){let u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let d=0;d<u.length;d++){let g=u[d];if(!i(s[g],o[g]))return!1}}return!0}})(ma||(it.NotebookCell=ma={}));var gv;(function(t){function e(r,i,s,o){return{uri:r,notebookType:i,version:s,cells:o}}t.create=e;function n(r){let i=r;return Wn.objectLiteral(i)&&Wn.string(i.uri)&&js.integer.is(i.version)&&Wn.typedArray(i.cells,ma.is)}t.is=n})(gv||(it.NotebookDocument=gv={}));var ns;(function(t){t.method="notebookDocument/sync",t.messageDirection=ar.MessageDirection.clientToServer,t.type=new ar.RegistrationType(t.method)})(ns||(it.NotebookDocumentSyncRegistrationType=ns={}));var hv;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=ar.MessageDirection.clientToServer,t.type=new ar.ProtocolNotificationType(t.method),t.registrationMethod=ns.method})(hv||(it.DidOpenNotebookDocumentNotification=hv={}));var mv;(function(t){function e(r){let i=r;return Wn.objectLiteral(i)&&js.uinteger.is(i.start)&&js.uinteger.is(i.deleteCount)&&(i.cells===void 0||Wn.typedArray(i.cells,ma.is))}t.is=e;function n(r,i,s){let o={start:r,deleteCount:i};return s!==void 0&&(o.cells=s),o}t.create=n})(mv||(it.NotebookCellArrayChange=mv={}));var vv;(function(t){t.method="notebookDocument/didChange",t.messageDirection=ar.MessageDirection.clientToServer,t.type=new ar.ProtocolNotificationType(t.method),t.registrationMethod=ns.method})(vv||(it.DidChangeNotebookDocumentNotification=vv={}));var yv;(function(t){t.method="notebookDocument/didSave",t.messageDirection=ar.MessageDirection.clientToServer,t.type=new ar.ProtocolNotificationType(t.method),t.registrationMethod=ns.method})(yv||(it.DidSaveNotebookDocumentNotification=yv={}));var wv;(function(t){t.method="notebookDocument/didClose",t.messageDirection=ar.MessageDirection.clientToServer,t.type=new ar.ProtocolNotificationType(t.method),t.registrationMethod=ns.method})(wv||(it.DidCloseNotebookDocumentNotification=wv={}))});var Sv=T(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.InlineCompletionRequest=void 0;var Cv=Ge(),_v;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Cv.MessageDirection.clientToServer,t.type=new Cv.ProtocolRequestType(t.method)})(_v||(va.InlineCompletionRequest=_v={}))});var My=T(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.WorkspaceSymbolRequest=b.CodeActionResolveRequest=b.CodeActionRequest=b.DocumentSymbolRequest=b.DocumentHighlightRequest=b.ReferencesRequest=b.DefinitionRequest=b.SignatureHelpRequest=b.SignatureHelpTriggerKind=b.HoverRequest=b.CompletionResolveRequest=b.CompletionRequest=b.CompletionTriggerKind=b.PublishDiagnosticsNotification=b.WatchKind=b.RelativePattern=b.FileChangeType=b.DidChangeWatchedFilesNotification=b.WillSaveTextDocumentWaitUntilRequest=b.WillSaveTextDocumentNotification=b.TextDocumentSaveReason=b.DidSaveTextDocumentNotification=b.DidCloseTextDocumentNotification=b.DidChangeTextDocumentNotification=b.TextDocumentContentChangeEvent=b.DidOpenTextDocumentNotification=b.TextDocumentSyncKind=b.TelemetryEventNotification=b.LogMessageNotification=b.ShowMessageRequest=b.ShowMessageNotification=b.MessageType=b.DidChangeConfigurationNotification=b.ExitNotification=b.ShutdownRequest=b.InitializedNotification=b.InitializeErrorCodes=b.InitializeRequest=b.WorkDoneProgressOptions=b.TextDocumentRegistrationOptions=b.StaticRegistrationOptions=b.PositionEncodingKind=b.FailureHandlingKind=b.ResourceOperationKind=b.UnregistrationRequest=b.RegistrationRequest=b.DocumentSelector=b.NotebookCellTextDocumentFilter=b.NotebookDocumentFilter=b.TextDocumentFilter=void 0;b.MonikerRequest=b.MonikerKind=b.UniquenessLevel=b.WillDeleteFilesRequest=b.DidDeleteFilesNotification=b.WillRenameFilesRequest=b.DidRenameFilesNotification=b.WillCreateFilesRequest=b.DidCreateFilesNotification=b.FileOperationPatternKind=b.LinkedEditingRangeRequest=b.ShowDocumentRequest=b.SemanticTokensRegistrationType=b.SemanticTokensRefreshRequest=b.SemanticTokensRangeRequest=b.SemanticTokensDeltaRequest=b.SemanticTokensRequest=b.TokenFormat=b.CallHierarchyPrepareRequest=b.CallHierarchyOutgoingCallsRequest=b.CallHierarchyIncomingCallsRequest=b.WorkDoneProgressCancelNotification=b.WorkDoneProgressCreateRequest=b.WorkDoneProgress=b.SelectionRangeRequest=b.DeclarationRequest=b.FoldingRangeRefreshRequest=b.FoldingRangeRequest=b.ColorPresentationRequest=b.DocumentColorRequest=b.ConfigurationRequest=b.DidChangeWorkspaceFoldersNotification=b.WorkspaceFoldersRequest=b.TypeDefinitionRequest=b.ImplementationRequest=b.ApplyWorkspaceEditRequest=b.ExecuteCommandRequest=b.PrepareRenameRequest=b.RenameRequest=b.PrepareSupportDefaultBehavior=b.DocumentOnTypeFormattingRequest=b.DocumentRangesFormattingRequest=b.DocumentRangeFormattingRequest=b.DocumentFormattingRequest=b.DocumentLinkResolveRequest=b.DocumentLinkRequest=b.CodeLensRefreshRequest=b.CodeLensResolveRequest=b.CodeLensRequest=b.WorkspaceSymbolResolveRequest=void 0;b.InlineCompletionRequest=b.DidCloseNotebookDocumentNotification=b.DidSaveNotebookDocumentNotification=b.DidChangeNotebookDocumentNotification=b.NotebookCellArrayChange=b.DidOpenNotebookDocumentNotification=b.NotebookDocumentSyncRegistrationType=b.NotebookDocument=b.NotebookCell=b.ExecutionSummary=b.NotebookCellKind=b.DiagnosticRefreshRequest=b.WorkspaceDiagnosticRequest=b.DocumentDiagnosticRequest=b.DocumentDiagnosticReportKind=b.DiagnosticServerCancellationData=b.InlayHintRefreshRequest=b.InlayHintResolveRequest=b.InlayHintRequest=b.InlineValueRefreshRequest=b.InlineValueRequest=b.TypeHierarchySupertypesRequest=b.TypeHierarchySubtypesRequest=b.TypeHierarchyPrepareRequest=void 0;var U=Ge(),Dv=na(),wt=ra(),_R=Xh();Object.defineProperty(b,"ImplementationRequest",{enumerable:!0,get:function(){return _R.ImplementationRequest}});var SR=Qh();Object.defineProperty(b,"TypeDefinitionRequest",{enumerable:!0,get:function(){return SR.TypeDefinitionRequest}});var Iy=tm();Object.defineProperty(b,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Iy.WorkspaceFoldersRequest}});Object.defineProperty(b,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Iy.DidChangeWorkspaceFoldersNotification}});var DR=im();Object.defineProperty(b,"ConfigurationRequest",{enumerable:!0,get:function(){return DR.ConfigurationRequest}});var Oy=am();Object.defineProperty(b,"DocumentColorRequest",{enumerable:!0,get:function(){return Oy.DocumentColorRequest}});Object.defineProperty(b,"ColorPresentationRequest",{enumerable:!0,get:function(){return Oy.ColorPresentationRequest}});var Ny=lm();Object.defineProperty(b,"FoldingRangeRequest",{enumerable:!0,get:function(){return Ny.FoldingRangeRequest}});Object.defineProperty(b,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return Ny.FoldingRangeRefreshRequest}});var RR=pm();Object.defineProperty(b,"DeclarationRequest",{enumerable:!0,get:function(){return RR.DeclarationRequest}});var TR=mm();Object.defineProperty(b,"SelectionRangeRequest",{enumerable:!0,get:function(){return TR.SelectionRangeRequest}});var xl=bm();Object.defineProperty(b,"WorkDoneProgress",{enumerable:!0,get:function(){return xl.WorkDoneProgress}});Object.defineProperty(b,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return xl.WorkDoneProgressCreateRequest}});Object.defineProperty(b,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return xl.WorkDoneProgressCancelNotification}});var Il=Dm();Object.defineProperty(b,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Il.CallHierarchyIncomingCallsRequest}});Object.defineProperty(b,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Il.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(b,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Il.CallHierarchyPrepareRequest}});var rs=km();Object.defineProperty(b,"TokenFormat",{enumerable:!0,get:function(){return rs.TokenFormat}});Object.defineProperty(b,"SemanticTokensRequest",{enumerable:!0,get:function(){return rs.SemanticTokensRequest}});Object.defineProperty(b,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return rs.SemanticTokensDeltaRequest}});Object.defineProperty(b,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return rs.SemanticTokensRangeRequest}});Object.defineProperty(b,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return rs.SemanticTokensRefreshRequest}});Object.defineProperty(b,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return rs.SemanticTokensRegistrationType}});var PR=Om();Object.defineProperty(b,"ShowDocumentRequest",{enumerable:!0,get:function(){return PR.ShowDocumentRequest}});var ER=Mm();Object.defineProperty(b,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return ER.LinkedEditingRangeRequest}});var yi=Wm();Object.defineProperty(b,"FileOperationPatternKind",{enumerable:!0,get:function(){return yi.FileOperationPatternKind}});Object.defineProperty(b,"DidCreateFilesNotification",{enumerable:!0,get:function(){return yi.DidCreateFilesNotification}});Object.defineProperty(b,"WillCreateFilesRequest",{enumerable:!0,get:function(){return yi.WillCreateFilesRequest}});Object.defineProperty(b,"DidRenameFilesNotification",{enumerable:!0,get:function(){return yi.DidRenameFilesNotification}});Object.defineProperty(b,"WillRenameFilesRequest",{enumerable:!0,get:function(){return yi.WillRenameFilesRequest}});Object.defineProperty(b,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return yi.DidDeleteFilesNotification}});Object.defineProperty(b,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return yi.WillDeleteFilesRequest}});var Ol=Xm();Object.defineProperty(b,"UniquenessLevel",{enumerable:!0,get:function(){return Ol.UniquenessLevel}});Object.defineProperty(b,"MonikerKind",{enumerable:!0,get:function(){return Ol.MonikerKind}});Object.defineProperty(b,"MonikerRequest",{enumerable:!0,get:function(){return Ol.MonikerRequest}});var Nl=Zm();Object.defineProperty(b,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Nl.TypeHierarchyPrepareRequest}});Object.defineProperty(b,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Nl.TypeHierarchySubtypesRequest}});Object.defineProperty(b,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Nl.TypeHierarchySupertypesRequest}});var Fy=nv();Object.defineProperty(b,"InlineValueRequest",{enumerable:!0,get:function(){return Fy.InlineValueRequest}});Object.defineProperty(b,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Fy.InlineValueRefreshRequest}});var Fl=ov();Object.defineProperty(b,"InlayHintRequest",{enumerable:!0,get:function(){return Fl.InlayHintRequest}});Object.defineProperty(b,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Fl.InlayHintResolveRequest}});Object.defineProperty(b,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Fl.InlayHintRefreshRequest}});var $s=pv();Object.defineProperty(b,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return $s.DiagnosticServerCancellationData}});Object.defineProperty(b,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return $s.DocumentDiagnosticReportKind}});Object.defineProperty(b,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return $s.DocumentDiagnosticRequest}});Object.defineProperty(b,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return $s.WorkspaceDiagnosticRequest}});Object.defineProperty(b,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return $s.DiagnosticRefreshRequest}});var cr=bv();Object.defineProperty(b,"NotebookCellKind",{enumerable:!0,get:function(){return cr.NotebookCellKind}});Object.defineProperty(b,"ExecutionSummary",{enumerable:!0,get:function(){return cr.ExecutionSummary}});Object.defineProperty(b,"NotebookCell",{enumerable:!0,get:function(){return cr.NotebookCell}});Object.defineProperty(b,"NotebookDocument",{enumerable:!0,get:function(){return cr.NotebookDocument}});Object.defineProperty(b,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return cr.NotebookDocumentSyncRegistrationType}});Object.defineProperty(b,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return cr.DidOpenNotebookDocumentNotification}});Object.defineProperty(b,"NotebookCellArrayChange",{enumerable:!0,get:function(){return cr.NotebookCellArrayChange}});Object.defineProperty(b,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return cr.DidChangeNotebookDocumentNotification}});Object.defineProperty(b,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return cr.DidSaveNotebookDocumentNotification}});Object.defineProperty(b,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return cr.DidCloseNotebookDocumentNotification}});var qR=Sv();Object.defineProperty(b,"InlineCompletionRequest",{enumerable:!0,get:function(){return qR.InlineCompletionRequest}});var Pl;(function(t){function e(n){let r=n;return wt.string(r)||wt.string(r.language)||wt.string(r.scheme)||wt.string(r.pattern)}t.is=e})(Pl||(b.TextDocumentFilter=Pl={}));var El;(function(t){function e(n){let r=n;return wt.objectLiteral(r)&&(wt.string(r.notebookType)||wt.string(r.scheme)||wt.string(r.pattern))}t.is=e})(El||(b.NotebookDocumentFilter=El={}));var ql;(function(t){function e(n){let r=n;return wt.objectLiteral(r)&&(wt.string(r.notebook)||El.is(r.notebook))&&(r.language===void 0||wt.string(r.language))}t.is=e})(ql||(b.NotebookCellTextDocumentFilter=ql={}));var kl;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!wt.string(r)&&!Pl.is(r)&&!ql.is(r))return!1;return!0}t.is=e})(kl||(b.DocumentSelector=kl={}));var Rv;(function(t){t.method="client/registerCapability",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(Rv||(b.RegistrationRequest=Rv={}));var Tv;(function(t){t.method="client/unregisterCapability",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(Tv||(b.UnregistrationRequest=Tv={}));var Pv;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Pv||(b.ResourceOperationKind=Pv={}));var Ev;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Ev||(b.FailureHandlingKind=Ev={}));var qv;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(qv||(b.PositionEncodingKind=qv={}));var kv;(function(t){function e(n){let r=n;return r&&wt.string(r.id)&&r.id.length>0}t.hasId=e})(kv||(b.StaticRegistrationOptions=kv={}));var xv;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||kl.is(r.documentSelector))}t.is=e})(xv||(b.TextDocumentRegistrationOptions=xv={}));var Iv;(function(t){function e(r){let i=r;return wt.objectLiteral(i)&&(i.workDoneProgress===void 0||wt.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&wt.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(Iv||(b.WorkDoneProgressOptions=Iv={}));var Ov;(function(t){t.method="initialize",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Ov||(b.InitializeRequest=Ov={}));var Nv;(function(t){t.unknownProtocolVersion=1})(Nv||(b.InitializeErrorCodes=Nv={}));var Fv;(function(t){t.method="initialized",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Fv||(b.InitializedNotification=Fv={}));var Mv;(function(t){t.method="shutdown",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType0(t.method)})(Mv||(b.ShutdownRequest=Mv={}));var Av;(function(t){t.method="exit",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType0(t.method)})(Av||(b.ExitNotification=Av={}));var Lv;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Lv||(b.DidChangeConfigurationNotification=Lv={}));var jv;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(jv||(b.MessageType=jv={}));var $v;(function(t){t.method="window/showMessage",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})($v||(b.ShowMessageNotification=$v={}));var Hv;(function(t){t.method="window/showMessageRequest",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(Hv||(b.ShowMessageRequest=Hv={}));var Uv;(function(t){t.method="window/logMessage",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(Uv||(b.LogMessageNotification=Uv={}));var Vv;(function(t){t.method="telemetry/event",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(Vv||(b.TelemetryEventNotification=Vv={}));var Wv;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Wv||(b.TextDocumentSyncKind=Wv={}));var Kv;(function(t){t.method="textDocument/didOpen",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Kv||(b.DidOpenTextDocumentNotification=Kv={}));var zv;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(zv||(b.TextDocumentContentChangeEvent=zv={}));var Bv;(function(t){t.method="textDocument/didChange",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Bv||(b.DidChangeTextDocumentNotification=Bv={}));var Gv;(function(t){t.method="textDocument/didClose",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Gv||(b.DidCloseTextDocumentNotification=Gv={}));var Xv;(function(t){t.method="textDocument/didSave",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Xv||(b.DidSaveTextDocumentNotification=Xv={}));var Jv;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Jv||(b.TextDocumentSaveReason=Jv={}));var Yv;(function(t){t.method="textDocument/willSave",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Yv||(b.WillSaveTextDocumentNotification=Yv={}));var Qv;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Qv||(b.WillSaveTextDocumentWaitUntilRequest=Qv={}));var Zv;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Zv||(b.DidChangeWatchedFilesNotification=Zv={}));var ey;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(ey||(b.FileChangeType=ey={}));var ty;(function(t){function e(n){let r=n;return wt.objectLiteral(r)&&(Dv.URI.is(r.baseUri)||Dv.WorkspaceFolder.is(r.baseUri))&&wt.string(r.pattern)}t.is=e})(ty||(b.RelativePattern=ty={}));var ny;(function(t){t.Create=1,t.Change=2,t.Delete=4})(ny||(b.WatchKind=ny={}));var ry;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(ry||(b.PublishDiagnosticsNotification=ry={}));var iy;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(iy||(b.CompletionTriggerKind=iy={}));var sy;(function(t){t.method="textDocument/completion",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(sy||(b.CompletionRequest=sy={}));var oy;(function(t){t.method="completionItem/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(oy||(b.CompletionResolveRequest=oy={}));var ay;(function(t){t.method="textDocument/hover",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(ay||(b.HoverRequest=ay={}));var cy;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(cy||(b.SignatureHelpTriggerKind=cy={}));var uy;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(uy||(b.SignatureHelpRequest=uy={}));var ly;(function(t){t.method="textDocument/definition",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(ly||(b.DefinitionRequest=ly={}));var dy;(function(t){t.method="textDocument/references",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(dy||(b.ReferencesRequest=dy={}));var fy;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(fy||(b.DocumentHighlightRequest=fy={}));var py;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(py||(b.DocumentSymbolRequest=py={}));var gy;(function(t){t.method="textDocument/codeAction",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(gy||(b.CodeActionRequest=gy={}));var hy;(function(t){t.method="codeAction/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(hy||(b.CodeActionResolveRequest=hy={}));var my;(function(t){t.method="workspace/symbol",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(my||(b.WorkspaceSymbolRequest=my={}));var vy;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(vy||(b.WorkspaceSymbolResolveRequest=vy={}));var yy;(function(t){t.method="textDocument/codeLens",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(yy||(b.CodeLensRequest=yy={}));var wy;(function(t){t.method="codeLens/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(wy||(b.CodeLensResolveRequest=wy={}));var by;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType0(t.method)})(by||(b.CodeLensRefreshRequest=by={}));var Cy;(function(t){t.method="textDocument/documentLink",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Cy||(b.DocumentLinkRequest=Cy={}));var _y;(function(t){t.method="documentLink/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(_y||(b.DocumentLinkResolveRequest=_y={}));var Sy;(function(t){t.method="textDocument/formatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Sy||(b.DocumentFormattingRequest=Sy={}));var Dy;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Dy||(b.DocumentRangeFormattingRequest=Dy={}));var Ry;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Ry||(b.DocumentRangesFormattingRequest=Ry={}));var Ty;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Ty||(b.DocumentOnTypeFormattingRequest=Ty={}));var Py;(function(t){t.Identifier=1})(Py||(b.PrepareSupportDefaultBehavior=Py={}));var Ey;(function(t){t.method="textDocument/rename",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Ey||(b.RenameRequest=Ey={}));var qy;(function(t){t.method="textDocument/prepareRename",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(qy||(b.PrepareRenameRequest=qy={}));var ky;(function(t){t.method="workspace/executeCommand",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(ky||(b.ExecuteCommandRequest=ky={}));var xy;(function(t){t.method="workspace/applyEdit",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType("workspace/applyEdit")})(xy||(b.ApplyWorkspaceEditRequest=xy={}))});var Ly=T(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.createProtocolConnection=void 0;var Ay=vi();function kR(t,e,n,r){return Ay.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ay.createMessageConnection)(t,e,n,r)}ya.createProtocolConnection=kR});var $y=T(en=>{"use strict";var xR=en&&en.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wa=en&&en.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&xR(e,t,n)};Object.defineProperty(en,"__esModule",{value:!0});en.LSPErrorCodes=en.createProtocolConnection=void 0;wa(vi(),en);wa(na(),en);wa(Ge(),en);wa(My(),en);var IR=Ly();Object.defineProperty(en,"createProtocolConnection",{enumerable:!0,get:function(){return IR.createProtocolConnection}});var jy;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(jy||(en.LSPErrorCodes=jy={}))});var se=T(ur=>{"use strict";var OR=ur&&ur.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Hy=ur&&ur.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&OR(e,t,n)};Object.defineProperty(ur,"__esModule",{value:!0});ur.createProtocolConnection=void 0;var NR=wl();Hy(wl(),ur);Hy($y(),ur);function FR(t,e,n,r){return(0,NR.createMessageConnection)(t,e,n,r)}ur.createProtocolConnection=FR});var Yr=T(Ce=>{"use strict";var MR=Ce&&Ce.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),AR=Ce&&Ce.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&MR(e,t,n)};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.LoadedTSFilesMetaRequest=Ce.GetVirtualCodeRequest=Ce.GetVirtualFileRequest=Ce.GetServicePluginsRequest=Ce.UpdateServicePluginStateNotification=Ce.UpdateVirtualCodeStateNotification=Ce.DocumentDrop_DataTransferItemFileDataRequest=Ce.DocumentDrop_DataTransferItemAsStringRequest=Ce.DocumentDropRequest=Ce.ReloadProjectNotification=Ce.WriteVirtualFilesNotification=Ce.AutoInsertRequest=Ce.GetMatchTsConfigRequest=Ce.FindFileReferenceRequest=void 0;var tn=se();AR(se(),Ce);var Uy;(function(t){t.type=new tn.RequestType("volar/client/findFileReference")})(Uy||(Ce.FindFileReferenceRequest=Uy={}));var Vy;(function(t){t.type=new tn.RequestType("volar/client/tsconfig")})(Vy||(Ce.GetMatchTsConfigRequest=Vy={}));var Wy;(function(t){t.type=new tn.RequestType("volar/client/autoInsert")})(Wy||(Ce.AutoInsertRequest=Wy={}));var Ky;(function(t){t.type=new tn.NotificationType("volar/client/writeVirtualFiles")})(Ky||(Ce.WriteVirtualFilesNotification=Ky={}));var zy;(function(t){t.type=new tn.NotificationType("volar/client/reloadProject")})(zy||(Ce.ReloadProjectNotification=zy={}));var By;(function(t){t.type=new tn.RequestType("volar/client/documentDrop")})(By||(Ce.DocumentDropRequest=By={}));var Gy;(function(t){t.type=new tn.RequestType("volar/client/documentDrop/asString")})(Gy||(Ce.DocumentDrop_DataTransferItemAsStringRequest=Gy={}));var Xy;(function(t){t.type=new tn.RequestType("volar/client/documentDrop/fileData")})(Xy||(Ce.DocumentDrop_DataTransferItemFileDataRequest=Xy={}));var Jy;(function(t){t.type=new tn.NotificationType("volar/client/labs/updateVirtualFileState")})(Jy||(Ce.UpdateVirtualCodeStateNotification=Jy={}));var Yy;(function(t){t.type=new tn.NotificationType("volar/client/labs/updateServicePluginState")})(Yy||(Ce.UpdateServicePluginStateNotification=Yy={}));var Qy;(function(t){t.type=new tn.RequestType("volar/client/servicePlugins")})(Qy||(Ce.GetServicePluginsRequest=Qy={}));var Zy;(function(t){t.type=new tn.RequestType("volar/client/virtualFiles")})(Zy||(Ce.GetVirtualFileRequest=Zy={}));var ew;(function(t){t.type=new tn.RequestType("volar/client/virtualFile")})(ew||(Ce.GetVirtualCodeRequest=ew={}));var tw;(function(t){t.type=new tn.RequestType0("volar/client/loadedTsFiles")})(tw||(Ce.LoadedTSFilesMetaRequest=tw={}))});var nw=T(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.activate=jR;var LR=Yr(),nn=require("vscode");function jR(t,e){let n=!1,r;s();let i=[nn.workspace.onDidChangeTextDocument(o,null),nn.window.onDidChangeActiveTextEditor(s,null)];return nn.Disposable.from(...i);function s(){n=!1;let c=nn.window.activeTextEditor;if(!c)return;let u=c.document;nn.languages.match(t,u)&&(n=!0)}function o({document:c,contentChanges:u,reason:f}){if(!n||u.length===0||f===nn.TextDocumentChangeReason.Undo||f===nn.TextDocumentChangeReason.Redo)return;let d=nn.window.activeTextEditor?.document;if(c!==d)return;let g=u[u.length-1];if(g.text.length===0)return;let w=g.text[g.text.length-1],v=e.initializeResult?.capabilities;if(v?.experimental?.autoInsertionProvider){let{triggerCharacters:q,configurationSections:k}=v.experimental.autoInsertionProvider;for(let O=0;O<q.length;O++){let A=q[O],F=k?.[O];if(w.match(new RegExp(A))&&(!F||F.some(j=>nn.workspace.getConfiguration().get(j)))){a(c,g);return}}}}function a(c,u){r&&(clearTimeout(r),r=void 0);let f=c.version,d=()=>c!==nn.window.activeTextEditor?.document||nn.window.activeTextEditor?.document.version!==f;r=setTimeout(async()=>{if(r=void 0,d())return;let g=nn.window.activeTextEditor;if(!g)return;let w=new nn.Range(u.range.start,c.positionAt(c.offsetAt(u.range.start)+u.text.length)),v=g.selections.find(O=>w.contains(O.active))?.active;if(!v)return;let q={textDocument:e.code2ProtocolConverter.asTextDocumentIdentifier(c),selection:e.code2ProtocolConverter.asPosition(v),change:{rangeLength:u.rangeLength,rangeOffset:u.rangeOffset,text:u.text}},k=await e.sendRequest(LR.AutoInsertRequest.type,q);k&&n&&!d()&&g.insertSnippet(new nn.SnippetString(k))},100)}}});var rw=T(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.activate=$R;var Hs=require("vscode"),Al=Yr();function $R(t,e){let n;return Hs.Disposable.from(e.onRequest(Al.DocumentDrop_DataTransferItemAsStringRequest.type,async({mimeType:r})=>await n.get(r)?.asString()??""),e.onRequest(Al.DocumentDrop_DataTransferItemFileDataRequest.type,async({mimeType:r})=>await n.get(r)?.asFile()?.data()??new Uint8Array),Hs.languages.registerDocumentDropEditProvider(t,{async provideDocumentDropEdits(r,i,s){n=s;let o=await e.sendRequest(Al.DocumentDropRequest.type,{textDocument:e.code2ProtocolConverter.asTextDocumentIdentifier(r),position:e.code2ProtocolConverter.asPosition(i),dataTransfer:[...s].map(([a,c])=>{let u=c.asFile();return{mimeType:a,value:c.value,file:u?{name:u.name,uri:u.uri?e.code2ProtocolConverter.asUri(u.uri):void 0}:void 0}})});if(o){let a=new Hs.DocumentDropEdit(o.insertTextFormat===2?new Hs.SnippetString(o.insertText):o.insertText);if(o.additionalEdit&&(a.additionalEdit=await e.protocol2CodeConverter.asWorkspaceEdit(o.additionalEdit)),o.createDataTransferFile){a.additionalEdit??=new Hs.WorkspaceEdit;for(let c of o.createDataTransferFile){let u=s.get(c.contentsMimeType)?.asFile();u&&a.additionalEdit.createFile(e.protocol2CodeConverter.asUri(c.uri),{ignoreIfExists:c.options?.ignoreIfExists,overwrite:c.options?.overwrite,contents:await u.data()})}}return a}}}))}});var iw=T($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.activate=UR;var jl=require("vscode"),HR=Yr();function UR(t,e){return jl.commands.registerCommand(t,()=>{jl.window.activeTextEditor&&e.sendNotification(HR.WriteVirtualFilesNotification.type,e.code2ProtocolConverter.asTextDocumentIdentifier(jl.window.activeTextEditor.document))})}});var Wl=T(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});var Hl;function Ul(){if(Hl===void 0)throw new Error("No runtime abstraction layer installed");return Hl}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Hl=n}t.install=e})(Ul||(Ul={}));Vl.default=Ul});var zl=T(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.config=Xe.loadMessageBundle=Xe.localize=Xe.format=Xe.setPseudo=Xe.isPseudo=Xe.isDefined=Xe.BundleFormat=Xe.MessageFormat=void 0;var ow=Wl(),VR;(function(t){t.file="file",t.bundle="bundle",t.both="both"})(VR=Xe.MessageFormat||(Xe.MessageFormat={}));var WR;(function(t){t.standalone="standalone",t.languagePack="languagePack"})(WR=Xe.BundleFormat||(Xe.BundleFormat={}));var sw;(function(t){function e(n){var r=n;return r&&Kl(r.key)&&Kl(r.comment)}t.is=e})(sw||(sw={}));function Kl(t){return typeof t<"u"}Xe.isDefined=Kl;Xe.isPseudo=!1;function KR(t){Xe.isPseudo=t}Xe.setPseudo=KR;function aw(t,e){var n;return Xe.isPseudo&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),e.length===0?n=t:n=t.replace(/\{(\d+)\}/g,function(r,i){var s=i[0],o=e[s],a=r;return typeof o=="string"?a=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(a=String(o)),a}),n}Xe.format=aw;function zR(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return aw(e,n)}Xe.localize=zR;function BR(t){return(0,ow.default)().loadMessageBundle(t)}Xe.loadMessageBundle=BR;function GR(t){return(0,ow.default)().config(t)}Xe.config=GR});var fw=T(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.config=lr.loadMessageBundle=lr.BundleFormat=lr.MessageFormat=void 0;var Kn=require("path"),Tn=require("fs"),XR=Wl(),rn=zl(),uw=zl();Object.defineProperty(lr,"MessageFormat",{enumerable:!0,get:function(){return uw.MessageFormat}});Object.defineProperty(lr,"BundleFormat",{enumerable:!0,get:function(){return uw.BundleFormat}});var lw=Object.prototype.toString;function JR(t){return lw.call(t)==="[object Number]"}function _r(t){return lw.call(t)==="[object String]"}function YR(t){return t===!0||t===!1}function is(t){return JSON.parse(Tn.readFileSync(t,"utf8"))}var ba,ve;function QR(){if(ve={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:rn.MessageFormat.bundle},_r(process.env.VSCODE_NLS_CONFIG))try{var t=JSON.parse(process.env.VSCODE_NLS_CONFIG),e=void 0;if(t.availableLanguages){var n=t.availableLanguages["*"];_r(n)&&(e=n)}if(_r(t.locale)&&(ve.locale=t.locale.toLowerCase()),e===void 0?ve.language=ve.locale:e!=="en"&&(ve.language=e),YR(t._languagePackSupport)&&(ve.languagePackSupport=t._languagePackSupport),_r(t._cacheRoot)&&(ve.cacheRoot=t._cacheRoot),_r(t._languagePackId)&&(ve.languagePackId=t._languagePackId),_r(t._translationsConfigFile)){ve.translationsConfigFile=t._translationsConfigFile;try{ve.translationsConfig=is(ve.translationsConfigFile)}catch{if(t._corruptedFile){var r=Kn.dirname(t._corruptedFile);Tn.exists(r,function(s){s&&Tn.writeFile(t._corruptedFile,"corrupted","utf8",function(o){console.error(o)})})}}}}catch{}(0,rn.setPseudo)(ve.locale==="pseudo"),ba=Object.create(null)}QR();function ZR(){return ve.languagePackSupport===!0&&ve.cacheRoot!==void 0&&ve.languagePackId!==void 0&&ve.translationsConfigFile!==void 0&&ve.translationsConfig!==void 0}function Bl(t){return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(JR(e)){if(e>=t.length){console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack));return}return(0,rn.format)(t[e],r)}else{if(_r(n))return console.warn("Message ".concat(n," didn't get externalized correctly.")),(0,rn.format)(n,r);console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}}function eT(t){var e;if(ve.cacheLanguageResolution&&e)e=e;else{if(rn.isPseudo||!ve.language)e=".nls.json";else for(var n=ve.language;n;){var r=".nls."+n+".json";if(Tn.existsSync(t+r)){e=r;break}else{var i=n.lastIndexOf("-");i>0?n=n.substring(0,i):(e=".nls.json",n=null)}}ve.cacheLanguageResolution&&(e=e)}return t+e}function tT(t){for(var e=ve.language;e;){var n=Kn.join(t,"nls.bundle.".concat(e,".json"));if(Tn.existsSync(n))return n;var r=e.lastIndexOf("-");r>0?e=e.substring(0,r):e=void 0}if(e===void 0){var n=Kn.join(t,"nls.bundle.json");if(Tn.existsSync(n))return n}}function nT(t){var e=is(Kn.join(t,"nls.metadata.json")),n=Object.create(null);for(var r in e){var i=e[r];n[r]=i.messages}return n}function rT(t,e){var n=ve.translationsConfig[t.id];if(n){var r=is(n).contents,i=is(Kn.join(e,"nls.metadata.json")),s=Object.create(null);for(var o in i){var a=i[o],c=r["".concat(t.outDir,"/").concat(o)];if(c){for(var u=[],f=0;f<a.keys.length;f++){var d=a.keys[f],g=_r(d)?d:d.key,w=c[g];w===void 0&&(w=a.messages[f]),u.push(w)}s[o]=u}else s[o]=a.messages}return s}}function iT(t){var e=new Date;Tn.utimes(t,e,e,function(){})}function Gl(t,e){return ba[t]=e,e}function sT(t,e){var n,r=Kn.join(ve.cacheRoot,"".concat(t.id,"-").concat(t.hash,".json")),i=!1,s=!1;try{return n=JSON.parse(Tn.readFileSync(r,{encoding:"utf8",flag:"r"})),iT(r),n}catch(o){if(o.code==="ENOENT")s=!0;else if(o instanceof SyntaxError)console.log("Syntax error parsing message bundle: ".concat(o.message,".")),Tn.unlink(r,function(a){a&&console.error("Deleting corrupted bundle ".concat(r," failed."))}),i=!0;else throw o}if(n=rT(t,e),!n||i)return n;if(s)try{Tn.writeFileSync(r,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(o){if(o.code==="EEXIST")return n;throw o}return n}function cw(t){try{return nT(t)}catch(e){console.log("Generating default bundle from meta data failed.",e);return}}function oT(t,e){var n;if(ZR())try{n=sT(t,e)}catch(i){console.log("Load or create bundle failed ",i)}if(!n){if(ve.languagePackSupport)return cw(e);var r=tT(e);if(r)try{return is(r)}catch(i){console.log("Loading in the box message bundle failed.",i)}n=cw(e)}return n}function aT(t){for(var e,n=Kn.dirname(t);e=Kn.join(n,"nls.metadata.header.json"),!Tn.existsSync(e);){var r=Kn.dirname(n);if(r===n){e=void 0;break}else n=r}return e}function Xl(t){if(!t)return rn.localize;var e=Kn.extname(t);if(e&&(t=t.substr(0,t.length-e.length)),ve.messageFormat===rn.MessageFormat.both||ve.messageFormat===rn.MessageFormat.bundle){var n=aT(t);if(n){var r=Kn.dirname(n),i=ba[r];if(i===void 0)try{var s=JSON.parse(Tn.readFileSync(n,"utf8"));try{var o=oT(s,r);i=Gl(r,o?{header:s,nlsBundle:o}:null)}catch(f){console.error("Failed to load nls bundle",f),i=Gl(r,null)}}catch(f){console.error("Failed to read header file",f),i=Gl(r,null)}if(i){var a=t.substr(r.length+1).replace(/\\/g,"/"),c=i.nlsBundle[a];return c===void 0?(console.error("Messages for file ".concat(t," not found. See console for details.")),function(){return"Messages not found."}):Bl(c)}}}if(ve.messageFormat===rn.MessageFormat.both||ve.messageFormat===rn.MessageFormat.file)try{var u=is(eT(t));return Array.isArray(u)?Bl(u):(0,rn.isDefined)(u.messages)&&(0,rn.isDefined)(u.keys)?Bl(u.messages):(console.error("String bundle '".concat(t,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(f){f.code!=="ENOENT"&&console.error("Failed to load single file bundle",f)}return console.error("Failed to load message bundle for file ".concat(t)),function(){return"Failed to load message bundle. See console for details."}}lr.loadMessageBundle=Xl;function dw(t){return t&&(_r(t.locale)&&(ve.locale=t.locale.toLowerCase(),ve.language=ve.locale,ba=Object.create(null)),t.messageFormat!==void 0&&(ve.messageFormat=t.messageFormat),t.bundleFormat===rn.BundleFormat.standalone&&ve.languagePackSupport===!0&&(ve.languagePackSupport=!1)),(0,rn.setPseudo)(ve.locale==="pseudo"),Xl}lr.config=dw;XR.default.install(Object.freeze({loadMessageBundle:Xl,config:dw}))});var pw=T(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.activate=dT;var wi=require("vscode"),cT=fw(),uT=Yr(),lT=cT.loadMessageBundle();function dT(t,e){return wi.commands.registerCommand(t,async n=>{await wi.window.withProgress({location:wi.ProgressLocation.Window,title:lT("progress.title","Finding file references")},async r=>{if(!n){let c=wi.window.activeTextEditor;if(!c)return;n=c.document.uri}let i=await e.sendRequest(uT.FindFileReferenceRequest.type,{textDocument:{uri:n.toString()}});if(!i)return;let s=i.map(c=>e.protocol2CodeConverter.asLocation(c)),o=wi.workspace.getConfiguration("references"),a=o.inspect("preferredLocation");await o.update("preferredLocation","view");try{await wi.commands.executeCommand("editor.action.showReferences",n,new wi.Position(0,0),s)}finally{await o.update("preferredLocation",a?.workspaceFolderValue??a?.workspaceValue)}})})}});var gw=T(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.activate=pT;var Yl=require("vscode"),fT=Yr();function pT(t,e){return Yl.commands.registerCommand(t,()=>{Yl.window.activeTextEditor&&e.sendNotification(fT.ReloadProjectNotification.type,e.code2ProtocolConverter.asTextDocumentIdentifier(Yl.window.activeTextEditor.document))})}});var Zl=T((tF,mw)=>{"use strict";function dr(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function hw(t,e){for(var n="",r=0,i=-1,s=0,o,a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}function gT(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var ss={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),dr(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=hw(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(dr(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=hw(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return dr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];dr(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":ss.normalize(e)},relative:function(e,n){if(dr(e),dr(n),e===n||(e=ss.resolve(e),n=ss.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var a=n.length,c=a-o,u=s<c?s:c,f=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(n.charCodeAt(o+d)===47)return n.slice(o+d+1);if(d===0)return n.slice(o+d)}else s>u&&(e.charCodeAt(r+d)===47?f=d:d===0&&(f=0));break}var g=e.charCodeAt(r+d),w=n.charCodeAt(o+d);if(g!==w)break;g===47&&(f=d)}var v="";for(d=r+f+1;d<=i;++d)(d===i||e.charCodeAt(d)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(o+f):(o+=f,n.charCodeAt(o)===47&&++o,n.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(dr(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===47){if(!s){i=o;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');dr(e);var r=0,i=-1,s=!0,o;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){r=o+1;break}}else c===-1&&(s=!1,c=o+1),a>=0&&(u===n.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){r=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(r,i)}},extname:function(e){dr(e);for(var n=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}continue}i===-1&&(s=!1,i=a+1),c===46?n===-1?n=a:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||i===-1||o===0||o===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return gT("/",e)},parse:function(e){dr(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var o=-1,a=0,c=-1,u=!0,f=e.length-1,d=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!u){a=f+1;break}continue}c===-1&&(u=!1,c=f+1),r===46?o===-1?o=f:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||c===-1||d===0||d===1&&o===c-1&&o===a+1?c!==-1&&(a===0&&i?n.base=n.name=e.slice(1,c):n.base=n.name=e.slice(a,c)):(a===0&&i?(n.name=e.slice(1,o),n.base=e.slice(1,c)):(n.name=e.slice(a,o),n.base=e.slice(a,c)),n.ext=e.slice(o,c)),a>0?n.dir=e.slice(0,a-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};ss.posix=ss;mw.exports=ss});var vw=T(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.activate=vT;var zn=require("vscode"),hT=Yr(),mT=Zl();function vT(t,e,n){let r=[],i=zn.languages.createLanguageStatusItem(e,t),s,o;a(),zn.window.onDidChangeActiveTextEditor(()=>{clearTimeout(o),o=setTimeout(()=>a,100)},void 0,r),r.push(zn.commands.registerCommand(e,async()=>{if(s){let c=await zn.workspace.openTextDocument(s);await zn.window.showTextDocument(c)}})),r.push(...r);async function a(){if(!zn.window.activeTextEditor||!zn.languages.match(t,zn.window.activeTextEditor.document))return;let c=await n.sendRequest(hT.GetMatchTsConfigRequest.type,n.code2ProtocolConverter.asTextDocumentIdentifier(zn.window.activeTextEditor.document));c?.uri?(s=zn.Uri.parse(c.uri),i.text=mT.relative(zn.workspace.rootPath?.replace(/\\/g,"/")||"/",s.fsPath.replace(/\\/g,"/")),i.command={title:"Open config file",command:e}):(i.text="No tsconfig",i.command=void 0)}}});var Ca=T(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.quickPick=yT;var yw=require("vscode");function yT(t,e){return new Promise(n=>{let r=yw.window.createQuickPick(),i=[];for(let s of Array.isArray(t)?t:[t]){let o=Object.values(s);if(o.length){i.length&&i.push({label:"",kind:yw.QuickPickItemKind.Separator});for(let a of o)a&&i.push(a)}}r.items=i,r.placeholder=e,r.onDidChangeSelection(s=>{if(s[0])for(let o of Array.isArray(t)?t:[t])for(let a in o){let c=o[a];if(s[0]===c){n(a),r.hide();break}}}),r.onDidHide(()=>{r.dispose(),n(void 0)}),r.show()})}});var ww=T(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.readFile=bT;Us.readDirectory=CT;Us.stat=_T;var nd=require("vscode"),wT=new TextDecoder("utf8");async function bT(t){try{return wT.decode(await nd.workspace.fs.readFile(t))}catch{}}async function CT(t){try{return await nd.workspace.fs.readDirectory(t)}catch{return[]}}async function _T(t){try{return await nd.workspace.fs.stat(t)}catch{}}});var bw=T((sF,ST)=>{ST.exports={name:"typescript",author:"Microsoft Corp.",homepage:"https://www.typescriptlang.org/",version:"5.6.3",license:"Apache-2.0",description:"TypeScript is a language for application scale JavaScript development",keywords:["TypeScript","Microsoft","compiler","language","javascript"],bugs:{url:"https://github.com/microsoft/TypeScript/issues"},repository:{type:"git",url:"https://github.com/microsoft/TypeScript.git"},main:"./lib/typescript.js",typings:"./lib/typescript.d.ts",bin:{tsc:"./bin/tsc",tsserver:"./bin/tsserver"},engines:{node:">=14.17"},files:["bin","lib","!lib/enu","LICENSE.txt","README.md","SECURITY.md","ThirdPartyNoticeText.txt","!**/.gitattributes"],devDependencies:{"@dprint/formatter":"^0.4.1","@dprint/typescript":"0.91.6","@esfx/canceltoken":"^1.0.0","@eslint/js":"^9.9.0","@octokit/rest":"^21.0.1","@types/chai":"^4.3.17","@types/diff":"^5.2.1","@types/minimist":"^1.2.5","@types/mocha":"^10.0.7","@types/ms":"^0.7.34","@types/node":"latest","@types/source-map-support":"^0.5.10","@types/which":"^3.0.4","@typescript-eslint/rule-tester":"^8.1.0","@typescript-eslint/type-utils":"^8.1.0","@typescript-eslint/utils":"^8.1.0","azure-devops-node-api":"^14.0.2",c8:"^10.1.2",chai:"^4.5.0",chalk:"^4.1.2",chokidar:"^3.6.0",diff:"^5.2.0",dprint:"^0.47.2",esbuild:"^0.23.0",eslint:"^9.9.0","eslint-formatter-autolinkable-stylish":"^1.4.0","eslint-plugin-regexp":"^2.6.0","fast-xml-parser":"^4.4.1",glob:"^10.4.5",globals:"^15.9.0",hereby:"^1.9.0","jsonc-parser":"^3.3.1",knip:"^5.27.2",minimist:"^1.2.8",mocha:"^10.7.3","mocha-fivemat-progress-reporter":"^0.1.0","monocart-coverage-reports":"^2.10.2",ms:"^2.1.3","node-fetch":"^3.3.2",playwright:"^1.46.0","source-map-support":"^0.5.21",tslib:"^2.6.3",typescript:"^5.5.4","typescript-eslint":"^8.1.0",which:"^3.0.1"},overrides:{"typescript@*":"$typescript"},scripts:{test:"hereby runtests-parallel --light=false","test:eslint-rules":"hereby run-eslint-rules-tests",build:"npm run build:compiler && npm run build:tests","build:compiler":"hereby local","build:tests":"hereby tests","build:tests:notypecheck":"hereby tests --no-typecheck",clean:"hereby clean",gulp:"hereby",lint:"hereby lint",knip:"hereby knip",format:"dprint fmt","setup-hooks":"node scripts/link-hooks.mjs"},browser:{fs:!1,os:!1,path:!1,crypto:!1,buffer:!1,"source-map-support":!1,inspector:!1,perf_hooks:!1},packageManager:"npm@8.19.4",volta:{node:"20.1.0",npm:"8.19.4"},gitHead:"d48a5cf89a62a62d6c6ed53ffa18f070d9458b85"}});var Sw=T(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.activate=RT;Da.getTsdk=sd;var Sa=Zl(),lt=require("vscode"),DT=Ca(),id=ww(),_a="node_modules/typescript/lib",rd="typescript.tsdk";function RT(t,e,n,r,i){let s=[],o=lt.languages.createLanguageStatusItem(e,t);return o.command={title:"Select Version",command:e},s.push({dispose:()=>o.dispose()}),s.push(lt.commands.registerCommand(e,a)),lt.workspace.onDidChangeConfiguration(c,void 0,s),lt.window.onDidChangeActiveTextEditor(u,void 0,s),u(),lt.Disposable.from(...s);async function a(){let f=await sd(n),d=_w(),g=await Cw(),w=!!g,v=!!d&&!g?.isWeb,q=d!==_a&&!g?.isWeb;if(!w&&!v&&!q){await lt.window.showErrorMessage(`Could not find any TypeScript version. Please point your \`${rd}\` setting to a valid TypeScript distribution.`,"Open Settings")==="Open Settings"&&lt.commands.executeCommand("workbench.action.openSettings",rd);return}let k=await(0,DT.quickPick)([{useVSCodeTsdk:w?{label:(f?.isWorkspacePath?"":"\u2022 ")+"Use VS Code's Version",description:g.version,detail:g.isWeb?g.path:void 0}:void 0,useConfigWorkspaceTsdk:v?{label:(f?.isWorkspacePath?"\u2022 ":"")+"Use Workspace Version",description:await Vs(await od(d)??"/")??"Could not load the TypeScript version at this path",detail:d}:void 0,useDefaultWorkspaceTsdk:q?{label:(f?.isWorkspacePath?"\u2022 ":"")+"Use Workspace Version",description:await Vs(await od(_a)??"/")??"Could not load the TypeScript version at this path",detail:_a}:void 0}]);if(k===void 0)return;k==="useDefaultWorkspaceTsdk"&&await lt.workspace.getConfiguration("typescript").update("tsdk",_a);let O=k==="useConfigWorkspaceTsdk"||k==="useDefaultWorkspaceTsdk";O!==ad(n)&&(n.workspaceState.update("typescript.useWorkspaceTsdk",O),i?.()),u()}function c(f){f.affectsConfiguration(rd)&&ad(n)&&i?.()}async function u(){let f=(await sd(n))?.version;o.text=f??"x.x.x",o.text=r(o.text)}}async function sd(t){if(ad(t)){let n=_w();if(n){let r=await od(n);if(r){let i=await Vs(r);if(i!==void 0)return{tsdk:r,version:i,isWorkspacePath:!0}}}}let e=await Cw();return e?{tsdk:e.path,version:e.version,isWorkspacePath:!1}:void 0}async function od(t){if(Sa.isAbsolute(t)){let e=lt.Uri.joinPath(lt.Uri.file(t),"typescript.js");if((await id.stat(e))?.type===lt.FileType.File)return t}else if(lt.workspace.workspaceFolders)for(let e of lt.workspace.workspaceFolders){let n=Sa.join(e.uri.fsPath.replace(/\\/g,"/"),t),r=lt.Uri.joinPath(lt.Uri.file(n),"typescript.js");if((await id.stat(r))?.type===lt.FileType.File)return n}}async function Cw(){let t=lt.extensions.getExtension("ms-vscode.vscode-typescript-next");if(t){let n=Sa.join(t.extensionPath.replace(/\\/g,"/"),"node_modules/typescript/lib"),r=await Vs(n);return r?{path:n,version:r,isWeb:!1}:void 0}if(lt.env.appRoot){let n=Sa.join(lt.env.appRoot.replace(/\\/g,"/"),"extensions/node_modules/typescript/lib"),r=await Vs(n);return r?{path:n,version:r,isWeb:!1}:void 0}let e=bw().version;return{path:`/node_modules/typescript@${e}/lib`,version:e,isWeb:!0}}function _w(){return lt.workspace.getConfiguration("typescript").get("tsdk")?.replace(/\\/g,"/")}function ad(t){return t.workspaceState.get("typescript.useWorkspaceTsdk",!1)}async function Vs(t){let i=t.toString().split("/").slice(0,-1).join("/")+"/package.json";try{let s=await id.readFile(lt.Uri.file(i));if(s===void 0)return;let o=JSON.parse(s);return!o||typeof o.version!="string"?void 0:o.version}catch{return}}});var Pn=T(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.asPromise=st.thenable=st.typedArray=st.stringArray=st.array=st.func=st.error=st.number=st.string=st.boolean=void 0;function TT(t){return t===!0||t===!1}st.boolean=TT;function Dw(t){return typeof t=="string"||t instanceof String}st.string=Dw;function PT(t){return typeof t=="number"||t instanceof Number}st.number=PT;function ET(t){return t instanceof Error}st.error=ET;function Rw(t){return typeof t=="function"}st.func=Rw;function Tw(t){return Array.isArray(t)}st.array=Tw;function qT(t){return Tw(t)&&t.every(e=>Dw(e))}st.stringArray=qT;function kT(t,e){return Array.isArray(t)&&t.every(e)}st.typedArray=kT;function Pw(t){return t&&Rw(t.then)}st.thenable=Pw;function xT(t){return t instanceof Promise?t:Pw(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}st.asPromise=xT});var Ra=T(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.forEach=Nt.mapAsync=Nt.map=Nt.clearTestMode=Nt.setTestMode=Nt.Semaphore=Nt.Delayer=void 0;var Ks=se(),cd=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,Ks.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Nt.Delayer=cd;var ud=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ks.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Nt.Semaphore=ud;var ld=!1;function IT(){ld=!0}Nt.setTestMode=IT;function OT(){ld=!1}Nt.clearTestMode=OT;var Ew=15,Ws=class{constructor(e=Ew){this.yieldAfter=ld===!0?Math.max(e,2):Math.max(e,Ew),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function NT(t,e,n,r){if(t.length===0)return[];let i=new Array(t.length),s=new Ws(r?.yieldAfter);function o(c){s.start();for(let u=c;u<t.length;u++)if(i[u]=e(t[u]),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Ks.RAL)().timer.setImmediate(()=>{c(o(a))})});return i}Nt.map=NT;async function FT(t,e,n,r){if(t.length===0)return[];let i=new Array(t.length),s=new Ws(r?.yieldAfter);async function o(c){s.start();for(let u=c;u<t.length;u++)if(i[u]=await e(t[u],n),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Ks.RAL)().timer.setImmediate(()=>{c(o(a))})});return i}Nt.mapAsync=FT;async function MT(t,e,n,r){if(t.length===0)return;let i=new Ws(r?.yieldAfter);function s(a){i.start();for(let c=a;c<t.length;c++)if(e(t[c]),i.shouldYield())return r?.yieldCallback&&r.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,Ks.RAL)().timer.setImmediate(()=>{a(s(o))})})}Nt.forEach=MT});var pd=T(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var AT=require("vscode"),dd=class extends AT.CompletionItem{constructor(e){super(e)}};fd.default=dd});var md=T(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});var LT=require("vscode"),gd=class extends LT.CodeLens{constructor(e){super(e)}};hd.default=gd});var wd=T(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});var jT=require("vscode"),vd=class extends jT.DocumentLink{constructor(e,n){super(e,n)}};yd.default=vd});var _d=T(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var $T=require("vscode"),bd=class extends $T.CodeAction{constructor(e,n){super(e),this.data=n}};Cd.default=bd});var Rd=T(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.ProtocolDiagnostic=os.DiagnosticCode=void 0;var HT=require("vscode"),Sd=Pn(),qw;(function(t){function e(n){let r=n;return r!=null&&(Sd.number(r.value)||Sd.string(r.value))&&Sd.string(r.target)}t.is=e})(qw||(os.DiagnosticCode=qw={}));var Dd=class extends HT.Diagnostic{constructor(e,n,r,i){super(e,n,r),this.data=i,this.hasDiagnosticCode=!1}};os.ProtocolDiagnostic=Dd});var Ed=T(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var UT=require("vscode"),Td=class extends UT.CallHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o),a!==void 0&&(this.data=a)}};Pd.default=Td});var xd=T(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});var VT=require("vscode"),qd=class extends VT.TypeHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o),a!==void 0&&(this.data=a)}};kd.default=qd});var Nd=T(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});var Ta=require("vscode"),Id=class extends Ta.SymbolInformation{constructor(e,n,r,i,s){let o=!(i instanceof Ta.Uri);super(e,n,r,o?i:new Ta.Location(i,new Ta.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};Od.default=Id});var Ad=T(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var WT=require("vscode"),Fd=class extends WT.InlayHint{constructor(e,n,r){super(e,n,r)}};Md.default=Fd});var Ow=T(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.createConverter=void 0;var gt=require("vscode"),ae=se(),bi=Pn(),kw=Ra(),KT=pd(),zT=md(),BT=wd(),xw=_d(),Iw=Rd(),GT=Ed(),XT=xd(),JT=Nd(),YT=Ad(),Ld;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(Ld||(Ld={}));function QT(t){let n=t||(h=>h.toString());function r(h){return n(h)}function i(h){return{uri:n(h.uri)}}function s(h){return{uri:n(h.uri),languageId:h.languageId,version:h.version,text:h.getText()}}function o(h){return{uri:n(h.uri),version:h.version}}function a(h){return{textDocument:s(h)}}function c(h){let x=h;return!!x.document&&!!x.contentChanges}function u(h){let x=h;return!!x.uri&&!!x.version}function f(h,x,Y){if(u(h))return{textDocument:{uri:n(h.uri),version:h.version},contentChanges:[{text:h.getText()}]};if(c(h)){let Pe=x,R=Y;return{textDocument:{uri:n(Pe),version:R},contentChanges:h.contentChanges.map(_=>{let S=_.range;return{range:{start:{line:S.start.line,character:S.start.character},end:{line:S.end.line,character:S.end.character}},rangeLength:_.rangeLength,text:_.text}})}}else throw Error("Unsupported text document change parameter")}function d(h){return{textDocument:i(h)}}function g(h,x=!1){let Y={textDocument:i(h)};return x&&(Y.text=h.getText()),Y}function w(h){switch(h){case gt.TextDocumentSaveReason.Manual:return ae.TextDocumentSaveReason.Manual;case gt.TextDocumentSaveReason.AfterDelay:return ae.TextDocumentSaveReason.AfterDelay;case gt.TextDocumentSaveReason.FocusOut:return ae.TextDocumentSaveReason.FocusOut}return ae.TextDocumentSaveReason.Manual}function v(h){return{textDocument:i(h.document),reason:w(h.reason)}}function q(h){return{files:h.files.map(x=>({uri:n(x)}))}}function k(h){return{files:h.files.map(x=>({oldUri:n(x.oldUri),newUri:n(x.newUri)}))}}function O(h){return{files:h.files.map(x=>({uri:n(x)}))}}function A(h){return{files:h.files.map(x=>({uri:n(x)}))}}function F(h){return{files:h.files.map(x=>({oldUri:n(x.oldUri),newUri:n(x.newUri)}))}}function j(h){return{files:h.files.map(x=>({uri:n(x)}))}}function H(h,x){return{textDocument:i(h),position:_t(x)}}function te(h){switch(h){case gt.CompletionTriggerKind.TriggerCharacter:return ae.CompletionTriggerKind.TriggerCharacter;case gt.CompletionTriggerKind.TriggerForIncompleteCompletions:return ae.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ae.CompletionTriggerKind.Invoked}}function G(h,x,Y){return{textDocument:i(h),position:_t(x),context:{triggerKind:te(Y.triggerKind),triggerCharacter:Y.triggerCharacter}}}function ne(h){switch(h){case gt.SignatureHelpTriggerKind.Invoke:return ae.SignatureHelpTriggerKind.Invoked;case gt.SignatureHelpTriggerKind.TriggerCharacter:return ae.SignatureHelpTriggerKind.TriggerCharacter;case gt.SignatureHelpTriggerKind.ContentChange:return ae.SignatureHelpTriggerKind.ContentChange}}function pe(h){return{label:h.label}}function ct(h){return h.map(pe)}function nt(h){return{label:h.label,parameters:ct(h.parameters)}}function dt(h){return h.map(nt)}function Cn(h){return h===void 0?h:{signatures:dt(h.signatures),activeSignature:h.activeSignature,activeParameter:h.activeParameter}}function jt(h,x,Y){return{textDocument:i(h),position:_t(x),context:{isRetrigger:Y.isRetrigger,triggerCharacter:Y.triggerCharacter,triggerKind:ne(Y.triggerKind),activeSignatureHelp:Cn(Y.activeSignatureHelp)}}}function _t(h){return{line:h.line,character:h.character}}function St(h){return h==null?h:{line:h.line>ae.uinteger.MAX_VALUE?ae.uinteger.MAX_VALUE:h.line,character:h.character>ae.uinteger.MAX_VALUE?ae.uinteger.MAX_VALUE:h.character}}function An(h,x){return kw.map(h,St,x)}function Qn(h){return h.map(St)}function Ue(h){return h==null?h:{start:St(h.start),end:St(h.end)}}function Gt(h){return h.map(Ue)}function $t(h){return h==null?h:ae.Location.create(r(h.uri),Ue(h.range))}function Dt(h){switch(h){case gt.DiagnosticSeverity.Error:return ae.DiagnosticSeverity.Error;case gt.DiagnosticSeverity.Warning:return ae.DiagnosticSeverity.Warning;case gt.DiagnosticSeverity.Information:return ae.DiagnosticSeverity.Information;case gt.DiagnosticSeverity.Hint:return ae.DiagnosticSeverity.Hint}}function Ar(h){if(!h)return;let x=[];for(let Y of h){let Pe=Zn(Y);Pe!==void 0&&x.push(Pe)}return x.length>0?x:void 0}function Zn(h){switch(h){case gt.DiagnosticTag.Unnecessary:return ae.DiagnosticTag.Unnecessary;case gt.DiagnosticTag.Deprecated:return ae.DiagnosticTag.Deprecated;default:return}}function er(h){return{message:h.message,location:$t(h.location)}}function mr(h){return h.map(er)}function Lr(h){if(h!=null)return bi.number(h)||bi.string(h)?h:{value:h.value,target:r(h.target)}}function tr(h){let x=ae.Diagnostic.create(Ue(h.range),h.message),Y=h instanceof Iw.ProtocolDiagnostic?h:void 0;Y!==void 0&&Y.data!==void 0&&(x.data=Y.data);let Pe=Lr(h.code);return Iw.DiagnosticCode.is(Pe)?Y!==void 0&&Y.hasDiagnosticCode?x.code=Pe:(x.code=Pe.value,x.codeDescription={href:Pe.target}):x.code=Pe,bi.number(h.severity)&&(x.severity=Dt(h.severity)),Array.isArray(h.tags)&&(x.tags=Ar(h.tags)),h.relatedInformation&&(x.relatedInformation=mr(h.relatedInformation)),h.source&&(x.source=h.source),x}function Ln(h,x){return h==null?h:kw.map(h,tr,x)}function jn(h){return h==null?h:h.map(tr)}function nr(h,x){switch(h){case"$string":return x;case ae.MarkupKind.PlainText:return{kind:h,value:x};case ae.MarkupKind.Markdown:return{kind:h,value:x.value};default:return`Unsupported Markup content received. Kind is: ${h}`}}function ft(h){switch(h){case gt.CompletionItemTag.Deprecated:return ae.CompletionItemTag.Deprecated}}function vr(h){if(h===void 0)return h;let x=[];for(let Y of h){let Pe=ft(Y);Pe!==void 0&&x.push(Pe)}return x}function $n(h,x){return x!==void 0?x:h+1}function _n(h,x=!1){let Y,Pe;bi.string(h.label)?Y=h.label:(Y=h.label.label,x&&(h.label.detail!==void 0||h.label.description!==void 0)&&(Pe={detail:h.label.detail,description:h.label.description}));let R={label:Y};Pe!==void 0&&(R.labelDetails=Pe);let m=h instanceof KT.default?h:void 0;h.detail&&(R.detail=h.detail),h.documentation&&(!m||m.documentationFormat==="$string"?R.documentation=h.documentation:R.documentation=nr(m.documentationFormat,h.documentation)),h.filterText&&(R.filterText=h.filterText),jr(R,h),bi.number(h.kind)&&(R.kind=$n(h.kind,m&&m.originalItemKind)),h.sortText&&(R.sortText=h.sortText),h.additionalTextEdits&&(R.additionalTextEdits=ut(h.additionalTextEdits)),h.commitCharacters&&(R.commitCharacters=h.commitCharacters.slice()),h.command&&(R.command=z(h.command)),(h.preselect===!0||h.preselect===!1)&&(R.preselect=h.preselect);let _=vr(h.tags);if(m){if(m.data!==void 0&&(R.data=m.data),m.deprecated===!0||m.deprecated===!1){if(m.deprecated===!0&&_!==void 0&&_.length>0){let S=_.indexOf(gt.CompletionItemTag.Deprecated);S!==-1&&_.splice(S,1)}R.deprecated=m.deprecated}m.insertTextMode!==void 0&&(R.insertTextMode=m.insertTextMode)}return _!==void 0&&_.length>0&&(R.tags=_),R.insertTextMode===void 0&&h.keepWhitespace===!0&&(R.insertTextMode=ae.InsertTextMode.adjustIndentation),R}function jr(h,x){let Y=ae.InsertTextFormat.PlainText,Pe,R;x.textEdit?(Pe=x.textEdit.newText,R=x.textEdit.range):x.insertText instanceof gt.SnippetString?(Y=ae.InsertTextFormat.Snippet,Pe=x.insertText.value):Pe=x.insertText,x.range&&(R=x.range),h.insertTextFormat=Y,x.fromEdit&&Pe!==void 0&&R!==void 0?h.textEdit=Sn(Pe,R):h.insertText=Pe}function Sn(h,x){return Ld.is(x)?ae.InsertReplaceEdit.create(h,Ue(x.inserting),Ue(x.replacing)):{newText:h,range:Ue(x)}}function rr(h){return{range:Ue(h.range),newText:h.newText}}function ut(h){return h==null?h:h.map(rr)}function kt(h){return h<=gt.SymbolKind.TypeParameter?h+1:ae.SymbolKind.Property}function Rt(h){return h}function ln(h){return h.map(Rt)}function Xt(h,x,Y){return{textDocument:i(h),position:_t(x),context:{includeDeclaration:Y.includeDeclaration}}}async function ir(h,x){let Y=ae.CodeAction.create(h.title);if(h instanceof xw.default&&h.data!==void 0&&(Y.data=h.data),h.kind!==void 0&&(Y.kind=C(h.kind)),h.diagnostics!==void 0&&(Y.diagnostics=await Ln(h.diagnostics,x)),h.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return h.command!==void 0&&(Y.command=z(h.command)),h.isPreferred!==void 0&&(Y.isPreferred=h.isPreferred),h.disabled!==void 0&&(Y.disabled={reason:h.disabled.reason}),Y}function yr(h){let x=ae.CodeAction.create(h.title);if(h instanceof xw.default&&h.data!==void 0&&(x.data=h.data),h.kind!==void 0&&(x.kind=C(h.kind)),h.diagnostics!==void 0&&(x.diagnostics=jn(h.diagnostics)),h.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return h.command!==void 0&&(x.command=z(h.command)),h.isPreferred!==void 0&&(x.isPreferred=h.isPreferred),h.disabled!==void 0&&(x.disabled={reason:h.disabled.reason}),x}async function Hn(h,x){if(h==null)return h;let Y;return h.only&&bi.string(h.only.value)&&(Y=[h.only.value]),ae.CodeActionContext.create(await Ln(h.diagnostics,x),Y,Ht(h.triggerKind))}function wr(h){if(h==null)return h;let x;return h.only&&bi.string(h.only.value)&&(x=[h.only.value]),ae.CodeActionContext.create(jn(h.diagnostics),x,Ht(h.triggerKind))}function Ht(h){switch(h){case gt.CodeActionTriggerKind.Invoke:return ae.CodeActionTriggerKind.Invoked;case gt.CodeActionTriggerKind.Automatic:return ae.CodeActionTriggerKind.Automatic;default:return}}function C(h){if(h!=null)return h.value}function N(h){return h==null?h:ae.InlineValueContext.create(h.frameId,Ue(h.stoppedLocation))}function V(h,x,Y){return{context:ae.InlineCompletionContext.create(Y.triggerKind,Y.selectedCompletionInfo),textDocument:i(h),position:St(x)}}function z(h){let x=ae.Command.create(h.title,h.command);return h.arguments&&(x.arguments=h.arguments),x}function De(h){let x=ae.CodeLens.create(Ue(h.range));return h.command&&(x.command=z(h.command)),h instanceof zT.default&&h.data&&(x.data=h.data),x}function _e(h,x){let Y={tabSize:h.tabSize,insertSpaces:h.insertSpaces};return x.trimTrailingWhitespace&&(Y.trimTrailingWhitespace=!0),x.trimFinalNewlines&&(Y.trimFinalNewlines=!0),x.insertFinalNewline&&(Y.insertFinalNewline=!0),Y}function ke(h){return{textDocument:i(h)}}function Me(h){return{textDocument:i(h)}}function de(h){let x=ae.DocumentLink.create(Ue(h.range));h.target&&(x.target=r(h.target)),h.tooltip!==void 0&&(x.tooltip=h.tooltip);let Y=h instanceof BT.default?h:void 0;return Y&&Y.data&&(x.data=Y.data),x}function Te(h){return{textDocument:i(h)}}function me(h){let x={name:h.name,kind:kt(h.kind),uri:r(h.uri),range:Ue(h.range),selectionRange:Ue(h.selectionRange)};return h.detail!==void 0&&h.detail.length>0&&(x.detail=h.detail),h.tags!==void 0&&(x.tags=ln(h.tags)),h instanceof GT.default&&h.data!==void 0&&(x.data=h.data),x}function Ae(h){let x={name:h.name,kind:kt(h.kind),uri:r(h.uri),range:Ue(h.range),selectionRange:Ue(h.selectionRange)};return h.detail!==void 0&&h.detail.length>0&&(x.detail=h.detail),h.tags!==void 0&&(x.tags=ln(h.tags)),h instanceof XT.default&&h.data!==void 0&&(x.data=h.data),x}function rt(h){let x=h instanceof JT.default?{name:h.name,kind:kt(h.kind),location:h.hasRange?$t(h.location):{uri:n(h.location.uri)},data:h.data}:{name:h.name,kind:kt(h.kind),location:$t(h.location)};return h.tags!==void 0&&(x.tags=ln(h.tags)),h.containerName!==""&&(x.containerName=h.containerName),x}function vt(h){let x=typeof h.label=="string"?h.label:h.label.map($r),Y=ae.InlayHint.create(St(h.position),x);return h.kind!==void 0&&(Y.kind=h.kind),h.textEdits!==void 0&&(Y.textEdits=ut(h.textEdits)),h.tooltip!==void 0&&(Y.tooltip=Hr(h.tooltip)),h.paddingLeft!==void 0&&(Y.paddingLeft=h.paddingLeft),h.paddingRight!==void 0&&(Y.paddingRight=h.paddingRight),h instanceof YT.default&&h.data!==void 0&&(Y.data=h.data),Y}function $r(h){let x=ae.InlayHintLabelPart.create(h.value);return h.location!==void 0&&(x.location=$t(h.location)),h.command!==void 0&&(x.command=z(h.command)),h.tooltip!==void 0&&(x.tooltip=Hr(h.tooltip)),x}function Hr(h){return typeof h=="string"?h:{kind:ae.MarkupKind.Markdown,value:h.value}}return{asUri:r,asTextDocumentIdentifier:i,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:d,asSaveTextDocumentParams:g,asWillSaveTextDocumentParams:v,asDidCreateFilesParams:q,asDidRenameFilesParams:k,asDidDeleteFilesParams:O,asWillCreateFilesParams:A,asWillRenameFilesParams:F,asWillDeleteFilesParams:j,asTextDocumentPositionParams:H,asCompletionParams:G,asSignatureHelpParams:jt,asWorkerPosition:_t,asRange:Ue,asRanges:Gt,asPosition:St,asPositions:An,asPositionsSync:Qn,asLocation:$t,asDiagnosticSeverity:Dt,asDiagnosticTag:Zn,asDiagnostic:tr,asDiagnostics:Ln,asDiagnosticsSync:jn,asCompletionItem:_n,asTextEdit:rr,asSymbolKind:kt,asSymbolTag:Rt,asSymbolTags:ln,asReferenceParams:Xt,asCodeAction:ir,asCodeActionSync:yr,asCodeActionContext:Hn,asCodeActionContextSync:wr,asInlineValueContext:N,asCommand:z,asCodeLens:De,asFormattingOptions:_e,asDocumentSymbolParams:ke,asCodeLensParams:Me,asDocumentLink:de,asDocumentLinkParams:Te,asCallHierarchyItem:me,asTypeHierarchyItem:Ae,asInlayHint:vt,asWorkspaceSymbol:rt,asInlineCompletionParams:V}}Pa.createConverter=QT});var Mw=T(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.createConverter=void 0;var W=require("vscode"),ie=se(),En=Pn(),Re=Ra(),ZT=pd(),eP=md(),tP=wd(),nP=_d(),Nw=Rd(),rP=Ed(),iP=xd(),sP=Nd(),oP=Ad(),Fw=se(),Ea;(function(t){function e(n){let r=n;return r&&En.string(r.language)&&En.string(r.value)}t.is=e})(Ea||(Ea={}));function aP(t,e,n){let i=t||(l=>W.Uri.parse(l));function s(l){return i(l)}function o(l){let D=[];for(let L of l)if(typeof L=="string")D.push(L);else if(Fw.NotebookCellTextDocumentFilter.is(L))if(typeof L.notebook=="string")D.push({notebookType:L.notebook,language:L.language});else{let Q=L.notebook.notebookType??"*";D.push({notebookType:Q,scheme:L.notebook.scheme,pattern:L.notebook.pattern,language:L.language})}else Fw.TextDocumentFilter.is(L)&&D.push({language:L.language,scheme:L.scheme,pattern:L.pattern});return D}async function a(l,D){return Re.map(l,u,D)}function c(l){let D=new Array(l.length);for(let L=0;L<l.length;L++)D[L]=u(l[L]);return D}function u(l){let D=new Nw.ProtocolDiagnostic(v(l.range),l.message,k(l.severity),l.data);if(l.code!==void 0){if(typeof l.code=="string"||typeof l.code=="number")ie.CodeDescription.is(l.codeDescription)?D.code={value:l.code,target:s(l.codeDescription.href)}:D.code=l.code;else if(Nw.DiagnosticCode.is(l.code)){D.hasDiagnosticCode=!0;let L=l.code;D.code={value:L.value,target:s(L.target)}}}return l.source&&(D.source=l.source),l.relatedInformation&&(D.relatedInformation=f(l.relatedInformation)),Array.isArray(l.tags)&&(D.tags=d(l.tags)),D}function f(l){let D=new Array(l.length);for(let L=0;L<l.length;L++){let Q=l[L];D[L]=new W.DiagnosticRelatedInformation(Dt(Q.location),Q.message)}return D}function d(l){if(!l)return;let D=[];for(let L of l){let Q=g(L);Q!==void 0&&D.push(Q)}return D.length>0?D:void 0}function g(l){switch(l){case ie.DiagnosticTag.Unnecessary:return W.DiagnosticTag.Unnecessary;case ie.DiagnosticTag.Deprecated:return W.DiagnosticTag.Deprecated;default:return}}function w(l){return l?new W.Position(l.line,l.character):void 0}function v(l){return l?new W.Range(l.start.line,l.start.character,l.end.line,l.end.character):void 0}async function q(l,D){return Re.map(l,L=>new W.Range(L.start.line,L.start.character,L.end.line,L.end.character),D)}function k(l){if(l==null)return W.DiagnosticSeverity.Error;switch(l){case ie.DiagnosticSeverity.Error:return W.DiagnosticSeverity.Error;case ie.DiagnosticSeverity.Warning:return W.DiagnosticSeverity.Warning;case ie.DiagnosticSeverity.Information:return W.DiagnosticSeverity.Information;case ie.DiagnosticSeverity.Hint:return W.DiagnosticSeverity.Hint}return W.DiagnosticSeverity.Error}function O(l){if(En.string(l))return F(l);if(Ea.is(l))return F().appendCodeblock(l.value,l.language);if(Array.isArray(l)){let D=[];for(let L of l){let Q=F();Ea.is(L)?Q.appendCodeblock(L.value,L.language):Q.appendMarkdown(L),D.push(Q)}return D}else return F(l)}function A(l){if(En.string(l))return l;switch(l.kind){case ie.MarkupKind.Markdown:return F(l.value);case ie.MarkupKind.PlainText:return l.value;default:return`Unsupported Markup content received. Kind is: ${l.kind}`}}function F(l){let D;if(l===void 0||typeof l=="string")D=new W.MarkdownString(l);else switch(l.kind){case ie.MarkupKind.Markdown:D=new W.MarkdownString(l.value);break;case ie.MarkupKind.PlainText:D=new W.MarkdownString,D.appendText(l.value);break;default:D=new W.MarkdownString,D.appendText(`Unsupported Markup content received. Kind is: ${l.kind}`);break}return D.isTrusted=e,D.supportHtml=n,D}function j(l){if(l)return new W.Hover(O(l.contents),v(l.range))}async function H(l,D,L){if(!l)return;if(Array.isArray(l))return Re.map(l,or=>ct(or,D),L);let Q=l,{defaultRange:yt,commitCharacters:Tt}=te(Q,D),Ne=await Re.map(Q.items,or=>ct(or,Tt,yt,Q.itemDefaults?.insertTextMode,Q.itemDefaults?.insertTextFormat,Q.itemDefaults?.data),L);return new W.CompletionList(Ne,Q.isIncomplete)}function te(l,D){let L=l.itemDefaults?.editRange,Q=l.itemDefaults?.commitCharacters??D;return ie.Range.is(L)?{defaultRange:v(L),commitCharacters:Q}:L!==void 0?{defaultRange:{inserting:v(L.insert),replacing:v(L.replace)},commitCharacters:Q}:{defaultRange:void 0,commitCharacters:Q}}function G(l){return ie.CompletionItemKind.Text<=l&&l<=ie.CompletionItemKind.TypeParameter?[l-1,void 0]:[W.CompletionItemKind.Text,l]}function ne(l){switch(l){case ie.CompletionItemTag.Deprecated:return W.CompletionItemTag.Deprecated}}function pe(l){if(l==null)return[];let D=[];for(let L of l){let Q=ne(L);Q!==void 0&&D.push(Q)}return D}function ct(l,D,L,Q,yt,Tt){let Ne=pe(l.tags),or=nt(l),$e=new ZT.default(or);l.detail&&($e.detail=l.detail),l.documentation&&($e.documentation=A(l.documentation),$e.documentationFormat=En.string(l.documentation)?"$string":l.documentation.kind),l.filterText&&($e.filterText=l.filterText);let Oo=dt(l,L,yt);if(Oo&&($e.insertText=Oo.text,$e.range=Oo.range,$e.fromEdit=Oo.fromEdit),En.number(l.kind)){let[ID,fh]=G(l.kind);$e.kind=ID,fh&&($e.originalItemKind=fh)}l.sortText&&($e.sortText=l.sortText),l.additionalTextEdits&&($e.additionalTextEdits=St(l.additionalTextEdits));let lh=l.commitCharacters!==void 0?En.stringArray(l.commitCharacters)?l.commitCharacters:void 0:D;lh&&($e.commitCharacters=lh.slice()),l.command&&($e.command=ut(l.command)),(l.deprecated===!0||l.deprecated===!1)&&($e.deprecated=l.deprecated,l.deprecated===!0&&Ne.push(W.CompletionItemTag.Deprecated)),(l.preselect===!0||l.preselect===!1)&&($e.preselect=l.preselect);let dh=l.data??Tt;dh!==void 0&&($e.data=dh),Ne.length>0&&($e.tags=Ne);let cu=l.insertTextMode??Q;return cu!==void 0&&($e.insertTextMode=cu,cu===ie.InsertTextMode.asIs&&($e.keepWhitespace=!0)),$e}function nt(l){return ie.CompletionItemLabelDetails.is(l.labelDetails)?{label:l.label,detail:l.labelDetails.detail,description:l.labelDetails.description}:l.label}function dt(l,D,L){let Q=l.insertTextFormat??L;if(l.textEdit!==void 0||D!==void 0){let[yt,Tt]=l.textEdit!==void 0?Cn(l.textEdit):[D,l.textEditText??l.label];return Q===ie.InsertTextFormat.Snippet?{text:new W.SnippetString(Tt),range:yt,fromEdit:!0}:{text:Tt,range:yt,fromEdit:!0}}else return l.insertText?Q===ie.InsertTextFormat.Snippet?{text:new W.SnippetString(l.insertText),fromEdit:!1}:{text:l.insertText,fromEdit:!1}:void 0}function Cn(l){return ie.InsertReplaceEdit.is(l)?[{inserting:v(l.insert),replacing:v(l.replace)},l.newText]:[v(l.range),l.newText]}function jt(l){if(l)return new W.TextEdit(v(l.range),l.newText)}async function _t(l,D){if(l)return Re.map(l,jt,D)}function St(l){if(!l)return;let D=new Array(l.length);for(let L=0;L<l.length;L++)D[L]=jt(l[L]);return D}async function An(l,D){if(!l)return;let L=new W.SignatureHelp;return En.number(l.activeSignature)?L.activeSignature=l.activeSignature:L.activeSignature=0,En.number(l.activeParameter)?L.activeParameter=l.activeParameter:L.activeParameter=0,l.signatures&&(L.signatures=await Qn(l.signatures,D)),L}async function Qn(l,D){return Re.mapAsync(l,Ue,D)}async function Ue(l,D){let L=new W.SignatureInformation(l.label);return l.documentation!==void 0&&(L.documentation=A(l.documentation)),l.parameters!==void 0&&(L.parameters=await Gt(l.parameters,D)),l.activeParameter!==void 0&&(L.activeParameter=l.activeParameter),L}function Gt(l,D){return Re.map(l,$t,D)}function $t(l){let D=new W.ParameterInformation(l.label);return l.documentation&&(D.documentation=A(l.documentation)),D}function Dt(l){return l?new W.Location(i(l.uri),v(l.range)):void 0}async function Ar(l,D){if(l)return mr(l,D)}async function Zn(l,D){if(l)return mr(l,D)}function er(l){if(!l)return;let D={targetUri:i(l.targetUri),targetRange:v(l.targetRange),originSelectionRange:v(l.originSelectionRange),targetSelectionRange:v(l.targetSelectionRange)};if(!D.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return D}async function mr(l,D){if(l)if(En.array(l)){if(l.length===0)return[];if(ie.LocationLink.is(l[0])){let L=l;return Re.map(L,er,D)}else{let L=l;return Re.map(L,Dt,D)}}else return ie.LocationLink.is(l)?[er(l)]:Dt(l)}async function Lr(l,D){if(l)return Re.map(l,Dt,D)}async function tr(l,D){if(l)return Re.map(l,Ln,D)}function Ln(l){let D=new W.DocumentHighlight(v(l.range));return En.number(l.kind)&&(D.kind=jn(l.kind)),D}function jn(l){switch(l){case ie.DocumentHighlightKind.Text:return W.DocumentHighlightKind.Text;case ie.DocumentHighlightKind.Read:return W.DocumentHighlightKind.Read;case ie.DocumentHighlightKind.Write:return W.DocumentHighlightKind.Write}return W.DocumentHighlightKind.Text}async function nr(l,D){if(l)return Re.map(l,_n,D)}function ft(l){return l<=ie.SymbolKind.TypeParameter?l-1:W.SymbolKind.Property}function vr(l){switch(l){case ie.SymbolTag.Deprecated:return W.SymbolTag.Deprecated;default:return}}function $n(l){if(l==null)return;let D=[];for(let L of l){let Q=vr(L);Q!==void 0&&D.push(Q)}return D.length===0?void 0:D}function _n(l){let D=l.data,L=l.location,Q=L.range===void 0||D!==void 0?new sP.default(l.name,ft(l.kind),l.containerName??"",L.range===void 0?i(L.uri):new W.Location(i(l.location.uri),v(L.range)),D):new W.SymbolInformation(l.name,ft(l.kind),l.containerName??"",new W.Location(i(l.location.uri),v(L.range)));return rr(Q,l),Q}async function jr(l,D){if(l!=null)return Re.map(l,Sn,D)}function Sn(l){let D=new W.DocumentSymbol(l.name,l.detail||"",ft(l.kind),v(l.range),v(l.selectionRange));if(rr(D,l),l.children!==void 0&&l.children.length>0){let L=[];for(let Q of l.children)L.push(Sn(Q));D.children=L}return D}function rr(l,D){l.tags=$n(D.tags),D.deprecated&&(l.tags?l.tags.includes(W.SymbolTag.Deprecated)||(l.tags=l.tags.concat(W.SymbolTag.Deprecated)):l.tags=[W.SymbolTag.Deprecated])}function ut(l){let D={title:l.title,command:l.command};return l.arguments&&(D.arguments=l.arguments),D}async function kt(l,D){if(l)return Re.map(l,ut,D)}let Rt=new Map;Rt.set(ie.CodeActionKind.Empty,W.CodeActionKind.Empty),Rt.set(ie.CodeActionKind.QuickFix,W.CodeActionKind.QuickFix),Rt.set(ie.CodeActionKind.Refactor,W.CodeActionKind.Refactor),Rt.set(ie.CodeActionKind.RefactorExtract,W.CodeActionKind.RefactorExtract),Rt.set(ie.CodeActionKind.RefactorInline,W.CodeActionKind.RefactorInline),Rt.set(ie.CodeActionKind.RefactorRewrite,W.CodeActionKind.RefactorRewrite),Rt.set(ie.CodeActionKind.Source,W.CodeActionKind.Source),Rt.set(ie.CodeActionKind.SourceOrganizeImports,W.CodeActionKind.SourceOrganizeImports);function ln(l){if(l==null)return;let D=Rt.get(l);if(D)return D;let L=l.split(".");D=W.CodeActionKind.Empty;for(let Q of L)D=D.append(Q);return D}function Xt(l){if(l!=null)return l.map(D=>ln(D))}async function ir(l,D){if(l==null)return;let L=new nP.default(l.title,l.data);return l.kind!==void 0&&(L.kind=ln(l.kind)),l.diagnostics!==void 0&&(L.diagnostics=c(l.diagnostics)),l.edit!==void 0&&(L.edit=await Ht(l.edit,D)),l.command!==void 0&&(L.command=ut(l.command)),l.isPreferred!==void 0&&(L.isPreferred=l.isPreferred),l.disabled!==void 0&&(L.disabled={reason:l.disabled.reason}),L}function yr(l,D){return Re.mapAsync(l,async L=>ie.Command.is(L)?ut(L):ir(L,D),D)}function Hn(l){if(!l)return;let D=new eP.default(v(l.range));return l.command&&(D.command=ut(l.command)),l.data!==void 0&&l.data!==null&&(D.data=l.data),D}async function wr(l,D){if(l)return Re.map(l,Hn,D)}async function Ht(l,D){if(!l)return;let L=new Map;if(l.changeAnnotations!==void 0){let Tt=l.changeAnnotations;await Re.forEach(Object.keys(Tt),Ne=>{let or=C(Tt[Ne]);L.set(Ne,or)},D)}let Q=Tt=>{if(Tt!==void 0)return L.get(Tt)},yt=new W.WorkspaceEdit;if(l.documentChanges){let Tt=l.documentChanges;await Re.forEach(Tt,Ne=>{if(ie.CreateFile.is(Ne))yt.createFile(i(Ne.uri),Ne.options,Q(Ne.annotationId));else if(ie.RenameFile.is(Ne))yt.renameFile(i(Ne.oldUri),i(Ne.newUri),Ne.options,Q(Ne.annotationId));else if(ie.DeleteFile.is(Ne))yt.deleteFile(i(Ne.uri),Ne.options,Q(Ne.annotationId));else if(ie.TextDocumentEdit.is(Ne)){let or=i(Ne.textDocument.uri);for(let $e of Ne.edits)ie.AnnotatedTextEdit.is($e)?yt.replace(or,v($e.range),$e.newText,Q($e.annotationId)):yt.replace(or,v($e.range),$e.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Ne,void 0,4)}`)},D)}else if(l.changes){let Tt=l.changes;await Re.forEach(Object.keys(Tt),Ne=>{yt.set(i(Ne),St(Tt[Ne]))},D)}return yt}function C(l){if(l!==void 0)return{label:l.label,needsConfirmation:!!l.needsConfirmation,description:l.description}}function N(l){let D=v(l.range),L=l.target?s(l.target):void 0,Q=new tP.default(D,L);return l.tooltip!==void 0&&(Q.tooltip=l.tooltip),l.data!==void 0&&l.data!==null&&(Q.data=l.data),Q}async function V(l,D){if(l)return Re.map(l,N,D)}function z(l){return new W.Color(l.red,l.green,l.blue,l.alpha)}function De(l){return new W.ColorInformation(v(l.range),z(l.color))}async function _e(l,D){if(l)return Re.map(l,De,D)}function ke(l){let D=new W.ColorPresentation(l.label);return D.additionalTextEdits=St(l.additionalTextEdits),l.textEdit&&(D.textEdit=jt(l.textEdit)),D}async function Me(l,D){if(l)return Re.map(l,ke,D)}function de(l){if(l)switch(l){case ie.FoldingRangeKind.Comment:return W.FoldingRangeKind.Comment;case ie.FoldingRangeKind.Imports:return W.FoldingRangeKind.Imports;case ie.FoldingRangeKind.Region:return W.FoldingRangeKind.Region}}function Te(l){return new W.FoldingRange(l.startLine,l.endLine,de(l.kind))}async function me(l,D){if(l)return Re.map(l,Te,D)}function Ae(l){return new W.SelectionRange(v(l.range),l.parent?Ae(l.parent):void 0)}async function rt(l,D){return Array.isArray(l)?Re.map(l,Ae,D):[]}function vt(l){return ie.InlineValueText.is(l)?new W.InlineValueText(v(l.range),l.text):ie.InlineValueVariableLookup.is(l)?new W.InlineValueVariableLookup(v(l.range),l.variableName,l.caseSensitiveLookup):new W.InlineValueEvaluatableExpression(v(l.range),l.expression)}async function $r(l,D){return Array.isArray(l)?Re.map(l,vt,D):[]}async function Hr(l,D){let L=typeof l.label=="string"?l.label:await Re.map(l.label,h,D),Q=new oP.default(w(l.position),L);return l.kind!==void 0&&(Q.kind=l.kind),l.textEdits!==void 0&&(Q.textEdits=await _t(l.textEdits,D)),l.tooltip!==void 0&&(Q.tooltip=x(l.tooltip)),l.paddingLeft!==void 0&&(Q.paddingLeft=l.paddingLeft),l.paddingRight!==void 0&&(Q.paddingRight=l.paddingRight),l.data!==void 0&&(Q.data=l.data),Q}function h(l){let D=new W.InlayHintLabelPart(l.value);return l.location!==void 0&&(D.location=Dt(l.location)),l.tooltip!==void 0&&(D.tooltip=x(l.tooltip)),l.command!==void 0&&(D.command=ut(l.command)),D}function x(l){return typeof l=="string"?l:F(l)}async function Y(l,D){if(Array.isArray(l))return Re.mapAsync(l,Hr,D)}function Pe(l){if(l===null)return;let D=new rP.default(ft(l.kind),l.name,l.detail||"",s(l.uri),v(l.range),v(l.selectionRange),l.data);return l.tags!==void 0&&(D.tags=$n(l.tags)),D}async function R(l,D){if(l!==null)return Re.map(l,Pe,D)}async function m(l,D){return new W.CallHierarchyIncomingCall(Pe(l.from),await q(l.fromRanges,D))}async function _(l,D){if(l!==null)return Re.mapAsync(l,m,D)}async function S(l,D){return new W.CallHierarchyOutgoingCall(Pe(l.to),await q(l.fromRanges,D))}async function y(l,D){if(l!==null)return Re.mapAsync(l,S,D)}async function p(l,D){if(l!=null)return new W.SemanticTokens(new Uint32Array(l.data),l.resultId)}function E(l){return new W.SemanticTokensEdit(l.start,l.deleteCount,l.data!==void 0?new Uint32Array(l.data):void 0)}async function M(l,D){if(l!=null)return new W.SemanticTokensEdits(l.edits.map(E),l.resultId)}function oe(l){return l}async function Be(l,D){if(l!=null)return new W.LinkedEditingRanges(await q(l.ranges,D),Le(l.wordPattern))}function Le(l){if(l!=null)return new RegExp(l)}function Jt(l){if(l===null)return;let D=new iP.default(ft(l.kind),l.name,l.detail||"",s(l.uri),v(l.range),v(l.selectionRange),l.data);return l.tags!==void 0&&(D.tags=$n(l.tags)),D}async function dn(l,D){if(l!==null)return Re.map(l,Jt,D)}function Un(l){if(En.string(l))return l;if(ie.RelativePattern.is(l)){if(ie.URI.is(l.baseUri))return new W.RelativePattern(s(l.baseUri),l.pattern);if(ie.WorkspaceFolder.is(l.baseUri)){let D=W.workspace.getWorkspaceFolder(s(l.baseUri.uri));return D!==void 0?new W.RelativePattern(D,l.pattern):void 0}}}async function he(l,D){if(!l)return;if(Array.isArray(l))return Re.map(l,yt=>sr(yt),D);let L=l,Q=await Re.map(L.items,yt=>sr(yt),D);return new W.InlineCompletionList(Q)}function sr(l){let D;typeof l.insertText=="string"?D=l.insertText:D=new W.SnippetString(l.insertText.value);let L;l.command&&(L=ut(l.command));let Q=new W.InlineCompletionItem(D,v(l.range),L);return l.filterText&&(Q.filterText=l.filterText),Q}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:u,asRange:v,asRanges:q,asPosition:w,asDiagnosticSeverity:k,asDiagnosticTag:g,asHover:j,asCompletionResult:H,asCompletionItem:ct,asTextEdit:jt,asTextEdits:_t,asSignatureHelp:An,asSignatureInformations:Qn,asSignatureInformation:Ue,asParameterInformations:Gt,asParameterInformation:$t,asDeclarationResult:Ar,asDefinitionResult:Zn,asLocation:Dt,asReferences:Lr,asDocumentHighlights:tr,asDocumentHighlight:Ln,asDocumentHighlightKind:jn,asSymbolKind:ft,asSymbolTag:vr,asSymbolTags:$n,asSymbolInformations:nr,asSymbolInformation:_n,asDocumentSymbols:jr,asDocumentSymbol:Sn,asCommand:ut,asCommands:kt,asCodeAction:ir,asCodeActionKind:ln,asCodeActionKinds:Xt,asCodeActionResult:yr,asCodeLens:Hn,asCodeLenses:wr,asWorkspaceEdit:Ht,asDocumentLink:N,asDocumentLinks:V,asFoldingRangeKind:de,asFoldingRange:Te,asFoldingRanges:me,asColor:z,asColorInformation:De,asColorInformations:_e,asColorPresentation:ke,asColorPresentations:Me,asSelectionRange:Ae,asSelectionRanges:rt,asInlineValue:vt,asInlineValues:$r,asInlayHint:Hr,asInlayHints:Y,asSemanticTokensLegend:oe,asSemanticTokens:p,asSemanticTokensEdit:E,asSemanticTokensEdits:M,asCallHierarchyItem:Pe,asCallHierarchyItems:R,asCallHierarchyIncomingCall:m,asCallHierarchyIncomingCalls:_,asCallHierarchyOutgoingCall:S,asCallHierarchyOutgoingCalls:y,asLinkedEditingRanges:Be,asTypeHierarchyItem:Jt,asTypeHierarchyItems:dn,asGlobPattern:Un,asInlineCompletionResult:he,asInlineCompletionItem:sr}}qa.createConverter=aP});var Je=T(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.generateUuid=qn.parse=qn.isUUID=qn.v4=qn.empty=void 0;var zs=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Bs=class t extends zs{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Bs._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Bs._timeHighBits=["8","9","a","b"];qn.empty=new zs("00000000-0000-0000-0000-000000000000");function Aw(){return new Bs}qn.v4=Aw;var cP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Lw(t){return cP.test(t)}qn.isUUID=Lw;function uP(t){if(!Lw(t))throw new Error("invalid uuid");return new zs(t)}qn.parse=uP;function lP(){return Aw().asHex()}qn.generateUuid=lP});var $d=T(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.ProgressPart=void 0;var jw=require("vscode"),$w=se(),Hw=Pn(),jd=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress($w.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&jw.window.withProgress({location:jw.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification($w.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})})}report(e){if(this._infinite&&Hw.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(Hw.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};ka.ProgressPart=jd});var Se=T(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.WorkspaceFeature=bt.TextDocumentLanguageFeature=bt.TextDocumentEventFeature=bt.DynamicDocumentFeature=bt.DynamicFeature=bt.StaticFeature=bt.ensure=bt.LSPCancellationError=void 0;var Ci=require("vscode"),Hd=se(),Ut=Pn(),Uw=Je(),Ud=class extends Ci.CancellationError{constructor(e){super(),this.data=e}};bt.LSPCancellationError=Ud;function dP(t,e){return t[e]===void 0&&(t[e]={}),t[e]}bt.ensure=dP;var Vw;(function(t){function e(n){let r=n;return r!=null&&Ut.func(r.fillClientCapabilities)&&Ut.func(r.initialize)&&Ut.func(r.getState)&&Ut.func(r.clear)&&(r.fillInitializeParams===void 0||Ut.func(r.fillInitializeParams))}t.is=e})(Vw||(bt.StaticFeature=Vw={}));var Ww;(function(t){function e(n){let r=n;return r!=null&&Ut.func(r.fillClientCapabilities)&&Ut.func(r.initialize)&&Ut.func(r.getState)&&Ut.func(r.clear)&&(r.fillInitializeParams===void 0||Ut.func(r.fillInitializeParams))&&Ut.func(r.register)&&Ut.func(r.unregister)&&r.registrationType!==void 0}t.is=e})(Ww||(bt.DynamicFeature=Ww={}));var Gs=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let i of e){n++;for(let s of Ci.workspace.textDocuments)if(Ci.languages.match(i,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=n>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};bt.DynamicDocumentFeature=Gs;var Vd=class extends Gs{static textDocumentFilter(e,n){for(let r of e)if(Ci.languages.match(r,n)>0)return!0;return!1}constructor(e,n,r,i,s,o,a){super(e),this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Ci.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async r=>{let i=this._createParams(r);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(r),this._type,i)};if(this.matches(e)){let r=this._middleware();return r?r(e,i=>n(i)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(Ci.languages.match(n,e)>0)return{send:r=>this.callback(r)}}};bt.TextDocumentEventFeature=Vd;var Wd=class extends Gs{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(Hd.TextDocumentRegistrationOptions.is(n)){let r=Hd.StaticRegistrationOptions.hasId(n)?n.id:Uw.generateUuid(),i=n.documentSelector??e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(Ut.boolean(n)&&n===!0||Hd.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=Ut.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[Uw.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return Ut.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&Ci.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};bt.TextDocumentLanguageFeature=Wd;var Kd=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};bt.WorkspaceFeature=Kd});var zw=T((SF,Kw)=>{"use strict";var fP=typeof process=="object"&&process&&process.platform==="win32";Kw.exports=fP?{sep:"\\"}:{sep:"/"}});var Yw=T((DF,Jw)=>{"use strict";Jw.exports=Gw;function Gw(t,e,n){t instanceof RegExp&&(t=Bw(t,n)),e instanceof RegExp&&(e=Bw(e,n));var r=Xw(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Bw(t,e){var n=e.match(t);return n?n[0]:null}Gw.range=Xw;function Xw(t,e,n){var r,i,s,o,a,c=n.indexOf(t),u=n.indexOf(e,c+1),f=c;if(c>=0&&u>0){if(t===e)return[c,u];for(r=[],s=n.length;f>=0&&!a;)f==c?(r.push(f),c=n.indexOf(t,f+1)):r.length==1?a=[r.pop(),u]:(i=r.pop(),i<s&&(s=i,o=u),u=n.indexOf(e,f+1)),f=c<u&&c>=0?c:u;r.length&&(a=[s,o])}return a}});var sb=T((RF,ib)=>{"use strict";var Qw=Yw();ib.exports=hP;var Zw="\0SLASH"+Math.random()+"\0",eb="\0OPEN"+Math.random()+"\0",Bd="\0CLOSE"+Math.random()+"\0",tb="\0COMMA"+Math.random()+"\0",nb="\0PERIOD"+Math.random()+"\0";function zd(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function pP(t){return t.split("\\\\").join(Zw).split("\\{").join(eb).split("\\}").join(Bd).split("\\,").join(tb).split("\\.").join(nb)}function gP(t){return t.split(Zw).join("\\").split(eb).join("{").split(Bd).join("}").split(tb).join(",").split(nb).join(".")}function rb(t){if(!t)return[""];var e=[],n=Qw("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=rb(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function hP(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Xs(pP(t),!0).map(gP)):[]}function mP(t){return"{"+t+"}"}function vP(t){return/^-?0\d/.test(t)}function yP(t,e){return t<=e}function wP(t,e){return t>=e}function Xs(t,e){var n=[],r=Qw("{","}",t);if(!r)return[t];var i=r.pre,s=r.post.length?Xs(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=c||u,d=r.body.indexOf(",")>=0;if(!f&&!d)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+Bd+r.post,Xs(t)):[t];var g;if(f)g=r.body.split(/\.\./);else if(g=rb(r.body),g.length===1&&(g=Xs(g[0],!1).map(mP),g.length===1))return s.map(function(ct){return r.pre+g[0]+ct});var w;if(f){var v=zd(g[0]),q=zd(g[1]),k=Math.max(g[0].length,g[1].length),O=g.length==3?Math.abs(zd(g[2])):1,A=yP,F=q<v;F&&(O*=-1,A=wP);var j=g.some(vP);w=[];for(var H=v;A(H,q);H+=O){var te;if(u)te=String.fromCharCode(H),te==="\\"&&(te="");else if(te=String(H),j){var G=k-te.length;if(G>0){var ne=new Array(G+1).join("0");H<0?te="-"+ne+te.slice(1):te=ne+te}}w.push(te)}}else{w=[];for(var pe=0;pe<g.length;pe++)w.push.apply(w,Xs(g[pe],!1))}for(var pe=0;pe<w.length;pe++)for(var o=0;o<s.length;o++){var a=i+w[pe]+s[o];(!e||f||a)&&n.push(a)}}return n}});var Ia=T((PF,Qd)=>{"use strict";var gn=Qd.exports=(t,e,n={})=>(xa(e),!n.nocomment&&e.charAt(0)==="#"?!1:new as(e,n).match(t));Qd.exports=gn;var Jd=zw();gn.sep=Jd.sep;var Bn=Symbol("globstar **");gn.GLOBSTAR=Bn;var bP=sb(),ob={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Yd="[^/]",Gd=Yd+"*?",CP="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_P="(?:(?!(?:\\/|^)\\.).)*?",ub=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),ab=ub("().*{}+?[]^$\\!"),SP=ub("[.("),cb=/\/+/;gn.filter=(t,e={})=>(n,r,i)=>gn(n,t,e);var Qr=(t,e={})=>{let n={};return Object.keys(t).forEach(r=>n[r]=t[r]),Object.keys(e).forEach(r=>n[r]=e[r]),n};gn.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return gn;let e=gn,n=(r,i,s)=>e(r,i,Qr(t,s));return n.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Qr(t,s))}},n.Minimatch.defaults=r=>e.defaults(Qr(t,r)).Minimatch,n.filter=(r,i)=>e.filter(r,Qr(t,i)),n.defaults=r=>e.defaults(Qr(t,r)),n.makeRe=(r,i)=>e.makeRe(r,Qr(t,i)),n.braceExpand=(r,i)=>e.braceExpand(r,Qr(t,i)),n.match=(r,i,s)=>e.match(r,i,Qr(t,s)),n};gn.braceExpand=(t,e)=>lb(t,e);var lb=(t,e={})=>(xa(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:bP(t)),DP=1024*64,xa=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>DP)throw new TypeError("pattern is too long")},Xd=Symbol("subparse");gn.makeRe=(t,e)=>new as(t,e||{}).makeRe();gn.match=(t,e,n={})=>{let r=new as(e,n);return t=t.filter(i=>r.match(i)),r.options.nonull&&!t.length&&t.push(e),t};var RP=t=>t.replace(/\\(.)/g,"$1"),TP=t=>t.replace(/\\([^-\]])/g,"$1"),PP=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),EP=t=>t.replace(/[[\]\\]/g,"\\$&"),as=class{constructor(e,n){xa(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();n.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,r),r=this.globParts=r.map(i=>i.split(cb)),this.debug(this.pattern,r),r=r.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=n[o],f=e[s];if(this.debug(n,u,f),u===!1)return!1;if(u===Bn){this.debug("GLOBSTAR",[n,u,f]);var d=s,g=o+1;if(g===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;d<a;){var w=e[d];if(this.debug(`
globstar while`,e,d,n,g,w),this.matchOne(e.slice(d),n.slice(g),r))return this.debug("globstar found match!",d,a,w),!0;if(w==="."||w===".."||!i.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,d,n,g);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,d,n,g),d===a))}var v;if(typeof u=="string"?(v=f===u,this.debug("string match",u,f,v)):(v=f.match(u),this.debug("pattern match",u,f,v)),!v)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return lb(this.pattern,this.options)}parse(e,n){xa(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return Bn;if(e==="")return"";let i="",s=!1,o=!1,a=[],c=[],u,f=!1,d=-1,g=-1,w,v,q,k=e.charAt(0)===".",O=r.dot||k,A=()=>k?"":O?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",F=G=>G.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",j=()=>{if(u){switch(u){case"*":i+=Gd,s=!0;break;case"?":i+=Yd,s=!0;break;default:i+="\\"+u;break}this.debug("clearStateChar %j %j",u,i),u=!1}};for(let G=0,ne;G<e.length&&(ne=e.charAt(G));G++){if(this.debug("%s	%s %s %j",e,G,i,ne),o){if(ne==="/")return!1;ab[ne]&&(i+="\\"),i+=ne,o=!1;continue}switch(ne){case"/":return!1;case"\\":if(f&&e.charAt(G+1)==="-"){i+=ne;continue}j(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,G,i,ne),f){this.debug("  in class"),ne==="!"&&G===g+1&&(ne="^"),i+=ne;continue}this.debug("call clearStateChar %j",u),j(),u=ne,r.noext&&j();continue;case"(":{if(f){i+="(";continue}if(!u){i+="\\(";continue}let pe={type:u,start:G-1,reStart:i.length,open:ob[u].open,close:ob[u].close};this.debug(this.pattern,"	",pe),a.push(pe),i+=pe.open,pe.start===0&&pe.type!=="!"&&(k=!0,i+=F(e.slice(G+1))),this.debug("plType %j %j",u,i),u=!1;continue}case")":{let pe=a[a.length-1];if(f||!pe){i+="\\)";continue}a.pop(),j(),s=!0,v=pe,i+=v.close,v.type==="!"&&c.push(Object.assign(v,{reEnd:i.length}));continue}case"|":{let pe=a[a.length-1];if(f||!pe){i+="\\|";continue}j(),i+="|",pe.start===0&&pe.type!=="!"&&(k=!0,i+=F(e.slice(G+1)));continue}case"[":if(j(),f){i+="\\"+ne;continue}f=!0,g=G,d=i.length,i+=ne;continue;case"]":if(G===g+1||!f){i+="\\"+ne;continue}w=e.substring(g+1,G);try{RegExp("["+EP(TP(w))+"]"),i+=ne}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,f=!1;continue;default:j(),ab[ne]&&!(ne==="^"&&f)&&(i+="\\"),i+=ne;break}}for(f&&(w=e.slice(g+1),q=this.parse(w,Xd),i=i.substring(0,d)+"\\["+q[0],s=s||q[1]),v=a.pop();v;v=a.pop()){let G;G=i.slice(v.reStart+v.open.length),this.debug("setting tail",i,v),G=G.replace(/((?:\\{2}){0,64})(\\?)\|/g,(pe,ct,nt)=>(nt||(nt="\\"),ct+ct+nt+"|")),this.debug(`tail=%j
   %s`,G,G,v,i);let ne=v.type==="*"?Gd:v.type==="?"?Yd:"\\"+v.type;s=!0,i=i.slice(0,v.reStart)+ne+"\\("+G}j(),o&&(i+="\\\\");let H=SP[i.charAt(0)];for(let G=c.length-1;G>-1;G--){let ne=c[G],pe=i.slice(0,ne.reStart),ct=i.slice(ne.reStart,ne.reEnd-8),nt=i.slice(ne.reEnd),dt=i.slice(ne.reEnd-8,ne.reEnd)+nt,Cn=pe.split(")").length,jt=pe.split("(").length-Cn,_t=nt;for(let An=0;An<jt;An++)_t=_t.replace(/\)[+*?]?/,"");nt=_t;let St=nt===""&&n!==Xd?"(?:$|\\/)":"";i=pe+ct+nt+St+dt}if(i!==""&&s&&(i="(?=.)"+i),H&&(i=A()+i),n===Xd)return[i,s];if(r.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return RP(e);let te=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",te),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,r=n.noglobstar?Gd:n.dot?CP:_P,i=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?PP(a):a===Bn?Bn:a._src).reduce((a,c)=>(a[a.length-1]===Bn&&c===Bn||a.push(c),a),[]),o.forEach((a,c)=>{a!==Bn||o[c-1]===Bn||(c===0?o.length>1?o[c+1]="(?:\\/|"+r+"\\/)?"+o[c+1]:o[c]=r:c===o.length-1?o[c-1]+="(?:\\/|"+r+")?":(o[c-1]+="(?:\\/|\\/"+r+"\\/)"+o[c+1],o[c+1]=Bn))}),o.filter(a=>a!==Bn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let r=this.options;Jd.sep!=="/"&&(e=e.split(Jd.sep).join("/")),e=e.split(cb),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],c=e;if(r.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return gn.defaults(e).Minimatch}};gn.Minimatch=as});var af=T(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.DiagnosticFeature=Zr.DiagnosticPullMode=Zr.vsdiag=void 0;var qP=Ia(),ye=require("vscode"),ot=se(),kP=Je(),Zd=Se();function Oa(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var kn;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(kn||(Zr.vsdiag=kn={}));var Na;(function(t){t.onType="onType",t.onSave="onSave"})(Na||(Zr.DiagnosticPullMode=Na={}));var Ft;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(Ft||(Ft={}));var ef=class t{constructor(){this.open=new Set,this._onOpen=new ye.EventEmitter,this._onClose=new ye.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let r=this.open,i=new Set;t.fillTabResources(i);let s=new Set,o=new Set(i);for(let a of r.values())i.has(a)?o.delete(a):s.add(a);if(this.open=i,s.size>0){let a=new Set;for(let c of s)a.add(ye.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(ye.Uri.parse(c));this._onOpen.fire(a)}};ye.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=ye.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof ye.Uri?ye.window.activeTextEditor?.document.uri===e:ye.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof ye.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let r=e??new Set;for(let i of ye.window.tabGroups.all)for(let s of i.tabs){let o=s.input,a;o instanceof ye.TabInputText?a=o.uri:o instanceof ye.TabInputTextDiff?a=o.modified:o instanceof ye.TabInputCustom&&(a=o.uri),a!==void 0&&!r.has(a.toString())&&(r.add(a.toString()),n!==void 0&&n.add(a))}}},mt;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(mt||(mt={}));var Sr;(function(t){function e(n){return n instanceof ye.Uri?n.toString():n.uri.toString()}t.asKey=e})(Sr||(Sr={}));var tf=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,r){let i=e===mt.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof ye.Uri?[n.toString(),n,r]:[n.uri.toString(),n.uri,n.version],c=i.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},i.set(s,c)),c}update(e,n,r,i){let s=e===mt.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=n instanceof ye.Uri?[n.toString(),n,r,i]:[n.uri.toString(),n.uri,n.version,r],f=s.get(o);f===void 0?(f={document:a,pulledVersion:c,resultId:u},s.set(o,f)):(f.pulledVersion=c,f.resultId=u)}unTrack(e,n){let r=Sr.asKey(n);(e===mt.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,n){let r=Sr.asKey(n);return(e===mt.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,n){let r=Sr.asKey(n);return(e===mt.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[n,r]of this.workspacePullStates)this.documentPullStates.has(n)&&(r=this.documentPullStates.get(n)),r.resultId!==void 0&&e.push({uri:n,value:r.resultId});return e}},nf=class{constructor(e,n,r){this.client=e,this.tabs=n,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new ye.EventEmitter,this.provider=this.createProvider(),this.diagnostics=ye.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new tf,this.workspaceErrorCounter=0}knows(e,n){let r=n instanceof ye.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(r.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let r=e instanceof ye.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},i=>{this.client.error(`Document pull failed for text document ${r.toString()}`,i,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let r=e instanceof ye.Uri,i=r?e:e.uri,s=i.toString();n=r?n:e.version;let o=this.openRequests.get(s),a=r?this.documentStates.track(mt.document,e,n):this.documentStates.track(mt.document,e);if(o===void 0){let c=new ye.CancellationTokenSource;this.openRequests.set(s,{state:Ft.active,document:e,version:n,tokenSource:c});let u,f;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:kn.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof Zd.LSPCancellationError&&ot.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(f={state:Ft.outDated,document:e}),f===void 0&&d instanceof ye.CancellationError)f={state:Ft.reschedule,document:e};else throw d}if(f=f??this.openRequests.get(s),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(mt.document,e);return}if(f.state===Ft.outDated)return;u!==void 0&&(u.kind===kn.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=n,a.resultId=u.resultId),f.state===Ft.reschedule&&this.pull(e)}else o.state===Ft.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:Ft.reschedule,document:o.document})):o.state===Ft.outDated&&this.openRequests.set(s,{state:Ft.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof ye.Uri?e:e.uri,r=n.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(r,{state:Ft.reschedule,document:e}):this.pull(e,()=>{this.forget(mt.document,e)}):(i!==void 0&&(i.state===Ft.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:Ft.outDated,document:e})),this.diagnostics.delete(n),this.forget(mt.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,ot.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Zd.LSPCancellationError)&&!ot.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,ot.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new ye.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let r of n.items)r.kind===kn.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(mt.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(mt.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,r,i)=>{let s=(a,c,u)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof ye.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:kn.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(ot.DocumentDiagnosticRequest.type,f,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:kn.DocumentDiagnosticReportKind.full,items:[]}:d.kind===ot.DocumentDiagnosticReportKind.Full?{kind:kn.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:kn.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(ot.DocumentDiagnosticRequest.type,u,d,{kind:kn.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,r,i,s):s(n,r,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,r,i)=>{let s=async u=>u.kind===ot.DocumentDiagnosticReportKind.Full?{kind:kn.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,r)}:{kind:kn.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},o=u=>{let f=[];for(let d of u)f.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return f},a=(u,f)=>{let d=(0,kP.generateUuid)(),g=this.client.onProgress(ot.WorkspaceDiagnosticRequest.partialResult,d,async v=>{if(v==null){i(null);return}let q={items:[]};for(let k of v.items)try{q.items.push(await s(k))}catch(O){this.client.error("Converting workspace diagnostics failed.",O)}i(q)}),w={identifier:this.options.identifier,previousResultIds:o(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(ot.WorkspaceDiagnosticRequest.type,w,f).then(async v=>{if(f.isCancellationRequested)return{items:[]};let q={items:[]};for(let k of v.items)q.items.push(await s(k));return g.dispose(),i(q),{items:[]}},v=>(g.dispose(),this.client.handleFailedRequest(ot.DocumentDiagnosticRequest.type,f,v,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,r,i,a):a(n,r,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===Ft.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:Ft.outDated,document:n.document});this.diagnostics.dispose()}},rf=class{constructor(e){this.diagnosticRequestor=e,this.documents=new ot.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=Sr.asKey(e);this.documents.has(n)||(this.documents.set(n,e,ot.Touch.Last),this.trigger())}remove(e){let n=Sr.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,ot.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=Sr.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,ot.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Sr.asKey(this.endDocument):void 0}},sf=class{constructor(e,n,r){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),o=[],a=v=>{let q=r.documentSelector;if(i.match!==void 0)return i.match(q,v);for(let k of q)if(ot.TextDocumentFilter.is(k)){if(typeof k=="string"||k.language!==void 0&&k.language!=="*"||k.scheme!==void 0&&k.scheme!=="*"&&k.scheme!==v.scheme)return!1;if(k.pattern!==void 0){let O=new qP.Minimatch(k.pattern,{noext:!0});if(!O.makeRe()||!O.match(v.fsPath))return!1}}return!0},c=v=>v instanceof ye.Uri?a(v):ye.languages.match(s,v)>0&&n.isVisible(v),u=v=>v instanceof ye.Uri?this.activeTextDocument?.uri.toString()===v.toString():this.activeTextDocument===v;this.diagnosticRequestor=new nf(e,n,r),this.backgroundScheduler=new rf(this.diagnosticRequestor);let f=v=>{!c(v)||!r.interFileDependencies||u(v)||this.backgroundScheduler.add(v)};this.activeTextDocument=ye.window.activeTextEditor?.document,ye.window.onDidChangeActiveTextEditor(v=>{let q=this.activeTextDocument;this.activeTextDocument=v?.document,q!==void 0&&f(q),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(ot.DidOpenTextDocumentNotification.method);o.push(d.onNotificationSent(v=>{let q=v.textDocument;this.diagnosticRequestor.knows(mt.document,q)||c(q)&&this.diagnosticRequestor.pull(q,()=>{f(q)})})),o.push(n.onOpen(v=>{for(let q of v){if(this.diagnosticRequestor.knows(mt.document,q))continue;let k=q.toString(),O;for(let A of ye.workspace.textDocuments)if(k===A.uri.toString()){O=A;break}O!==void 0&&c(O)&&this.diagnosticRequestor.pull(O,()=>{f(O)})}}));let g=new Set;for(let v of ye.workspace.textDocuments)c(v)&&(this.diagnosticRequestor.pull(v,()=>{f(v)}),g.add(v.uri.toString()));if(i.onTabs===!0)for(let v of n.getTabResources())!g.has(v.toString())&&c(v)&&this.diagnosticRequestor.pull(v,()=>{f(v)});if(i.onChange===!0){let v=e.getFeature(ot.DidChangeTextDocumentNotification.method);o.push(v.onNotificationSent(async q=>{let k=q.textDocument;(i.filter===void 0||!i.filter(k,Na.onType))&&this.diagnosticRequestor.knows(mt.document,k)&&this.diagnosticRequestor.pull(k,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let v=e.getFeature(ot.DidSaveTextDocumentNotification.method);o.push(v.onNotificationSent(q=>{let k=q.textDocument;(i.filter===void 0||!i.filter(k,Na.onSave))&&this.diagnosticRequestor.knows(mt.document,k)&&this.diagnosticRequestor.pull(q.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let w=e.getFeature(ot.DidCloseTextDocumentNotification.method);o.push(w.onNotificationSent(v=>{this.cleanUpDocument(v.textDocument)})),n.onClose(v=>{for(let q of v)this.cleanUpDocument(q)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let v of ye.workspace.textDocuments)c(v)&&this.diagnosticRequestor.pull(v)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=ye.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(mt.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},of=class extends Zd.TextDocumentLanguageFeature{constructor(e){super(e,ot.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=Oa(Oa(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,Oa(Oa(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(ot.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[i,s]=this.getRegistration(n,e.diagnosticProvider);!i||!s||this.register({id:i,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new ef);let n=new sf(this._client,this.tabs,e);return[n.disposable,n]}};Zr.DiagnosticFeature=of});var pb=T(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.NotebookDocumentSyncFeature=void 0;var Mt=require("vscode"),xP=Ia(),Dr=se(),IP=Je(),db=Pn();function fb(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var cs;(function(t){let e;(function(n){function r(g,w){return{version:g.version,uri:w.asUri(g.uri)}}n.asVersionedNotebookDocumentIdentifier=r;function i(g,w,v){let q=Dr.NotebookDocument.create(v.asUri(g.uri),g.notebookType,g.version,s(w,v));return Object.keys(g.metadata).length>0&&(q.metadata=o(g.metadata)),q}n.asNotebookDocument=i;function s(g,w){return g.map(v=>a(v,w))}n.asNotebookCells=s;function o(g){return u(new Set,g)}n.asMetadata=o;function a(g,w){let v=Dr.NotebookCell.create(c(g.kind),w.asUri(g.document.uri));return Object.keys(g.metadata).length>0&&(v.metadata=o(g.metadata)),g.executionSummary!==void 0&&db.number(g.executionSummary.executionOrder)&&db.boolean(g.executionSummary.success)&&(v.executionSummary={executionOrder:g.executionSummary.executionOrder,success:g.executionSummary.success}),v}n.asNotebookCell=a;function c(g){switch(g){case Mt.NotebookCellKind.Markup:return Dr.NotebookCellKind.Markup;case Mt.NotebookCellKind.Code:return Dr.NotebookCellKind.Code}}function u(g,w){if(g.has(w))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(w)){let v=[];for(let q of w)if(q!==null&&typeof q=="object"||Array.isArray(q))v.push(u(g,q));else{if(q instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");v.push(q)}return v}else{let v=Object.keys(w),q=Object.create(null);for(let k of v){let O=w[k];if(O!==null&&typeof O=="object"||Array.isArray(O))q[k]=u(g,O);else{if(O instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");q[k]=O}}return q}}function f(g,w){let v=w.asChangeTextDocumentParams(g,g.document.uri,g.document.version);return{document:v.textDocument,changes:v.contentChanges}}n.asTextContentChange=f;function d(g,w){let v=Object.create(null);if(g.metadata&&(v.metadata=t.c2p.asMetadata(g.metadata)),g.cells!==void 0){let q=Object.create(null),k=g.cells;k.structure&&(q.structure={array:{start:k.structure.array.start,deleteCount:k.structure.array.deleteCount,cells:k.structure.array.cells!==void 0?k.structure.array.cells.map(O=>t.c2p.asNotebookCell(O,w)):void 0},didOpen:k.structure.didOpen!==void 0?k.structure.didOpen.map(O=>w.asOpenTextDocumentParams(O.document).textDocument):void 0,didClose:k.structure.didClose!==void 0?k.structure.didClose.map(O=>w.asCloseTextDocumentParams(O.document).textDocument):void 0}),k.data!==void 0&&(q.data=k.data.map(O=>t.c2p.asNotebookCell(O,w))),k.textContent!==void 0&&(q.textContent=k.textContent.map(O=>t.c2p.asTextContentChange(O,w))),Object.keys(q).length>0&&(v.cells=q)}return v}n.asNotebookDocumentChangeEvent=d})(e=t.c2p||(t.c2p={}))})(cs||(cs={}));var cf;(function(t){function e(a,c,u){let f=a.length,d=c.length,g=0;for(;g<d&&g<f&&n(a[g],c[g],u);)g++;if(g<d&&g<f){let w=f-1,v=d-1;for(;w>=0&&v>=0&&n(a[w],c[v],u);)w--,v--;let q=w+1-g,k=g===v+1?void 0:c.slice(g,v+1);return k!==void 0?{start:g,deleteCount:q,cells:k}:{start:g,deleteCount:q}}else return g<d?{start:g,deleteCount:0,cells:c.slice(g)}:g<f?{start:g,deleteCount:f-g}:void 0}t.computeDiff=e;function n(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!r(a.executionSummary,c.executionSummary)?!1:!u||u&&s(a.metadata,c.metadata)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),f=Array.isArray(c);if(u!==f)return!1;if(u&&f){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!s(a[d],c[d]))return!1}if(o(a)&&o(c)){let d=Object.keys(a),g=Object.keys(c);if(d.length!==g.length||(d.sort(),g.sort(),!s(d,g)))return!1;for(let w=0;w<d.length;w++){let v=d[w];if(!s(a[v],c[v]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(cf||(cf={}));var uf;(function(t){function e(n,r){if(typeof n=="string")return n==="*"||r.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&r.notebookType!==n.notebookType)return!1;let i=r.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&i.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new xP.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(i.fsPath))return!1}return!0}t.matchNotebook=e})(uf||(uf={}));var Fa;(function(t){function e(r){let i=r.notebookSelector,s=[];for(let o of i){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,u=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let f of o.cells)s.push(n(a,c,u,f.language));else s.push(n(a,c,u,void 0))}return s}t.asDocumentSelector=e;function n(r,i,s,o){return i===void 0&&s===void 0?{notebook:r,language:o}:{notebook:{notebookType:r,scheme:i,pattern:s},language:o}}})(Fa||(Fa={}));var Ma;(function(t){function e(n){return{cells:n,uris:new Set(n.map(r=>r.document.uri.toString()))}}t.create=e})(Ma||(Ma={}));var us=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Fa.asDocumentSelector(n)),Mt.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of Mt.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);Mt.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&Mt.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),Mt.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of Mt.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Mt.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(Mt.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,n);if(r!==void 0){let s=r.uris.has(n.document.uri.toString());if(i&&s||!i&&!s)return;if(i){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,r,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else i&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){Mt.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let i=n.document.uri,s=r.cells.findIndex(o=>o.document.uri.toString()===i.toString());if(s!==-1)if(s===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let o=r.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(n!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,r,n);i!==void 0&&this.doSendChange(i,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,r=this.notebookSyncInfo.get(n.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(n);if(i===void 0)return;this.didOpen(n,i,r)}else{let i=this.getMatchingCells(n);if(i===void 0){this.didClose(n,r);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,r,i);s!==void 0&&this.doSendChange(s,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let r=e.getCells().filter(i=>n.uris.has(i.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let r=async(s,o)=>{let a=cs.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Dr.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Ma.create(n)),i?.didOpen!==void 0?i.didOpen(e,n,r):r(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let r=async s=>{try{await this.client.sendNotification(Dr.DidChangeNotebookDocumentNotification.type,{notebookDocument:cs.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:cs.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Ma.create(n??[])),i?.didChange!==void 0?i?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async i=>{try{await this.client.sendNotification(Dr.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let r=async(s,o)=>{try{await this.client.sendNotification(Dr.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,n,r):r(e,n)}asNotebookDocumentChangeEvent(e,n,r,i){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=cs.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(i.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&r!==void 0&&i!==void 0){let a=r.cells,c=i,u=cf.computeDiff(a,c,!1),f,d;if(u!==void 0){f=u.cells===void 0?new Map:new Map(u.cells.map(v=>[v.document.uri.toString(),v])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(v=>[v.document.uri.toString(),v]));for(let v of Array.from(d.keys()))f.has(v)&&(d.delete(v),f.delete(v));s.cells=s.cells??{};let g=[],w=[];if(f.size>0||d.size>0){for(let v of f.values())g.push(v);for(let v of d.values())w.push(v)}s.cells.structure={array:u,didOpen:g,didClose:w}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||uf.matchNotebook(r.notebook,e)){let i=this.filterCells(e,n,r.cells);return i.length===0?void 0:i}}}cellMatches(e,n){let r=this.getMatchingCells(e,[n]);return r!==void 0&&r[0]===n}filterCells(e,n,r){let i=r!==void 0?n.filter(s=>{let o=s.document.languageId;return r.some(a=>a.language==="*"||o===a.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},Aa=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Dr.NotebookDocumentSyncRegistrationType.type,Mt.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof us&&s.didOpenNotebookCellTextDocument(r,i)}),Mt.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let r=n.document;if(r.uri.scheme!==t.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(r);if(i!==void 0)for(let s of this.registrations.values())s instanceof us&&s.didChangeNotebookCellTextDocument(i,n)}),Mt.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof us&&s.didCloseNotebookCellTextDocument(r,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=fb(fb(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Fa.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let r=n.id??IP.generateUuid();this.register({id:r,registerOptions:n})}register(e){let n=new us(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Mt.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let r of Mt.workspace.notebookDocuments)for(let i of r.getCells())if(i.document.uri.toString()===n)return[r,i];return[void 0,void 0]}};La.NotebookDocumentSyncFeature=Aa;Aa.CellScheme="vscode-notebook-cell"});var hb=T(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.SyncConfigurationFeature=ei.toJSONObject=ei.ConfigurationFeature=void 0;var ls=require("vscode"),Js=se(),OP=Pn(),NP=Je(),gb=Se(),lf=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Js.ConfigurationRequest.type,(n,r)=>{let i=o=>{let a=[];for(let c of o.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=_i(ls.workspace.getConfiguration(void 0,e).get(n));else{let s=ls.workspace.getConfiguration(n.substr(0,i),e);s&&(r=_i(s.get(n.substr(i+1))))}}else{let i=ls.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=_i(i.get(s)))}return r===void 0&&(r=null),r}clear(){}};ei.ConfigurationFeature=lf;function _i(t){if(t){if(Array.isArray(t))return t.map(_i);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=_i(t[n]));return e}}return t}ei.toJSONObject=_i;var df=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Js.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,gb.ensure)((0,gb.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:NP.generateUuid(),registerOptions:{section:e}})}register(e){let n=ls.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let r;if(OP.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(a=>n.affectsConfiguration(a)))return;let i=async o=>o===void 0?this._client.sendNotification(Js.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(Js.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(r,i):i(r)).catch(o=>{this._client.error(`Sending notification ${Js.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let u=a[o[c]];u||(u=Object.create(null),a[o[c]]=u),a=u}return a}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=ls.workspace.getConfiguration(o.substr(0,a),r).get(o.substr(a+1)):c=ls.workspace.getConfiguration(void 0,r).get(o),c){let u=e[s].split(".");n(i,u)[u[u.length-1]]=_i(c)}}return i}};ei.SyncConfigurationFeature=df});var mb=T(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.DidSaveTextDocumentFeature=sn.WillSaveWaitUntilFeature=sn.WillSaveFeature=sn.DidChangeTextDocumentFeature=sn.DidCloseTextDocumentFeature=sn.DidOpenTextDocumentFeature=void 0;var hn=require("vscode"),He=se(),Ze=Se(),ds=Je(),ff=class extends Ze.TextDocumentEventFeature{constructor(e,n){super(e,hn.workspace.onDidOpenTextDocument,He.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,Ze.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Ze.ensure)((0,Ze.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:ds.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return He.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);hn.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&hn.languages.match(n,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,r)}})}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,r)}};sn.DidOpenTextDocumentFeature=ff;var pf=class extends Ze.TextDocumentEventFeature{constructor(e,n,r){super(e,hn.workspace.onDidCloseTextDocument,He.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Ze.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=r}get registrationType(){return He.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Ze.ensure)((0,Ze.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:ds.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,r)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(hn.languages.match(n,i)>0&&!this._selectorFilter(r,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(s.didClose?s.didClose(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};sn.DidCloseTextDocumentFeature=pf;var gf=class extends Ze.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new hn.EventEmitter,this._onPendingChangeAdded=new hn.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=He.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return He.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Ze.ensure)((0,Ze.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==He.TextDocumentSyncKind.None&&this.register({id:ds.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=hn.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,r=e.document.version,i=[];for(let s of this._changeData.values())if(hn.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===He.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,r);await this._client.sendNotification(He.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,He.DidChangeTextDocumentNotification.type,u)};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===He.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,s=>{throw this._client.error(`Sending document notification ${He.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=He.TextDocumentSyncKind.None;else{this._syncKind=He.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===He.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=He.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(n.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(hn.languages.match(n.documentSelector,e)>0)return{send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==He.TextDocumentSyncKind.Full)switch(e){case He.TextDocumentSyncKind.Full:this._syncKind=e;break;case He.TextDocumentSyncKind.Incremental:this._syncKind===He.TextDocumentSyncKind.None&&(this._syncKind=He.TextDocumentSyncKind.Incremental);break}}};sn.DidChangeTextDocumentFeature=gf;var hf=class extends Ze.TextDocumentEventFeature{constructor(e){super(e,hn.workspace.onWillSaveTextDocument,He.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,r)=>Ze.TextDocumentEventFeature.textDocumentFilter(n,r.document))}get registrationType(){return He.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,Ze.ensure)((0,Ze.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:ds.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};sn.WillSaveFeature=hf;var mf=class extends Ze.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return He.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,Ze.ensure)((0,Ze.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:ds.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=hn.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Ze.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,r=i=>this._client.sendRequest(He.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};sn.WillSaveWaitUntilFeature=mf;var vf=class extends Ze.TextDocumentEventFeature{constructor(e){super(e,hn.workspace.onDidSaveTextDocument,He.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,Ze.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return He.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Ze.ensure)((0,Ze.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:ds.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};sn.DidSaveTextDocumentFeature=vf});var vb=T(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.CompletionItemFeature=void 0;var FP=require("vscode"),we=se(),yf=Se(),MP=Je(),AP=[we.CompletionItemKind.Text,we.CompletionItemKind.Method,we.CompletionItemKind.Function,we.CompletionItemKind.Constructor,we.CompletionItemKind.Field,we.CompletionItemKind.Variable,we.CompletionItemKind.Class,we.CompletionItemKind.Interface,we.CompletionItemKind.Module,we.CompletionItemKind.Property,we.CompletionItemKind.Unit,we.CompletionItemKind.Value,we.CompletionItemKind.Enum,we.CompletionItemKind.Keyword,we.CompletionItemKind.Snippet,we.CompletionItemKind.Color,we.CompletionItemKind.File,we.CompletionItemKind.Reference,we.CompletionItemKind.Folder,we.CompletionItemKind.EnumMember,we.CompletionItemKind.Constant,we.CompletionItemKind.Struct,we.CompletionItemKind.Event,we.CompletionItemKind.Operator,we.CompletionItemKind.TypeParameter],wf=class extends yf.TextDocumentLanguageFeature{constructor(e){super(e,we.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,yf.ensure)((0,yf.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[we.MarkupKind.Markdown,we.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[we.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[we.InsertTextMode.asIs,we.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=we.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:AP},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);r&&this.register({id:MP.generateUuid(),registerOptions:r})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],i=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,u,f)=>{let d=this._client,g=this._client.middleware,w=(v,q,k,O)=>d.sendRequest(we.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(v,q,k),O).then(A=>O.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,O),A=>d.handleFailedRequest(we.CompletionRequest.type,O,A,null));return g.provideCompletionItem?g.provideCompletionItem(a,c,f,u,w):w(a,c,f,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,f=this._client.middleware,d=(g,w)=>u.sendRequest(we.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(g,!!this.labelDetailsSupport.get(n)),w).then(v=>w.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(v),v=>u.handleFailedRequest(we.CompletionResolveRequest.type,w,v,g));return f.resolveCompletionItem?f.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[FP.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...r),o]}};ja.CompletionItemFeature=wf});var yb=T($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.HoverFeature=void 0;var LP=require("vscode"),Ys=se(),bf=Se(),jP=Je(),Cf=class extends bf.TextDocumentLanguageFeature{constructor(e){super(e,Ys.HoverRequest.type)}fillClientCapabilities(e){let n=(0,bf.ensure)((0,bf.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[Ys.MarkupKind.Markdown,Ys.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);r&&this.register({id:jP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideHover:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(Ys.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asHover(w),w=>a.handleFailedRequest(Ys.HoverRequest.type,g,w,null)),u=a.middleware;return u.provideHover?u.provideHover(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return LP.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};$a.HoverFeature=Cf});var wb=T(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.DefinitionFeature=void 0;var $P=require("vscode"),_f=se(),Sf=Se(),HP=Je(),Df=class extends Sf.TextDocumentLanguageFeature{constructor(e){super(e,_f.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,Sf.ensure)((0,Sf.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);r&&this.register({id:HP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDefinition:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(_f.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,g),w=>a.handleFailedRequest(_f.DefinitionRequest.type,g,w,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return $P.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Ha.DefinitionFeature=Df});var Cb=T(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.SignatureHelpFeature=void 0;var bb=require("vscode"),Qs=se(),Rf=Se(),UP=Je(),Tf=class extends Rf.TextDocumentLanguageFeature{constructor(e){super(e,Qs.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,Rf.ensure)((0,Rf.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[Qs.MarkupKind.Markdown,Qs.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);r&&this.register({id:UP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(r,i,s,o)=>{let a=this._client,c=(f,d,g,w)=>a.sendRequest(Qs.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,d,g),w).then(v=>w.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(v,w),v=>a.handleFailedRequest(Qs.SignatureHelpRequest.type,w,v,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(r,i,o,s,c):c(r,i,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return bb.languages.registerSignatureHelpProvider(r,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return bb.languages.registerSignatureHelpProvider(r,n,i)}}};Ua.SignatureHelpFeature=Tf});var _b=T(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.DocumentHighlightFeature=void 0;var VP=require("vscode"),Pf=se(),Ef=Se(),WP=Je(),qf=class extends Ef.TextDocumentLanguageFeature{constructor(e){super(e,Pf.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,Ef.ensure)((0,Ef.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);r&&this.register({id:WP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentHighlights:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(Pf.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(w,g),w=>a.handleFailedRequest(Pf.DocumentHighlightRequest.type,g,w,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,s,o,c):c(i,s,o)}};return[VP.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Va.DocumentHighlightFeature=qf});var If=T(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.DocumentSymbolFeature=fr.SupportedSymbolTags=fr.SupportedSymbolKinds=void 0;var KP=require("vscode"),qe=se(),kf=Se(),zP=Je();fr.SupportedSymbolKinds=[qe.SymbolKind.File,qe.SymbolKind.Module,qe.SymbolKind.Namespace,qe.SymbolKind.Package,qe.SymbolKind.Class,qe.SymbolKind.Method,qe.SymbolKind.Property,qe.SymbolKind.Field,qe.SymbolKind.Constructor,qe.SymbolKind.Enum,qe.SymbolKind.Interface,qe.SymbolKind.Function,qe.SymbolKind.Variable,qe.SymbolKind.Constant,qe.SymbolKind.String,qe.SymbolKind.Number,qe.SymbolKind.Boolean,qe.SymbolKind.Array,qe.SymbolKind.Object,qe.SymbolKind.Key,qe.SymbolKind.Null,qe.SymbolKind.EnumMember,qe.SymbolKind.Struct,qe.SymbolKind.Event,qe.SymbolKind.Operator,qe.SymbolKind.TypeParameter];fr.SupportedSymbolTags=[qe.SymbolTag.Deprecated];var xf=class extends kf.TextDocumentLanguageFeature{constructor(e){super(e,qe.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,kf.ensure)((0,kf.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:fr.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:fr.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);r&&this.register({id:zP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(f,d)=>{try{let g=await a.sendRequest(qe.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),d);if(d.isCancellationRequested||g===void 0||g===null)return null;if(g.length===0)return[];{let w=g[0];return qe.DocumentSymbol.is(w)?await a.protocol2CodeConverter.asDocumentSymbols(g,d):await a.protocol2CodeConverter.asSymbolInformations(g,d)}}catch(g){return a.handleFailedRequest(qe.DocumentSymbolRequest.type,d,g,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(s,o,c):c(s,o)}},i=e.label!==void 0?{label:e.label}:void 0;return[KP.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,i),r]}};fr.DocumentSymbolFeature=xf});var Db=T(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.WorkspaceSymbolFeature=void 0;var BP=require("vscode"),Zs=se(),Of=Se(),Sb=If(),GP=Je(),Nf=class extends Of.WorkspaceFeature{constructor(e){super(e,Zs.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,Of.ensure)((0,Of.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Sb.SupportedSymbolKinds},n.tagSupport={valueSet:Sb.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:GP.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(Zs.WorkspaceSymbolRequest.type,{query:c},u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(f,u),f=>s.handleFailedRequest(Zs.WorkspaceSymbolRequest.type,u,f,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(r,i,o):o(r,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(Zs.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(f),f=>s.handleFailedRequest(Zs.WorkspaceSymbolResolveRequest.type,u,f,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(r,i,o):o(r,i)}:void 0};return[BP.languages.registerWorkspaceSymbolProvider(n),n]}};Wa.WorkspaceSymbolFeature=Nf});var Rb=T(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.ReferencesFeature=void 0;var XP=require("vscode"),Ff=se(),Mf=Se(),JP=Je(),Af=class extends Mf.TextDocumentLanguageFeature{constructor(e){super(e,Ff.ReferencesRequest.type)}fillClientCapabilities(e){(0,Mf.ensure)((0,Mf.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);r&&this.register({id:JP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideReferences:(i,s,o,a)=>{let c=this._client,u=(d,g,w,v)=>c.sendRequest(Ff.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,g,w),v).then(q=>v.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(q,v),q=>c.handleFailedRequest(Ff.ReferencesRequest.type,v,q,null)),f=c.middleware;return f.provideReferences?f.provideReferences(i,s,o,a,u):u(i,s,o,a)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return XP.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Ka.ReferencesFeature=Af});var Tb=T(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.CodeActionFeature=void 0;var YP=require("vscode"),mn=se(),QP=Je(),Lf=Se(),jf=class extends Lf.TextDocumentLanguageFeature{constructor(e){super(e,mn.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,Lf.ensure)((0,Lf.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[mn.CodeActionKind.Empty,mn.CodeActionKind.QuickFix,mn.CodeActionKind.Refactor,mn.CodeActionKind.RefactorExtract,mn.CodeActionKind.RefactorInline,mn.CodeActionKind.RefactorRewrite,mn.CodeActionKind.Source,mn.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);r&&this.register({id:QP.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideCodeActions:(i,s,o,a)=>{let c=this._client,u=async(d,g,w,v)=>{let q={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(g),context:c.code2ProtocolConverter.asCodeActionContextSync(w)};return c.sendRequest(mn.CodeActionRequest.type,q,v).then(k=>v.isCancellationRequested||k===null||k===void 0?null:c.protocol2CodeConverter.asCodeActionResult(k,v),k=>c.handleFailedRequest(mn.CodeActionRequest.type,v,k,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(i,s,o,a,u):u(i,s,o,a)},resolveCodeAction:e.resolveProvider?(i,s)=>{let o=this._client,a=this._client.middleware,c=async(u,f)=>o.sendRequest(mn.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(u),f).then(d=>f.isCancellationRequested?u:o.protocol2CodeConverter.asCodeAction(d,f),d=>o.handleFailedRequest(mn.CodeActionResolveRequest.type,f,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,s,c):c(i,s)}:void 0};return[YP.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};za.CodeActionFeature=jf});var Eb=T(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.CodeLensFeature=void 0;var Pb=require("vscode"),fs=se(),ZP=Je(),eo=Se(),$f=class extends eo.TextDocumentLanguageFeature{constructor(e){super(e,fs.CodeLensRequest.type)}fillClientCapabilities(e){(0,eo.ensure)((0,eo.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,eo.ensure)((0,eo.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(fs.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);i&&this.register({id:ZP.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new Pb.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(f,d)=>a.sendRequest(fs.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),d).then(g=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(g,d),g=>a.handleFailedRequest(fs.CodeLensRequest.type,d,g,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(f,d)=>a.sendRequest(fs.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),d).then(g=>d.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(g),g=>a.handleFailedRequest(fs.CodeLensResolveRequest.type,d,g,f)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[Pb.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeCodeLensEmitter:r}]}};Ba.CodeLensFeature=$f});var qb=T(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.DocumentOnTypeFormattingFeature=ti.DocumentRangeFormattingFeature=ti.DocumentFormattingFeature=void 0;var Ga=require("vscode"),Gn=se(),Wf=Je(),Rr=Se(),ps;(function(t){function e(n){let r=Ga.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(ps||(ps={}));var Hf=class extends Rr.TextDocumentLanguageFeature{constructor(e){super(e,Gn.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Rr.ensure)((0,Rr.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);r&&this.register({id:Wf.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentFormattingEdits:(i,s,o)=>{let a=this._client,c=(f,d,g)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(d,ps.fromConfiguration(f))};return a.sendRequest(Gn.DocumentFormattingRequest.type,w,g).then(v=>g.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(v,g),v=>a.handleFailedRequest(Gn.DocumentFormattingRequest.type,g,v,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,s,o,c):c(i,s,o)}};return[Ga.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};ti.DocumentFormattingFeature=Hf;var Uf=class extends Rr.TextDocumentLanguageFeature{constructor(e){super(e,Gn.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Rr.ensure)((0,Rr.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);r&&this.register({id:Wf.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentRangeFormattingEdits:(i,s,o,a)=>{let c=this._client,u=(d,g,w,v)=>{let q={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(g),options:c.code2ProtocolConverter.asFormattingOptions(w,ps.fromConfiguration(d))};return c.sendRequest(Gn.DocumentRangeFormattingRequest.type,q,v).then(k=>v.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,v),k=>c.handleFailedRequest(Gn.DocumentRangeFormattingRequest.type,v,k,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(i,s,o,a,u):u(i,s,o,a)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(i,s,o,a)=>{let c=this._client,u=(d,g,w,v)=>{let q={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(g),options:c.code2ProtocolConverter.asFormattingOptions(w,ps.fromConfiguration(d))};return c.sendRequest(Gn.DocumentRangesFormattingRequest.type,q,v).then(k=>v.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,v),k=>c.handleFailedRequest(Gn.DocumentRangesFormattingRequest.type,v,k,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(i,s,o,a,u):u(i,s,o,a)}),[Ga.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};ti.DocumentRangeFormattingFeature=Uf;var Vf=class extends Rr.TextDocumentLanguageFeature{constructor(e){super(e,Gn.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Rr.ensure)((0,Rr.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);r&&this.register({id:Wf.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideOnTypeFormattingEdits:(s,o,a,c,u)=>{let f=this._client,d=(w,v,q,k,O)=>{let A={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(w),position:f.code2ProtocolConverter.asPosition(v),ch:q,options:f.code2ProtocolConverter.asFormattingOptions(k,ps.fromConfiguration(w))};return f.sendRequest(Gn.DocumentOnTypeFormattingRequest.type,A,O).then(F=>O.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(F,O),F=>f.handleFailedRequest(Gn.DocumentOnTypeFormattingRequest.type,O,F,null))},g=f.middleware;return g.provideOnTypeFormattingEdits?g.provideOnTypeFormattingEdits(s,o,a,c,u,d):d(s,o,a,c,u)}},i=e.moreTriggerCharacter||[];return[Ga.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.firstTriggerCharacter,...i),r]}};ti.DocumentOnTypeFormattingFeature=Vf});var xb=T(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.RenameFeature=void 0;var eE=require("vscode"),Si=se(),tE=Je(),kb=Pn(),Kf=Se(),zf=class extends Kf.TextDocumentLanguageFeature{constructor(e){super(e,Si.RenameRequest.type)}fillClientCapabilities(e){let n=(0,Kf.ensure)((0,Kf.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=Si.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);r&&(kb.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:tE.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n=e.documentSelector,r={provideRenameEdits:(i,s,o,a)=>{let c=this._client,u=(d,g,w,v)=>{let q={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(g),newName:w};return c.sendRequest(Si.RenameRequest.type,q,v).then(k=>v.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(k,v),k=>c.handleFailedRequest(Si.RenameRequest.type,v,k,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(i,s,o,a,u):u(i,s,o,a)},prepareRename:e.prepareProvider?(i,s,o)=>{let a=this._client,c=(f,d,g)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(Si.PrepareRenameRequest.type,w,g).then(v=>g.isCancellationRequested?null:Si.Range.is(v)?a.protocol2CodeConverter.asRange(v):this.isDefaultBehavior(v)?v.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):v&&Si.Range.is(v.range)?{range:a.protocol2CodeConverter.asRange(v.range),placeholder:v.placeholder}:Promise.reject(new Error("The element can't be renamed.")),v=>{throw typeof v.message=="string"?new Error(v.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,s,o,c):c(i,s,o)}:void 0};return[this.registerProvider(n,r),r]}registerProvider(e,n){return eE.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&kb.boolean(n.defaultBehavior)}};Xa.RenameFeature=zf});var Ib=T(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.DocumentLinkFeature=void 0;var nE=require("vscode"),to=se(),Bf=Se(),rE=Je(),Gf=class extends Bf.TextDocumentLanguageFeature{constructor(e){super(e,to.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,Bf.ensure)((0,Bf.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);r&&this.register({id:rE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentLinks:(i,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(to.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(u),f).then(d=>f.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(d,f),d=>o.handleFailedRequest(to.DocumentLinkRequest.type,f,d,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,s,a):a(i,s)},resolveDocumentLink:e.resolveProvider?(i,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(to.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(u),f).then(d=>f.isCancellationRequested?u:o.protocol2CodeConverter.asDocumentLink(d),d=>o.handleFailedRequest(to.DocumentLinkResolveRequest.type,f,d,u)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,s,a):a(i,s)}:void 0};return[nE.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Ja.DocumentLinkFeature=Gf});var Nb=T(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.ExecuteCommandFeature=void 0;var iE=require("vscode"),Xf=se(),sE=Je(),Ob=Se(),Jf=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Xf.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,Ob.ensure)((0,Ob.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:sE.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.middleware,i=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(Xf.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(Xf.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(iE.commands.registerCommand(o,(...a)=>r.executeCommand?r.executeCommand(o,a,i):i(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};Ya.ExecuteCommandFeature=Jf});var Fb=T(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.FileSystemWatcherFeature=void 0;var oE=require("vscode"),Di=se(),Qa=Se(),Yf=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Di.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Qa.ensure)((0,Qa.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Qa.ensure)((0,Qa.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(i===void 0)continue;let s=!0,o=!0,a=!0;r.kind!==void 0&&r.kind!==null&&(s=(r.kind&Di.WatchKind.Create)!==0,o=(r.kind&Di.WatchKind.Change)!==0,a=(r.kind&Di.WatchKind.Delete)!==0);let c=oE.workspace.createFileSystemWatcher(i,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Di.FileChangeType.Created}),null,s),r&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Di.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Di.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};Za.FileSystemWatcherFeature=Yf});var Mb=T(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.ColorProviderFeature=void 0;var aE=require("vscode"),no=se(),Qf=Se(),Zf=class extends Qf.TextDocumentLanguageFeature{constructor(e){super(e,no.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Qf.ensure)((0,Qf.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideColorPresentations:(i,s,o)=>{let a=this._client,c=(f,d,g)=>{let w={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(no.ColorPresentationRequest.type,w,g).then(v=>g.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(v,g),v=>a.handleFailedRequest(no.ColorPresentationRequest.type,g,v,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,s,o,c):c(i,s,o)},provideDocumentColors:(i,s)=>{let o=this._client,a=(u,f)=>{let d={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(u)};return o.sendRequest(no.DocumentColorRequest.type,d,f).then(g=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(g,f),g=>o.handleFailedRequest(no.DocumentColorRequest.type,f,g,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,s,a):a(i,s)}};return[aE.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};ec.ColorProviderFeature=Zf});var Ab=T(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.ImplementationFeature=void 0;var cE=require("vscode"),ep=se(),tp=Se(),np=class extends tp.TextDocumentLanguageFeature{constructor(e){super(e,ep.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,tp.ensure)((0,tp.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideImplementation:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(ep.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,g),w=>a.handleFailedRequest(ep.ImplementationRequest.type,g,w,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return cE.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};tc.ImplementationFeature=np});var Lb=T(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.TypeDefinitionFeature=void 0;var uE=require("vscode"),rp=se(),ro=Se(),ip=class extends ro.TextDocumentLanguageFeature{constructor(e){super(e,rp.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ro.ensure)((0,ro.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,ro.ensure)((0,ro.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideTypeDefinition:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(rp.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,g),w=>a.handleFailedRequest(rp.TypeDefinitionRequest.type,g,w,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return uE.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};nc.TypeDefinitionFeature=ip});var jb=T(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.WorkspaceFoldersFeature=gs.arrayDiff=void 0;var lE=Je(),rc=require("vscode"),io=se();function sp(t,e){if(t!=null)return t[e]}function op(t,e){return t.filter(n=>e.indexOf(n)<0)}gs.arrayDiff=op;var ap=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return io.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=rc.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(io.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=rc.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let r=sp(sp(sp(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=lE.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let r=op(this._initialFolders,e),i=op(e,this._initialFolders);(i.length>0||r.length>0)&&(n=this.doSendEvent(i,r))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(r=>{this._client.error(`Sending notification ${io.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};return this._client.sendNotification(io.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=rc.workspace.onDidChangeWorkspaceFolders(s=>{let o=u=>this.doSendEvent(u.added,u.removed),a=r.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(u=>{this._client.error(`Sending notification ${io.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(n,i),this.sendInitialEvent(rc.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};gs.WorkspaceFoldersFeature=ap});var Hb=T(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.FoldingRangeFeature=void 0;var $b=require("vscode"),Ri=se(),so=Se(),cp=class extends so.TextDocumentLanguageFeature{constructor(e){super(e,Ri.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,so.ensure)((0,so.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[Ri.FoldingRangeKind.Comment,Ri.FoldingRangeKind.Imports,Ri.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,so.ensure)((0,so.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ri.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new $b.EventEmitter,i={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,u=(d,g,w)=>{let v={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(Ri.FoldingRangeRequest.type,v,w).then(q=>w.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(q,w),q=>c.handleFailedRequest(Ri.FoldingRangeRequest.type,w,q,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(s,o,a,u):u(s,o,a)}};return[$b.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeFoldingRange:r}]}};ic.FoldingRangeFeature=cp});var Ub=T(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.DeclarationFeature=void 0;var dE=require("vscode"),up=se(),lp=Se(),dp=class extends lp.TextDocumentLanguageFeature{constructor(e){super(e,up.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,lp.ensure)((0,lp.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDeclaration:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(up.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(w,g),w=>a.handleFailedRequest(up.DeclarationRequest.type,g,w,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return dE.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};sc.DeclarationFeature=dp});var Vb=T(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.SelectionRangeFeature=void 0;var fE=require("vscode"),fp=se(),pp=Se(),gp=class extends pp.TextDocumentLanguageFeature{constructor(e){super(e,fp.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,pp.ensure)((0,pp.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideSelectionRanges:(i,s,o)=>{let a=this._client,c=async(f,d,g)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(d,g)};return a.sendRequest(fp.SelectionRangeRequest.type,w,g).then(v=>g.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(v,g),v=>a.handleFailedRequest(fp.SelectionRangeRequest.type,g,v,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return fE.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};oc.SelectionRangeFeature=gp});var Kb=T(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.ProgressFeature=void 0;var Wb=se(),pE=$d();function gE(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var hp=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:Wb.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){gE(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new pE.ProgressPart(this._client,i.token,n))};e.onRequest(Wb.WorkDoneProgressCreateRequest.type,r)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};ac.ProgressFeature=hp});var zb=T(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.CallHierarchyFeature=void 0;var hE=require("vscode"),Ti=se(),mp=Se(),vp=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Ti.CallHierarchyPrepareRequest.type,f,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(Ti.CallHierarchyPrepareRequest.type,u,d,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,o):o(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(Ti.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>r.handleFailedRequest(Ti.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(Ti.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>r.handleFailedRequest(Ti.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},yp=class extends mp.TextDocumentLanguageFeature{constructor(e){super(e,Ti.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,r=(0,mp.ensure)((0,mp.ensure)(n,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new vp(n);return[hE.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};cc.CallHierarchyFeature=yp});var Bb=T(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.SemanticTokensFeature=void 0;var uc=require("vscode"),ue=se(),oo=Se(),mE=Pn(),wp=class extends oo.TextDocumentLanguageFeature{constructor(e){super(e,ue.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,oo.ensure)((0,oo.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[ue.SemanticTokenTypes.namespace,ue.SemanticTokenTypes.type,ue.SemanticTokenTypes.class,ue.SemanticTokenTypes.enum,ue.SemanticTokenTypes.interface,ue.SemanticTokenTypes.struct,ue.SemanticTokenTypes.typeParameter,ue.SemanticTokenTypes.parameter,ue.SemanticTokenTypes.variable,ue.SemanticTokenTypes.property,ue.SemanticTokenTypes.enumMember,ue.SemanticTokenTypes.event,ue.SemanticTokenTypes.function,ue.SemanticTokenTypes.method,ue.SemanticTokenTypes.macro,ue.SemanticTokenTypes.keyword,ue.SemanticTokenTypes.modifier,ue.SemanticTokenTypes.comment,ue.SemanticTokenTypes.string,ue.SemanticTokenTypes.number,ue.SemanticTokenTypes.regexp,ue.SemanticTokenTypes.operator,ue.SemanticTokenTypes.decorator],n.tokenModifiers=[ue.SemanticTokenModifiers.declaration,ue.SemanticTokenModifiers.definition,ue.SemanticTokenModifiers.readonly,ue.SemanticTokenModifiers.static,ue.SemanticTokenModifiers.deprecated,ue.SemanticTokenModifiers.abstract,ue.SemanticTokenModifiers.async,ue.SemanticTokenModifiers.modification,ue.SemanticTokenModifiers.documentation,ue.SemanticTokenModifiers.defaultLibrary],n.formats=[ue.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,oo.ensure)((0,oo.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(ue.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(n,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=mE.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new uc.EventEmitter,o=r?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(w,v)=>{let q=this._client,k=q.middleware,O=(A,F)=>{let j={textDocument:q.code2ProtocolConverter.asTextDocumentIdentifier(A)};return q.sendRequest(ue.SemanticTokensRequest.type,j,F).then(H=>F.isCancellationRequested?null:q.protocol2CodeConverter.asSemanticTokens(H,F),H=>q.handleFailedRequest(ue.SemanticTokensRequest.type,F,H,null))};return k.provideDocumentSemanticTokens?k.provideDocumentSemanticTokens(w,v,O):O(w,v)},provideDocumentSemanticTokensEdits:i?(w,v,q)=>{let k=this._client,O=k.middleware,A=(F,j,H)=>{let te={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(F),previousResultId:j};return k.sendRequest(ue.SemanticTokensDeltaRequest.type,te,H).then(async G=>H.isCancellationRequested?null:ue.SemanticTokens.is(G)?await k.protocol2CodeConverter.asSemanticTokens(G,H):await k.protocol2CodeConverter.asSemanticTokensEdits(G,H),G=>k.handleFailedRequest(ue.SemanticTokensDeltaRequest.type,H,G,null))};return O.provideDocumentSemanticTokensEdits?O.provideDocumentSemanticTokensEdits(w,v,q,A):A(w,v,q)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(w,v,q)=>{let k=this._client,O=k.middleware,A=(F,j,H)=>{let te={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(F),range:k.code2ProtocolConverter.asRange(j)};return k.sendRequest(ue.SemanticTokensRangeRequest.type,te,H).then(G=>H.isCancellationRequested?null:k.protocol2CodeConverter.asSemanticTokens(G,H),G=>k.handleFailedRequest(ue.SemanticTokensRangeRequest.type,H,G,null))};return O.provideDocumentRangeSemanticTokens?O.provideDocumentRangeSemanticTokens(w,v,q,A):A(w,v,q)}}:void 0,u=[],f=this._client,d=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),g=f.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&u.push(uc.languages.registerDocumentSemanticTokensProvider(g,o,d)),c!==void 0&&u.push(uc.languages.registerDocumentRangeSemanticTokensProvider(g,c,d)),[new uc.Disposable(()=>u.forEach(w=>w.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};lc.SemanticTokensFeature=wp});var Jb=T(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.WillDeleteFilesFeature=on.WillRenameFilesFeature=on.WillCreateFilesFeature=on.DidDeleteFilesFeature=on.DidRenameFilesFeature=on.DidCreateFilesFeature=void 0;var xn=require("vscode"),vE=Ia(),Tr=se(),yE=Je();function Gb(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function wE(t,e){return t[e]}function Xb(t,e,n){t[e]=n}var ao=class t{constructor(e,n,r,i,s){this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=Gb(Gb(e,"workspace"),"fileOperations");Xb(n,"dynamicRegistration",!0),Xb(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,r=n!==void 0?wE(n,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:yE.generateUuid(),registerOptions:{filters:r.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new vE.Minimatch(r.pattern.glob,t.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let r=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==o.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let f=await this.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===xn.FileType.File&&u.kind===Tr.FileOperationPatternKind.file||f===xn.FileType.Directory&&u.kind===Tr.FileOperationPatternKind.folder)return!0}else if(u.kind===Tr.FileOperationPatternKind.folder&&await t.getFileType(o)===xn.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((s,o)=>r[o]);return{...e,files:i}}static async getFileType(e){try{return(await xn.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},dc=class extends ao{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s),this._notificationType=r,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(n,r)}}},fc=class extends dc{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let r=await ao.getFileType(e);return r&&this._fsPathFileTypes.set(n,r),r}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},bp=class extends dc{constructor(e){super(e,xn.workspace.onDidCreateFiles,Tr.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,n):n(e)}};on.DidCreateFilesFeature=bp;var Cp=class extends fc{constructor(e){super(e,xn.workspace.onDidRenameFiles,Tr.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=xn.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,n):n(e)}};on.DidRenameFilesFeature=Cp;var _p=class extends fc{constructor(e){super(e,xn.workspace.onDidDeleteFiles,Tr.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=xn.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,n):n(e)}};on.DidDeleteFilesFeature=_p;var co=class extends ao{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s),this._requestType=r,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},Sp=class extends co{constructor(e){super(e,xn.workspace.onWillCreateFiles,Tr.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,n):n(e)}};on.WillCreateFilesFeature=Sp;var Dp=class extends co{constructor(e){super(e,xn.workspace.onWillRenameFiles,Tr.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,n):n(e)}};on.WillRenameFilesFeature=Dp;var Rp=class extends co{constructor(e){super(e,xn.workspace.onWillDeleteFiles,Tr.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,n):n(e)}};on.WillDeleteFilesFeature=Rp});var Yb=T(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.LinkedEditingFeature=void 0;var bE=require("vscode"),Tp=se(),Pp=Se(),Ep=class extends Pp.TextDocumentLanguageFeature{constructor(e){super(e,Tp.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,Pp.ensure)((0,Pp.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideLinkedEditingRanges:(i,s,o)=>{let a=this._client,c=(f,d,g)=>a.sendRequest(Tp.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,d),g).then(w=>g.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(w,g),w=>a.handleFailedRequest(Tp.LinkedEditingRangeRequest.type,g,w,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return bE.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};pc.LinkedEditingFeature=Ep});var Qb=T(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.TypeHierarchyFeature=void 0;var CE=require("vscode"),Pi=se(),qp=Se(),kp=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Pi.TypeHierarchyPrepareRequest.type,f,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(Pi.TypeHierarchyPrepareRequest.type,u,d,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,r,o):o(e,n,r)}provideTypeHierarchySupertypes(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(Pi.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(Pi.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(Pi.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(Pi.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},xp=class extends qp.TextDocumentLanguageFeature{constructor(e){super(e,Pi.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,qp.ensure)((0,qp.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new kp(n);return[CE.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};gc.TypeHierarchyFeature=xp});var eC=T(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.InlineValueFeature=void 0;var Zb=require("vscode"),hc=se(),uo=Se(),Ip=class extends uo.TextDocumentLanguageFeature{constructor(e){super(e,hc.InlineValueRequest.type)}fillClientCapabilities(e){(0,uo.ensure)((0,uo.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,uo.ensure)((0,uo.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(hc.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[r,i]=this.getRegistration(n,e.inlineValueProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new Zb.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:(s,o,a,c)=>{let u=this._client,f=(g,w,v,q)=>{let k={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(g),range:u.code2ProtocolConverter.asRange(w),context:u.code2ProtocolConverter.asInlineValueContext(v)};return u.sendRequest(hc.InlineValueRequest.type,k,q).then(O=>q.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(O,q),O=>u.handleFailedRequest(hc.InlineValueRequest.type,q,O,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(s,o,a,c,f):f(s,o,a,c)}};return[this.registerProvider(n,i),{provider:i,onDidChangeInlineValues:r}]}registerProvider(e,n){return Zb.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};mc.InlineValueFeature=Ip});var nC=T(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.InlayHintsFeature=void 0;var tC=require("vscode"),hs=se(),lo=Se(),Op=class extends lo.TextDocumentLanguageFeature{constructor(e){super(e,hs.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,lo.ensure)((0,lo.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,lo.ensure)((0,lo.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(hs.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[r,i]=this.getRegistration(n,e.inlayHintProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new tC.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:(s,o,a)=>{let c=this._client,u=async(d,g,w)=>{let v={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(g)};try{let q=await c.sendRequest(hs.InlayHintRequest.type,v,w);return w.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(q,w)}catch(q){return c.handleFailedRequest(hs.InlayHintRequest.type,w,q,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(s,o,a,u):u(s,o,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(f,d)=>{try{let g=await a.sendRequest(hs.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),d);if(d.isCancellationRequested)return null;let w=a.protocol2CodeConverter.asInlayHint(g,d);return d.isCancellationRequested?null:w}catch(g){return a.handleFailedRequest(hs.InlayHintResolveRequest.type,d,g,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,i),{provider:i,onDidChangeInlayHints:r}]}registerProvider(e,n){return tC.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};vc.InlayHintsFeature=Op});var rC=T(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.InlineCompletionItemFeature=void 0;var _E=require("vscode"),Np=se(),Fp=Se(),SE=Je(),Mp=class extends Fp.TextDocumentLanguageFeature{constructor(e){super(e,Np.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,Fp.ensure)((0,Fp.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.inlineCompletionProvider);r&&this.register({id:SE.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideInlineCompletionItems:(i,s,o,a)=>{let c=this._client,u=this._client.middleware,f=(d,g,w,v)=>c.sendRequest(Np.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,g,w),v).then(q=>v.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(q,v),q=>c.handleFailedRequest(Np.InlineCompletionRequest.type,v,q,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,s,o,a,f):f(i,s,o,a)}};return[_E.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};yc.InlineCompletionItemFeature=Mp});var Up=T(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.ProposedFeatures=Ct.BaseLanguageClient=Ct.MessageTransports=Ct.SuspendMode=Ct.State=Ct.CloseAction=Ct.ErrorAction=Ct.RevealOutputChannelOn=void 0;var xe=require("vscode"),$=se(),DE=Ow(),RE=Mw(),Jn=Pn(),wc=Ra(),iC=Je(),TE=$d(),Xn=Se(),PE=af(),sC=pb(),oC=hb(),ms=mb(),EE=vb(),qE=yb(),kE=wb(),xE=Cb(),IE=_b(),OE=If(),NE=Db(),FE=Rb(),ME=Tb(),AE=Eb(),Ap=qb(),LE=xb(),jE=Ib(),$E=Nb(),HE=Fb(),UE=Mb(),VE=Ab(),WE=Lb(),KE=jb(),zE=Hb(),BE=Ub(),GE=Vb(),XE=Kb(),JE=zb(),YE=Bb(),vs=Jb(),QE=Yb(),ZE=Qb(),e0=eC(),t0=nC(),n0=rC(),Ei;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Ei||(Ct.RevealOutputChannelOn=Ei={}));var po;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(po||(Ct.ErrorAction=po={}));var ni;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(ni||(Ct.CloseAction=ni={}));var fo;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(fo||(Ct.State=fo={}));var aC;(function(t){t.off="off",t.on="on"})(aC||(Ct.SuspendMode=aC={}));var Lp;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&Jn.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(Lp||(Lp={}));var jp=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?{action:po.Continue}:{action:po.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:ni.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:ni.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:ni.Restart})}},ge;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(ge||(ge={}));var cC;(function(t){function e(n){return n&&$.MessageReader.is(n.reader)&&$.MessageWriter.is(n.writer)}t.is=e})(cC||(Ct.MessageTransports=cC={}));var go=class t{constructor(e,n,r){this._traceFormat=$.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new wc.Semaphore(1),this._id=e,this._name=n,r=r||{};let i={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(i.isTrusted=Lp.sanitizeIsTrusted(r.markdown.isTrusted),i.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??Ei.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ge.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new wc.Semaphore(1),this._pendingChangeDelayer=new wc.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new wc.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new $.Emitter,this._stateChangeEmitter=new $.Emitter,this._trace=$.Trace.Off,this._tracer={log:(s,o)=>{Jn.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=DE.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=RE.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=xe.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){switch(this.$state){case ge.Starting:return fo.Starting;case ge.Running:return fo.Running;default:return fo.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===ge.StartFailed||this.$state===ge.Stopping||this.$state===ge.Stopped)return Promise.reject(new $.ResponseError($.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===$.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let s,o;return n.length===1?$.CancellationToken.is(n[0])?o=n[0]:s=n[0]:n.length===2&&(s=n[0],o=n[1]),i(e,s,o,(a,c,u)=>{let f=[];return c!==void 0&&f.push(c),u!==void 0&&f.push(u),r.sendRequest(a,...f)})}else return r.sendRequest(e,...n)}onRequest(e,n){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,n);let i=this.activeConnection(),s;return i!==void 0?(this._requestDisposables.set(r,i.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,n),s={dispose:()=>{this._pendingRequestHandlers.delete(r);let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),s.dispose()}}}async sendNotification(e,n){if(this.$state===ge.StartFailed||this.$state===ge.Stopping||this.$state===ge.Stopped)return Promise.reject(new $.ResponseError($.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===$.TextDocumentSyncKind.Full,i;r&&typeof e!="string"&&e.method===$.DidOpenTextDocumentNotification.method&&(i=n?.textDocument.uri,this._pendingOpenNotifications.add(i));let s=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._pendingOpenNotifications.delete(i);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),n):s.sendNotification(e,n)}onNotification(e,n){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,n);let i=this.activeConnection(),s;return i!==void 0?(this._notificationDisposables.set(r,i.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(r);let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),s.dispose()}}}async sendProgress(e,n,r){if(this.$state===ge.StartFailed||this.$state===ge.Stopping||this.$state===ge.Stopped)return Promise.reject(new $.ResponseError($.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}onProgress(e,n,r){this._progressHandlers.set(n,{type:e,handler:r});let i=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=$.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>r(c))}:r;return i!==void 0?(this._progressDisposables.set(n,i.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:r}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new jp(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof $.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?Jn.string(e.stack)?e.stack:e.message:Jn.string(e)?e:e.toString()}debug(e,n,r=!0){this.logOutputMessage($.MessageType.Debug,Ei.Debug,"Debug",e,n,r)}info(e,n,r=!0){this.logOutputMessage($.MessageType.Info,Ei.Info,"Info",e,n,r)}warn(e,n,r=!0){this.logOutputMessage($.MessageType.Warning,Ei.Warn,"Warn",e,n,r)}error(e,n,r=!0){this.logOutputMessage($.MessageType.Error,Ei.Error,"Error",e,n,r)}logOutputMessage(e,n,r,i,s,o){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===$.MessageType.Error?xe.window.showErrorMessage:e===$.MessageType.Warning?xe.window.showWarningMessage:xe.window.showInformationMessage)(n,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===ge.Initial||this.$state===ge.Stopping||this.$state===ge.Stopped}needsStop(){return this.$state===ge.Starting||this.$state===ge.Running}activeConnection(){return this.$state===ge.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===ge.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===ge.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?xe.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):xe.languages.createDiagnosticCollection());for(let[i,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,s);for(let[i,s]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,s);for(let[i,s]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,s);this.$state=ge.Starting;try{let i=await this.createConnection();i.onNotification($.LogMessageNotification.type,s=>{switch(s.type){case $.MessageType.Error:this.error(s.message,void 0,!1);break;case $.MessageType.Warning:this.warn(s.message,void 0,!1);break;case $.MessageType.Info:this.info(s.message,void 0,!1);break;case $.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),i.onNotification($.ShowMessageNotification.type,s=>{switch(s.type){case $.MessageType.Error:xe.window.showErrorMessage(s.message);break;case $.MessageType.Warning:xe.window.showWarningMessage(s.message);break;case $.MessageType.Info:xe.window.showInformationMessage(s.message);break;default:xe.window.showInformationMessage(s.message)}}),i.onRequest($.ShowMessageRequest.type,s=>{let o;switch(s.type){case $.MessageType.Error:o=xe.window.showErrorMessage;break;case $.MessageType.Warning:o=xe.window.showWarningMessage;break;case $.MessageType.Info:o=xe.window.showInformationMessage;break;default:o=xe.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),i.onNotification($.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),i.onRequest($.ShowDocumentRequest.type,async s=>{let o=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await xe.env.openExternal(u)};{let f={};return c.selection!==void 0&&(f.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?f.preserveFocus=!0:c.takeFocus===!0&&(f.preserveFocus=!1),await xe.window.showTextDocument(u,f),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),i.listen(),await this.initialize(i),n()}catch(i){this.$state=ge.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),r(i)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((i,s)=>{e=i,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[r,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:xe.env.appName,version:xe.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(xe.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Jn.func(n)?n():n,trace:$.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=iC.generateUuid(),a=new TE.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let r=await e.initialize(n);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==$.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=ge.Running;let i;Jn.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===$.TextDocumentSyncKind.None?i={openClose:!1,change:$.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onNotification($.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest($.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest($.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest($.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification($.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof $.ResponseError&&r.data&&r.data.retry?xe.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&xe.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=xe.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===ge.Stopped||this.$state===ge.Initial)return;if(this.$state===ge.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==ge.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=ge.Stopping,this.cleanUp(e);let i=new Promise(o=>{(0,$.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(r);return this._onStop=Promise.race([i,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=ge.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let r of n)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(i=>i[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function r(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification($.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,r):r(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let r of n){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification($.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(r,$.DidChangeTextDocumentNotification.type,i)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,$.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,r]=e.value;this._diagnosticQueue.delete(n);let i=new xe.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:i},this._p2c.asDiagnostics(r,i.token).then(s=>{if(!i.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return xe.env.language}async $start(){if(this.$state===ge.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,s,o)=>{this.handleConnectionError(i,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=r0(r.reader,r.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===ge.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:ni.DoNotRestart};if(this.$state!==ge.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===ni.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===ge.Starting?this.$state=ge.StartFailed:this.$state=ge.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===ni.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=ge.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,r){let i=await this._clientOptions.errorHandler.error(e,n,r);i.action===po.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(xe.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let r=xe.workspace.getConfiguration(this._id),i=$.Trace.Off,s=$.TraceFormat.Text;if(r){let o=r.get("trace.server","off");typeof o=="string"?i=$.Trace.fromString(o):(i=$.Trace.fromString(r.get("trace.server.verbosity","off")),s=$.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;Jn.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get($.DidChangeWatchedFilesNotification.type.method).registerRaw(iC.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),Xn.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature($.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof sC.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new oC.ConfigurationFeature(this)),this.registerFeature(new ms.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new ms.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new ms.WillSaveFeature(this)),this.registerFeature(new ms.WillSaveWaitUntilFeature(this)),this.registerFeature(new ms.DidSaveTextDocumentFeature(this)),this.registerFeature(new ms.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new HE.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new EE.CompletionItemFeature(this)),this.registerFeature(new qE.HoverFeature(this)),this.registerFeature(new xE.SignatureHelpFeature(this)),this.registerFeature(new kE.DefinitionFeature(this)),this.registerFeature(new FE.ReferencesFeature(this)),this.registerFeature(new IE.DocumentHighlightFeature(this)),this.registerFeature(new OE.DocumentSymbolFeature(this)),this.registerFeature(new NE.WorkspaceSymbolFeature(this)),this.registerFeature(new ME.CodeActionFeature(this)),this.registerFeature(new AE.CodeLensFeature(this)),this.registerFeature(new Ap.DocumentFormattingFeature(this)),this.registerFeature(new Ap.DocumentRangeFormattingFeature(this)),this.registerFeature(new Ap.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new LE.RenameFeature(this)),this.registerFeature(new jE.DocumentLinkFeature(this)),this.registerFeature(new $E.ExecuteCommandFeature(this)),this.registerFeature(new oC.SyncConfigurationFeature(this)),this.registerFeature(new WE.TypeDefinitionFeature(this)),this.registerFeature(new VE.ImplementationFeature(this)),this.registerFeature(new UE.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new KE.WorkspaceFoldersFeature(this)),this.registerFeature(new zE.FoldingRangeFeature(this)),this.registerFeature(new BE.DeclarationFeature(this)),this.registerFeature(new GE.SelectionRangeFeature(this)),this.registerFeature(new XE.ProgressFeature(this)),this.registerFeature(new JE.CallHierarchyFeature(this)),this.registerFeature(new YE.SemanticTokensFeature(this)),this.registerFeature(new QE.LinkedEditingFeature(this)),this.registerFeature(new vs.DidCreateFilesFeature(this)),this.registerFeature(new vs.DidRenameFilesFeature(this)),this.registerFeature(new vs.DidDeleteFilesFeature(this)),this.registerFeature(new vs.WillCreateFilesFeature(this)),this.registerFeature(new vs.WillRenameFilesFeature(this)),this.registerFeature(new vs.WillDeleteFilesFeature(this)),this.registerFeature(new ZE.TypeHierarchyFeature(this)),this.registerFeature(new e0.InlineValueFeature(this)),this.registerFeature(new t0.InlayHintsFeature(this)),this.registerFeature(new PE.DiagnosticFeature(this)),this.registerFeature(new sC.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Hp.createAll(this))}fillInitializeParams(e){for(let n of this._features)Jn.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Xn.ensure)(e,"workspace").applyEdit=!0;let n=(0,Xn.ensure)((0,Xn.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[$.ResourceOperationKind.Create,$.ResourceOperationKind.Rename,$.ResourceOperationKind.Delete],n.failureHandling=$.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,Xn.ensure)((0,Xn.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[$.DiagnosticTag.Unnecessary,$.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=(0,Xn.ensure)(e,"window"),s=(0,Xn.ensure)(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,Xn.ensure)(i,"showDocument");o.support=!0;let a=(0,Xn.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)Jn.func(r.preInitialize)&&r.preInitialize(this._capabilities,n);for(let r of this._features)r.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,r=>this.doRegisterCapability(r)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let r=this._dynamicFeatures.get(n.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let i=n.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:i};try{r.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,r=>this.doUnregisterCapability(r)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let r=this._dynamicFeatures.get(n.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));r.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),i=new Map;xe.workspace.textDocuments.forEach(o=>i.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if($.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):Jn.asPromise(xe.workspace.applyEdit(r).then(o=>({applied:o})))}handleFailedRequest(e,n,r,i,s=!0){if(r instanceof $.ResponseError){if(r.code===$.ErrorCodes.PendingResponseRejected||r.code===$.ErrorCodes.ConnectionInactive)return i;if(r.code===$.LSPErrorCodes.RequestCancelled||r.code===$.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return i;throw r.data!==void 0?new Xn.LSPCancellationError(r.data):new xe.CancellationError}else if(r.code===$.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new xe.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,r,s),r}};Ct.BaseLanguageClient=go;go.RequestsToCancelOnContentModified=new Set([$.SemanticTokensRequest.method,$.SemanticTokensRangeRequest.method,$.SemanticTokensDeltaRequest.method]);go.CancellableResolveCalls=new Set([$.CompletionResolveRequest.method,$.CodeLensResolveRequest.method,$.CodeActionResolveRequest.method,$.InlayHintResolveRequest.method,$.DocumentLinkResolveRequest.method,$.WorkspaceSymbolResolveRequest.method]);var $p=class{error(e){(0,$.RAL)().console.error(e)}warn(e){(0,$.RAL)().console.warn(e)}info(e){(0,$.RAL)().console.info(e)}log(e){(0,$.RAL)().console.log(e)}};function r0(t,e,n,r,i){let s=new $p,o=(0,$.createProtocolConnection)(t,e,s,i);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(r),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,u,f)=>{let d={sendNotification:!1,traceFormat:$.TraceFormat.Text};return f===void 0?o.trace(c,u,d):(Jn.boolean(f),o.trace(c,u,f))},initialize:c=>o.sendRequest($.InitializeRequest.type,c),shutdown:()=>o.sendRequest($.ShutdownRequest.type,void 0),exit:()=>o.sendNotification($.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var Hp;(function(t){function e(n){return[new n0.InlineCompletionItemFeature(n)]}t.createAll=e})(Hp||(Ct.ProposedFeatures=Hp={}))});var lC=T(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.terminate=void 0;var uC=require("child_process"),i0=require("path"),s0=process.platform==="win32",o0=process.platform==="darwin",a0=process.platform==="linux";function c0(t,e){if(s0)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),uC.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(a0||o0)try{var n=(0,i0.join)(__dirname,"terminateProcess.sh"),r=uC.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}bc.terminate=c0});var Vp=T((dM,dC)=>{"use strict";dC.exports=se()});var ho=T((fM,fC)=>{"use strict";var u0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};fC.exports=u0});var mo=T((pM,pC)=>{"use strict";var l0="2.0.0",d0=Number.MAX_SAFE_INTEGER||9007199254740991,f0=16,p0=250,g0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];pC.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:f0,MAX_SAFE_BUILD_LENGTH:p0,MAX_SAFE_INTEGER:d0,RELEASE_TYPES:g0,SEMVER_SPEC_VERSION:l0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ys=T((Pr,gC)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Wp,MAX_SAFE_BUILD_LENGTH:h0,MAX_LENGTH:m0}=mo(),v0=ho();Pr=gC.exports={};var y0=Pr.re=[],w0=Pr.safeRe=[],X=Pr.src=[],J=Pr.t={},b0=0,Kp="[a-zA-Z0-9-]",C0=[["\\s",1],["\\d",m0],[Kp,h0]],_0=t=>{for(let[e,n]of C0)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},le=(t,e,n)=>{let r=_0(e),i=b0++;v0(t,i,e),J[t]=i,X[i]=e,y0[i]=new RegExp(e,n?"g":void 0),w0[i]=new RegExp(r,n?"g":void 0)};le("NUMERICIDENTIFIER","0|[1-9]\\d*");le("NUMERICIDENTIFIERLOOSE","\\d+");le("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Kp}*`);le("MAINVERSION",`(${X[J.NUMERICIDENTIFIER]})\\.(${X[J.NUMERICIDENTIFIER]})\\.(${X[J.NUMERICIDENTIFIER]})`);le("MAINVERSIONLOOSE",`(${X[J.NUMERICIDENTIFIERLOOSE]})\\.(${X[J.NUMERICIDENTIFIERLOOSE]})\\.(${X[J.NUMERICIDENTIFIERLOOSE]})`);le("PRERELEASEIDENTIFIER",`(?:${X[J.NUMERICIDENTIFIER]}|${X[J.NONNUMERICIDENTIFIER]})`);le("PRERELEASEIDENTIFIERLOOSE",`(?:${X[J.NUMERICIDENTIFIERLOOSE]}|${X[J.NONNUMERICIDENTIFIER]})`);le("PRERELEASE",`(?:-(${X[J.PRERELEASEIDENTIFIER]}(?:\\.${X[J.PRERELEASEIDENTIFIER]})*))`);le("PRERELEASELOOSE",`(?:-?(${X[J.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${X[J.PRERELEASEIDENTIFIERLOOSE]})*))`);le("BUILDIDENTIFIER",`${Kp}+`);le("BUILD",`(?:\\+(${X[J.BUILDIDENTIFIER]}(?:\\.${X[J.BUILDIDENTIFIER]})*))`);le("FULLPLAIN",`v?${X[J.MAINVERSION]}${X[J.PRERELEASE]}?${X[J.BUILD]}?`);le("FULL",`^${X[J.FULLPLAIN]}$`);le("LOOSEPLAIN",`[v=\\s]*${X[J.MAINVERSIONLOOSE]}${X[J.PRERELEASELOOSE]}?${X[J.BUILD]}?`);le("LOOSE",`^${X[J.LOOSEPLAIN]}$`);le("GTLT","((?:<|>)?=?)");le("XRANGEIDENTIFIERLOOSE",`${X[J.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);le("XRANGEIDENTIFIER",`${X[J.NUMERICIDENTIFIER]}|x|X|\\*`);le("XRANGEPLAIN",`[v=\\s]*(${X[J.XRANGEIDENTIFIER]})(?:\\.(${X[J.XRANGEIDENTIFIER]})(?:\\.(${X[J.XRANGEIDENTIFIER]})(?:${X[J.PRERELEASE]})?${X[J.BUILD]}?)?)?`);le("XRANGEPLAINLOOSE",`[v=\\s]*(${X[J.XRANGEIDENTIFIERLOOSE]})(?:\\.(${X[J.XRANGEIDENTIFIERLOOSE]})(?:\\.(${X[J.XRANGEIDENTIFIERLOOSE]})(?:${X[J.PRERELEASELOOSE]})?${X[J.BUILD]}?)?)?`);le("XRANGE",`^${X[J.GTLT]}\\s*${X[J.XRANGEPLAIN]}$`);le("XRANGELOOSE",`^${X[J.GTLT]}\\s*${X[J.XRANGEPLAINLOOSE]}$`);le("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Wp}})(?:\\.(\\d{1,${Wp}}))?(?:\\.(\\d{1,${Wp}}))?`);le("COERCE",`${X[J.COERCEPLAIN]}(?:$|[^\\d])`);le("COERCEFULL",X[J.COERCEPLAIN]+`(?:${X[J.PRERELEASE]})?(?:${X[J.BUILD]})?(?:$|[^\\d])`);le("COERCERTL",X[J.COERCE],!0);le("COERCERTLFULL",X[J.COERCEFULL],!0);le("LONETILDE","(?:~>?)");le("TILDETRIM",`(\\s*)${X[J.LONETILDE]}\\s+`,!0);Pr.tildeTrimReplace="$1~";le("TILDE",`^${X[J.LONETILDE]}${X[J.XRANGEPLAIN]}$`);le("TILDELOOSE",`^${X[J.LONETILDE]}${X[J.XRANGEPLAINLOOSE]}$`);le("LONECARET","(?:\\^)");le("CARETTRIM",`(\\s*)${X[J.LONECARET]}\\s+`,!0);Pr.caretTrimReplace="$1^";le("CARET",`^${X[J.LONECARET]}${X[J.XRANGEPLAIN]}$`);le("CARETLOOSE",`^${X[J.LONECARET]}${X[J.XRANGEPLAINLOOSE]}$`);le("COMPARATORLOOSE",`^${X[J.GTLT]}\\s*(${X[J.LOOSEPLAIN]})$|^$`);le("COMPARATOR",`^${X[J.GTLT]}\\s*(${X[J.FULLPLAIN]})$|^$`);le("COMPARATORTRIM",`(\\s*)${X[J.GTLT]}\\s*(${X[J.LOOSEPLAIN]}|${X[J.XRANGEPLAIN]})`,!0);Pr.comparatorTrimReplace="$1$2$3";le("HYPHENRANGE",`^\\s*(${X[J.XRANGEPLAIN]})\\s+-\\s+(${X[J.XRANGEPLAIN]})\\s*$`);le("HYPHENRANGELOOSE",`^\\s*(${X[J.XRANGEPLAINLOOSE]})\\s+-\\s+(${X[J.XRANGEPLAINLOOSE]})\\s*$`);le("STAR","(<|>)?=?\\s*\\*");le("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");le("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Cc=T((gM,hC)=>{"use strict";var S0=Object.freeze({loose:!0}),D0=Object.freeze({}),R0=t=>t?typeof t!="object"?S0:t:D0;hC.exports=R0});var zp=T((hM,yC)=>{"use strict";var mC=/^[0-9]+$/,vC=(t,e)=>{let n=mC.test(t),r=mC.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},T0=(t,e)=>vC(e,t);yC.exports={compareIdentifiers:vC,rcompareIdentifiers:T0}});var At=T((mM,_C)=>{"use strict";var _c=ho(),{MAX_LENGTH:wC,MAX_SAFE_INTEGER:Sc}=mo(),{safeRe:bC,t:CC}=ys(),P0=Cc(),{compareIdentifiers:ws}=zp(),Bp=class t{constructor(e,n){if(n=P0(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wC)throw new TypeError(`version is longer than ${wC} characters`);_c("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?bC[CC.LOOSE]:bC[CC.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Sc||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sc||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sc||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Sc)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_c("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ws(this.major,e.major)||ws(this.minor,e.minor)||ws(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(_c("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ws(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(_c("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ws(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),ws(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};_C.exports=Bp});var ri=T((vM,DC)=>{"use strict";var SC=At(),E0=(t,e,n=!1)=>{if(t instanceof SC)return t;try{return new SC(t,e)}catch(r){if(!n)return null;throw r}};DC.exports=E0});var TC=T((yM,RC)=>{"use strict";var Gp=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};RC.exports=Gp});var In=T((wM,EC)=>{"use strict";var PC=At(),q0=(t,e,n)=>new PC(t,n).compare(new PC(e,n));EC.exports=q0});var Xp=T((bM,qC)=>{"use strict";var k0=In(),x0=(t,e,n)=>k0(t,e,n)===0;qC.exports=x0});var Jp=T((CM,kC)=>{"use strict";var I0=In(),O0=(t,e,n)=>I0(t,e,n)!==0;kC.exports=O0});var vo=T((_M,xC)=>{"use strict";var N0=In(),F0=(t,e,n)=>N0(t,e,n)>0;xC.exports=F0});var Dc=T((SM,IC)=>{"use strict";var M0=In(),A0=(t,e,n)=>M0(t,e,n)>=0;IC.exports=A0});var Rc=T((DM,OC)=>{"use strict";var L0=In(),j0=(t,e,n)=>L0(t,e,n)<0;OC.exports=j0});var Tc=T((RM,NC)=>{"use strict";var $0=In(),H0=(t,e,n)=>$0(t,e,n)<=0;NC.exports=H0});var Yp=T((TM,FC)=>{"use strict";var U0=Xp(),V0=Jp(),W0=vo(),K0=Dc(),z0=Rc(),B0=Tc(),G0=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return U0(t,n,r);case"!=":return V0(t,n,r);case">":return W0(t,n,r);case">=":return K0(t,n,r);case"<":return z0(t,n,r);case"<=":return B0(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};FC.exports=G0});var wo=T((PM,HC)=>{"use strict";var yo=Symbol("SemVer ANY"),eg=class t{static get ANY(){return yo}constructor(e,n){if(n=MC(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Zp("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===yo?this.value="":this.value=this.operator+this.semver.version,Zp("comp",this)}parse(e){let n=this.options.loose?AC[LC.COMPARATORLOOSE]:AC[LC.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new jC(r[2],this.options.loose):this.semver=yo}toString(){return this.value}test(e){if(Zp("Comparator.test",e,this.options.loose),this.semver===yo||e===yo)return!0;if(typeof e=="string")try{e=new jC(e,this.options)}catch{return!1}return Qp(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new $C(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new $C(this.value,n).test(e.semver):(n=MC(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Qp(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Qp(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};HC.exports=eg;var MC=Cc(),{safeRe:AC,t:LC}=ys(),Qp=Yp(),Zp=ho(),jC=At(),$C=On()});var On=T((EM,KC)=>{"use strict";var X0=/\s+/g,tg=class t{constructor(e,n){if(n=Y0(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof ng)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(X0," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!VC(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&iq(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&nq)|(this.options.loose&&rq))+":"+e,i=UC.get(r);if(i)return i;let s=this.options.loose,o=s?an[Vt.HYPHENRANGELOOSE]:an[Vt.HYPHENRANGE];e=e.replace(o,gq(this.options.includePrerelease)),Ke("hyphen replace",e),e=e.replace(an[Vt.COMPARATORTRIM],Z0),Ke("comparator trim",e),e=e.replace(an[Vt.TILDETRIM],eq),Ke("tilde trim",e),e=e.replace(an[Vt.CARETTRIM],tq),Ke("caret trim",e);let a=e.split(" ").map(d=>sq(d,this.options)).join(" ").split(/\s+/).map(d=>pq(d,this.options));s&&(a=a.filter(d=>(Ke("loose invalid filter",d,this.options),!!d.match(an[Vt.COMPARATORLOOSE])))),Ke("range list",a);let c=new Map,u=a.map(d=>new ng(d,this.options));for(let d of u){if(VC(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return UC.set(r,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>WC(r,n)&&e.set.some(i=>WC(i,n)&&r.every(s=>i.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Q0(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(hq(this.set[n],e,this.options))return!0;return!1}};KC.exports=tg;var J0=TC(),UC=new J0,Y0=Cc(),ng=wo(),Ke=ho(),Q0=At(),{safeRe:an,t:Vt,comparatorTrimReplace:Z0,tildeTrimReplace:eq,caretTrimReplace:tq}=ys(),{FLAG_INCLUDE_PRERELEASE:nq,FLAG_LOOSE:rq}=mo(),VC=t=>t.value==="<0.0.0-0",iq=t=>t.value==="",WC=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},sq=(t,e)=>(Ke("comp",t,e),t=cq(t,e),Ke("caret",t),t=oq(t,e),Ke("tildes",t),t=lq(t,e),Ke("xrange",t),t=fq(t,e),Ke("stars",t),t),Wt=t=>!t||t.toLowerCase()==="x"||t==="*",oq=(t,e)=>t.trim().split(/\s+/).map(n=>aq(n,e)).join(" "),aq=(t,e)=>{let n=e.loose?an[Vt.TILDELOOSE]:an[Vt.TILDE];return t.replace(n,(r,i,s,o,a)=>{Ke("tilde",t,r,i,s,o,a);let c;return Wt(i)?c="":Wt(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Wt(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(Ke("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Ke("tilde return",c),c})},cq=(t,e)=>t.trim().split(/\s+/).map(n=>uq(n,e)).join(" "),uq=(t,e)=>{Ke("caret",t,e);let n=e.loose?an[Vt.CARETLOOSE]:an[Vt.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,o,a,c)=>{Ke("caret",t,i,s,o,a,c);let u;return Wt(s)?u="":Wt(o)?u=`>=${s}.0.0${r} <${+s+1}.0.0-0`:Wt(a)?s==="0"?u=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:c?(Ke("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Ke("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Ke("caret return",u),u})},lq=(t,e)=>(Ke("replaceXRanges",t,e),t.split(/\s+/).map(n=>dq(n,e)).join(" ")),dq=(t,e)=>{t=t.trim();let n=e.loose?an[Vt.XRANGELOOSE]:an[Vt.XRANGE];return t.replace(n,(r,i,s,o,a,c)=>{Ke("xRange",t,r,i,s,o,a,c);let u=Wt(s),f=u||Wt(o),d=f||Wt(a),g=d;return i==="="&&g&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&g?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(c="-0"),r=`${i+s}.${o}.${a}${c}`):f?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Ke("xRange return",r),r})},fq=(t,e)=>(Ke("replaceStars",t,e),t.trim().replace(an[Vt.STAR],"")),pq=(t,e)=>(Ke("replaceGTE0",t,e),t.trim().replace(an[e.includePrerelease?Vt.GTE0PRE:Vt.GTE0],"")),gq=t=>(e,n,r,i,s,o,a,c,u,f,d,g)=>(Wt(r)?n="":Wt(i)?n=`>=${r}.0.0${t?"-0":""}`:Wt(s)?n=`>=${r}.${i}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Wt(u)?c="":Wt(f)?c=`<${+u+1}.0.0-0`:Wt(d)?c=`<${u}.${+f+1}.0-0`:g?c=`<=${u}.${f}.${d}-${g}`:t?c=`<${u}.${f}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),hq=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Ke(t[r].semver),t[r].semver!==ng.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var bs=T((qM,zC)=>{"use strict";var mq=On(),vq=(t,e,n)=>{try{e=new mq(e,n)}catch{return!1}return e.test(t)};zC.exports=vq});var GC=T(vn=>{"use strict";var yq=vn&&vn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),rg=vn&&vn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&yq(e,t,n)};Object.defineProperty(vn,"__esModule",{value:!0});vn.DiagnosticPullMode=vn.vsdiag=void 0;rg(se(),vn);rg(Se(),vn);var BC=af();Object.defineProperty(vn,"vsdiag",{enumerable:!0,get:function(){return BC.vsdiag}});Object.defineProperty(vn,"DiagnosticPullMode",{enumerable:!0,get:function(){return BC.DiagnosticPullMode}});rg(Up(),vn)});var fg=T(cn=>{"use strict";var wq=cn&&cn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),YC=cn&&cn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wq(e,t,n)};Object.defineProperty(cn,"__esModule",{value:!0});cn.SettingMonitor=cn.LanguageClient=cn.TransportKind=void 0;var Er=require("child_process"),ig=require("fs"),sg=require("path"),si=require("vscode"),Ye=Pn(),XC=Up(),bq=lC(),et=Vp(),Cq=ri(),_q=bs();YC(Vp(),cn);YC(GC(),cn);var JC="^1.82.0",tt;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(tt||(cn.TransportKind=tt={}));var ii;(function(t){function e(n){let r=n;return r&&r.kind===tt.socket&&Ye.number(r.port)}t.isSocket=e})(ii||(ii={}));var og;(function(t){function e(n){return Ye.string(n.command)}t.is=e})(og||(og={}));var ag;(function(t){function e(n){return Ye.string(n.module)}t.is=e})(ag||(ag={}));var cg;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(cg||(cg={}));var ug;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(ug||(ug={}));var lg=class extends XC.BaseLanguageClient{constructor(e,n,r,i,s){let o,a,c,u,f;Ye.string(n)?(o=e,a=n,c=r,u=i,f=!!s):(o=e.toLowerCase(),a=e,c=n,u=r,f=i),f===void 0&&(f=!1),super(o,a,u),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion()}catch(d){throw Ye.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=Cq(si.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${si.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!_q(e,JC))throw new Error(`The language client requires VS Code version ${JC} but received version ${si.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,bq.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(f,d){if(!f&&!d)return;let g=Object.create(null);return Object.keys(process.env).forEach(w=>g[w]=process.env[w]),d&&(g.ELECTRON_RUN_AS_NODE="1",g.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(w=>g[w]=f[w]),g}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(d=>r.some(g=>d.startsWith(g))||i.some(g=>d===g)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Ye.func(a))return a().then(f=>{if(XC.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(cg.is(f))return this._isDetached=!!f.detached,{reader:new et.StreamMessageReader(f.reader),writer:new et.StreamMessageWriter(f.writer)};{let d;return ug.is(f)?(d=f.process,this._isDetached=f.detached):(d=f,this._isDetached=!1),d.stderr.on("data",g=>this.outputChannel.append(Ye.string(g)?g:g.toString(e))),{reader:new et.StreamMessageReader(d.stdout),writer:new et.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||s()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(ag.is(c)&&c.module){let d=c,g=d.transport||tt.stdio;if(d.runtime){let w=[],v=d.options??Object.create(null);v.execArgv&&v.execArgv.forEach(A=>w.push(A)),w.push(d.module),d.args&&d.args.forEach(A=>w.push(A));let q=Object.create(null);q.cwd=f,q.env=n(v.env,!1);let k=this._getRuntimePath(d.runtime,f),O;if(g===tt.ipc?(q.stdio=[null,null,null,"ipc"],w.push("--node-ipc")):g===tt.stdio?w.push("--stdio"):g===tt.pipe?(O=(0,et.generateRandomPipeName)(),w.push(`--pipe=${O}`)):ii.isSocket(g)&&w.push(`--socket=${g.port}`),w.push(`--clientProcessId=${process.pid.toString()}`),g===tt.ipc||g===tt.stdio){let A=Er.spawn(k,w,q);return!A||!A.pid?Cs(A,`Launching server using runtime ${k} failed.`):(this._serverProcess=A,A.stderr.on("data",F=>this.outputChannel.append(Ye.string(F)?F:F.toString(e))),g===tt.ipc?(A.stdout.on("data",F=>this.outputChannel.append(Ye.string(F)?F:F.toString(e))),Promise.resolve({reader:new et.IPCMessageReader(A),writer:new et.IPCMessageWriter(A)})):Promise.resolve({reader:new et.StreamMessageReader(A.stdout),writer:new et.StreamMessageWriter(A.stdin)}))}else{if(g===tt.pipe)return(0,et.createClientPipeTransport)(O).then(A=>{let F=Er.spawn(k,w,q);return!F||!F.pid?Cs(F,`Launching server using runtime ${k} failed.`):(this._serverProcess=F,F.stderr.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),F.stdout.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),A.onConnected().then(j=>({reader:j[0],writer:j[1]})))});if(ii.isSocket(g))return(0,et.createClientSocketTransport)(g.port).then(A=>{let F=Er.spawn(k,w,q);return!F||!F.pid?Cs(F,`Launching server using runtime ${k} failed.`):(this._serverProcess=F,F.stderr.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),F.stdout.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),A.onConnected().then(j=>({reader:j[0],writer:j[1]})))})}}else{let w;return new Promise((v,q)=>{let k=(d.args&&d.args.slice())??[];g===tt.ipc?k.push("--node-ipc"):g===tt.stdio?k.push("--stdio"):g===tt.pipe?(w=(0,et.generateRandomPipeName)(),k.push(`--pipe=${w}`)):ii.isSocket(g)&&k.push(`--socket=${g.port}`),k.push(`--clientProcessId=${process.pid.toString()}`);let O=d.options??Object.create(null);if(O.env=n(O.env,!0),O.execArgv=O.execArgv||[],O.cwd=f,O.silent=!0,g===tt.ipc||g===tt.stdio){let A=Er.fork(d.module,k||[],O);o(A),this._serverProcess=A,A.stderr.on("data",F=>this.outputChannel.append(Ye.string(F)?F:F.toString(e))),g===tt.ipc?(A.stdout.on("data",F=>this.outputChannel.append(Ye.string(F)?F:F.toString(e))),v({reader:new et.IPCMessageReader(this._serverProcess),writer:new et.IPCMessageWriter(this._serverProcess)})):v({reader:new et.StreamMessageReader(A.stdout),writer:new et.StreamMessageWriter(A.stdin)})}else g===tt.pipe?(0,et.createClientPipeTransport)(w).then(A=>{let F=Er.fork(d.module,k||[],O);o(F),this._serverProcess=F,F.stderr.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),F.stdout.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),A.onConnected().then(j=>{v({reader:j[0],writer:j[1]})},q)},q):ii.isSocket(g)&&(0,et.createClientSocketTransport)(g.port).then(A=>{let F=Er.fork(d.module,k||[],O);o(F),this._serverProcess=F,F.stderr.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),F.stdout.on("data",j=>this.outputChannel.append(Ye.string(j)?j:j.toString(e))),A.onConnected().then(j=>{v({reader:j[0],writer:j[1]})},q)},q)})}}else if(og.is(c)&&c.command){let d=c,g=c.args!==void 0?c.args.slice(0):[],w,v=c.transport;if(v===tt.stdio)g.push("--stdio");else if(v===tt.pipe)w=(0,et.generateRandomPipeName)(),g.push(`--pipe=${w}`);else if(ii.isSocket(v))g.push(`--socket=${v.port}`);else if(v===tt.ipc)throw new Error("Transport kind ipc is not support for command executable");let q=Object.assign({},d.options);if(q.cwd=q.cwd||f,v===void 0||v===tt.stdio){let k=Er.spawn(d.command,g,q);return!k||!k.pid?Cs(k,`Launching server using command ${d.command} failed.`):(k.stderr.on("data",O=>this.outputChannel.append(Ye.string(O)?O:O.toString(e))),this._serverProcess=k,this._isDetached=!!q.detached,Promise.resolve({reader:new et.StreamMessageReader(k.stdout),writer:new et.StreamMessageWriter(k.stdin)}))}else{if(v===tt.pipe)return(0,et.createClientPipeTransport)(w).then(k=>{let O=Er.spawn(d.command,g,q);return!O||!O.pid?Cs(O,`Launching server using command ${d.command} failed.`):(this._serverProcess=O,this._isDetached=!!q.detached,O.stderr.on("data",A=>this.outputChannel.append(Ye.string(A)?A:A.toString(e))),O.stdout.on("data",A=>this.outputChannel.append(Ye.string(A)?A:A.toString(e))),k.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(ii.isSocket(v))return(0,et.createClientSocketTransport)(v.port).then(k=>{let O=Er.spawn(d.command,g,q);return!O||!O.pid?Cs(O,`Launching server using command ${d.command} failed.`):(this._serverProcess=O,this._isDetached=!!q.detached,O.stderr.on("data",A=>this.outputChannel.append(Ye.string(A)?A:A.toString(e))),O.stdout.on("data",A=>this.outputChannel.append(Ye.string(A)?A:A.toString(e))),k.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,d)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),d!==null&&this.error(`Server process exited with signal ${d}.`,void 0,!1)})})}_getRuntimePath(e,n){if(sg.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=sg.join(r,e);if(ig.existsSync(i))return i}if(n!==void 0){let i=sg.join(n,e);if(ig.existsSync(i))return i}return e}_mainGetRootPath(){let e=si.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{ig.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};cn.LanguageClient=lg;var dg=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return si.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new si.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?si.workspace.getConfiguration(n).get(r,!1):si.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};cn.SettingMonitor=dg;function Cs(t,e){return t===null?Promise.reject(e):new Promise((n,r)=>{t.on("error",i=>{r(`${e} ${i}`)}),setImmediate(()=>r(e))})}});var qi=T(Ie=>{"use strict";var Sq=Ie&&Ie.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Dq=Ie&&Ie.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Sq(e,t,n)};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.currentLabsVersion=Ie.middleware=Ie.getTsdk=Ie.activateTsVersionStatusItem=Ie.activateTsConfigStatusItem=Ie.activateReloadProjects=Ie.activateFindFileReferences=Ie.activateWriteVirtualFiles=Ie.activateDocumentDropEdit=Ie.activateAutoInsertion=void 0;Ie.parseServerCommand=_s;Ie.createLabsInfo=xq;var qr=require("vscode"),Rq=nw();Object.defineProperty(Ie,"activateAutoInsertion",{enumerable:!0,get:function(){return Rq.activate}});var Tq=rw();Object.defineProperty(Ie,"activateDocumentDropEdit",{enumerable:!0,get:function(){return Tq.activate}});var Pq=iw();Object.defineProperty(Ie,"activateWriteVirtualFiles",{enumerable:!0,get:function(){return Pq.activate}});var Eq=pw();Object.defineProperty(Ie,"activateFindFileReferences",{enumerable:!0,get:function(){return Eq.activate}});var qq=gw();Object.defineProperty(Ie,"activateReloadProjects",{enumerable:!0,get:function(){return qq.activate}});var kq=vw();Object.defineProperty(Ie,"activateTsConfigStatusItem",{enumerable:!0,get:function(){return kq.activate}});var QC=Sw();Object.defineProperty(Ie,"activateTsVersionStatusItem",{enumerable:!0,get:function(){return QC.activate}});Object.defineProperty(Ie,"getTsdk",{enumerable:!0,get:function(){return QC.getTsdk}});Dq(fg(),Ie);Ie.middleware={async provideCodeActions(t,e,n,r,i){let s=await i(t,e,n,r);return s=s?.map(o=>o instanceof qr.CodeAction?(o.command&&(o.command=_s(o.command)),o):_s(o)),s},async resolveCodeAction(t,e,n){let r=await n(t,e);return r?.command&&(r.command=_s(r.command)),r},async provideCodeLenses(t,e,n){let r=await n(t,e);return r=r?.map(i=>(i.command&&(i.command=_s(i.command)),i)),r},async resolveCodeLens(t,e,n){let r=await n(t,e);return r?.command&&(r.command=_s(r.command)),r}};function _s(t){return t.command==="editor.action.rename"&&t.arguments?{...t,arguments:[[qr.Uri.parse(t.arguments[0]),new qr.Position(t.arguments[1].line,t.arguments[1].character)]]}:t.command==="editor.action.showReferences"&&t.arguments?{...t,arguments:[qr.Uri.parse(t.arguments[0]),new qr.Position(t.arguments[1].line,t.arguments[1].character),t.arguments[2].map(e=>new qr.Location(qr.Uri.parse(e.uri),new qr.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)))]}:t}Ie.currentLabsVersion="2.3.1";function xq(t){let e=new qr.EventEmitter,n={volarLabs:{version:Ie.currentLabsVersion,languageClients:[],languageServerProtocol:t,onDidAddLanguageClient:e.event}};return{extensionExports:n,addLanguageClient(r){n.volarLabs.languageClients.push(r),e.fire(r)}}}});var ZC=T(ki=>{"use strict";var Iq=ki&&ki.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Oq=ki&&ki.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Iq(e,t,n)};Object.defineProperty(ki,"__esModule",{value:!0});Oq(Yr(),ki)});var t_=T((NM,e_)=>{"use strict";e_.exports=fg()});var n_=T(xi=>{"use strict";var Nq=xi&&xi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Fq=xi&&xi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Nq(e,t,n)};Object.defineProperty(xi,"__esModule",{value:!0});Fq(t_(),xi)});var k_=T(ee=>{"use strict";Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"});function Mq(t){let e=Object.create(null);for(let n of t.split(","))e[n]=1;return n=>n in e}var s_={},o_=()=>{},Pg=Object.assign,Aq=(t,e)=>{let n=t.indexOf(e);n>-1&&t.splice(n,1)},Lq=Object.prototype.hasOwnProperty,xc=(t,e)=>Lq.call(t,e),pr=Array.isArray,_o=t=>Hc(t)==="[object Map]",jq=t=>Hc(t)==="[object Set]",Nr=t=>typeof t=="function",$q=t=>typeof t=="string",Po=t=>typeof t=="symbol",Ni=t=>t!==null&&typeof t=="object",Hq=t=>(Ni(t)||Nr(t))&&Nr(t.then)&&Nr(t.catch),Uq=Object.prototype.toString,Hc=t=>Uq.call(t),Vq=t=>Hc(t).slice(8,-1),Wq=t=>Hc(t)==="[object Object]",Eg=t=>$q(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kq=t=>{let e=Object.create(null);return n=>e[n]||(e[n]=t(n))},MM=Kq(t=>t.charAt(0).toUpperCase()+t.slice(1)),ai=(t,e)=>!Object.is(t,e),zq=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})};function Bq(t,...e){console.warn(`[Vue warn] ${t}`,...e)}var Kt,Ic=class{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Kt,!e&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){let n=Kt;try{return Kt=this,e()}finally{Kt=n}}}on(){Kt=this}off(){Kt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){let i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}};function Gq(t){return new Ic(t)}function a_(){return Kt}function Xq(t,e=!1){Kt&&Kt.cleanups.push(t)}var je,Jq={ACTIVE:1,1:"ACTIVE",RUNNING:2,2:"RUNNING",TRACKING:4,4:"TRACKING",NOTIFIED:8,8:"NOTIFIED",DIRTY:16,16:"DIRTY",ALLOW_RECURSE:32,32:"ALLOW_RECURSE",PAUSED:64,64:"PAUSED"},pg=new WeakSet,Oi=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Kt&&Kt.active&&Kt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pg.has(this)&&(pg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||u_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,r_(this),l_(this);let e=je,n=yn;je=this,yn=!0;try{return this.fn()}finally{d_(this),je=e,yn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xg(e);this.deps=this.depsTail=void 0,r_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mg(this)&&this.run()}get dirty(){return mg(this)}},c_=0,So,Do;function u_(t,e=!1){if(t.flags|=8,e){t.next=Do,Do=t;return}t.next=So,So=t}function qg(){c_++}function kg(){if(--c_>0)return;if(Do){let e=Do;for(Do=void 0;e;){let n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;So;){let e=So;for(So=void 0;e;){let n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function l_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function d_(t){let e,n=t.depsTail,r=n;for(;r;){let i=r.prevDep;r.version===-1?(r===n&&(n=i),xg(r),Yq(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function mg(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(f_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function f_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ro))return;t.globalVersion=Ro;let e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!mg(t)){t.flags&=-3;return}let n=je,r=yn;je=t,yn=!0;try{l_(t);let i=t.fn(t._value);(e.version===0||ai(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{je=n,yn=r,d_(t),t.flags&=-3}}function xg(t,e=!1){let{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)xg(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Yq(t){let{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function Qq(t,e){t.effect instanceof Oi&&(t=t.effect.fn);let n=new Oi(t);e&&Pg(n,e);try{n.run()}catch(i){throw n.stop(),i}let r=n.run.bind(n);return r.effect=n,r}function Zq(t){t.effect.stop()}var yn=!0,Ig=[];function Og(){Ig.push(yn),yn=!1}function ek(){Ig.push(yn),yn=!0}function Ng(){let t=Ig.pop();yn=t===void 0?!0:t}function tk(t,e=!1){je instanceof Oi&&(je.cleanup=t)}function r_(t){let{cleanup:e}=t;if(t.cleanup=void 0,e){let n=je;je=void 0;try{e()}finally{je=n}}}var Ro=0,vg=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},Rs=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!je||!yn||je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==je)n=this.activeLink=new vg(je,this),je.deps?(n.prevDep=je.depsTail,je.depsTail.nextDep=n,je.depsTail=n):je.deps=je.depsTail=n,p_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){let r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=je.depsTail,n.nextDep=void 0,je.depsTail.nextDep=n,je.depsTail=n,je.deps===n&&(je.deps=r)}return n}trigger(e){this.version++,Ro++,this.notify(e)}notify(e){qg();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{kg()}}};function p_(t){if(t.dep.sc++,t.sub.flags&4){let e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)p_(r)}let n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}var Oc=new WeakMap,ci=Symbol(""),Nc=Symbol(""),Ts=Symbol("");function zt(t,e,n){if(yn&&je){let r=Oc.get(t);r||Oc.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Rs),i.map=r,i.key=n),i.track()}}function Ir(t,e,n,r,i,s){let o=Oc.get(t);if(!o){Ro++;return}let a=c=>{c&&c.trigger()};if(qg(),e==="clear")o.forEach(a);else{let c=pr(t),u=c&&Eg(n);if(c&&n==="length"){let f=Number(r);o.forEach((d,g)=>{(g==="length"||g===Ts||!Po(g)&&g>=f)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Ts)),e){case"add":c?u&&a(o.get("length")):(a(o.get(ci)),_o(t)&&a(o.get(Nc)));break;case"delete":c||(a(o.get(ci)),_o(t)&&a(o.get(Nc)));break;case"set":_o(t)&&a(o.get(ci));break}}kg()}function nk(t,e){let n=Oc.get(t);return n&&n.get(e)}function Ii(t){let e=Fe(t);return e===t?e:(zt(e,"iterate",Ts),Fn(t)?e:e.map(Lt))}function Uc(t){return zt(t=Fe(t),"iterate",Ts),t}var rk={__proto__:null,[Symbol.iterator](){return gg(this,Symbol.iterator,Lt)},concat(...t){return Ii(this).concat(...t.map(e=>pr(e)?Ii(e):e))},entries(){return gg(this,"entries",t=>(t[1]=Lt(t[1]),t))},every(t,e){return kr(this,"every",t,e,void 0,arguments)},filter(t,e){return kr(this,"filter",t,e,n=>n.map(Lt),arguments)},find(t,e){return kr(this,"find",t,e,Lt,arguments)},findIndex(t,e){return kr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return kr(this,"findLast",t,e,Lt,arguments)},findLastIndex(t,e){return kr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return kr(this,"forEach",t,e,void 0,arguments)},includes(...t){return hg(this,"includes",t)},indexOf(...t){return hg(this,"indexOf",t)},join(t){return Ii(this).join(t)},lastIndexOf(...t){return hg(this,"lastIndexOf",t)},map(t,e){return kr(this,"map",t,e,void 0,arguments)},pop(){return bo(this,"pop")},push(...t){return bo(this,"push",t)},reduce(t,...e){return i_(this,"reduce",t,e)},reduceRight(t,...e){return i_(this,"reduceRight",t,e)},shift(){return bo(this,"shift")},some(t,e){return kr(this,"some",t,e,void 0,arguments)},splice(...t){return bo(this,"splice",t)},toReversed(){return Ii(this).toReversed()},toSorted(t){return Ii(this).toSorted(t)},toSpliced(...t){return Ii(this).toSpliced(...t)},unshift(...t){return bo(this,"unshift",t)},values(){return gg(this,"values",Lt)}};function gg(t,e,n){let r=Uc(t),i=r[e]();return r!==t&&!Fn(t)&&(i._next=i.next,i.next=()=>{let s=i._next();return s.value&&(s.value=n(s.value)),s}),i}var ik=Array.prototype;function kr(t,e,n,r,i,s){let o=Uc(t),a=o!==t&&!Fn(t),c=o[e];if(c!==ik[e]){let d=c.apply(t,s);return a?Lt(d):d}let u=n;o!==t&&(a?u=function(d,g){return n.call(this,Lt(d),g,t)}:n.length>2&&(u=function(d,g){return n.call(this,d,g,t)}));let f=c.call(o,u,r);return a&&i?i(f):f}function i_(t,e,n,r){let i=Uc(t),s=n;return i!==t&&(Fn(t)?n.length>3&&(s=function(o,a,c){return n.call(this,o,a,c,t)}):s=function(o,a,c){return n.call(this,o,Lt(a),c,t)}),i[e](s,...r)}function hg(t,e,n){let r=Fe(t);zt(r,"iterate",Ts);let i=r[e](...n);return(i===-1||i===!1)&&w_(n[0])?(n[0]=Fe(n[0]),r[e](...n)):i}function bo(t,e,n=[]){Og(),qg();let r=Fe(t)[e].apply(t,n);return kg(),Ng(),r}var sk=Mq("__proto__,__v_isRef,__isVue"),g_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Po));function ok(t){Po(t)||(t=String(t));let e=Fe(this);return zt(e,"has",t),e.hasOwnProperty(t)}var Fc=class{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){let i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?y_:v_:s?m_:h_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;let o=pr(e);if(!i){let c;if(o&&(c=rk[n]))return c;if(n==="hasOwnProperty")return ok}let a=Reflect.get(e,n,Bt(e)?e:r);return(Po(n)?g_.has(n):sk(n))||(i||zt(e,"get",n),s)?a:Bt(a)?o&&Eg(n)?a:a.value:Ni(a)?i?Mg(a):Fg(a):a}},Mc=class extends Fc{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){let c=ui(s);if(!Fn(r)&&!ui(r)&&(s=Fe(s),r=Fe(r)),!pr(e)&&Bt(s)&&!Bt(r))return c?!1:(s.value=r,!0)}let o=pr(e)&&Eg(n)?Number(n)<e.length:xc(e,n),a=Reflect.set(e,n,r,Bt(e)?e:i);return e===Fe(i)&&(o?ai(r,s)&&Ir(e,"set",n,r,s):Ir(e,"add",n,r)),a}deleteProperty(e,n){let r=xc(e,n),i=e[n],s=Reflect.deleteProperty(e,n);return s&&r&&Ir(e,"delete",n,void 0,i),s}has(e,n){let r=Reflect.has(e,n);return(!Po(n)||!g_.has(n))&&zt(e,"has",n),r}ownKeys(e){return zt(e,"iterate",pr(e)?"length":ci),Reflect.ownKeys(e)}},Ac=class extends Fc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}},ak=new Mc,ck=new Ac,uk=new Mc(!0),lk=new Ac(!0),yg=t=>t,Pc=t=>Reflect.getPrototypeOf(t);function dk(t,e,n){return function(...r){let i=this.__v_raw,s=Fe(i),o=_o(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...r),f=n?yg:e?Lc:Lt;return!e&&zt(s,"iterate",c?Nc:ci),{next(){let{value:d,done:g}=u.next();return g?{value:d,done:g}:{value:a?[f(d[0]),f(d[1])]:f(d),done:g}},[Symbol.iterator](){return this}}}}function Ec(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function fk(t,e){let n={get(i){let s=this.__v_raw,o=Fe(s),a=Fe(i);t||(ai(i,a)&&zt(o,"get",i),zt(o,"get",a));let{has:c}=Pc(o),u=e?yg:t?Lc:Lt;if(c.call(o,i))return u(s.get(i));if(c.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){let i=this.__v_raw;return!t&&zt(Fe(i),"iterate",ci),Reflect.get(i,"size",i)},has(i){let s=this.__v_raw,o=Fe(s),a=Fe(i);return t||(ai(i,a)&&zt(o,"has",i),zt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){let o=this,a=o.__v_raw,c=Fe(a),u=e?yg:t?Lc:Lt;return!t&&zt(c,"iterate",ci),a.forEach((f,d)=>i.call(s,u(f),u(d),o))}};return Pg(n,t?{add:Ec("add"),set:Ec("set"),delete:Ec("delete"),clear:Ec("clear")}:{add(i){!e&&!Fn(i)&&!ui(i)&&(i=Fe(i));let s=Fe(this);return Pc(s).has.call(s,i)||(s.add(i),Ir(s,"add",i,i)),this},set(i,s){!e&&!Fn(s)&&!ui(s)&&(s=Fe(s));let o=Fe(this),{has:a,get:c}=Pc(o),u=a.call(o,i);u||(i=Fe(i),u=a.call(o,i));let f=c.call(o,i);return o.set(i,s),u?ai(s,f)&&Ir(o,"set",i,s,f):Ir(o,"add",i,s),this},delete(i){let s=Fe(this),{has:o,get:a}=Pc(s),c=o.call(s,i);c||(i=Fe(i),c=o.call(s,i));let u=a?a.call(s,i):void 0,f=s.delete(i);return c&&Ir(s,"delete",i,void 0,u),f},clear(){let i=Fe(this),s=i.size!==0,o=void 0,a=i.clear();return s&&Ir(i,"clear",void 0,void 0,o),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=dk(i,t,e)}),n}function Vc(t,e){let n=fk(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(xc(n,i)&&i in r?n:r,i,s)}var pk={get:Vc(!1,!1)},gk={get:Vc(!1,!0)},hk={get:Vc(!0,!1)},mk={get:Vc(!0,!0)},h_=new WeakMap,m_=new WeakMap,v_=new WeakMap,y_=new WeakMap;function vk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yk(t){return t.__v_skip||!Object.isExtensible(t)?0:vk(Vq(t))}function Fg(t){return ui(t)?t:Wc(t,!1,ak,pk,h_)}function wk(t){return Wc(t,!1,uk,gk,m_)}function Mg(t){return Wc(t,!0,ck,hk,v_)}function bk(t){return Wc(t,!0,lk,mk,y_)}function Wc(t,e,n,r,i){if(!Ni(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=i.get(t);if(s)return s;let o=yk(t);if(o===0)return t;let a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ds(t){return ui(t)?Ds(t.__v_raw):!!(t&&t.__v_isReactive)}function ui(t){return!!(t&&t.__v_isReadonly)}function Fn(t){return!!(t&&t.__v_isShallow)}function w_(t){return t?!!t.__v_raw:!1}function Fe(t){let e=t&&t.__v_raw;return e?Fe(e):t}function Ck(t){return!xc(t,"__v_skip")&&Object.isExtensible(t)&&zq(t,"__v_skip",!0),t}var Lt=t=>Ni(t)?Fg(t):t,Lc=t=>Ni(t)?Mg(t):t;function Bt(t){return t?t.__v_isRef===!0:!1}function b_(t){return C_(t,!1)}function _k(t){return C_(t,!0)}function C_(t,e){return Bt(t)?t:new wg(t,e)}var wg=class{constructor(e,n){this.dep=new Rs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Fe(e),this._value=n?e:Lt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){let n=this._rawValue,r=this.__v_isShallow||Fn(e)||ui(e);e=r?e:Fe(e),ai(e,n)&&(this._rawValue=e,this._value=r?e:Lt(e),this.dep.trigger())}};function Sk(t){t.dep&&t.dep.trigger()}function Ag(t){return Bt(t)?t.value:t}function Dk(t){return Nr(t)?t():Ag(t)}var Rk={get:(t,e,n)=>e==="__v_raw"?t:Ag(Reflect.get(t,e,n)),set:(t,e,n,r)=>{let i=t[e];return Bt(i)&&!Bt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Tk(t){return Ds(t)?t:new Proxy(t,Rk)}var bg=class{constructor(e){this.__v_isRef=!0,this._value=void 0;let n=this.dep=new Rs,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}};function Pk(t){return new bg(t)}function Ek(t){let e=pr(t)?new Array(t.length):{};for(let n in t)e[n]=__(t,n);return e}var Cg=class{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){let e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return nk(Fe(this._object),this._key)}},_g=class{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}};function qk(t,e,n){return Bt(t)?t:Nr(t)?new _g(t):Ni(t)&&arguments.length>1?__(t,e,n):b_(t)}function __(t,e,n){let r=t[e];return Bt(r)?r:new Cg(t,e,n)}var Sg=class{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Rs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ro-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return u_(this,!0),!0}get value(){let e=this.dep.track();return f_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function kk(t,e,n=!1){let r,i;return Nr(t)?r=t:(r=t.get,i=t.set),new Sg(r,i,n)}var xk={GET:"get",HAS:"has",ITERATE:"iterate"},Ik={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Ok={SKIP:"__v_skip",IS_REACTIVE:"__v_isReactive",IS_READONLY:"__v_isReadonly",IS_SHALLOW:"__v_isShallow",RAW:"__v_raw",IS_REF:"__v_isRef"},Nk={WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP"},qc={},jc=new WeakMap,oi;function Fk(){return oi}function S_(t,e=!1,n=oi){if(n){let r=jc.get(n);r||jc.set(n,r=[]),r.push(t)}}function Mk(t,e,n=s_){let{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=n,u=H=>{(n.onWarn||Bq)("Invalid watch source: ",H,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},f=H=>i?H:Fn(H)||i===!1||i===0?Or(H,1):Or(H),d,g,w,v,q=!1,k=!1;if(Bt(t)?(g=()=>t.value,q=Fn(t)):Ds(t)?(g=()=>f(t),q=!0):pr(t)?(k=!0,q=t.some(H=>Ds(H)||Fn(H)),g=()=>t.map(H=>{if(Bt(H))return H.value;if(Ds(H))return f(H);if(Nr(H))return c?c(H,2):H()})):Nr(t)?e?g=c?()=>c(t,2):t:g=()=>{if(w){Og();try{w()}finally{Ng()}}let H=oi;oi=d;try{return c?c(t,3,[v]):t(v)}finally{oi=H}}:g=o_,e&&i){let H=g,te=i===!0?1/0:i;g=()=>Or(H(),te)}let O=a_(),A=()=>{d.stop(),O&&Aq(O.effects,d)};if(s&&e){let H=e;e=(...te)=>{H(...te),A()}}let F=k?new Array(t.length).fill(qc):qc,j=H=>{if(!(!(d.flags&1)||!d.dirty&&!H))if(e){let te=d.run();if(i||q||(k?te.some((G,ne)=>ai(G,F[ne])):ai(te,F))){w&&w();let G=oi;oi=d;try{let ne=[te,F===qc?void 0:k&&F[0]===qc?[]:F,v];c?c(e,3,ne):e(...ne),F=te}finally{oi=G}}}else d.run()};return a&&a(j),d=new Oi(g),d.scheduler=o?()=>o(j,!1):j,v=H=>S_(H,!1,d),w=d.onStop=()=>{let H=jc.get(d);if(H){if(c)c(H,4);else for(let te of H)te();jc.delete(d)}},e?r?j(!0):F=d.run():o?o(j.bind(null,!0),!0):d.run(),A.pause=d.pause.bind(d),A.resume=d.resume.bind(d),A.stop=A,A}function Or(t,e=1/0,n){if(e<=0||!Ni(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Bt(t))Or(t.value,e,n);else if(pr(t))for(let r=0;r<t.length;r++)Or(t[r],e,n);else if(jq(t)||_o(t))t.forEach(r=>{Or(r,e,n)});else if(Wq(t)){for(let r in t)Or(t[r],e,n);for(let r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Or(t[r],e,n)}return t}var Dg=(t=>(t.ACTIVATED="a",t.DEACTIVATED="da",t))(Dg||{}),D_=(t=>(t[t.WATCH_GETTER=0]="WATCH_GETTER",t[t.WATCH_CALLBACK=1]="WATCH_CALLBACK",t[t.WATCH_CLEANUP=2]="WATCH_CLEANUP",t[t.APP_ERROR_HANDLER=3]="APP_ERROR_HANDLER",t[t.SCHEDULER=4]="SCHEDULER",t))(D_||{}),AM={[Dg.ACTIVATED]:"activated hook",[Dg.DEACTIVATED]:"deactivated hook",0:"watcher getter",1:"watcher callback",2:"watcher cleanup function",3:"app errorHandler",4:"scheduler flush"};function R_(t,e,n,r){try{return r?t(...r):t()}catch(i){P_(i,e,n)}}function T_(t,e,n,r){if(Nr(t)){let i=R_(t,e,n,r);return i&&Hq(i)&&i.catch(s=>{P_(s,e,n)}),i}if(pr(t)){let i=[];for(let s=0;s<t.length;s++)i.push(T_(t[s],e,n,r));return i}}function P_(t,e,n,r=!0){Ak(t,n,null,r)}function Ak(t,e,n,r=!0){console.error(t)}var Rg=(t=>(t[t.QUEUED=1]="QUEUED",t[t.PRE=2]="PRE",t[t.ALLOW_RECURSE=4]="ALLOW_RECURSE",t[t.DISPOSED=8]="DISPOSED",t))(Rg||{}),$c=!1,Tg=!1,Nn=[],xr=0,kc=[],Ss=null,Co=0,E_=Promise.resolve(),Lg=null;function Lk(t){let e=Lg||E_;return t?e.then(this?t.bind(this):t):e}function jk(t){let e=$c?xr+1:0,n=Nn.length;for(;e<n;){let r=e+n>>>1,i=Nn[r],s=To(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function $k(t){if(!(t.flags&1)){let e=To(t),n=Nn[Nn.length-1];!n||!(t.flags&2)&&e>=To(n)?Nn.push(t):Nn.splice(jk(e),0,t),t.flags|=1,Hk()}}function Hk(){!$c&&!Tg&&(Tg=!0,Lg=E_.then(q_))}function Uk(t){if(kc.length){let e=[...new Set(kc)].sort((n,r)=>To(n)-To(r));if(kc.length=0,Ss){Ss.push(...e);return}for(Ss=e,Co=0;Co<Ss.length;Co++){let n=Ss[Co];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ss=null,Co=0}}var To=t=>t.id==null?t.flags&2?-1:1/0:t.id;function q_(t){Tg=!1,$c=!0;let e=o_;try{for(xr=0;xr<Nn.length;xr++){let n=Nn[xr];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),R_(n,null,D_.SCHEDULER),n.flags&4||(n.flags&=-2))}}finally{for(;xr<Nn.length;xr++){let n=Nn[xr];n&&(n.flags&=-2)}xr=0,Nn.length=0,Uk(t),$c=!1,Lg=null,(Nn.length||kc.length)&&q_(t)}}function Vk(t,e){return jg(t,null,e)}function Wk(t,e){return jg(t,null,{flush:"sync"})}function Kk(t,e,n){return jg(t,e,n)}function jg(t,e,n=s_){let{immediate:r,deep:i,flush:s,once:o}=n,a=Pg({},n);a.call=(f,d,g)=>T_(f,d,g);let c=!1;return s!=="sync"&&(c=!0,a.scheduler=(f,d)=>{d?f():$k(f)}),a.augmentJob=f=>{e&&(f.flags|=Rg.ALLOW_RECURSE),c&&(f.flags|=Rg.PRE)},Mk(t,e,a)}ee.ARRAY_ITERATE_KEY=Ts;ee.EffectFlags=Jq;ee.EffectScope=Ic;ee.ITERATE_KEY=ci;ee.MAP_KEY_ITERATE_KEY=Nc;ee.ReactiveEffect=Oi;ee.ReactiveFlags=Ok;ee.TrackOpTypes=xk;ee.TriggerOpTypes=Ik;ee.WatchErrorCodes=Nk;ee.computed=kk;ee.customRef=Pk;ee.effect=Qq;ee.effectScope=Gq;ee.enableTracking=ek;ee.getCurrentScope=a_;ee.getCurrentWatcher=Fk;ee.isProxy=w_;ee.isReactive=Ds;ee.isReadonly=ui;ee.isRef=Bt;ee.isShallow=Fn;ee.markRaw=Ck;ee.nextTick=Lk;ee.onEffectCleanup=tk;ee.onScopeDispose=Xq;ee.onWatcherCleanup=S_;ee.pauseTracking=Og;ee.proxyRefs=Tk;ee.reactive=Fg;ee.reactiveReadArray=Ii;ee.readonly=Mg;ee.ref=b_;ee.resetTracking=Ng;ee.shallowReactive=wk;ee.shallowReadArray=Uc;ee.shallowReadonly=bk;ee.shallowRef=_k;ee.stop=Zq;ee.toRaw=Fe;ee.toReactive=Lt;ee.toReadonly=Lc;ee.toRef=qk;ee.toRefs=Ek;ee.toValue=Dk;ee.track=zt;ee.traverse=Or;ee.trigger=Ir;ee.triggerRef=Sk;ee.unref=Ag;ee.watch=Kk;ee.watchEffect=Vk;ee.watchSyncEffect=Wk});var gr=T(K=>{"use strict";Object.defineProperty(K,Symbol.toStringTag,{value:"Module"});var P=k_(),B=require("vscode");function x_(t){return P.getCurrentScope()?(P.onScopeDispose(t),!0):!1}function $g(t,e){let n=new Map;return(...r)=>{let i=e(...r),s=n.get(i);return s?s.refCount++:(s={data:t(...r),refCount:1},n.set(i,s)),x_(()=>{--s.refCount===0&&n.delete(i)}),s.data}}function Et(t){let e;return()=>e!==void 0?e:e=P.effectScope(!0).run(t)}var Hg=[];function zk(t){Hg.push(t)}var Ps=P.shallowRef(null),Kc=P.effectScope();function Bk(t){return{activate:e=>(Ps.value=e,Kc.run(()=>(Ug.map(n=>n(e)),t(e)))),deactivate:()=>{Hg.map(e=>e()),Kc.stop()}}}var Ug=[];function Vg(t){Ps.value?t(Ps.value):Ug.push(t)}function I_(t,e,n){let r=!t,i=B.workspace.getConfiguration(r?void 0:t,n);function s(a,c){let u=P.shallowRef(c),f=P.computed({get:()=>u.value,set:d=>{u.value=d,i.update(a,d)}});return f.update=async(d,g,w)=>{await i.update(a,d,g,w),f.value=d},f.set=d=>{u.value=d},f}let o=Object.fromEntries(Object.keys(e).map(a=>[a,s(a,i.get(a))]));return Vg(()=>{fe(B.workspace.onDidChangeConfiguration(r?a=>{let c=B.workspace.getConfiguration();for(let u in e)a.affectsConfiguration(u)&&o[u].set(c.get(u))}:a=>{if(!a.affectsConfiguration(t))return;let c=B.workspace.getConfiguration(t);for(let u in e)a.affectsConfiguration(`${t}.${u}`)&&o[u].set(c.get(u))}))}),o}function Gk(t,e,n){let r=I_(t,e,n),i={},s={$update(o,a,c,u){return r[o].update(a,c,u)},$set(o,a){return r[o].set(a)}};for(let o in e){let a=o.split("."),c="",u=i,f=s;for(let g of a.slice(0,-1)){c=c?`${c}.${g}`:g;let w=u=u[g]||(u[g]={});if(f[g])f=f[g];else{let v={};Object.defineProperty(f,g,{enumerable:!0,get(){return v},set(q){function k(O,A,F){if(O)for(let j in O)k(O[j],A?`${A}.${j}`:j,F?.[j]);else r[A].value=F}k(w,c,q)}}),f=v}}let d=a[a.length-1];u[d]=null,Object.defineProperty(f,d,{enumerable:!0,get(){return r[o].value},set(g){r[o].value=g}})}return s}function Xk(t,e){let n=P.shallowRef(null),r=[],i=s=>(...o)=>n.value?n.value[s](...o):(r.push([s,o]),null);return Vg(()=>{n.value=j_(t,e);for(let[s,o]of r)n.value[s](...o)}),{logger:n,outputChannel:P.computed(()=>{var s;return(s=n.value)==null?void 0:s.outputChannel}),info:i("info"),warn:i("warn"),error:i("error"),append:i("append"),appendLine:i("appendLine"),replace:i("replace"),clear:i("clear"),show:i("show"),hide:i("hide")}}function Jk(t,...e){return B.commands.executeCommand(t,...e)}function Yk(t,e=!1){let n=Ps.value;if(!n&&!e)throw new Error("Cannot get absolute path because the extension is not activated yet");return n?.asAbsolutePath(t)}function Qk(t,e=!1){return P.computed(()=>Yk(P.toValue(t),e))}function fe(t){return(P.getCurrentScope()??Kc).cleanups.push(t.dispose.bind(t)),t}var O_=Et(()=>{let t=P.shallowRef(B.window.activeColorTheme);return fe(B.window.onDidChangeActiveColorTheme(e=>{t.value=e})),t}),Zk=Et(()=>{let t=P.shallowRef(B.debug.activeDebugSession);return fe(B.debug.onDidChangeActiveDebugSession(e=>{t.value=e})),P.computed(()=>t.value)}),N_=Et(()=>{let t=P.shallowRef(B.window.activeTextEditor);return fe(B.window.onDidChangeActiveTextEditor(e=>{t.value=e})),t});function F_(t){var e;let n=P.shallowRef((e=P.toValue(t))==null?void 0:e.getText());return P.watchEffect(()=>{var r;n.value=(r=P.toValue(t))==null?void 0:r.getText()}),fe(B.workspace.onDidChangeTextDocument(r=>{r.document===P.toValue(t)&&(n.value=r.document.getText())})),n}function M_(t,e,n,r={}){let{updateOn:i=["effect","documentChanged"]}=r,s="key"in e?e:fe(B.window.createTextEditorDecorationType(e)),o=async()=>{let c=P.toValue(t);c&&c.setDecorations(s,typeof n=="function"?await n(c):P.toValue(n))},a=i.includes("documentChanged")?F_(()=>{var c;return(c=P.toValue(t))==null?void 0:c.document}):null;return i.includes("effect")?P.watchEffect(async()=>{a?.value,await o()}):a&&P.watch(a,o),{update:o}}function ex(t,e){let n=N_();M_(n,t,e)}var tx=Et(()=>{let t=P.shallowRef(B.window.activeNotebookEditor);return fe(B.window.onDidChangeActiveNotebookEditor(e=>{t.value=e})),t}),nx=Et(()=>{let t=P.shallowRef(B.window.activeTerminal);return fe(B.window.onDidChangeActiveTerminal(e=>{t.value=e})),t}),rx=Et(()=>{let t=P.shallowRef(B.extensions.all);return fe(B.extensions.onDidChange(()=>{t.value=B.extensions.all})),P.computed(()=>t.value)});function A_(t,e){fe(B.commands.registerCommand(t,e))}function ix(t){for(let[e,n]of Object.entries(t))n&&A_(e,n)}function sx(t,e){return fe(B.comments.createCommentController(t,e))}function Wg(t){var e;let n=P.shallowRef((e=P.toValue(t))==null?void 0:e.state);return P.watch(t,()=>{var r;n.value=(r=P.toValue(t))==null?void 0:r.state}),fe(B.window.onDidChangeTerminalState(r=>{r===P.toValue(t)&&(n.value=r.state)})),P.computed(()=>n.value)}function ox(...t){let e=P.ref(null);function n(){return!!e.value&&e.value.exitStatus==null}function r(){return n()?e.value:e.value=B.window.createTerminal(...t)}function i(a){r().sendText(a)}function s(){r().show()}function o(){n()&&(e.value.sendText(""),e.value.dispose(),e.value=null)}return P.onScopeDispose(o),{terminal:e,getIsActive:n,show:s,sendText:i,close:o,state:Wg(e)}}var ax=Et(()=>{let t=P.shallowRef(B.env.shell);return fe(B.env.onDidChangeShell(e=>{t.value=e})),P.computed(()=>t.value)});function li(t,e){let n=(r,i,s)=>{fe(t(r,i,s))};return e?.forEach(r=>n(r)),n}function Eo(t,e=[]){let n=Array.isArray(t)?t:e??[],r=fe(Array.isArray(t)||t==null?new B.EventEmitter:t),i=li(r.event,n);for(let s of n)i(s);return{event:r.event,fire:r.fire.bind(r),addListener:i}}async function cx(t){let e=Ps.value.secrets,n=P.ref(await e.get(t));return n.set=async r=>{n.value=r,await e.store(t,r)},n.remove=async()=>{n.value=void 0,await e.delete(t)},fe(e.onDidChange(async r=>{r.key===t&&(n.value=await e.get(t))})),P.watch(n,r=>{r===void 0?e.delete(t):e.store(t,r)}),n}function ux(t){return P.computed(()=>B.tasks.fetchTasks(P.toValue(t)))}function lx(t){return P.computed(()=>B.Uri.file(P.toValue(t)))}function dx(t,e){let n=new B.EventEmitter,r=P.shallowRef();P.watchEffect(()=>{r.value&&n.fire(),r.value=P.toValue(e)}),fe(B.languages.registerFoldingRangeProvider(t,{onDidChangeFoldingRanges:n.event,provideFoldingRanges(i,s,o){var a;return(a=r.value)==null?void 0:a.call(r,i,s,o)}}))}function fx(t,e,n,r){let i=P.shallowReactive(new Map),s=Eo(),o=Eo(),a=Eo(),c=P.computed(()=>{let d=P.toValue(t);return Array.isArray(d)?d:d instanceof Set?Array.from(d):[d]});function u(){let d=c.value;for(let[g,w]of i)d.includes(g)||(w.dispose(),i.delete(g));for(let g of d)if(!i.has(g)){let w=B.workspace.createFileSystemWatcher(g,P.toValue(e)||!1,P.toValue(n)||!1,P.toValue(r)||!1);w.onDidCreate(s.fire),w.onDidChange(o.fire),w.onDidDelete(a.fire),i.set(g,w)}}function f(){for(let d of i.values())d.dispose();i.clear()}return u(),P.watch(c,u),P.watch(()=>[P.toValue(e),P.toValue(n),P.toValue(r)],()=>{f(),u()}),P.onScopeDispose(f),{watchers:i,onDidCreate:s.event,onDidChange:o.event,onDidDelete:a.event}}var px=Et(()=>{let t=O_();return P.computed(()=>t.value.kind===B.ColorThemeKind.Dark||t.value.kind===B.ColorThemeKind.HighContrast)}),gx=Et(()=>{let t=P.shallowRef(B.env.isTelemetryEnabled);return fe(B.env.onDidChangeTelemetryEnabled(e=>{t.value=e})),P.computed(()=>t.value)});function hx(t,...e){return P.computed(()=>typeof e[0]=="object"?B.l10n.t(P.toValue(t),P.toRaw(e[0])):B.l10n.t(P.toValue(t),...e.map(P.toValue)))}function L_(t,e){return fe(B.window.createOutputChannel(t,e))}function mx(t){let e=new Date,n=String(e.getFullYear()).padStart(4,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0"),c=String(e.getMilliseconds()).padStart(3,"0");return`${n}-${r}-${i} ${s}:${o}:${a}.${c} [${t}] `}function j_(t,e={}){let n=e.outputChannel??L_(t),r=i=>(...s)=>{var o;n.appendLine((((o=e.getPrefix)==null?void 0:o.call(e,i))??"")+s.join(" "))};return{outputChannel:n,createLoggerFunc:r,info:r("INFO"),warn:r("WARN"),error:r("ERROR"),append:n.append.bind(n),appendLine:n.appendLine.bind(n),replace:n.replace.bind(n),clear:n.clear.bind(n),show:n.show.bind(n),hide:n.hide.bind(n)}}var vx=Et(()=>{let t=P.shallowRef(B.env.logLevel);return fe(B.env.onDidChangeLogLevel(e=>{t.value=e})),P.computed(()=>t.value)});function $_(t){var e;let n=P.shallowRef(((e=P.toValue(t))==null?void 0:e.selections)??[]);return P.watch(t,()=>{var r;n.value=((r=P.toValue(t))==null?void 0:r.selections)??[]}),fe(B.window.onDidChangeNotebookEditorSelection(r=>{r.notebookEditor===P.toValue(t)&&(n.value=r.selections)})),P.computed({get(){return n.value},set(r){n.value=r;let i=P.toValue(t);i&&(i.selections=r)}})}function yx(t){let e=$_(t);return P.computed({get(){return e.value[0]},set(n){e.value=e.value.toSpliced(0,1,n)}})}function wx(t){var e;let n=P.shallowRef(((e=P.toValue(t))==null?void 0:e.visibleRanges)??[]);return P.watch(t,()=>{var r;n.value=((r=P.toValue(t))==null?void 0:r.visibleRanges)??[]}),fe(B.window.onDidChangeNotebookEditorVisibleRanges(r=>{r.notebookEditor===P.toValue(t)&&(n.value=r.visibleRanges)})),P.computed(()=>n.value)}var bx=Et(()=>{let t=P.shallowRef(B.window.terminals);function e(){t.value=B.window.terminals}return fe(B.window.onDidOpenTerminal(e)),fe(B.window.onDidCloseTerminal(e)),t});function Cx(t={}){let e=fe(B.window.createQuickPick()),n=li(e.onDidChangeActive),r=li(e.onDidChangeSelection),i=li(e.onDidAccept),s=li(e.onDidHide),o=li(e.onDidTriggerButton),a=li(e.onDidChangeValue);["items","buttons","title","step","totalSteps","enabled","busy","ignoreFocusOut","placeholder","canSelectMany","matchOnDescription","matchOnDetail","keepScrollPosition"].forEach(d=>{t[d]&&P.watchEffect(()=>e[d]=P.toValue(t[d]))}),t.value&&(e.value=t.value);let c=P.shallowRef(e.value);a(d=>c.value=d),t.activeItems&&(e.activeItems=t.activeItems);let u=P.shallowRef(e.activeItems);n(d=>u.value=d),t.selectedItems&&(e.selectedItems=t.selectedItems);let f=P.shallowRef(e.selectedItems);return r(d=>f.value=d),{...e,onDidChangeActive:n,onDidChangeSelection:r,onDidAccept:i,onDidHide:s,onDidTriggerButton:o,onDidChangeValue:a,value:c,activeItems:u,selectedItems:f}}function _x(t){let e=fe(t.id?B.window.createStatusBarItem(t.id,t.alignment,t.priority):B.window.createStatusBarItem(t.alignment,t.priority));function n(r){let i=t[r];i!=null&&P.watchEffect(()=>e[r]=P.toValue(i))}return["name","text","tooltip","color","backgroundColor","command","accessibilityInformation"].forEach(n),e}var Sx=Et(()=>{let t=P.shallowRef(B.tasks.taskExecutions);function e(){t.value=B.tasks.taskExecutions}return fe(B.tasks.onDidStartTask(e)),fe(B.tasks.onDidEndTask(e)),P.computed(()=>t.value)});function Dx(...t){let e=fe(B.window.createTerminal(...t));return{terminal:e,get name(){return e.name},get processId(){return e.processId},get creationOptions(){return e.creationOptions},get exitStatus(){return e.exitStatus},get shellIntegration(){return e.shellIntegration},sendText:e.sendText.bind(e),show:e.show.bind(e),hide:e.hide.bind(e),state:Wg(e)}}function H_(t,e){fe(B.commands.registerTextEditorCommand(t,e))}function Rx(t){for(let[e,n]of Object.entries(t))H_(e,n)}function U_(t,e){var n;let r=P.shallowRef(((n=P.toValue(t))==null?void 0:n.selections)??[]);return P.watch(t,()=>{var i;r.value=((i=P.toValue(t))==null?void 0:i.selections)??[]}),fe(B.window.onDidChangeTextEditorSelection(i=>{let s=P.toValue(t),o=P.toValue(e);i.textEditor===s&&(!o||o.includes(i.kind))&&(r.value=i.selections)})),P.computed({get(){return r.value},set(i){r.value=i;let s=P.toValue(t);s&&(s.selections=i)}})}function Tx(t,e){let n=U_(t,e);return P.computed({get(){return n.value[0]},set(r){n.value=n.value.toSpliced(0,1,r)}})}function Px(t){var e;let n=P.shallowRef((e=P.toValue(t))==null?void 0:e.viewColumn);return P.watch(t,()=>{var r;n.value=(r=P.toValue(t))==null?void 0:r.viewColumn}),fe(B.window.onDidChangeTextEditorViewColumn(r=>{r.textEditor===P.toValue(t)&&(n.value=r.viewColumn)})),P.computed(()=>n.value)}function Ex(t){var e;let n=P.shallowRef(((e=P.toValue(t))==null?void 0:e.visibleRanges)??[]);return P.watch(t,()=>{var r;n.value=((r=P.toValue(t))==null?void 0:r.visibleRanges)??[]}),fe(B.window.onDidChangeTextEditorVisibleRanges(r=>{r.textEditor===P.toValue(t)&&(n.value=r.visibleRanges)})),P.computed(()=>n.value)}function Kg(t,e){P.watchEffect(()=>{let n=P.toValue(t);n&&(n.badge=P.toValue(e))})}function zc(t,e){P.watchEffect(()=>{let n=P.toValue(t);n&&(n.title=P.toValue(e))})}var qx=$g((t,e,n)=>{let r=Eo();P.watch(e,()=>r.fire()),n!=null&&n.watchSource&&P.watch(n.watchSource,()=>r.fire());let i=new WeakMap,s=fe(B.window.createTreeView(t,{...n,treeDataProvider:{...n,onDidChangeTreeData:r.event,getTreeItem(o){return o.treeItem},getChildren(o){var a;return o?((a=o.children)==null||a.forEach(c=>i.set(c,o)),o.children):P.toValue(e)},getParent(o){return i.get(o)}}}));return n!=null&&n.title&&zc(s,n.title),n!=null&&n.badge&&Kg(s,n.badge),s},t=>t);function kx(t){var e;let n=P.ref((e=P.toValue(t))==null?void 0:e.visible);function r(){var i;n.value=(i=P.toValue(t))==null?void 0:i.visible}return P.watchEffect(i=>{let s=P.toValue(t);if(s){let o=s.onDidChangeVisibility(r);i(()=>o.dispose())}}),P.watchEffect(r),P.computed(()=>!!n.value)}var xx=Et(()=>{let t=P.shallowRef(B.window.visibleNotebookEditors);return fe(B.window.onDidChangeVisibleNotebookEditors(e=>{t.value=e})),t}),Ix=Et(()=>{let t=P.shallowRef(B.window.visibleTextEditors);return fe(B.window.onDidChangeVisibleTextEditors(e=>{t.value=e})),t});function Ox(t,e,n=!0){let r=P.isRef(e)?e:typeof e=="function"?P.computed(e):P.ref(e);return P.watchEffect(()=>{P.toValue(n)&&B.commands.executeCommand("setContext",t,r.value)}),r}function Nx(t,e,n,r,i){let s=P.shallowRef(),o=fe(B.window.createWebviewPanel(t,P.toValue(e),r,{enableFindWidget:i?.enableFindWidget,retainContextWhenHidden:i?.retainContextWhenHidden,...P.toValue(i?.webviewOptions)}));i!=null&&i.onDidReceiveMessage&&o.webview.onDidReceiveMessage(i.onDidReceiveMessage);let a=P.ref(0);function c(){a.value++}if(P.watchEffect(()=>{o.webview.html=`${P.toValue(n)}<!--${a.value}-->`}),i!=null&&i.webviewOptions){let g=i.webviewOptions;P.watchEffect(()=>{o.webview.options=P.toValue(g)})}zc(o,e);function u(g){return o.webview.postMessage(g)}let f=P.ref(o.active),d=P.ref(o.visible);return fe(o.onDidChangeViewState(()=>{f.value=o.active,d.value=o.visible})),{panel:o,context:s,active:f,visible:d,postMessage:u,forceRefresh:c}}var Fx=$g((t,e,n)=>{let r=P.shallowRef(),i=P.shallowRef();fe(B.window.registerWebviewViewProvider(t,{resolveWebviewView(c,u){r.value=c,i.value=u,n!=null&&n.onDidReceiveMessage&&c.webview.onDidReceiveMessage(n.onDidReceiveMessage)}},{webviewOptions:{retainContextWhenHidden:n?.retainContextWhenHidden}}));let s=P.ref(0);function o(){s.value++}if(P.watchEffect(()=>{r.value&&(r.value.webview.html=`${P.toValue(e)}<!--${s.value}-->`)}),n!=null&&n.webviewOptions){let c=n.webviewOptions;P.watchEffect(()=>{r.value&&(r.value.webview.options=P.toValue(c))})}n!=null&&n.title&&zc(r,n.title),n!=null&&n.badge&&Kg(r,n.badge);function a(c){var u;return(u=r.value)==null?void 0:u.webview.postMessage(c)}return{view:r,context:i,postMessage:a,forceRefresh:o}},t=>t),Mx=Et(()=>{let t=P.shallowRef(B.window.state);return fe(B.window.onDidChangeWindowState(e=>{t.value=e})),{focused:P.computed(()=>t.value.focused),active:P.computed(()=>t.value.active)}}),Ax=Et(()=>{let t=P.shallowRef(B.workspace.workspaceFolders);return fe(B.workspace.onDidChangeWorkspaceFolders(()=>{t.value=B.workspace.workspaceFolders})),P.computed(()=>t.value)});K.activateCbs=Ug;K.createKeyedComposable=$g;K.createSingletonComposable=Et;K.deactivateCbs=Hg;K.defineConfigObject=Gk;K.defineConfigs=I_;K.defineExtension=Bk;K.defineLogger=Xk;K.executeCommand=Jk;K.extensionContext=Ps;K.extensionScope=Kc;K.getDefaultLoggerPrefix=mx;K.onActivate=Vg;K.onDeactivate=zk;K.tryOnScopeDispose=x_;K.useAbsolutePath=Qk;K.useActiveColorTheme=O_;K.useActiveDebugSession=Zk;K.useActiveEditorDecorations=ex;K.useActiveNotebookEditor=tx;K.useActiveTerminal=nx;K.useActiveTextEditor=N_;K.useAllExtensions=rx;K.useCommand=A_;K.useCommands=ix;K.useCommentController=sx;K.useControlledTerminal=ox;K.useDefaultShell=ax;K.useDisposable=fe;K.useDocumentText=F_;K.useEditorDecorations=M_;K.useEvent=li;K.useEventEmitter=Eo;K.useExtensionSecret=cx;K.useFetchTasks=ux;K.useFileUri=lx;K.useFoldingRangeProvider=dx;K.useFsWatcher=fx;K.useIsDarkTheme=px;K.useIsTelemetryEnabled=gx;K.useL10nText=hx;K.useLogLevel=vx;K.useLogger=j_;K.useNotebookEditorSelection=yx;K.useNotebookEditorSelections=$_;K.useNotebookEditorVisibleRanges=wx;K.useOpenedTerminals=bx;K.useOutputChannel=L_;K.useQuickPick=Cx;K.useStatusBarItem=_x;K.useTaskExecutions=Sx;K.useTerminal=Dx;K.useTerminalState=Wg;K.useTextEditorCommand=H_;K.useTextEditorCommands=Rx;K.useTextEditorSelection=Tx;K.useTextEditorSelections=U_;K.useTextEditorViewColumn=Px;K.useTextEditorVisibleRanges=Ex;K.useTreeView=qx;K.useViewBadge=Kg;K.useViewTitle=zc;K.useViewVisibility=kx;K.useVisibleNotebookEditors=xx;K.useVisibleTextEditors=Ix;K.useVscodeContext=Ox;K.useWebviewPanel=Nx;K.useWebviewView=Fx;K.useWindowState=Mx;K.useWorkspaceFolders=Ax;Object.keys(P).forEach(t=>{t!=="default"&&!Object.prototype.hasOwnProperty.call(K,t)&&Object.defineProperty(K,t,{enumerable:!0,get:()=>P[t]})})});var W_=T(($M,V_)=>{"use strict";var Lx=ri(),jx=(t,e)=>{let n=Lx(t,e);return n?n.version:null};V_.exports=jx});var z_=T((HM,K_)=>{"use strict";var $x=ri(),Hx=(t,e)=>{let n=$x(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};K_.exports=Hx});var X_=T((UM,G_)=>{"use strict";var B_=At(),Ux=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new B_(t instanceof B_?t.version:t,n).inc(e,r,i).version}catch{return null}};G_.exports=Ux});var Q_=T((VM,Y_)=>{"use strict";var J_=ri(),Vx=(t,e)=>{let n=J_(t,null,!0),r=J_(e,null,!0),i=n.compare(r);if(i===0)return null;let s=i>0,o=s?n:r,a=s?r:n,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let f=c?"pre":"";return n.major!==r.major?f+"major":n.minor!==r.minor?f+"minor":n.patch!==r.patch?f+"patch":"prerelease"};Y_.exports=Vx});var eS=T((WM,Z_)=>{"use strict";var Wx=At(),Kx=(t,e)=>new Wx(t,e).major;Z_.exports=Kx});var nS=T((KM,tS)=>{"use strict";var zx=At(),Bx=(t,e)=>new zx(t,e).minor;tS.exports=Bx});var iS=T((zM,rS)=>{"use strict";var Gx=At(),Xx=(t,e)=>new Gx(t,e).patch;rS.exports=Xx});var oS=T((BM,sS)=>{"use strict";var Jx=ri(),Yx=(t,e)=>{let n=Jx(t,e);return n&&n.prerelease.length?n.prerelease:null};sS.exports=Yx});var cS=T((GM,aS)=>{"use strict";var Qx=In(),Zx=(t,e,n)=>Qx(e,t,n);aS.exports=Zx});var lS=T((XM,uS)=>{"use strict";var eI=In(),tI=(t,e)=>eI(t,e,!0);uS.exports=tI});var Bc=T((JM,fS)=>{"use strict";var dS=At(),nI=(t,e,n)=>{let r=new dS(t,n),i=new dS(e,n);return r.compare(i)||r.compareBuild(i)};fS.exports=nI});var gS=T((YM,pS)=>{"use strict";var rI=Bc(),iI=(t,e)=>t.sort((n,r)=>rI(n,r,e));pS.exports=iI});var mS=T((QM,hS)=>{"use strict";var sI=Bc(),oI=(t,e)=>t.sort((n,r)=>sI(r,n,e));hS.exports=oI});var yS=T((ZM,vS)=>{"use strict";var aI=At(),cI=ri(),{safeRe:Gc,t:Xc}=ys(),uI=(t,e)=>{if(t instanceof aI)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Gc[Xc.COERCEFULL]:Gc[Xc.COERCE]);else{let c=e.includePrerelease?Gc[Xc.COERCERTLFULL]:Gc[Xc.COERCERTL],u;for(;(u=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",s=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return cI(`${r}.${i}.${s}${o}${a}`,e)};vS.exports=uI});var bS=T((e1,wS)=>{"use strict";var lI=On(),dI=(t,e)=>new lI(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));wS.exports=dI});var _S=T((t1,CS)=>{"use strict";var fI=At(),pI=On(),gI=(t,e,n)=>{let r=null,i=null,s=null;try{s=new pI(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new fI(r,n))}),r};CS.exports=gI});var DS=T((n1,SS)=>{"use strict";var hI=At(),mI=On(),vI=(t,e,n)=>{let r=null,i=null,s=null;try{s=new mI(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new hI(r,n))}),r};SS.exports=vI});var PS=T((r1,TS)=>{"use strict";var zg=At(),yI=On(),RS=vo(),wI=(t,e)=>{t=new yI(t,e);let n=new zg("0.0.0");if(t.test(n)||(n=new zg("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null;i.forEach(o=>{let a=new zg(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||RS(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!n||RS(n,s))&&(n=s)}return n&&t.test(n)?n:null};TS.exports=wI});var qS=T((i1,ES)=>{"use strict";var bI=On(),CI=(t,e)=>{try{return new bI(t,e).range||"*"}catch{return null}};ES.exports=CI});var Jc=T((s1,OS)=>{"use strict";var _I=At(),IS=wo(),{ANY:SI}=IS,DI=On(),RI=bs(),kS=vo(),xS=Rc(),TI=Tc(),PI=Dc(),EI=(t,e,n,r)=>{t=new _I(t,r),e=new DI(e,r);let i,s,o,a,c;switch(n){case">":i=kS,s=TI,o=xS,a=">",c=">=";break;case"<":i=xS,s=PI,o=kS,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(RI(t,e,r))return!1;for(let u=0;u<e.set.length;++u){let f=e.set[u],d=null,g=null;if(f.forEach(w=>{w.semver===SI&&(w=new IS(">=0.0.0")),d=d||w,g=g||w,i(w.semver,d.semver,r)?d=w:o(w.semver,g.semver,r)&&(g=w)}),d.operator===a||d.operator===c||(!g.operator||g.operator===a)&&s(t,g.semver))return!1;if(g.operator===c&&o(t,g.semver))return!1}return!0};OS.exports=EI});var FS=T((o1,NS)=>{"use strict";var qI=Jc(),kI=(t,e,n)=>qI(t,e,">",n);NS.exports=kI});var AS=T((a1,MS)=>{"use strict";var xI=Jc(),II=(t,e,n)=>xI(t,e,"<",n);MS.exports=II});var $S=T((c1,jS)=>{"use strict";var LS=On(),OI=(t,e,n)=>(t=new LS(t,n),e=new LS(e,n),t.intersects(e,n));jS.exports=OI});var US=T((u1,HS)=>{"use strict";var NI=bs(),FI=In();HS.exports=(t,e,n)=>{let r=[],i=null,s=null,o=t.sort((f,d)=>FI(f,d,n));for(let f of o)NI(f,e,n)?(s=f,i||(i=f)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);let a=[];for(let[f,d]of r)f===d?a.push(f):!d&&f===o[0]?a.push("*"):d?f===o[0]?a.push(`<=${d}`):a.push(`${f} - ${d}`):a.push(`>=${f}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var GS=T((l1,BS)=>{"use strict";var VS=On(),Gg=wo(),{ANY:Bg}=Gg,qo=bs(),Xg=In(),MI=(t,e,n={})=>{if(t===e)return!0;t=new VS(t,n),e=new VS(e,n);let r=!1;e:for(let i of t.set){for(let s of e.set){let o=LI(i,s,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},AI=[new Gg(">=0.0.0-0")],WS=[new Gg(">=0.0.0")],LI=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Bg){if(e.length===1&&e[0].semver===Bg)return!0;n.includePrerelease?t=AI:t=WS}if(e.length===1&&e[0].semver===Bg){if(n.includePrerelease)return!0;e=WS}let r=new Set,i,s;for(let w of t)w.operator===">"||w.operator===">="?i=KS(i,w,n):w.operator==="<"||w.operator==="<="?s=zS(s,w,n):r.add(w.semver);if(r.size>1)return null;let o;if(i&&s){if(o=Xg(i.semver,s.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let w of r){if(i&&!qo(w,String(i),n)||s&&!qo(w,String(s),n))return null;for(let v of e)if(!qo(w,String(v),n))return!1;return!0}let a,c,u,f,d=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,g=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let w of e){if(f=f||w.operator===">"||w.operator===">=",u=u||w.operator==="<"||w.operator==="<=",i){if(g&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===g.major&&w.semver.minor===g.minor&&w.semver.patch===g.patch&&(g=!1),w.operator===">"||w.operator===">="){if(a=KS(i,w,n),a===w&&a!==i)return!1}else if(i.operator===">="&&!qo(i.semver,String(w),n))return!1}if(s){if(d&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===d.major&&w.semver.minor===d.minor&&w.semver.patch===d.patch&&(d=!1),w.operator==="<"||w.operator==="<="){if(c=zS(s,w,n),c===w&&c!==s)return!1}else if(s.operator==="<="&&!qo(s.semver,String(w),n))return!1}if(!w.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&f&&!i&&o!==0||g||d)},KS=(t,e,n)=>{if(!t)return e;let r=Xg(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},zS=(t,e,n)=>{if(!t)return e;let r=Xg(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};BS.exports=MI});var Yc=T((d1,YS)=>{"use strict";var Jg=ys(),XS=mo(),jI=At(),JS=zp(),$I=ri(),HI=W_(),UI=z_(),VI=X_(),WI=Q_(),KI=eS(),zI=nS(),BI=iS(),GI=oS(),XI=In(),JI=cS(),YI=lS(),QI=Bc(),ZI=gS(),eO=mS(),tO=vo(),nO=Rc(),rO=Xp(),iO=Jp(),sO=Dc(),oO=Tc(),aO=Yp(),cO=yS(),uO=wo(),lO=On(),dO=bs(),fO=bS(),pO=_S(),gO=DS(),hO=PS(),mO=qS(),vO=Jc(),yO=FS(),wO=AS(),bO=$S(),CO=US(),_O=GS();YS.exports={parse:$I,valid:HI,clean:UI,inc:VI,diff:WI,major:KI,minor:zI,patch:BI,prerelease:GI,compare:XI,rcompare:JI,compareLoose:YI,compareBuild:QI,sort:ZI,rsort:eO,gt:tO,lt:nO,eq:rO,neq:iO,gte:sO,lte:oO,cmp:aO,coerce:cO,Comparator:uO,Range:lO,satisfies:dO,toComparators:fO,maxSatisfying:pO,minSatisfying:gO,minVersion:hO,validRange:mO,outside:vO,gtr:yO,ltr:wO,intersects:bO,simplifyRange:CO,subset:_O,SemVer:jI,re:Jg.re,src:Jg.src,tokens:Jg.t,SEMVER_SPEC_VERSION:XS.SEMVER_SPEC_VERSION,RELEASE_TYPES:XS.RELEASE_TYPES,compareIdentifiers:JS.compareIdentifiers,rcompareIdentifiers:JS.rcompareIdentifiers}});var eD=T(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.unknownExtensions=Es.incompatibleExtensions=void 0;var SO=require("vscode"),DO=Yc(),Yg=gr(),QS=(0,Yg.useAllExtensions)();Es.incompatibleExtensions=(0,Yg.computed)(()=>QS.value.filter(t=>ZS(t)===!1).map(t=>t.id));Es.unknownExtensions=(0,Yg.computed)(()=>QS.value.filter(t=>ZS(t)===void 0&&!!t.packageJSON?.contributes?.typescriptServerPlugins).map(t=>t.id));function ZS(t){if(t.id==="Vue.volar"||t.id==="unifiedjs.vscode-mdx"||t.id==="astro-build.astro-vscode"||t.id==="ije.esm-vscode"||t.id==="johnsoncodehk.vscode-tsslint"||t.id==="VisualStudioExptTeam.vscodeintellicode"||t.id==="bierner.lit-html"||t.id==="jenkey2011.string-highlight"||t.id==="mxsdev.typescript-explorer"||t.id==="miaonster.vscode-tsx-arrow-definition"||t.id==="runem.lit-plugin"||t.id==="kimuson.ts-type-expand"||t.id==="p42ai.refactor"||t.id==="styled-components.vscode-styled-components"||t.id==="Divlo.vscode-styled-jsx-languageserver"||t.id==="nrwl.angular-console"||t.id==="ShenQingchuan.vue-vine-extension"||t.id==="ms-dynamics-smb.al")return!0;if(t.id==="denoland.vscode-deno")return!SO.workspace.getConfiguration("deno").get("enable");if(t.id==="svelte.svelte-vscode")return DO.gte(t.packageJSON.version,"108.4.0")}});var tD=T(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.scopedConfigs=at.configs=at.commands=at.extensionId=at.description=at.displayName=at.version=at.name=at.publisher=void 0;at.publisher="Vue";at.name="volar";at.version="2.1.10";at.displayName="Vue - Official";at.description="Language Support for Vue";at.extensionId=`${at.publisher}.${at.name}`;at.commands={actionRestartServer:"vue.action.restartServer",actionDoctor:"vue.action.doctor",actionWriteVirtualFiles:"vue.action.writeVirtualFiles",actionSplitEditors:"vue.action.splitEditors",findAllFileReferences:"vue.findAllFileReferences"};at.configs={traceServer:{key:"vue.trace.server",default:"off"},serverHybridMode:{key:"vue.server.hybridMode",default:"auto"},serverIncludeLanguages:{key:"vue.server.includeLanguages",default:["vue"]},serverMaxOldSpaceSize:{key:"vue.server.maxOldSpaceSize",default:null},doctorStatus:{key:"vue.doctor.status",default:!0},splitEditorsIcon:{key:"vue.splitEditors.icon",default:!1},splitEditorsLayoutLeft:{key:"vue.splitEditors.layout.left",default:["script","scriptSetup","styles"]},splitEditorsLayoutRight:{key:"vue.splitEditors.layout.right",default:["template","customBlocks"]},updateImportsOnFileMoveEnabled:{key:"vue.updateImportsOnFileMove.enabled",default:!0},codeActionsEnabled:{key:"vue.codeActions.enabled",default:!0},codeActionsAskNewComponentName:{key:"vue.codeActions.askNewComponentName",default:!0},codeLensEnabled:{key:"vue.codeLens.enabled",default:!0},completeCasingTags:{key:"vue.complete.casing.tags",default:"autoPascal"},completeCasingProps:{key:"vue.complete.casing.props",default:"autoKebab"},completeDefineAssignment:{key:"vue.complete.defineAssignment",default:!0},autoInsertDotValue:{key:"vue.autoInsert.dotValue",default:!1},autoInsertBracketSpacing:{key:"vue.autoInsert.bracketSpacing",default:!0},inlayHintsDestructuredProps:{key:"vue.inlayHints.destructuredProps",default:!1},inlayHintsMissingProps:{key:"vue.inlayHints.missingProps",default:!1},inlayHintsInlineHandlerLeading:{key:"vue.inlayHints.inlineHandlerLeading",default:!1},inlayHintsOptionsWrapper:{key:"vue.inlayHints.optionsWrapper",default:!1},inlayHintsVBindShorthand:{key:"vue.inlayHints.vBindShorthand",default:!1},formatTemplateInitialIndent:{key:"vue.format.template.initialIndent",default:!0},formatStyleInitialIndent:{key:"vue.format.style.initialIndent",default:!1},formatScriptInitialIndent:{key:"vue.format.script.initialIndent",default:!1},formatWrapAttributes:{key:"vue.format.wrapAttributes",default:"auto"}};at.scopedConfigs={scope:"vue",defaults:{"trace.server":"off","server.hybridMode":"auto","server.includeLanguages":["vue"],"server.maxOldSpaceSize":null,"doctor.status":!0,"splitEditors.icon":!1,"splitEditors.layout.left":["script","scriptSetup","styles"],"splitEditors.layout.right":["template","customBlocks"],"updateImportsOnFileMove.enabled":!0,"codeActions.enabled":!0,"codeActions.askNewComponentName":!0,"codeLens.enabled":!0,"complete.casing.tags":"autoPascal","complete.casing.props":"autoKebab","complete.defineAssignment":!0,"autoInsert.dotValue":!1,"autoInsert.bracketSpacing":!0,"inlayHints.destructuredProps":!1,"inlayHints.missingProps":!1,"inlayHints.inlineHandlerLeading":!1,"inlayHints.optionsWrapper":!1,"inlayHints.vBindShorthand":!1,"format.template.initialIndent":!0,"format.style.initialIndent":!1,"format.script.initialIndent":!1,"format.wrapAttributes":"auto"}}});var di=T(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.config=void 0;var RO=gr(),nD=tD();Qc.config=(0,RO.defineConfigObject)(nD.scopedConfigs.scope,nD.scopedConfigs.defaults)});var eh=T(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.enabledTypeScriptPlugin=qt.enabledHybridMode=void 0;qt.useHybridModeTips=EO;qt.useHybridModeStatusItem=qO;var rD=require("node:path"),TO=require("node:fs"),iD=Yc(),Mn=require("vscode"),hr=gr(),qs=eD(),ks=di(),PO=(0,hr.useAllExtensions)();qt.enabledHybridMode=(0,hr.ref)(!0);qt.enabledTypeScriptPlugin=(0,hr.computed)(()=>qt.enabledHybridMode.value||ks.config.server.hybridMode==="typeScriptPluginOnly");var Qg=(0,hr.computed)(()=>{let t=PO.value.find(({id:e})=>e==="ms-vscode.vscode-typescript-next");if(t){let e=rD.join(t.extensionPath.replace(/\\/g,"/"),"node_modules/typescript/lib");return Zg(e)}if(Mn.env.appRoot){let e=rD.join(Mn.env.appRoot.replace(/\\/g,"/"),"extensions/node_modules/typescript/lib");return Zg(e)}}),Zc=(0,hr.computed)(()=>{let t=Mn.workspace.getConfiguration("typescript").get("tsdk")?.replace(/\\/g,"/");if(t)return Zg(t)});function EO(){(0,hr.useVscodeContext)("vueHybridMode",qt.enabledHybridMode),(0,hr.watchEffect)(()=>{switch(ks.config.server.hybridMode){case"typeScriptPluginOnly":{qt.enabledHybridMode.value=!1;break}case"auto":{if(qs.incompatibleExtensions.value.length||qs.unknownExtensions.value.length)Mn.window.showInformationMessage(`Hybrid Mode is disabled automatically because there is a potentially incompatible ${[...qs.incompatibleExtensions.value,...qs.unknownExtensions.value].join(", ")} TypeScript plugin installed.`,"Open Settings","Report a false positive").then(t=>{t==="Open Settings"?(0,hr.executeCommand)("workbench.action.openSettings","vue.server.hybridMode"):t=="Report a false positive"&&Mn.env.openExternal(Mn.Uri.parse("https://github.com/vuejs/language-tools/pull/4206"))}),qt.enabledHybridMode.value=!1;else if(Qg.value&&!iD.gte(Qg.value,"5.3.0")||Zc.value&&!iD.gte(Zc.value,"5.3.0")){let t=`Hybrid Mode is disabled automatically because TSDK >= 5.3.0 is required (VSCode TSDK: ${Qg.value}`;Zc.value&&(t+=`, Workspace TSDK: ${Zc.value}`),t+=").",Mn.window.showInformationMessage(t,"Open Settings").then(e=>{e==="Open Settings"&&(0,hr.executeCommand)("workbench.action.openSettings","vue.server.hybridMode")}),qt.enabledHybridMode.value=!1}else qt.enabledHybridMode.value=!0;break}default:ks.config.server.hybridMode&&qs.incompatibleExtensions.value.length&&Mn.window.showWarningMessage(`You have explicitly enabled Hybrid Mode, but you have installed known incompatible extensions: ${qs.incompatibleExtensions.value.join(", ")}. You may want to change vue.server.hybridMode to "auto" to avoid compatibility issues.`,"Open Settings","Report a false positive").then(t=>{t==="Open Settings"?(0,hr.executeCommand)("workbench.action.openSettings","vue.server.hybridMode"):t=="Report a false positive"&&Mn.env.openExternal(Mn.Uri.parse("https://github.com/vuejs/language-tools/pull/4206"))}),qt.enabledHybridMode.value=ks.config.server.hybridMode}})}function qO(){let t=Mn.languages.createLanguageStatusItem("vue-hybrid-mode",ks.config.server.includeLanguages);t.text="Hybrid Mode",t.detail=(qt.enabledHybridMode.value?"Enabled":"Disabled")+(ks.config.server.hybridMode==="auto"?" (Auto)":""),t.command={title:"Open Setting",command:"workbench.action.openSettings",arguments:["vue.server.hybridMode"]},qt.enabledHybridMode.value||(t.severity=Mn.LanguageStatusSeverity.Warning)}function Zg(t){try{let i=t.toString().split("/").slice(0,-1).join("/")+"/package.json",s=TO.readFileSync(i,"utf-8");if(s===void 0)return;let o=null;try{o=JSON.parse(s)}catch{return}return!o||!o.version?void 0:o.version}catch{}}});var oD=T(sD=>{"use strict";Object.defineProperty(sD,"__esModule",{value:!0})});var cD=T(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.FileType=void 0;var aD;(function(t){t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink"})(aD||(eu.FileType=aD={}))});var uD=T(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.validVersions=void 0;tu.validVersions=[2,2.1]});var pD=T(un=>{"use strict";var kO=un&&un.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fD=un&&un.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kO(e,t,n)};Object.defineProperty(un,"__esModule",{value:!0});un.commands=un.AttrNameCasing=un.TagNameCasing=void 0;var lD;(function(t){t[t.Kebab=0]="Kebab",t[t.Pascal=1]="Pascal"})(lD||(un.TagNameCasing=lD={}));var dD;(function(t){t[t.Kebab=0]="Kebab",t[t.Camel=1]="Camel"})(dD||(un.AttrNameCasing=dD={}));un.commands={parseSfc:"vue.parseSfc",detectNameCasing:"vue.detectNameCasing",convertTagsToKebabCase:"vue.convertTagsToKebabCase",convertTagsToPascalCase:"vue.convertTagsToPascalCase",convertPropsToKebabCase:"vue.convertPropsToKebabCase",convertPropsToCamelCase:"vue.convertPropsToCamelCase"};fD(cD(),un);fD(uD(),un)});var ko=T(fi=>{"use strict";var xO=fi&&fi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),gD=fi&&fi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&xO(e,t,n)};Object.defineProperty(fi,"__esModule",{value:!0});gD(oD(),fi);gD(pD(),fi)});var yD=T(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.activate=NO;var hD=qi(),IO=ko(),pi=gr(),Fi=Yc(),Yn=require("vscode"),OO=di(),mD="vue-doctor",vD={postcss:["cpylua.language-postcss","vunguyentuan.vscode-postcss","csstools.postcss"],stylus:["sysoev.language-stylus"],sass:["Syler.sass-indented"]};async function NO(t){let e=(0,pi.useStatusBarItem)({alignment:Yn.StatusBarAlignment.Right,backgroundColor:new Yn.ThemeColor("statusBarItem.warningBackground"),command:"vue.action.doctor"}),n=(0,pi.useActiveTextEditor)(),r=(0,pi.useEventEmitter)();(0,pi.watchEffect)(s),(0,pi.useCommand)("vue.action.doctor",()=>{let a=n.value?.document;a&&(a.languageId==="vue"||a.uri.toString().endsWith(".vue"))&&a.uri.scheme==="file"&&(0,pi.executeCommand)("markdown.showPreviewToSide",i(a.uri))}),(0,pi.useDisposable)(Yn.workspace.registerTextDocumentContentProvider(mD,{onDidChange:r.event,async provideTextDocumentContent(a){let c=a.with({scheme:"file",path:a.path.substring(0,a.path.length-10)}),u=await o(c),f=`# ${c.path.split("/").pop()} Doctor

`;for(let d of u)f+="## \u2757 "+d.title+`

`,f+=d.message+`

`;return f+=`---

`,f+=`> Have any questions about the report message? You can see how it is composed by inspecting the [source code](https://github.com/vuejs/language-tools/blob/master/extensions/vscode/src/features/doctor.ts).

`,f.trim()}}));function i(a){return a.with({scheme:mD,path:a.path+"/Doctor.md"})}async function s(){let a=n.value;if(OO.config.doctor.status&&a&&(a.document.languageId==="vue"||a.document.uri.toString().endsWith(".vue"))&&a.document.uri.scheme==="file"){let c=await o(a.document.uri);c.length&&Yn.window.activeTextEditor?.document===a.document&&(e.show(),e.text=c.length+(c.length===1?" known issue":" known issues"),r.fire(i(a.document.uri)))}else e.hide()}async function o(a){let c=Yn.workspace.textDocuments.find(A=>A.fileName===a.fsPath),u=c?await t.sendRequest(hD.ExecuteCommandRequest.type,{command:IO.commands.parseSfc,arguments:[c.getText()]}):void 0,f=nu(a.fsPath,"vue"),d=nu(a.fsPath,"@vue/runtime-dom"),g=[];f&&Fi.lt(f.json.version,"2.7.0")&&!d?g.push({title:"`@vue/runtime-dom` missing for Vue 2",message:["Vue 2 does not have JSX types definitions, so template type checking will not work correctly. You can resolve this problem by installing `@vue/runtime-dom` and adding it to your project's `devDependencies`.","","- vue: "+f.path].join(`
`)}):f&&Fi.gte(f.json.version,"2.7.0")&&Fi.lt(f.json.version,"3.0.0")&&d&&g.push({title:"Unnecessary `@vue/runtime-dom`",message:["Vue 2.7 already includes JSX type definitions. You can remove the `@vue/runtime-dom` dependency from package.json.","","- vue: "+f.path,"- @vue/runtime-dom: "+d.path].join(`
`)});let w=nu(a.fsPath,"@types/node");w&&Fi.gte(w.json.version,"18.8.1")&&Fi.lte(w.json.version,"18.11.0")&&g.push({title:"Incompatible `@types/node` version",message:["`@types/node`'s version `"+w.json.version+"` is incompatible with Vue. It will cause broken DOM event types in template.","","You can update `@types/node` to `18.11.1` or later to resolve.","","- @types/node: "+w.path,"- Issue: https://github.com/vuejs/language-tools/issues/1985"].join(`
`)});let v=await nu(a.fsPath,"@vue/language-plugin-pug");if(u?.descriptor.template?.lang==="pug"&&!v&&g.push({title:"`@vue/language-plugin-pug` missing",message:['For `<template lang="pug">`, the `@vue/language-plugin-pug` plugin is required. Install it using `$ npm install -D @vue/language-plugin-pug` and add it to `vueCompilerOptions.plugins` to support TypeScript intellisense in Pug templates.',"","- package.json","```json",JSON.stringify({devDependencies:{"@vue/language-plugin-pug":"latest"}},void 0,2),"```","","- tsconfig.json / jsconfig.json","```jsonc",JSON.stringify({vueCompilerOptions:{plugins:["@vue/language-plugin-pug"]}},void 0,2),"```"].join(`
`)}),u?.descriptor.template?.lang==="pug"&&v&&!Fi.gte(v.json.version,"2.0.5")&&g.push({title:"Outdated `@vue/language-plugin-pug`",message:["The version of `@vue/language-plugin-pug` is too low, it is required to upgrade to `2.0.5` or later.","","- @vue/language-plugin-pug: "+v.path].join(`
`)}),u){let A=[u.descriptor.template,u.descriptor.script,u.descriptor.scriptSetup,...u.descriptor.styles,...u.descriptor.customBlocks];for(let F of A)if(F&&F.lang&&F.lang in vD){let j=vD[F.lang];j.some(te=>!!Yn.extensions.getExtension(te))||g.push({title:"Syntax Highlighting for "+F.lang,message:`Did not find a valid syntax highlighter extension for ${F.lang} language block; you can choose to install one of the following:

`+j.map(te=>`- [${te}](https://marketplace.visualstudio.com/items?itemName=${te})
`)})}}Yn.workspace.getConfiguration("emmet").get("includeLanguages")?.vue&&g.push({title:"Unnecessary `emmet.includeLanguages.vue`",message:"Vue language server already supports Emmet. You can remove `emmet.includeLanguages.vue` from `.vscode/settings.json`."}),Yn.workspace.getConfiguration("files").get("associations")?.["*.vue"]==="html"&&g.push({title:'Unnecessary `files.associations["*.vue"]`',message:'With `"files.associations": { "*.vue": html }`, language server cannot to recognize Vue files. You can remove `files.associations["*.vue"]` from `.vscode/settings.json`.'});let O=await(0,hD.getTsdk)(pi.extensionContext.value);return O.version&&!Fi.gte(O.version,"5.0.0")&&g.push({title:"Requires TSDK 5.0 or higher",message:[`Extension >= 2.0 requires TSDK 5.0+. You are currently using TSDK ${O.version}, please upgrade to TSDK.`,"If you need to use TSDK 4.x, please downgrade the extension to v1."].join(`
`)}),(Yn.workspace.getConfiguration("vue").has("server.additionalExtensions")||Yn.workspace.getConfiguration("vue").has("server.petiteVue.supportHtmlFile")||Yn.workspace.getConfiguration("vue").has("server.vitePress.supportMdFile"))&&g.push({title:"Deprecated configuration",message:["`vue.server.additionalExtensions`, `vue.server.petiteVue.supportHtmlFile`, and `vue.server.vitePress.supportMdFile` are deprecated. Please remove them from your settings.","","- PR: https://github.com/vuejs/language-tools/pull/4321"].join(`
`)}),g}}function nu(t,e){try{let n=require.resolve(e+"/package.json",{paths:[t]});return{path:n,json:require(n)}}catch{}}});var sh=T(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.tagNameCasings=ze.attrNameCasings=void 0;ze.activate=MO;var nh=qi(),FO=Ca(),Oe=ko(),Fr=gr(),rh=require("vscode"),ih=di();ze.attrNameCasings=(0,Fr.reactive)(new Map);ze.tagNameCasings=(0,Fr.reactive)(new Map);async function MO(t,e){await t.start();let n=(0,Fr.useActiveTextEditor)(),r=(0,Fr.useDisposable)(rh.languages.createLanguageStatusItem("vue-name-casing",e));r.command={title:"Open Menu",command:"vue.action.nameCasing"},(0,Fr.watchEffect)(()=>{let c=n.value?.document;if(!c)return"";let u=ze.attrNameCasings.get(c.uri.toString()),f=ze.tagNameCasings.get(c.uri.toString()),d="<";f===Oe.TagNameCasing.Kebab?d+="tag-name ":f===Oe.TagNameCasing.Pascal?d+="TagName ":d+="? ",u===Oe.AttrNameCasing.Kebab?d+="prop-name":u===Oe.AttrNameCasing.Camel?d+="propName":d+="?",d+=" />",r.text=d}),(0,Fr.watch)(n,()=>{i(n.value?.document)},{immediate:!0}),(0,Fr.watch)(ih.config.complete,()=>{ze.attrNameCasings.clear(),ze.tagNameCasings.clear(),i(n.value?.document)},{deep:!0}),(0,Fr.useDisposable)(rh.workspace.onDidCloseTextDocument(c=>{ze.attrNameCasings.delete(c.uri.toString()),ze.tagNameCasings.delete(c.uri.toString())})),(0,Fr.useCommand)("vue.action.nameCasing",async()=>{if(!n.value?.document)return;let c=n.value.document,u=ze.attrNameCasings.get(c.uri.toString()),f=ze.tagNameCasings.get(c.uri.toString()),d=await(0,FO.quickPick)([{1:{label:(f===Oe.TagNameCasing.Kebab?"\u2022 ":"")+"Component Name Using kebab-case"},2:{label:(f===Oe.TagNameCasing.Pascal?"\u2022 ":"")+"Component Name Using PascalCase"},3:{label:"Convert Component Name to kebab-case"},4:{label:"Convert Component Name to PascalCase"}},{5:{label:(u===Oe.AttrNameCasing.Kebab?"\u2022 ":"")+"Prop Name Using kebab-case"},6:{label:(u===Oe.AttrNameCasing.Camel?"\u2022 ":"")+"Prop Name Using camelCase"},7:{label:"Convert Prop Name to kebab-case"},8:{label:"Convert Prop Name to camelCase"}}]);d!==void 0&&(d==="1"&&ze.tagNameCasings.set(c.uri.toString(),Oe.TagNameCasing.Kebab),d==="2"&&ze.tagNameCasings.set(c.uri.toString(),Oe.TagNameCasing.Pascal),d==="3"&&await s(n.value,Oe.TagNameCasing.Kebab),d==="4"&&await s(n.value,Oe.TagNameCasing.Pascal),d==="5"&&ze.attrNameCasings.set(c.uri.toString(),Oe.AttrNameCasing.Kebab),d==="6"&&ze.attrNameCasings.set(c.uri.toString(),Oe.AttrNameCasing.Camel),d==="7"&&await o(n.value,Oe.AttrNameCasing.Kebab),d==="8"&&await o(n.value,Oe.AttrNameCasing.Camel))});async function i(c){if(!c||!rh.languages.match(e,c))return;let u,f=ze.attrNameCasings.get(c.uri.toString()),d=ze.tagNameCasings.get(c.uri.toString());if(!f){let g=ih.config.complete.casing.props;g==="kebab"?f=Oe.AttrNameCasing.Kebab:g==="camel"?f=Oe.AttrNameCasing.Camel:(u??=await a(c),u?.attr.length===1?f=u.attr[0]:g==="autoCamel"?f=Oe.AttrNameCasing.Camel:f=Oe.AttrNameCasing.Kebab),ze.attrNameCasings.set(c.uri.toString(),f)}if(!d){let g=ih.config.complete.casing.tags;g==="kebab"?d=Oe.TagNameCasing.Kebab:g==="pascal"?d=Oe.TagNameCasing.Pascal:(u??=await a(c),u?.tag.length===1?d=u.tag[0]:d=Oe.TagNameCasing.Pascal),ze.tagNameCasings.set(c.uri.toString(),d)}}async function s(c,u){let f=await t.sendRequest(nh.ExecuteCommandRequest.type,{command:u===Oe.TagNameCasing.Kebab?Oe.commands.convertTagsToKebabCase:Oe.commands.convertTagsToPascalCase,arguments:[t.code2ProtocolConverter.asUri(c.document.uri)]}),d=await t.protocol2CodeConverter.asTextEdits(f);d&&c.edit(g=>{for(let w of d)g.replace(w.range,w.newText)}),ze.tagNameCasings.set(c.document.uri.toString(),u)}async function o(c,u){let f=await t.sendRequest(nh.ExecuteCommandRequest.type,{command:u===Oe.AttrNameCasing.Kebab?Oe.commands.convertPropsToKebabCase:Oe.commands.convertPropsToCamelCase,arguments:[t.code2ProtocolConverter.asUri(c.document.uri)]}),d=await t.protocol2CodeConverter.asTextEdits(f);d&&c.edit(g=>{for(let w of d)g.replace(w.range,w.newText)}),ze.attrNameCasings.set(c.document.uri.toString(),u)}function a(c){return t.sendRequest(nh.ExecuteCommandRequest.type,{command:Oe.commands.detectNameCasing,arguments:[t.code2ProtocolConverter.asUri(c.uri)]})}}});var bD=T(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.activate=$O;ru.useDocDescriptor=wD;var AO=qi(),LO=ko(),Mi=gr(),xo=require("vscode"),jO=di();function $O(t){let e=(0,Mi.useActiveTextEditor)(),n=wD(t);(0,Mi.useCommand)("vue.action.splitEditors",async()=>{let r=e.value;if(!r)return;let i=jO.config.splitEditors.layout,s=r.document,o=(await n(s.getText()))?.descriptor;if(!o)return;let a=[],c=[];o.script&&(i.left.includes("script")&&a.push(o.script),i.right.includes("script")&&c.push(o.script)),o.scriptSetup&&(i.left.includes("scriptSetup")&&a.push(o.scriptSetup),i.right.includes("scriptSetup")&&c.push(o.scriptSetup)),o.template&&(i.left.includes("template")&&a.push(o.template),i.right.includes("template")&&c.push(o.template)),i.left.includes("styles")&&(a=a.concat(o.styles)),i.right.includes("styles")&&(c=c.concat(o.styles)),i.left.includes("customBlocks")&&(a=a.concat(o.customBlocks)),i.right.includes("customBlocks")&&(c=c.concat(o.customBlocks)),await(0,Mi.executeCommand)("workbench.action.joinEditorInGroup"),e.value===r?(await u(a),await(0,Mi.executeCommand)("workbench.action.toggleSplitEditorInGroup"),await u(c)):await(0,Mi.executeCommand)("editor.unfoldAll");async function u(f){let d=e.value;if(!d)return;d.selections=f.length?f.map(w=>new xo.Selection(s.positionAt(w.loc.start.offset),s.positionAt(w.loc.start.offset))):[new xo.Selection(s.positionAt(s.getText().length),s.positionAt(s.getText().length))],await(0,Mi.executeCommand)("editor.unfoldAll"),await(0,Mi.executeCommand)("editor.foldLevel1");let g=f.sort((w,v)=>w.loc.start.offset-v.loc.start.offset)[0];g&&d.revealRange(new xo.Range(s.positionAt(g.loc.start.offset),new xo.Position(d.document.lineCount,0)),xo.TextEditorRevealType.AtTop)}})}function wD(t){let e,n;return r;async function r(i){return i!==e&&(e=i,n=await t.sendRequest(AO.ExecuteCommandRequest.type,{command:LO.commands.parseSfc,arguments:[i]})),n}}});var SD=T(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.useInsidersStatusItem=HO;var CD=Ca(),_D=gr(),ht=require("vscode");function HO(t){let e=ht.languages.createLanguageStatusItem("vue-insider","vue");e.text="Checking for Updates...",e.busy=!0;let n=!1;r();async function r(){for(let s of["https://raw.githubusercontent.com/vuejs/language-tools/HEAD/insiders.json","https://cdn.jsdelivr.net/gh/vuejs/language-tools/insiders.json"])try{let o=await fetch(s);i(await o.json()),n=!0;break}catch{}e.busy=!1,n||(e.text="Failed to Fetch Versions",e.severity=ht.LanguageStatusSeverity.Error)}function i(s){e.detail=void 0,e.command={title:"Select Version",command:"vue-insiders.update"},s.versions.some(o=>o.version===t.extension.packageJSON.version)?(e.text="\u{1F680} Insiders Edition",e.severity=ht.LanguageStatusSeverity.Information,t.extension.packageJSON.version!==s.latest&&(e.detail="New Version Available!",e.severity=ht.LanguageStatusSeverity.Warning,ht.window.showInformationMessage("New Insiders Version Available!","Download").then(o=>{o&&(0,_D.executeCommand)("vue-insiders.update")}))):(e.text="\u2728 Get Insiders Edition",e.severity=ht.LanguageStatusSeverity.Warning),(0,_D.useCommand)("vue-insiders.update",async()=>{let o={};for(let{version:c,date:u}of s.versions){let f=u;t.extension.packageJSON.version===c&&(f+=" (current)"),o[c]={label:c,description:f}}let a=await(0,CD.quickPick)([o,{learnMore:{label:"Learn more about Insiders Edition"},joinViaGitHub:{label:"Join via GitHub Sponsors"},joinViaAFDIAN:{label:"Join via AFDIAN (\u7231\u53D1\u7535)"}}]);if(a==="learnMore")ht.env.openExternal(ht.Uri.parse("https://github.com/vuejs/language-tools/wiki/Get-Insiders-Edition"));else if(a==="joinViaGitHub")ht.env.openExternal(ht.Uri.parse("https://github.com/sponsors/johnsoncodehk"));else if(a==="joinViaAFDIAN")ht.env.openExternal(ht.Uri.parse("https://afdian.net/a/johnsoncodehk"));else{let c=s.versions.find(u=>u.version===a)?.downloads;if(c){let u={GitHub:{label:`${a} - GitHub Releases`,description:"Access via GitHub Sponsors",detail:c.GitHub},AFDIAN:{label:`${a} - Insiders \u7535\u5708`,description:"Access via AFDIAN (\u7231\u53D1\u7535)",detail:c.AFDIAN}},f={learnMore:{label:"Learn more about Insiders Edition"},joinViaGitHub:{label:"Join via GitHub Sponsors"},joinViaAFDIAN:{label:"Join via AFDIAN (\u7231\u53D1\u7535)"}},d=await(0,CD.quickPick)([u,f]);d==="learnMore"?ht.env.openExternal(ht.Uri.parse("https://github.com/vuejs/language-tools/wiki/Get-Insiders-Edition")):d==="joinViaGitHub"?ht.env.openExternal(ht.Uri.parse("https://github.com/sponsors/johnsoncodehk")):d==="joinViaAFDIAN"?ht.env.openExternal(ht.Uri.parse("https://afdian.net/a/johnsoncodehk")):d&&ht.env.openExternal(ht.Uri.parse(c[d]))}}})}}});var RD=T(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.activate=BO;su.deactivate=GO;var Ai=qi(),bn=gr(),UO=require("vscode"),iu=di(),VO=yD(),WO=sh(),KO=bD(),Mr=eh(),zO=SD(),wn;function BO(t,e){let n=(0,bn.useActiveTextEditor)(),r=(0,bn.useVisibleTextEditors)();(0,Mr.useHybridModeTips)();let{stop:i}=(0,bn.watch)(n,()=>{r.value.some(s=>iu.config.server.includeLanguages.includes(s.document.languageId))&&(XO(t,e),(0,bn.nextTick)(()=>{i()}))},{immediate:!0})}function GO(){return wn?.stop()}async function XO(t,e){(0,bn.useVscodeContext)("vue.activated",!0);let n=(0,bn.useOutputChannel)("Vue Language Server"),r=iu.config.server.includeLanguages;wn=e("vue","Vue",r,await DD(t,Mr.enabledHybridMode.value),6009,n),(0,bn.watch)([Mr.enabledHybridMode,Mr.enabledTypeScriptPlugin],(s,o)=>{s[0]!==o[0]?i(`Please reload VSCode to ${s[0]?"enable":"disable"} Hybrid Mode.`):s[1]!==o[1]&&i(`Please reload VSCode to ${s[1]?"enable":"disable"} Vue TypeScript Plugin.`)}),(0,bn.watch)(()=>iu.config.server.includeLanguages,()=>{Mr.enabledHybridMode.value&&i("Please reload VSCode to apply the new language settings.")}),(0,bn.watch)(iu.config.server,()=>{Mr.enabledHybridMode.value||(0,bn.executeCommand)("vue.action.restartServer",!1)},{deep:!0}),(0,bn.useCommand)("vue.action.restartServer",async(s=!0)=>{s&&await(0,bn.executeCommand)("typescript.restartTsServer"),await wn.stop(),n.clear(),wn.clientOptions.initializationOptions=await DD(t,Mr.enabledHybridMode.value),await wn.start()}),(0,VO.activate)(wn),(0,WO.activate)(wn,r),(0,KO.activate)(wn),Ai.activateAutoInsertion(r,wn),Ai.activateDocumentDropEdit(r,wn),Ai.activateWriteVirtualFiles("vue.action.writeVirtualFiles",wn),Mr.enabledHybridMode.value||(Ai.activateTsConfigStatusItem(r,"vue.tsconfig",wn),Ai.activateTsVersionStatusItem(r,"vue.tsversion",t,s=>"TS "+s),Ai.activateFindFileReferences("vue.findAllFileReferences",wn)),(0,Mr.useHybridModeStatusItem)(),(0,zO.useInsidersStatusItem)(t);async function i(s){await UO.window.showInformationMessage(s,"Reload Window")&&(0,bn.executeCommand)("workbench.action.reloadWindow")}}async function DD(t,e){return{typescript:{tsdk:(await Ai.getTsdk(t)).tsdk},vue:{hybridMode:e}}}});var ED=T(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.middleware=void 0;var ou=ko(),ah=require("vscode"),TD=qi(),PD=sh(),JO=di();au.middleware={...TD.middleware,async resolveCodeAction(t,e,n){if(t.kind?.value==="refactor.move.newFile.dumb"&&JO.config.codeActions.askNewComponentName){let r=await ah.window.showInputBox({value:t.data.original.data.newName});if(!r)return t;t.data.original.data.newName=r}return await(TD.middleware.resolveCodeAction?.(t,e,n)??n(t,e))},workspace:{configuration(t,e,n){return t.items.some(r=>r.section==="vue.complete.casing.props"||r.section==="vue.complete.casing.tags")?t.items.map(r=>{if(r.scopeUri){if(r.section==="vue.complete.casing.tags"){let i=PD.tagNameCasings.get(r.scopeUri);if(i===ou.TagNameCasing.Kebab)return"kebab";if(i===ou.TagNameCasing.Pascal)return"pascal"}else if(r.section==="vue.complete.casing.props"){let i=PD.attrNameCasings.get(r.scopeUri);if(i===ou.AttrNameCasing.Kebab)return"kebab";if(i===ou.AttrNameCasing.Camel)return"camel"}}return ah.workspace.getConfiguration(r.section,r.scopeUri?ah.Uri.parse(r.scopeUri):void 0)}):n(t,e)}}}});var ch;Object.defineProperty(exports,"__esModule",{value:!0});exports.deactivate=exports.activate=void 0;var YO=qi(),QO=ZC(),qD=require("fs"),Li=require("vscode"),uh=n_(),Io=gr(),kD=eh(),xD=RD(),xs=di(),ZO=ED();ch=(0,Io.defineExtension)(async()=>{let t=(0,YO.createLabsInfo)(QO),e=Li.extensions.getExtension("vscode.typescript-language-features"),n=Li.extensions.getExtension("Vue.vscode-typescript-vue-plugin");e?await e.activate():Li.window.showWarningMessage('Takeover mode is no longer needed since v2. Please enable the "TypeScript and JavaScript Language Features" extension.',"Show Extension").then(i=>{i&&(0,Io.executeCommand)("workbench.extensions.search","@builtin typescript-language-features")}),n&&Li.window.showWarningMessage(`The "${n.packageJSON.displayName}" extension is no longer needed since v2. Please uninstall it.`,"Show Extension").then(i=>{i&&(0,Io.executeCommand)("workbench.extensions.search",n.id)});let r=Io.extensionContext.value;return(0,xD.activate)(r,(i,s,o,a,c,u)=>{class f extends uh.LanguageClient{fillInitializeParams(A){A.locale=Li.env.language}}let d=Li.Uri.joinPath(r.extensionUri,"server.js"),g={};xs.config.server.maxOldSpaceSize&&(g.execArgv??=[],g.execArgv.push("--max-old-space-size="+xs.config.server.maxOldSpaceSize));let w={execArgv:["--nolazy","--inspect="+c]},v={run:{module:d.fsPath,transport:uh.TransportKind.ipc,options:g},debug:{module:d.fsPath,transport:uh.TransportKind.ipc,options:w}},q={middleware:ZO.middleware,documentSelector:o,initializationOptions:a,markdown:{isTrusted:!0,supportHtml:!0},outputChannel:u},k=new f(i,s,v,q);return k.start(),t.addLanguageClient(k),eN(k),k}),(0,Io.onDeactivate)(()=>{(0,xD.deactivate)()}),t.extensionExports}),exports.activate=ch.activate,exports.deactivate=ch.deactivate;function eN(t){let e=t.initializeFeatures;t.initializeFeatures=(...n)=>{let r=t._capabilities;return xs.config.codeActions.enabled||(r.codeActionProvider=void 0),xs.config.codeLens.enabled||(r.codeLensProvider=void 0),!xs.config.updateImportsOnFileMove.enabled&&r.workspace?.fileOperations?.willRename&&(r.workspace.fileOperations.willRename=void 0),e.call(t,...n)}}try{let t=Li.extensions.getExtension("vscode.typescript-language-features"),e=qD.readFileSync,n=require.resolve("./dist/extension.js",{paths:[t.extensionPath]});qD.readFileSync=(...r)=>{if(r[0]===n){let i=e(...r);return kD.enabledTypeScriptPlugin.value?kD.enabledHybridMode.value&&(i=i.replace("languages:Array.isArray(e.languages)",["languages:",`e.name==='typescript-vue-plugin-bundle'?[${xs.config.server.includeLanguages.map(s=>`'${s}'`).join(",")}]`,":Array.isArray(e.languages)"].join("")),i=i.replace("t.$u=[t.$r,t.$s,t.$p,t.$q]",s=>s+'.concat("vue")'),i=i.replace(".languages.match([t.$p,t.$q,t.$r,t.$s]",s=>s+'.concat("vue")'),i=i.replace("t.jsTsLanguageModes=[t.javascript,t.javascriptreact,t.typescript,t.typescriptreact]",s=>s+'.concat("vue")'),i=i.replace(".languages.match([t.typescript,t.typescriptreact,t.javascript,t.javascriptreact]",s=>s+'.concat("vue")')):i=i.replace("for(const e of n.contributes.typescriptServerPlugins",s=>s+".filter(p=>p.name!=='typescript-vue-plugin-bundle')"),i}return e(...r)}}catch{}
/*! Bundled license information:

@reactive-vscode/reactivity/dist/index.cjs:
  (**
  * @vue/shared v3.5.12
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
  (*! #__NO_SIDE_EFFECTS__ *)
  (**
  * @vue/reactivity v3.5.12
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **)
*/
